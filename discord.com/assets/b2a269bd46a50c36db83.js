(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[52145,27051,11860,89565,76213,30504,19758,8570],{312915:(e,t,n)=>{e.exports=n.p+"4e93f2a1547c408ca7d45d92ea092bdb.svg"},960362:(e,t,n)=>{e.exports=n.p+"8d7de3921c1f76da6c999507e7a306c4.svg"},123451:(e,t,n)=>{e.exports=n.p+"9f65387c814dd4cb5aff4e4e1e7e0446.svg"},16697:(e,t,n)=>{e.exports=n.p+"ed2007aab2da31a5436e70a28b4d59f9.svg"},105045:(e,t,n)=>{e.exports=n.p+"7ad95b56788fc31c3e5eec667129ba68.svg"},128112:(e,t,n)=>{e.exports=n.p+"9ae90b4dd4d7e4ddd9c8935dae4e87c4.svg"},876406:(e,t,n)=>{e.exports=n.p+"a92681efceabc4ee91964a7cef2571cf.svg"},576884:(e,t,n)=>{e.exports=n.p+"bee123bfad40a3fb4bb42f8d318dd867.svg"},937849:(e,t,n)=>{e.exports=n.p+"96ad9c7f6f636a7fb2028e2a07847776.svg"},772144:(e,t,n)=>{e.exports=n.p+"ef3a1ed683cfcf029971b12a26462072.svg"},976693:(e,t,n)=>{e.exports=n.p+"0e33fc3f60b69ba9b0247df60d589439.svg"},40028:(e,t,n)=>{e.exports=n.p+"60ea1d16163c13845ccf31e70fd6528b.svg"},470914:(e,t,n)=>{
e.exports=n.p+"45372ebbfad1c491747d6f5b7117fd88.svg"},399298:(e,t,n)=>{e.exports=n.p+"8fb4edd1e9b3578340fcc70e2b5e42ca.svg"},20616:(e,t,n)=>{e.exports=n.p+"c332227601f0bacc9e5b60cdb1566b0a.svg"},556306:(e,t,n)=>{e.exports=n.p+"e1f780a67d11d805caf661d4a0f38efb.svg"},482773:(e,t,n)=>{e.exports=n.p+"56211d7a52c875d24eb87248b915991b.png"},32028:(e,t,n)=>{e.exports=n.p+"5a6c298c68b5963581a107d420352d07.svg"},712218:(e,t,n)=>{e.exports=n.p+"140061ea7dd78e612606683c15a4bcaf.svg"},755645:(e,t,n)=>{e.exports=n.p+"6f35b2fc488e26dc1d56b253d01c7b75.svg"},928793:(e,t,n)=>{e.exports=n.p+"99c599a00313a16fa4babba64d461f34.svg"},324752:(e,t,n)=>{e.exports=n.p+"c173765c2ab447a8ec7ba0e3e8aa3c09.svg"},655916:(e,t,n)=>{e.exports=n.p+"c998fecc59ff94fe8e8e7f3557586c07.svg"},315879:(e,t,n)=>{e.exports=n.p+"255b326a18a4f8a078c90e6c35f6013b.svg"},932568:(e,t,n)=>{e.exports=n.p+"112667acf24cbb3d067ccbc54e3638de.svg"},930519:(e,t,n)=>{e.exports=n.p+"be71475205180432aaa6a89bd8ee306c.svg"},157862:(e,t,n)=>{
e.exports=n.p+"40aa3feae87e9745dd56756762029544.svg"},747048:(e,t,n)=>{e.exports=n.p+"364cec2cc5dfb64873e3a33626a56ba1.svg"},558504:(e,t,n)=>{e.exports=n.p+"fa167a933d3bee952bc4a587a08c94ee.png"},206091:(e,t,n)=>{e.exports=n.p+"8109cbeeed8e4358aac09a05deddb625.svg"},987601:(e,t,n)=>{e.exports=n.p+"d61d4aa409613f4dcfb6163ef0d739de.svg"},192941:(e,t,n)=>{e.exports=n.p+"0d16e62fc3a84fc7e76b06584b646df9.svg"},232353:(e,t,n)=>{e.exports=n.p+"acb954ff414b98380056308d56efcbfd.svg"},802566:(e,t,n)=>{e.exports=n.p+"16770cd8548bce331bed7218db02fb4f.svg"},529753:(e,t,n)=>{e.exports=n.p+"b2609efe7eaf6066ccf83c63b831b9f5.png"},166682:(e,t,n)=>{e.exports=n.p+"156b50b1934142012e13cddb292be82f.png"},532958:(e,t,n)=>{e.exports=n.p+"37168b17cb52c41180fc7dc3464416e3.png"},94672:(e,t,n)=>{e.exports=n.p+"8f1371330b0fbaa2cd14397ea198a15a.png"},800193:(e,t,n)=>{e.exports=n.p+"2fa100868d36281cf16e9b488d6783e6.png"},537687:(e,t,n)=>{e.exports=n.p+"343d87c6185c5a798189dbe0454338d2.png"},138e3:(e,t,n)=>{
e.exports=n.p+"d848be8a53ceaaf74385fa2240c277fe.png"},806956:(e,t,n)=>{e.exports=n.p+"5eab8ab3c3d86af84e525961596fc710.png"},492137:(e,t,n)=>{e.exports=n.p+"a088a8a4d03c76f5b198a8c38e820823.svg"},419552:(e,t,n)=>{e.exports=n.p+"5e8ddaef72797b0ddec742ea3ffe6b4c.svg"},33225:(e,t,n)=>{e.exports=n.p+"e7e0e4b9ac0e6278e1ec46f0497edcd1.webm"},761479:(e,t,n)=>{e.exports=n.p+"6d16a47eb72266de7196b789cfc21516.webm"},174207:(e,t,n)=>{e.exports=n.p+"95ad63f1a2d615ccefb1a33a96c6f6e3.webm"},284283:(e,t,n)=>{e.exports=n.p+"04518c7b8f7095ca75f552885f573f7f.webm"},185204:(e,t,n)=>{e.exports=n.p+"3093c4e6a3ee8ef9d6ee62ffea283603.svg"},73316:(e,t,n)=>{e.exports=n.p+"02e604928e685344a86abbd473841a3d.svg"},385488:(e,t,n)=>{e.exports=n.p+"dbdc2f57ed1a7f2f01a342ab2e6fb032.svg"},5064:(e,t,n)=>{e.exports=n.p+"a375de187c8d70afb21e426ffa95453d.svg"},949191:(e,t,n)=>{e.exports=n.p+"850d4b3febb2dd085c8821beb85cd46c.jpg"},305257:(e,t,n)=>{e.exports=n.p+"db81e4b4d2c579be53e7faafa720fa5b.jpg"},222917:(e,t,n)=>{
e.exports=n.p+"ec499e7dcc451566caeda997fa9265db.svg"},153996:(e,t,n)=>{e.exports=n.p+"e3da44ce48e0ff29426d0cfb99c2580c.svg"},77015:(e,t,n)=>{e.exports=n.p+"7c437e103eb9348c4688a03705d30d4b.mp4"},742918:(e,t,n)=>{e.exports=n.p+"05d41aa7d58d190b8f7944755540c09d.svg"},55146:(e,t,n)=>{e.exports=n.p+"608f64b01193073a0148ebd815d86784.webm"},485618:(e,t,n)=>{e.exports=n.p+"ac85024be0ac6a35c59ceff448502169.webm"},745920:(e,t,n)=>{e.exports=n.p+"2d889bf9114df188325d15f9e517c325.mov"},161693:(e,t,n)=>{e.exports=n.p+"6d5b64b094944af6d52d895c8c2b8a59.mp4"},28743:(e,t,n)=>{e.exports=n.p+"dff87c953f43b561d71fbcfe8a93a79a.png"},106632:(e,t,n)=>{e.exports=n.p+"3b0d96ed8113994f3d139088726cfecd.webm"},894919:(e,t,n)=>{e.exports=n.p+"d44a33e33f751afe9a0e5e42e2156d8f.mov"},858739:(e,t,n)=>{e.exports=n.p+"90c2f45413660019fa25f4f9f40ecb5d.mp4"},172129:(e,t,n)=>{e.exports=n.p+"61c5375ee8d8dbf35c109b06044394d8.png"},243874:(e,t,n)=>{e.exports=n.p+"1eae6aab9a6b4e7da646db415479560b.webm"},665369:(e,t,n)=>{
e.exports=n.p+"214ec30d4b1191df4e04a35063e5d9e6.mov"},537020:(e,t,n)=>{e.exports=n.p+"56dfe2d14c375037f02ae2144856c939.webm"},978476:(e,t,n)=>{e.exports=n.p+"98808f8535c2ac6947658982e27e6e1e.mov"},88070:(e,t,n)=>{e.exports=n.p+"49b63c2ef79b40545d891bde041934b4.webm"},321795:(e,t,n)=>{"use strict";n.d(t,{h7:()=>o,rh:()=>i,GG:()=>a,R2:()=>l});var r=n(173436);function o(e,t){return new Promise((function(n){setTimeout((function(){r.Z.dispatch({type:"ACTIVITY_INVITE_MODAL_OPEN",activity:e,isPrivate:t,resolve:n})}),0)}))}function i(e){r.Z.dispatch({type:"ACTIVITY_INVITE_MODAL_QUERY",query:e})}function a(e){r.Z.dispatch({type:"ACTIVITY_INVITE_MODAL_SEND",channelId:e})}function l(e){r.Z.dispatch({type:"ACTIVITY_INVITE_MODAL_SEND",userId:e})}},483562:(e,t,n)=>{"use strict";n.d(t,{S1:()=>p,xv:()=>h,zc:()=>y,pW:()=>b,wk:()=>v,zz:()=>g,ZP:()=>O});var r=n(675860),o=n(173436),i=n(218276),a=n(682684),l=n(356004),u=n(579220),c=n(461061);function s(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){
n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function f(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){s(i,r,o,a,l,"next",e)}function l(e){s(i,r,o,a,l,"throw",e)}a(void 0)}))}}var d=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}
if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function p(e,t,n){o.Z.dispatch({type:"CHANNEL_SETTINGS_INIT",channelId:e,location:t,subsection:n})}function h(){o.Z.dispatch({type:"CHANNEL_SETTINGS_CLOSE"})}function y(e){o.Z.dispatch({type:"CHANNEL_SETTINGS_SET_SECTION",section:e})}function b(e){var t=e.name,n=e.type,r=e.topic,i=e.bitrate,a=e.userLimit,l=e.nsfw,u=e.flags,c=e.rateLimitPerUser,s=e.defaultThreadRateLimitPerUser,f=e.defaultAutoArchiveDuration,d=e.template,p=e.defaultReactionEmoji,h=e.rtcRegion,y=e.videoQualityMode,b=e.autoArchiveDuration,v=e.locked,m=e.invitable,g=e.banner,O=e.availableTags,E=e.defaultSortOrder,j=e.defaultForumLayout;o.Z.dispatch({type:"CHANNEL_SETTINGS_UPDATE",name:t,channelType:n,
topic:r,bitrate:i,userLimit:a,nsfw:l,flags:u,rateLimitPerUser:c,defaultThreadRateLimitPerUser:s,defaultAutoArchiveDuration:f,template:d,defaultReactionEmoji:p,rtcRegion:h,videoQualityMode:y,autoArchiveDuration:b,locked:v,invitable:m,banner:g,availableTags:O,defaultSortOrder:E,defaultForumLayout:j})}function v(e,t){return m.apply(this,arguments)}function m(){return(m=f((function(e,t){var n,u,s,f,p,h,y,b,v,m,g,O,E,j,S,C,P,I,_,w,x,N,T,A;return d(this,(function(d){switch(d.label){case 0:n=t.name,u=t.type,s=t.position,f=t.topic,p=t.bitrate,h=t.userLimit,y=t.nsfw,b=t.flags,v=t.permissionOverwrites,m=t.rateLimitPerUser,g=t.defaultThreadRateLimitPerUser,O=t.defaultAutoArchiveDuration,E=t.template,j=t.defaultReactionEmoji,S=t.rtcRegion,C=t.videoQualityMode,P=t.autoArchiveDuration,I=t.locked,_=t.invitable,w=t.banner,x=t.availableTags,N=t.defaultSortOrder,T=t.defaultForumLayout;A=l.Z.getChannel(e);o.Z.dispatch({type:"CHANNEL_SETTINGS_SUBMIT"});return[4,a.Z.unarchiveThreadIfNecessary(e)];case 1:
d.sent();return[2,r.Z.patch({url:c.ANM.CHANNEL(e),body:{name:n,type:u,position:s,topic:f,bitrate:p,user_limit:h,nsfw:y,flags:b,permission_overwrites:v,rate_limit_per_user:m,default_thread_rate_limit_per_user:g,default_auto_archive_duration:O,template:E,rtc_region:S,video_quality_mode:C,auto_archive_duration:P,locked:I,invitable:_,banner:w,default_reaction_emoji:null!=j?{emoji_id:null==j?void 0:j.emojiId,emoji_name:null==j?void 0:j.emojiName}:null,available_tags:null==x?void 0:x.map((function(e){return{id:e.id,name:e.name,emoji_id:e.emojiId,emoji_name:e.emojiName,moderated:e.moderated}})),default_sort_order:N,default_forum_layout:T},oldFormErrors:!0}).then((function(t){o.Z.dispatch({type:"CHANNEL_SETTINGS_SUBMIT_SUCCESS",channelId:e});var n=null==A?void 0:A.getGuildId();null==n||(null==A?void 0:A.isThread())||i.Z.checkGuildTemplateDirty(n);return t}),(function(e){o.Z.dispatch({type:"CHANNEL_SETTINGS_SUBMIT_FAILURE",errors:e.body});return e}))]}}))}))).apply(this,arguments)}
function g(e){var t=l.Z.getChannel(e);r.Z.delete({url:c.ANM.CHANNEL(e),oldFormErrors:!0}).then((function(){var e=null==t?void 0:t.getGuildId();null==e||(null==t?void 0:t.isThread())||i.Z.checkGuildTemplateDirty(e);h()}))}const O={init:p,open:function(e,t,n){p(e,t,n);(0,u.jN)(c.S9g.CHANNEL_SETTINGS)},close:h,setSection:y,selectPermissionOverwrite:function(e){o.Z.dispatch({type:"CHANNEL_SETTINGS_OVERWRITE_SELECT",overwriteId:e})},updateChannel:b,saveChannel:v,deleteChannel:g}},898378:(e,t,n)=>{"use strict";n.d(t,{Ue:()=>w,bR:()=>x,G7:()=>N,K5:()=>T,$z:()=>Z,gk:()=>M,AQ:()=>L,uY:()=>k});var r=n(478465),o=n(224955),i=n.n(o),a=n(817673),l=n(675860),u=n(173436),c=n(655695),s=n(841372),f=n(277499),d=n(461061),p=n(659086);function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function b(e){return function(){var t=this,n=arguments
;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){y(i,r,o,a,l,"next",e)}function l(e){y(i,r,o,a,l,"throw",e)}a(void 0)}))}}function v(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){v(e,t,n[t])}))}return e}function g(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){
Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||j(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e){return function(e){if(Array.isArray(e))return h(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||j(e)||function(){
throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}var S=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++
;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},C=window.GLOBAL_ENV.ALGOLIA_KEY,P="production"===window.GLOBAL_ENV.PROJECT_ENV?"prod_discoverable_guilds":"staging"===window.GLOBAL_ENV.PROJECT_ENV?"stg_discoverable_guilds":"dev_discoverable_guilds",I={"auto_removed:":!1,approximate_presence_count:"> 0",approximate_member_count:"> 0"};function _(e){var t=e.query,n=e.preferredLocale,r=e.offset,o=e.limit,i=e.categoryId,l=e.tag,u=(0,c.s1)(),s=a.stringify({query:t,offset:r,limit:o,preferredLocale:n,categoryId:i,tag:l
}),f=u.location.search;if(!(null!=f&&f.length>0&&f.startsWith("?"))||f.startsWith("?")&&f.split("?")[1]!==s){var p={search:s};(0,c.uL)(d.Z5c.GUILD_DISCOVERY,p)}}function w(){if(null!=C){var e=i()("NKTZZ4AIZU",C,{responsesCache:(0,r.A)()}).initIndex(P);u.Z.wait((function(){return u.Z.dispatch({type:"GUILD_DISCOVERY_SEARCH_INIT",index:e})}))}}function x(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=t.categoryId,o=void 0===r?p.Hk:r,i=t.preferredLocale,a=t.offset,c=t.length,f=t.tag,h=s.ZP.getSearchIndex();if(null!=h){n&&_({query:e,preferredLocale:i,offset:a,limit:c,categoryId:o,tag:f});u.Z.dispatch({type:"GUILD_DISCOVERY_SEARCH_FETCH_START",section:d.Lcj.SEARCH,query:e,categoryId:o});var y=Object.assign({},I,t.filters),b=Object.keys(y),v=b.map((function(e){return"".concat(e).concat(y[e])}));o!==p.Hk&&v.push("(primary_category_id=".concat(o," OR categories.id=").concat(o,")"))
;var j=v.join(" AND "),S=["preferred_locale: ".concat(i)],C=["name","description","keywords","categories.name","categories.name_localizations.".concat(i),"primary_category.name","primary_category.name_localizations.".concat(i),"vanity_url_code"];try{var P=h.search(e,{filters:j,optionalFilters:S,length:c,offset:a,restrictSearchableAttributes:C}),w=l.Z.get({url:d.ANM.GUILD_DISCOVERY_VALID_TERM,query:{term:e},oldFormErrors:!0});Promise.all([P,w]).then((function(t){var n=O(t,2),r=n[0],i=r.hits,l=r.nbHits,s=n[1].body.valid;u.Z.dispatch({type:"GUILD_DISCOVERY_SEARCH_FETCH_SUCCESS",section:d.Lcj.SEARCH,query:e,categoryId:o,guilds:s?E(i.map((function(e){return g(m({},e),{id:e.objectID})}))):[],offset:a,limit:c,total:s?Math.min(l,p.lA):0})})).catch((function(r){r.body.retry_after>0&&h===s.ZP.getSearchIndex()?setTimeout((function(){x(e,t,n)}),1e3*r.body.retry_after):u.Z.dispatch({type:"GUILD_DISCOVERY_SEARCH_FETCH_FAILURE",section:d.Lcj.SEARCH,categoryId:o,query:e})}))}catch(t){u.Z.dispatch({
type:"GUILD_DISCOVERY_SEARCH_FETCH_FAILURE",section:d.Lcj.SEARCH,categoryId:o,query:e})}}}function N(e,t){var n=s.ZP.getSearchIndex();if(null!=n){var r=Object.assign({},I,t),o=Object.keys(r).map((function(e){return"".concat(e).concat(r[e])}));try{var i=n.search(e,{filters:o.join(" AND "),facets:["categories.id"]}),a=l.Z.get({url:d.ANM.GUILD_DISCOVERY_VALID_TERM,query:{term:e},oldFormErrors:!0});Promise.all([i,a]).then((function(t){var n=O(t,2),r=n[0],o=r.nbHits,i=r.facets,a=n[1].body.valid;u.Z.dispatch({type:"GUILD_DISCOVERY_SEARCH_UPDATE_COUNTS",query:e,nbHits:a?o:0,facets:a?i:void 0})}))}catch(t){u.Z.dispatch({type:"GUILD_DISCOVERY_SEARCH_COUNTS_FAIL",query:e})}}}function T(e){return A.apply(this,arguments)}function A(){return(A=b((function(e){var t,n;return S(this,(function(r){switch(r.label){case 0:u.Z.dispatch({type:"GUILD_DISCOVERY_POPULAR_FETCH_START",categoryId:e});r.label=1;case 1:r.trys.push([1,3,,4]);return[4,l.Z.get({url:d.ANM.GUILD_DISCOVERY,query:a.stringify({
categories:[e]}),oldFormErrors:!0})];case 2:t=r.sent();n=t.body.guilds;u.Z.dispatch({type:"GUILD_DISCOVERY_POPULAR_FETCH_SUCCESS",categoryId:e,guilds:n});return[3,4];case 3:r.sent();u.Z.dispatch({type:"GUILD_DISCOVERY_POPULAR_FETCH_FAILURE",categoryId:e});return[3,4];case 4:return[2]}}))}))).apply(this,arguments)}function Z(e,t){return R.apply(this,arguments)}function R(){return(R=b((function(e,t){return S(this,(function(n){switch(n.label){case 0:u.Z.dispatch({type:"GUILD_DISCOVERY_FETCH_START",section:d.Lcj.FEATURED});n.label=1;case 1:n.trys.push([1,3,,4]);return[4,l.Z.get({url:d.ANM.GUILD_DISCOVERY,query:a.stringify({offset:e,limit:t}),oldFormErrors:!0})];case 2:U(n.sent().body,d.Lcj.FEATURED);return[3,4];case 3:n.sent();u.Z.dispatch({type:"GUILD_DISCOVERY_FETCH_FAILURE",section:d.Lcj.FEATURED});return[3,4];case 4:return[2]}}))}))).apply(this,arguments)}function M(){return D.apply(this,arguments)}function D(){return(D=b((function(){var e,t;return S(this,(function(n){switch(n.label){
case 0:e=f.Z.applicationStatistics;t=Object.keys(e);u.Z.dispatch({type:"GUILD_DISCOVERY_FETCH_START",section:d.Lcj.GAMES_YOU_PLAY});n.label=1;case 1:n.trys.push([1,3,,4]);return[4,l.Z.get({url:d.ANM.GUILD_DISCOVERY,query:a.stringify({application_ids:t}),oldFormErrors:!0})];case 2:U(n.sent().body,d.Lcj.GAMES_YOU_PLAY);return[3,4];case 3:n.sent();u.Z.dispatch({type:"GUILD_DISCOVERY_FETCH_FAILURE",section:d.Lcj.GAMES_YOU_PLAY});return[3,4];case 4:return[2]}}))}))).apply(this,arguments)}function L(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e&&(0,c.uL)(d.Z5c.GUILD_DISCOVERY);u.Z.dispatch({type:"GUILD_DISCOVERY_CLEAR_SEARCH"})}function k(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];u.Z.dispatch({type:"GUILD_DISCOVERY_SELECT_CATEGORY",categoryId:e,isHomepage:t})}function U(e,t){var n=e.offset,r=e.limit,o=e.guilds,i=e.total;u.Z.dispatch({type:"GUILD_DISCOVERY_FETCH_SUCCESS",section:t,guilds:o,offset:n,limit:r,total:i})}},750839:(e,t,n)=>{"use strict"
;n.d(t,{bA:()=>o,xv:()=>i,Cp:()=>a,$Z:()=>l,Ao:()=>u,Cz:()=>c,k3:()=>s});var r=n(173436);function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};r.Z.dispatch({type:"PICTURE_IN_PICTURE_OPEN",id:e,component:t,props:n})}function i(e){r.Z.dispatch({type:"PICTURE_IN_PICTURE_CLOSE",id:e})}function a(e){r.Z.dispatch({type:"PICTURE_IN_PICTURE_HIDE",id:e})}function l(e){r.Z.dispatch({type:"PICTURE_IN_PICTURE_SHOW",id:e})}function u(e,t){r.Z.dispatch({type:"PICTURE_IN_PICTURE_MOVE",id:e,position:t})}function c(e,t){r.Z.dispatch({type:"PICTURE_IN_PICTURE_UPDATE_RECT",id:e,rect:t})}function s(e){r.Z.dispatch({type:"PICTURE_IN_PICTURE_UPDATE_SELECTED_WINDOW",id:e})}},632724:(e,t,n)=>{"use strict";n.d(t,{I:()=>o});var r=n(173436);function o(e){r.Z.dispatch({type:"PREMIUM_MARKETING_SURFACE_SELECT_SECTION",sectionId:e})}},569476:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(675860),o=n(173436),i=n(461061);const a={fetchRegions:function(e){r.Z.get({url:i.ANM.REGIONS(e),
retries:1,oldFormErrors:!0}).then((function(t){return o.Z.dispatch({type:"LOAD_REGIONS",regions:t.body,guildId:e})}),(function(){return o.Z.dispatch({type:"LOAD_REGIONS",regions:[],guildId:e})}))},changeCallRegion:function(e,t){r.Z.patch({url:i.ANM.CALL(e),body:{region:t},oldFormErrors:!0})}}},605644:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(675860),o=n(173436),i=n(461061);const a={show:function(e,t){o.Z.wait((function(){return o.Z.dispatch({type:"TUTORIAL_INDICATOR_SHOW",tutorialId:e,renderData:t})}))},hide:function(e){o.Z.wait((function(){return o.Z.dispatch({type:"TUTORIAL_INDICATOR_HIDE",tutorialId:e})}))},dismiss:function(e){o.Z.wait((function(){return o.Z.dispatch({type:"TUTORIAL_INDICATOR_DISMISS",tutorialId:e})}));r.Z.put({url:i.ANM.TUTORIAL_INDICATOR(e),oldFormErrors:!0})},suppressAll:function(){o.Z.dispatch({type:"TUTORIAL_INDICATOR_SUPPRESS_ALL"});r.Z.post({url:i.ANM.TUTORIAL_INDICATORS_SUPPRESS,oldFormErrors:!0})}}},463995:(e,t,n)=>{"use strict";n.d(t,{Z:()=>ql})
;var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),l=n(441143),u=n.n(l),c=n(751615),s=n(791462),f=n(281081),d=n(283533),p=n(67874),h=n(68352),y=n(53211),b=n(691869),v=n(200056),m=n(953143),g=n(173436),O=n(320646),E=n(825816),j=n(365667),S=n(82961),C=n(897576),P=n(932847),I=n(9523),_=n(735843),w=n(325589),x=n(23698),N=n(680040),T=n(661523),A=n(48843),Z=n(685351),R=n(461061),M=n(959797),D=n(889775),L=n.n(D);function k(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function U(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){k(i,r,o,a,l,"next",e)}function l(e){k(i,r,o,a,l,"throw",e)}a(void 0)}))}}function G(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function H(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e)
;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var B=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,
o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};const V=function(e){var t=e.guild,i=e.onAddGuild,a=o.useCallback((function(){(0,C.ZD)(U((function(){var e,o;return B(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(15793),n.e(42348),n.e(23647)]).then(n.bind(n,715793))];case 1:e=i.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,H(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))))
;r.forEach((function(t){G(e,t,n[t])}))}return e}({},e),{guild:t,source:R.t4x.HUB_DIRECTORY,analyticsLocation:{section:R.jXE.HUB_WELCOME_CTA}}))}]}}))})))}),[t]);return(0,r.jsxs)("div",{className:L().emptyWrapper,children:[(0,r.jsx)("img",{className:L().emptyImage,alt:"",src:n(655916)}),(0,r.jsx)(A.X,{className:L().emptyTitle,variant:"heading-xl/medium",children:M.Z.Messages.HUB_DIRECTORY_CHANNEL_EMPTY_TITLE.format({guildName:t.name})}),(0,r.jsx)(Z.x,{variant:"text-md/normal",className:L().emptySubtitle,children:M.Z.Messages.HUB_DIRECTORY_CHANNEL_EMPTY_SUBTITLE}),null!=i?(0,r.jsx)(T.i,{className:L().emptyCTA,iconUrl:n(755645),header:M.Z.Messages.HUB_DIRECTORY_CHANNEL_EMPTY_ADD_SERVER,completed:!1,onClick:i}):null,(0,r.jsx)(T.i,{className:L().emptyCTA,iconUrl:n(930519),header:M.Z.Messages.HUB_DIRECTORY_CHANNEL_EMPTY_INVITE,completed:!1,onClick:a})]})}
;var F=n(269972),W=n(497762),Y=n(318937),z=n(354290),K=n(769002),q=n(510174),X=n(989232),Q=n(653772),J=n(191940),$=n(629590),ee=n(709990),te=n(969225),ne=n(757987),re=n(557328),oe=n(878627),ie=n(440455),ae=n(330275),le=n(917870),ue=n(233012),ce=n(423973),se=n.n(ce),fe=n(928793),de=n.n(fe);function pe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function he(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function ye(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){he(i,r,o,a,l,"next",e)}function l(e){he(i,r,o,a,l,"throw",e)}a(void 0)}))}}function be(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){be(e,t,n[t])}))}return e}function me(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function ge(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r]
;t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function Oe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return pe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Ee=function(e,t){var n,r,o,i,a={
label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{
value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},je=function(e){var t=e.onClick;return(0,r.jsxs)($.Z,{onClick:t,className:se().addEntryCard,children:[(0,r.jsx)("img",{alt:"",src:de()}),(0,r.jsx)(Z.x,{variant:"text-sm/semibold",color:"header-primary",className:se().addServerText,children:M.Z.Messages.HUB_ADD_SERVER_CTA})]})};function Se(e){var t=e.entry,i=Oe(o.useState(!1),2),l=i[0],u=i[1],c=(0,N.Z)(t).canEdit;return(0,r.jsx)("div",{className:a()(se().actionButtonsContainer,be({},se().forceButtonsShow,l)),children:(0,r.jsxs)(ae.ZP,{children:[c?(0,r.jsx)(ne.ZP,{text:M.Z.Messages.HUB_ENTRY_UPDATE,hideOnClick:!0,children:function(e){var o=e.onClick,i=ge(e,["onClick"]);return(0,r.jsx)(ae.zx,me(ve({},i),{onClick:function(){null==o||o();(0,C.ZD)(ye((function(){var e,o;return Ee(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(50936)]).then(n.bind(n,950936))];case 1:e=i.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,me(ve({},e),{entry:t}))}]}}))})))},
"aria-label":M.Z.Messages.HUB_ENTRY_UPDATE,children:(0,r.jsx)(oe.Z,{className:se().overflowIcon})}))}}):null,(0,r.jsx)(ue.Z,{onRequestOpen:function(){return u(!0)},onRequestClose:function(){return u(!1)},entry:t,hideEditButton:!0,children:function(e){var t=e.onClick,n=ge(e,["onClick"]);return(0,r.jsx)(ne.ZP,{text:M.Z.Messages.MORE,hideOnClick:!0,children:function(e){var o=e.onClick,i=ge(e,["onClick"]);return(0,r.jsx)(ae.zx,me(ve({},n,i),{onClick:function(e){null==o||o();t(e)},"aria-label":M.Z.Messages.MORE,children:(0,r.jsx)(re.Z,{className:se().overflowIcon})}))}})}})]})})}const Ce=function(e){var t,i,a=e.entry,l=Oe(o.useState(!1),2),u=l[0],c=l[1],d=null!=(0,s.e7)([Q.Z],(function(){return Q.Z.getGuild(a.guildId)})),p=(t=ye((function(){return Ee(this,(function(e){switch(e.label){case 0:c(!0);e.label=1;case 1:e.trys.push([1,,5,6]);return d?[3,3]:[4,z.Z.joinGuild(a.guildId,{source:R.vtS.DIRECTORY_ENTRY})];case 2:e.sent();return[3,4];case 3:(0,q.X)(a.guildId);e.label=4;case 4:return[3,6]
;case 5:c(!1);return[7];case 6:return[2]}}))})),function(){return t.apply(this,arguments)}),h=le.ZP.getGuildSplashURL({id:a.guildId,splash:a.splash,size:300*(0,K.x_)()}),y=null!==(i=le.ZP.getGuildIconURL({id:a.guildId,icon:a.icon,size:40}))&&void 0!==i?i:void 0,b=M.Z.Messages.JOIN;d&&(b=M.Z.Messages.HUB_DIRECTORY_CARD_JOINED_GUILD_BUTTON);return(0,r.jsxs)("div",{className:se().card,onContextMenu:function(e){(0,f.jW)(e,ye((function(){var e,t;return Ee(this,(function(o){switch(o.label){case 0:return[4,Promise.resolve().then(n.bind(n,130552))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,me(ve({},e),{entry:a}))}]}}))})))},children:[(0,r.jsxs)("div",{className:se().cardHeader,children:[(0,r.jsx)("div",{className:se().splash,children:null!=h&&(0,r.jsx)("img",{src:h,alt:"",className:se().splashImage})}),(0,r.jsx)("div",{className:se().guildIcon,children:(0,r.jsx)(ie.ZP,{mask:ie.ZP.Masks.SQUIRCLE,width:48,height:48,children:(0,r.jsx)("div",{className:se().iconMask,
children:(0,r.jsx)(te.Z,{className:se().icon,iconSrc:y,guild:new X.Z(a),size:te.Z.Sizes.MEDIUM,active:!0})})})})]}),(0,r.jsxs)("div",{className:se().guildInfo,children:[(0,r.jsxs)("div",{className:se().title,children:[(0,r.jsx)(ee.Z,{className:se().guildBadge,guild:a,tooltipColor:ne.ZP.Colors.PRIMARY}),(0,r.jsx)(Z.x,{className:se().guildName,variant:"heading-md/medium",color:"header-primary",children:a.name})]}),(0,r.jsx)(Z.x,{className:se().description,variant:"text-sm/normal",color:"header-secondary",children:a.description}),(0,r.jsxs)("div",{className:se().memberInfo,children:[null!=a.approximatePresenceCount&&(0,r.jsxs)("div",{className:se().memberCount,children:[(0,r.jsx)("div",{className:se().dotOnline}),(0,r.jsx)(Z.x,{variant:"text-xs/normal",color:"header-secondary",children:M.Z.Messages.INSTANT_INVITE_GUILD_MEMBERS_ONLINE.format({membersOnline:a.approximatePresenceCount})})]}),null!=a.approximateMemberCount&&(0,r.jsxs)("div",{className:se().memberCount,children:[(0,
r.jsx)("div",{className:se().dotOffline}),(0,r.jsx)(Z.x,{variant:"text-xs/normal",color:"header-secondary",children:M.Z.Messages.INSTANT_INVITE_GUILD_MEMBERS_TOTAL.format({count:a.approximateMemberCount})})]})]}),(0,r.jsx)(J.Co,{submitting:u,className:se().joinButton,color:d?J.Co.Colors.PRIMARY:J.Co.Colors.GREEN,onClick:p,children:b})]}),(0,r.jsx)(Se,{entry:a})]})};var Pe=n(541405),Ie=n(447763),_e=n.n(Ie),we=n(552564),xe=n.n(we),Ne=n(324752),Te=n.n(Ne),Ae=n(315879),Ze=n.n(Ae);function Re(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var Me=(0,d.Z)((function(e){var t=e.searchQuery,n=e.setSearchQuery,o=e.handleClearSearch,i=e.handleSearchKeyPress,l=e.width,u=null!=l&&l<=800;return(0,r.jsxs)("div",{className:xe().header,children:[(0,r.jsx)("img",{alt:"",className:xe().headerImage,src:u?Ze():Te()}),(0,r.jsx)("div",{className:xe().headerContentWrapper,children:(0,r.jsxs)("div",{
className:a()(xe().headerContent,Re({},xe().headerContentSmall,u)),children:[(0,r.jsx)(A.X,{variant:"heading-xl/medium",className:xe().searchTitle,children:M.Z.Messages.HUB_DIRECTORY_SEARCH_TITLE}),(0,r.jsx)(Z.x,{variant:"text-md/normal",className:xe().searchSubtitle,children:M.Z.Messages.HUB_DIRECTORY_SEARCH_SUBTITLE}),(0,r.jsx)(F.Z,{searchTerm:t,className:xe().searchBox,inputClassName:xe().searchBoxInput,closeIconClassName:xe().closeIcon,searchIconClassName:xe().searchIcon,label:M.Z.Messages.DIRECTORY_SEARCH_PLACEHOLDER,placeholder:M.Z.Messages.DIRECTORY_SEARCH_PLACEHOLDER,onChange:n,onClear:o,onKeyPress:i,cta:null!=t&&t.length>0?M.Z.Messages.GUILD_DISCOVERY_SEARCH_ENTER_CTA:null})]})})]})}));const De=function(e){var t=e.channel,n=e.directoryEntries,o=e.handleCreateOrAddGuild,i=e.searchQuery,a=e.setSearchQuery,l=e.handleClearSearch,u=e.handleSearchKeyPress,c=e.currentCategoryId,s=e.handleSelectCategory,f=e.categoryCounts,d=e.allEntriesCount,p=e.isLoading;return(0,r.jsx)("div",{
className:_e().pageContainer,children:(0,r.jsxs)(Y.yW,{className:_e().scroller,children:[(0,r.jsx)(Me,{searchQuery:i,setSearchQuery:a,handleClearSearch:l,handleSearchKeyPress:u}),(0,r.jsx)(Y.h2,{orientation:"horizontal",children:(0,r.jsxs)(W.ZP,{className:xe().tabBar,type:W.ZP.Types.TOP,look:W.ZP.Looks.BRAND,selectedItem:c,onItemSelect:function(e){s(e)},children:[(0,r.jsx)(W.ZP.Item,{className:xe().tabBarItem,id:Pe.AR.ALL,children:"".concat(M.Z.Messages.DIRECTORY_CATEGORY_ALL," (").concat(d,")")},Pe.AR.ALL),(0,Pe.b7)(t.id).map((function(e){var t=e.value,n=e.label;return(0,r.jsx)(W.ZP.Item,{className:xe().tabBarItem,id:t,children:"".concat(n," ").concat(null!=f[t]?"(".concat(f[t],")"):"")},t)}))]})}),p&&null==n?(0,r.jsx)(S.Z,{className:_e().spinner}):null==n?void 0:n.map((function(e){return(0,r.jsxs)(r.Fragment,{children:[void 0!==e.header?(0,r.jsx)(Z.x,{variant:"text-md/semibold",className:xe().sectionHeader,children:e.header}):null,(0,r.jsxs)("div",{className:_e().cardsContainer,
children:[e.entries.map((function(e){return(0,r.jsx)(Ce,{entry:e},e.guildId)})),e.appendEndCard&&null!=o?(0,r.jsx)(je,{onClick:o}):null]})]})}))]})})};var Le=n(798634);var ke=n(892472),Ue=n(168965),Ge=n(725002),He=n(885735),Be=n.n(He),Ve=n(123451),Fe=n.n(Ve);const We=function(e){var t,n=e.searchQuery,o=e.setSearchQuery,i=e.mostRecentQuery,a=e.handleClearSearch,l=e.handleSearchKeyPress,u=e.handleCreateOrAddGuild,c=e.searchResults;if(e.searchFetching)t=(0,r.jsx)("div",{className:_e().pageContainer,children:(0,r.jsx)(S.Z,{className:_e().spinner})});else if(0===c.length){var s=null!=u?M.Z.Messages.DIRECTORY_SEARCH_NO_RESULTS_SUBTITLE.format({addServerHook:function(e,t){return(0,r.jsx)(ke.Z,{onClick:u,children:e},t)}}):M.Z.Messages.DIRECTORY_SEARCH_NO_RESULTS_NO_ADD;t=(0,r.jsxs)("div",{className:Be().emptySearchWrapper,children:[(0,r.jsx)("img",{className:Be().emptySearchImage,alt:"",src:Fe()}),(0,r.jsx)(A.X,{variant:"heading-xl/medium",color:"header-primary",
className:Be().emptySearchTitle,children:M.Z.Messages.DIRECTORY_SEARCH_NO_RESULTS_TITLE}),(0,r.jsx)(Z.x,{variant:"text-md/normal",color:"header-secondary",className:Be().emptySearchSubtitle,children:s})]})}else t=(0,r.jsx)("div",{className:_e().cardsContainer,children:c.map((function(e){return(0,r.jsx)(Ce,{entry:e},e.guildId)}))});return(0,r.jsx)("div",{className:_e().pageContainer,children:(0,r.jsxs)(Ge.w0,{className:_e().scroller,children:[(0,r.jsxs)("div",{className:Be().searchHeader,children:[(0,r.jsxs)("div",{className:Be().headerTitleWrapper,children:[(0,r.jsx)($.Z,{onClick:a,className:Be().arrow,children:(0,r.jsx)(Ue.Z,{direction:Ue.Z.Directions.LEFT})}),(0,r.jsx)(A.X,{variant:"heading-xl/medium",className:Be().searchPageTitle,children:M.Z.Messages.DIRECTORY_SEARCH_RESULTS_HEADER.format({numResults:c.length,query:i})})]}),(0,r.jsx)(F.Z,{searchTerm:n,className:Be().searchPageBox,inputClassName:Be().searchPageInput,label:M.Z.Messages.DIRECTORY_SEARCH_PLACEHOLDER,
placeholder:M.Z.Messages.DIRECTORY_SEARCH_PLACEHOLDER,onChange:o,onClear:a,onKeyPress:l,cta:null!=n&&n.length>0?M.Z.Messages.GUILD_DISCOVERY_SEARCH_ENTER_CTA:null})]}),t]})})};function Ye(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ze(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function Ke(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){ze(i,r,o,a,l,"next",e)}function l(e){ze(i,r,o,a,l,"throw",e)}a(void 0)}))}}function qe(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Xe(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){
return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Qe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ye(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ye(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Je=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){
a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};const $e=function(e){var t=e.channel,i=e.guild,a=(0,s.cj)([x.Z],(function(){var e=x.Z.getCurrentCategoryId(t.id);return{currentCategoryId:e,directoryEntries:x.Z.getDirectoryEntries(t.id,e===Pe.AR.ALL?null:e),categoryCounts:x.Z.getDirectoryCategoryCounts(t.id),allEntriesCount:x.Z.getDirectoryAllEntriesCount(t.id),isLoading:x.Z.isFetching()}})),l=a.currentCategoryId,u=a.directoryEntries,c=a.categoryCounts,f=a.allEntriesCount,d=a.isLoading;o.useEffect((function(){return function(){var e=j.ZP.lastMessageId(t.id);null!=e&&g.Z.wait((function(){(0,O.In)(t.id,!0,!0,e)}))}}),[t.id]);var p,h=o.useMemo((function(){return null!=u?function(e,t){if(t!==Pe.AR.ALL)return[{entries:(0,Le.TR)(e),appendEndCard:!0}];var n=[],r=(0,Le.Lz)(e),o=new Set(r.map((function(e){
return e.guildId})));r.length>0&&n.push({header:M.Z.Messages.SEARCH_NEWEST,entries:r,appendEndCard:!1});var i=e.filter((function(e){return!o.has(e.guildId)}));(i=(0,Le.Th)(i)).length>0&&n.push({header:M.Z.Messages.ALL_SERVERS,entries:i,appendEndCard:!0});return n}(Object.values(u),l):null}),[u,l]),y=(0,s.cj)([w.Z],(function(){var e=w.Z.getSearchState(t.id),n=e.mostRecentQuery;return{mostRecentQuery:n,searchFetching:e.fetching,searchResults:w.Z.getSearchResults(t.id,n)}})),b=y.mostRecentQuery,v=y.searchFetching,m=y.searchResults,T=Qe(o.useState(b),2),A=T[0],Z=T[1],D=""!==b,L=E.Z.useExperiment({guildId:null!==(p=i.id)&&void 0!==p?p:""}).showHubEventsList;o.useEffect((function(){_.c$(t.id);_.YZ(t.id);L&&I.c(t.id);Z(b)}),[t.id]);o.useEffect((function(){P.default.track(R.rMx.GUILD_DIRECTORY_CHANNEL_VIEWED,{directory_channel_id:t.id,directory_guild_id:i.id,primary_category_id:l})}),[t.id,i.id,l]);var k=(0,N.G)(t)?function(){(0,C.ZD)(Ke((function(){var e,o;return Je(this,(function(a){
switch(a.label){case 0:return[4,Promise.all([n.e(40532),n.e(18734),n.e(53907)]).then(n.bind(n,235199))];case 1:e=a.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,Xe(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){qe(e,t,n[t])}))}return e}({},e),{directoryGuildName:i.name,directoryGuildId:i.id,directoryChannelId:t.id,currentCategoryId:l===Pe.AR.ALL?null:l}))}]}}))})))}:void 0,U=function(e){if(0!==A.trim().length&&e.charCode===R.yXg.ENTER){_.Rq(t.id,A);P.default.track(R.rMx.GUILD_DIRECTORY_SEARCH,{directory_channel_id:t.id,directory_guild_id:i.id})}},G=function(){Z("");_.So(t.id)};return D?(0,r.jsx)(We,{searchQuery:A,setSearchQuery:Z,mostRecentQuery:b,handleSearchKeyPress:U,handleClearSearch:G,handleCreateOrAddGuild:k,
searchResults:m,searchFetching:v}):null==h&&null==l?(0,r.jsx)("div",{className:_e().pageContainer,children:(0,r.jsx)(S.Z,{className:_e().spinner})}):0===(null==h?void 0:h.length)&&null==l?(0,r.jsx)("div",{className:_e().pageContainer,children:(0,r.jsx)(V,{guild:i,onAddGuild:k})}):(0,r.jsx)(De,{channel:t,searchQuery:A,setSearchQuery:Z,handleSearchKeyPress:U,handleClearSearch:G,handleCreateOrAddGuild:k,currentCategoryId:l,handleSelectCategory:function(e){_.Su(t.id,e)},directoryEntries:h,categoryCounts:c,allEntriesCount:f,isLoading:d})};var et=n(455591),tt=n(29189),nt=n(772235),rt=n(655695),ot=n(139832),it=n(356004),at=n(402124),lt=n(905567),ut=n(426466),ct=n(452159),st=n.n(ct);function ft(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function dt(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){ft(i,r,o,a,l,"next",e)}function l(e){ft(i,r,o,a,l,"throw",e)}a(void 0)}))}}
function pt(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function ht(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var yt=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),
0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function bt(e){var t=e.channelId,i=(0,s.e7)([it.Z],(function(){return it.Z.getChannel(t)})),a=(0,s.e7)([it.Z],(function(){return it.Z.getChannel(null==i?void 0:i.parent_id)})),l=(0,s.e7)([Q.Z],(function(){return Q.Z.getGuild(null==i?void 0:i.getGuildId())})),u=(0,y.Z)(i),c=o.useRef(!1);o.useEffect((function(){if(null!=i&&!c.current){c.current=!0;(0,
ut.lN)(i)}}),[i]);if(null==i||null==l)return null;var d=(0,r.jsx)(ot.Z,{channel:i});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(tt.Z,{channel:i,draftType:at.d.ChannelMessage}),(0,r.jsx)(lt.ZP,{toolbar:d,"aria-label":M.Z.Messages.THREAD_HEADER_BAR_A11Y_LABEL,children:(0,nt.ud)({channel:i,parentChannel:a,channelName:u,guild:l,inSidebar:!0,handleContextMenu:function(e){(0,f.jW)(e,dt((function(){var e,t;return yt(this,(function(o){switch(o.label){case 0:return[4,n.e(98412).then(n.bind(n,669102))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,ht(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){pt(e,t,n[t])}))}return e}({},e),{channel:i}))}]}}))})))},handleClick:function(){null!=i&&(0,rt.XU)(i.guild_id,i.id)}})
}),(0,r.jsx)("div",{className:st().chat,children:(0,r.jsx)(et.Z,{channel:i,guild:l,chatInputType:b.I.SIDEBAR},t)})]})}var vt=n(67121);const mt={viewPrompt:function(e,t){g.Z.wait((function(){g.Z.dispatch({type:"GUILD_PROMPT_VIEWED",prompt:e,guildId:t})}))}};var gt=n(852007),Ot=n(954946),Et=n(368365),jt=n(985836),St=n(896042);function Ct(e){var t=e.guildId,n=e.channelId,r=(0,Ot.qi)(t);return(0,s.Wu)([it.Z,Q.Z,jt.Z],(function(){var e=it.Z.getChannel(n),o=Q.Z.getGuild(t),i=jt.Z.isViewingSubscriptionRoles(t);return null!=o&&null!=e?r.filter((function(t){return function(e,t,n){var r=(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).isPreviewingRoles;if(!(void 0!==r&&r||e.published))return!1;var o=n.permissionOverwrites[e.role_id];if((0,St.TG)(n,o))return!0;var i=t.getRole(t.id),a=null!=i&&!Et.Z.has(i.permissions,R.Plq.VIEW_CHANNEL),l=(0,St.wB)(n,n.permissionOverwrites[t.id]),u=t.getRole(e.role_id);return a&&!l&&null!=u&&(0,St.MT)(u)&&!(0,St.wB)(n,o)}(t,o,e,{isPreviewingRoles:i})
})):[]}),[t,n,r])}var Pt=n(209585),It=n(787470),_t=n(331454),wt=n(344048),xt=n.n(wt);function Nt(e){var t=e.guildId,n=e.channelId,i=Ct({guildId:t,channelId:n}),a=(0,Ot.GG)(t),l=(0,Ot.YB)(t),u=(0,s.e7)([Q.Z],(function(){return Q.Z.getGuild(t)}),[t]),c=null==u?void 0:u.name,f=(0,s.e7)([it.Z],(function(){return it.Z.getChannel(n)})),d=o.useMemo((function(){var e={},t=!0,n=!1,r=void 0;try{for(var o,i=a[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var l=o.value,u=!0,c=!1,s=void 0;try{for(var f,d=l.subscription_listings_ids[Symbol.iterator]();!(u=(f=d.next()).done);u=!0){e[f.value]=l.id}}catch(e){c=!0;s=e}finally{try{u||null==d.return||d.return()}finally{if(c)throw s}}}}catch(e){n=!0;r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return e}),[a]);(0,Pt.Z)({guildId:t,location:R.Sbl.ROLE_SUBSCRIPTION_GATED_CHANNEL,relevantSubscriptionListingIds:i.map((function(e){return e.id}))});return null==u?(0,r.jsx)("div",{className:xt().spinnerContainer,children:(0,r.jsx)(S.Z,{
className:xt().spinner})}):(0,r.jsxs)(Ge.w0,{className:xt().pageContainer,children:[(0,r.jsx)(A.X,{variant:"heading-xl/medium",className:xt().joinCtaTitle,children:M.Z.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_UPSELL_PAGE_CTA.format({serverName:c,channelName:null==f?void 0:f.name})}),(0,r.jsx)(Z.x,{className:xt().joinCtaSubtitle,variant:"text-md/normal",color:"header-secondary",children:null==l?void 0:l.description}),(0,r.jsx)(It.Z,{guildId:t,children:i.filter((function(e){return null!=d[e.id]})).map((function(e){return(0,r.jsx)(_t.Z,{guildId:t,listingId:e.id,groupListingId:d[e.id],analyticsLocation:R.Sbl.ROLE_SUBSCRIPTION_GATED_CHANNEL},e.id)}))})]})}var Tt=n(913998),At=n(23816),Zt=n(915354),Rt=n(971738),Mt=n(605390);function Dt(e){var t=e.channelId,n=(0,s.e7)([Zt.ZP],(function(){return Zt.ZP.getSection(t)})),o=(0,s.e7)([Rt.Z],(function(){return Rt.Z.getGuildId()})),i=n===R.ULH.MEMBERS;return(0,r.jsx)(lt.JO,{tooltip:i?M.Z.Messages.MEMBER_LIST_SHOWN:M.Z.Messages.MEMBER_LIST_HIDDEN,
icon:Mt.Z,onClick:function(){At.ZP.trackWithMetadata(R.rMx.MEMBER_LIST_TOGGLED,{channel_id:t,guild_id:o,member_list_open:!i});Tt.Z.toggleMembersSection()},selected:i})}var Lt=n(282528),kt=n(692454),Ut=n(278641),Gt=n(859023),Ht=n(851994),Bt=n(272898),Vt=n(857542),Ft=[];function Wt(e){var t=e.channel,i=e.onJump,a=(0,s.cj)([Ut.Z],(function(){var e=Ut.Z.getPinnedMessages(t.id),n=null!=e?e.messages:Ft;return{messages:n,loading:null==n||null!=e&&e.loading}})),l=a.messages,u=a.loading,c=(0,s.e7)([j.ZP],(function(){return j.ZP.hasUnreadPins(t.id)})),f=(0,s.e7)([Gt.default],(function(){var e=Gt.default.getUser(t.getRecipientId());return null!=e?e.username:null}));o.useEffect((function(){c&&kt.Z.ackPins(t.id)}),[c,t.id]);return(0,r.jsx)(Ht.Z,{"aria-label":M.Z.Messages.PINNED_MESSAGES,children:(0,r.jsx)(Bt.ZP,{onFetch:function(){kt.Z.ackPins(t.id);kt.Z.fetchPins(t.id)},channel:t,messages:l,loading:u,analyticsName:"Channel Pins",onCloseMessage:function(e,n){
null!=e&&(n.shiftKey?kt.Z.unpinMessage(t,e.id):Vt.Z.confirmUnpin(t,e))},onJump:i,getProTip:function(){return t.isPrivate()?t.type===R.d4z.DM?M.Z.Messages.PINNED_MESSAGES_PRO_TIP_BODY_DM.format({other:f}):M.Z.Messages.PINNED_MESSAGES_PRO_TIP_BODY_GROUP_DM:M.Z.Messages.PINNED_MESSAGES_PRO_TIP_BODY_CHANNEL},renderHeader:function(){return(0,r.jsx)(Bt.h4,{title:M.Z.Messages.PINNED_MESSAGES})},renderEmptyState:function(e){var o=M.Z.Messages.NO_PINS_IN_CHANNEL;t.isPrivate()&&(o=M.Z.Messages.NO_PINS_IN_DM);var i=e===R.BRd.LIGHT?n(937849):n(772144);return(0,r.jsx)(Bt.nH,{msg:o,image:i},"emptystate")},listName:"pins"})})}var Yt=n(35599),zt=n(179468),Kt=n(761434),qt=n(823584),Xt=n(882699);function Qt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Jt(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function $t(e){for(var t=1;t<arguments.length;t++){
var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Jt(e,t,n[t])}))}return e}function en(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function tn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){
i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Qt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const nn=function(e){var t=e.channel,n=function(e){(null==e?void 0:e.shiftKey)||f.dispatch(R.CkL.POPOUT_CLOSE)},i=(0,s.e7)([zt.Z,Gt.default],(function(){var e=Gt.default.getCurrentUser();return null==e||t.isNSFW()&&(!e.nsfwAllowed||!zt.Z.didAgree(t.getGuildId()))}),[t]),a=tn(o.useState(!1),2),l=a[0],u=a[1],c=(0,s.e7)([j.ZP],(function(){return j.ZP.hasUnreadPins(t.id)
}),[t]),f=(0,Yt.Aq)(),d=o.useCallback((function(){i||u((function(e){return!e}))}),[i]);o.useEffect((function(){Xt.S.subscribe(R.CkL.TOGGLE_CHANNEL_PINS,d);return function(){Xt.S.unsubscribe(R.CkL.TOGGLE_CHANNEL_PINS,d)}}),[d]);return(0,r.jsx)(Kt.ZP,{shouldShow:l,animation:Kt.ZP.Animation.NONE,position:Kt.ZP.Positions.BOTTOM,align:Kt.ZP.Align.RIGHT,autoInvert:!1,ignoreModalClicks:!0,onRequestClose:function(){return u(!1)},renderPopout:function(e){return(0,r.jsx)(Wt,en($t({},e),{onJump:n,channel:t}))},children:function(e,t){var n=t.isShown;return(0,r.jsx)(lt.JO,en($t({},e),{onClick:d,tooltip:n?null:M.Z.Messages.PINNED_MESSAGES,icon:qt.Z,"aria-label":M.Z.Messages.PINNED_MESSAGES,disabled:i,showBadge:c,selected:n}))}})};var rn=n(253873),on=n(103686),an=n(743175),ln=n(268461),un=n(436035);function cn(e){var t=e.channel,n=(0,an.r_)(t),o=(0,s.e7)([rn.Z],(function(){return rn.Z.hasHidden(t.id)})),i=(0,ln.c)(t.id);if(!n||i)return null;return(0,r.jsx)(lt.JO,{
tooltip:o?M.Z.Messages.FORUM_CHANNEL_ONBOARDING_SHOW:M.Z.Messages.FORUM_CHANNEL_ONBOARDING_HIDE,icon:un.Z,onClick:function(){return on.Z.hideAdminOnboarding(t.id,!o)},selected:!o})}var sn=n(782226),fn=n(650331),dn=n(804626),pn=n(2157),hn=n(685879),yn=n(475389),bn=n(464623),vn=n(934714),mn=n(105405),gn=n(882687),On=n(429677),En=n(701197),jn=n(866452);function Sn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Cn(e){Cn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Cn(e)}function Pn(e,t){return!t||"object"!==_n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function In(e,t){In=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return In(e,t)}var _n=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function wn(e){var t=function(){
if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Cn(e);if(t){var o=Cn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Pn(this,n)}}var xn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&In(e,t)}(n,e);var t=wn(n);function n(){Sn(this,n);var e;(e=t.apply(this,arguments)).handleStartCall=function(t,n){var r=e.props,o=r.channel,i=r.notFriend,a=r.appContext,l=i?o.getRecipientId():null,u=function(){return fn.Z.call(o.id,n,!i&&!o.isManaged()&&t&&!t.shiftKey,l)};n?(0,yn.Z)(u,a):u()};e.handleJoinCall=function(t){
dn.default.selectVoiceChannel(e.props.channel.id,t)};e.handleVoiceClick=function(t){var n=e.props,r=n.callUnavailable,o=n.callActive;if(!r)return o?e.handleJoinCall(!1):e.handleStartCall(t,!1)};e.handleStartVideoCall=function(t){e.handleStartCall(t,!0)};e.handleJoinVideoCall=function(){var t=e.props.appContext;(0,yn.Z)((function(){return e.handleJoinCall(!0)}),t)};e.handleBrowserNotSupported=function(){(0,hn.Z)()};return e}var i=n.prototype;i.componentDidMount=function(){Xt.S.subscribe(R.CkL.CALL_START,this.handleVoiceClick)};i.componentWillUnmount=function(){Xt.S.unsubscribe(R.CkL.CALL_START,this.handleVoiceClick)};i.renderVideoCallButton=function(){var e=this.props,t=e.inCall,n=e.callActive,o=e.callUnavailable,i=e.isBlocked,a=e.channel,l=e.mode;if(t||n&&l===R.WtW.VOICE)return null;var u,c,s=a.isManaged(),f=null,d=!1;if(vn.Z.supports(jn.AN.VIDEO))if(i){f=M.Z.Messages.CALL_UNAVAILABLE_BLOCKED_USERS;u=ne.ZP.Colors.RED;d=!0}else if(n&&l===R.WtW.VIDEO){c=this.handleJoinVideoCall
;f=s?M.Z.Messages.CONNECT:M.Z.Messages.JOIN_VIDEO_CALL}else{c=this.handleStartVideoCall;f=s?M.Z.Messages.CONNECT:M.Z.Messages.START_VIDEO_CALL}else{d=!0;c=this.handleBrowserNotSupported;f=M.Z.Messages.BROWSER_NOT_SUPPORTED}return(0,r.jsx)(lt.ZP.Icon,{icon:En.Z,onClick:c,disabled:d||o,tooltip:f,tooltipColor:u})};i.renderVoiceCallButton=function(){var e=this.props,t=e.inCall,n=e.callActive,o=e.callUnavailable,i=e.isBlocked,a=e.channel;if(t)return null;var l,u=a.isManaged(),c="",s=!1;if(o){c=u?M.Z.Messages.VOICE_UNAVAILABLE:M.Z.Messages.CALL_UNAVAILABLE;l=ne.ZP.Colors.RED;s=!0}else if(i){c=M.Z.Messages.CALL_UNAVAILABLE_BLOCKED_USERS;l=ne.ZP.Colors.RED;s=!0}else c=n?u?M.Z.Messages.CONNECT:M.Z.Messages.JOIN_VOICE_CALL:u?M.Z.Messages.CONNECT:M.Z.Messages.START_VOICE_CALL;return(0,r.jsx)(lt.ZP.Icon,{icon:On.Z,onClick:this.handleVoiceClick,disabled:s,tooltip:c,tooltipColor:l})};i.render=function(){return(0,r.jsxs)(o.Fragment,{children:[this.renderVoiceCallButton(),this.renderVideoCallButton()]
})};return n}(o.PureComponent);function Nn(e){var t=e.channel,n=(0,pn.Z)(),o=(0,s.e7)([p.Z],(function(){return p.Z.getMode(t.id)})),i=(0,s.e7)([gn.Z],(function(){return gn.Z.isInChannel(t.id)})),a=(0,s.cj)([bn.Z],(function(){return{callActive:bn.Z.isCallActive(t.id),callUnavailable:bn.Z.isCallUnavailable(t.id)}})),l=a.callActive,u=a.callUnavailable,c=t.getRecipientId(),f=(0,s.cj)([mn.Z],(function(){return{notFriend:t.type===R.d4z.DM&&null!=c&&!mn.Z.isFriend(c),isBlocked:t.type===R.d4z.DM&&null!=c&&mn.Z.isBlocked(c)}})),d=f.notFriend,h=f.isBlocked,y=(0,Yt.bp)();return n?null:(0,r.jsx)(xn,{channel:t,mode:o,inCall:i,callActive:l,callUnavailable:u,notFriend:d,isBlocked:h,appContext:y})}var Tn=n(861925),An=n(185139);const Zn=(0,n(553494).B)({kind:"user",id:"2022-10_profile_panel",label:"Profiles In DMs",defaultConfig:{canViewProfilePanel:!1,canSeeThemeColors:!1},treatments:[{id:1,label:"View Profiles In DMs With Theme Colors",config:{canViewProfilePanel:!0,canSeeThemeColors:!0}},{id:2,
label:"View Profiles In DMs Without Theme Colors",config:{canViewProfilePanel:!0,canSeeThemeColors:!1}}]});var Rn=n(441966),Mn=n(184674);function Dn(e){var t=e.channel,n=(0,s.e7)([Zt.ZP],(function(){return Zt.ZP.getSection(t.id)})),o=(0,An.Z)(t.getRecipientId()),i=Zn.useExperiment({},{autoTrackExposure:!0}).canViewProfilePanel,a=n===R.ULH.PROFILE;return i?(0,r.jsx)(lt.JO,{tooltip:a?M.Z.Messages.HIDE_USER_PROFILE:M.Z.Messages.SHOW_USER_PROFILE,icon:Mn.Z,onClick:function(){(0,Rn.a)(o,!a);Tt.Z.toggleProfilePanelSection()},selected:a}):null}function Ln(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kn(e){kn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return kn(e)}function Un(e,t){return!t||"object"!==Hn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Gn(e,t){
Gn=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Gn(e,t)}var Hn=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Bn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=kn(e);if(t){var o=kn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Un(this,n)}}var Vn={};var Fn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Gn(e,t)}(n,e);var t=Bn(n);function n(){Ln(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(e){for(var t in e){
var n=e[t];Vn[t]=new Set(n)}};r.hasViewedPrompt=function(e,t){var n=Vn[t];return null!=n&&!!n.has(e)};r.getState=function(){return Vn};r.__getLocalVars=function(){return{viewedPrompts:Vn}};return n}(s.ZP.PersistedStore);Fn.displayName="GuildPromptsStore";Fn.persistKey="GuildPromptsStore";const Wn=new Fn(g.Z,{GUILD_PROMPT_VIEWED:function(e){var t=e.prompt,n=e.guildId,r=Vn[n];if(null==r){Vn[n]=new Set;Vn[n].add(t);return!0}if(r.has(t))return!1;r.add(t);return!0},GUILD_DELETE:function(e){var t=e.guild;if(null==Vn[t.id]||t.unavailable)return!1;delete Vn[t.id];return!0}});var Yn=n(212218),zn=n(213192),Kn=n.n(zn)()({REAL_NAME_PROMPT:null});const qn=function(e){var t=(0,s.e7)([Wn],(function(){return(null==e?void 0:e.hasFeature(R.oNc.HUB))?Wn.hasViewedPrompt(Kn.REAL_NAME_PROMPT,e.id):null})),n=(0,s.e7)([Gt.default],(function(){return Gt.default.getCurrentUser()})),r=(0,s.e7)([Yn.ZP],(function(){return null!=(null==e?void 0:e.id)&&null!=n?Yn.ZP.getMember(null==e?void 0:e.id,n.id):null
})),i=null!=(null==r?void 0:r.nick);o.useEffect((function(){i&&null!=e&&!1===t&&mt.viewPrompt(Kn.REAL_NAME_PROMPT,e.id)}),[i,e,t]);return!1===t&&!i};var Xn=n(8551),Qn=n(630695),Jn=n(672549),$n=n(365723),er=n(664970),tr=n(338588),nr=n(913609),rr=n(741655),or=n(541307),ir=n(884021),ar=n(730189),lr=n(859169),ur=n(64833),cr=n(172458),sr=n(85451),fr=n(143604),dr=n(576085),pr=n(435500),hr=n(825989),yr=n(942604),br=n(409271),vr=n(171447),mr=n(940712),gr=n(861842),Or=n(146530),Er=n(801593),jr=n(272729),Sr=n(562181),Cr=n(719455),Pr=n(110042),Ir=n(151843),_r=n(238585),wr=n(391595),xr=n(56133),Nr=n(635950),Tr=n(66973),Ar=n(665357),Zr=n(159091),Rr=n(271615),Mr=n.n(Rr),Dr=n(704586),Lr=n.n(Dr);function kr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ur(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function Gr(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,
configurable:!0,writable:!0}):e[t]=n;return e}function Hr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Gr(e,t,n[t])}))}return e}function Br(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Vr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]
;if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return kr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Fr,Wr=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){
if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},Yr=b.I.THREAD_CREATION;!function(e){e[e.Empty=0]="Empty";e[e.AutoMod=1]="AutoMod"}(Fr||(Fr={}));function zr(e){var t=e.parentChannelId,n=e.parentMessageId,o=e.location,i=(0,s.e7)([it.Z],(function(){
return it.Z.getChannel(t)})),a=(0,ur.Z)(lr.Z.CREATE_THREAD).AnalyticsLocationProvider;return null==i?null:(0,r.jsx)(a,{children:(0,r.jsx)(_r.I3,{children:(0,r.jsxs)("section",{"aria-label":M.Z.Messages.CREATE_THREAD,className:Mr().container,children:[(0,r.jsx)(tt.Z,{channel:i,draftType:at.d.FirstThreadMessage}),(0,r.jsxs)(lt.ZP,{toolbar:(0,r.jsx)(lt.ZP.Icon,{icon:Cr.Z,tooltip:M.Z.Messages.CLOSE,onClick:function(){return(0,Ar.NK)(t)}}),children:[(0,r.jsx)(lt.ZP.Icon,{icon:Ir.Z,disabled:!0,"aria-label":M.Z.Messages.THREAD}),(0,r.jsx)(lt.ZP.Title,{children:M.Z.Messages.NEW_THREAD})]}),(0,r.jsx)(Kr,{parentChannel:i,parentMessageId:n,location:o})]})})})}function Kr(e){var t,n=e.parentChannel,i=e.parentMessageId,l=e.location,u=(0,s.e7)([ar.Z],(function(){return ar.Z.messageGroupSpacing})),c=(t=o.useContext(_r.oo),o.useCallback((function(){t.bumpDispatchPriority()}),[t])),f=function(e,t){var n=Vr(o.useState({}),2),r=n[0],i=n[1],a=o.useCallback((function(n){i((function(e){return Hr({},e,n)}))
;rr.Z.changeThreadSettings(e.id,Br(Hr({},n),{parentMessageId:t}))}),[e.id,t]);return{threadSettings:r,setThreadSettings:i,updateThreadSettings:a}}(n,i),d=f.threadSettings,p=f.setThreadSettings,h=f.updateThreadSettings,y=function(e,t){var n=Vr(o.useState((0,cr.H2)()),2),r=n[0],i=n[1];o.useEffect((function(){var n=function(n){var r,o=at.Z.getDraft(e.id,at.d.FirstThreadMessage);0!==o.length&&!0!==n||i((0,cr.eK)(o));t(null!==(r=at.Z.getThreadSettings(e.id))&&void 0!==r?r:{})};n(!0);at.Z.addChangeListener(n);return function(){at.Z.removeChangeListener(n)}}),[e.id,t]);return{textAreaState:r,setTextAreaState:i}}(n,p),b=y.textAreaState,v=y.setTextAreaState,m=(0,Nr.vH)(n),g=function(e){var t=e.parentChannel,n=e.parentMessageId,r=e.threadSettings,i=e.privateThreadMode,a=e.textAreaState,l=e.location,u=Vr(o.useState(null),2),c=u[0],s=u[1],f=Vr(o.useState(null),2),d=f[0],p=f[1],h=(0,Zr.Z)({parentChannel:t,parentMessageId:n,threadSettings:r,privateThreadMode:i,location:l,onThreadCreated:Ar.ok,
useDefaultThreadName:!0}),y=o.useCallback((v=(b=function(e,o,i){var l,u,c,f,d,y,b,v;return Wr(this,(function(m){switch(m.label){case 0:null==e&&(e=a.textValue);e=e.trim();null!=o&&0!==o.length||(o=null===(l=hr.Z.getStickerPreview(t.id,Yr.drafts.type))||void 0===l?void 0:l.map((function(e){return e.id})));null!=i&&0!==i.length||(i=gr.Z.getUploads(t.id,at.d.FirstThreadMessage));c=null!==(u=r.name)&&void 0!==u?u:"";f=null==n&&0===c.length;d=""===e&&(null==o||0===o.length)&&0===i.length;s(f?Fr.Empty:null);p(d?Fr.Empty:null);return f||d?[2,{shouldClear:!1,shouldRefocus:!0}]:null!=n?[3,2]:[4,(0,wr.v)({content:e,stickers:o,uploads:i,type:Yr,channel:t})];case 1:if(!m.sent().valid)return[2,{shouldClear:!1,shouldRefocus:!0}];m.label=2;case 2:m.trys.push([2,4,,5]);return[4,h(e,o,i)];case 3:m.sent();return[3,5];case 4:y=m.sent();(null===(b=y.body)||void 0===b?void 0:b.code)===R.evJ.AUTOMOD_TITLE_BLOCKED&&s(Fr.AutoMod)
;(null===(v=y.body)||void 0===v?void 0:v.code)===R.evJ.AUTOMOD_MESSAGE_BLOCKED&&p(Fr.AutoMod);return[2,{shouldClear:!1,shouldRefocus:!0}];case 5:(0,yr.qB)(t.id,Yr.drafts.type);return[2,{shouldClear:!0,shouldRefocus:!1}]}}))},function(){var e=this,t=arguments;return new Promise((function(n,r){var o=b.apply(e,t);function i(e){Ur(o,n,r,i,a,"next",e)}function a(e){Ur(o,n,r,i,a,"throw",e)}i(void 0)}))}),function(e,t,n){return v.apply(this,arguments)}),[h,a.textValue,r.name,n,t]);var b,v;return{nameError:c,messageError:d,submit:y}}({parentChannel:n,parentMessageId:i,threadSettings:d,privateThreadMode:m,textAreaState:b,location:l}),O=g.nameError,E=g.messageError,j=g.submit,S=(0,Nr.oD)(d,m)?Pr.Z:Ir.Z;return(0,r.jsx)("div",{className:Mr().chat,onMouseDown:c,onFocus:c,children:(0,r.jsx)("div",{className:a()(Mr().messagesWrapper,"group-spacing-".concat(u)),children:(0,r.jsxs)("form",{onSubmit:function(e){e.preventDefault();j()},className:Mr().form,children:[(0,r.jsx)(Ge.ZP,{
className:Mr().scroller,fade:!0,children:(0,r.jsxs)("div",{className:Mr().scrollerInner,children:[(0,r.jsxs)(dr.ZP,{channelId:"create-thread-null",children:[(0,r.jsx)("div",{className:Lr().iconWrapper,children:(0,r.jsx)(S,{className:Lr().icon})}),(0,r.jsx)(Xr,{parentChannel:n,parentMessageId:i,threadSettings:d,updateThreadSettings:h,error:O}),n.type===R.d4z.GUILD_TEXT?(0,r.jsx)(qr,{startedFromMessage:null!=i,threadSettings:d,updateThreadSettings:h,privateThreadMode:m}):null]}),(0,r.jsx)(Jr,{parentChannel:n,parentMessageId:i})]})}),(0,r.jsxs)("div",{className:Mr().submitContainer,children:[(0,r.jsx)(Qr,{parentChannel:n,textAreaState:b,setTextAreaState:v,submit:j,error:E}),(0,r.jsx)(ir.Z,{channel:n,isThreadCreation:!0})]})]})})})}function qr(e){var t=e.startedFromMessage,n=e.threadSettings,o=e.updateThreadSettings,i=e.privateThreadMode,l=(0,Nr.oD)(n,i),u=(0,r.jsx)("div",{className:Mr().privateThreadFormTitle,children:(0,r.jsx)("span",{className:Mr().privateThreadFormTitleText,
children:M.Z.Messages.PRIVATE_THREAD})}),c=(0,r.jsx)(Or.Z,{className:a()(Mr().checkbox),type:Or.Z.Types.INVERTED,disabled:i===Nr.Jw.PrivateOnly,value:l,onChange:function(e,t){return o({isPrivate:t})},children:(0,r.jsx)(Z.x,{variant:"text-md/normal",color:"none",children:M.Z.Messages.FORM_THREAD_PRIVATE_THREAD_SECTION_LABEL})});return t||i===Nr.Jw.Disabled?null:(0,r.jsxs)(Sr.hj,{title:u,className:Mr().formSection,children:[c,l?(0,r.jsx)(Z.x,{className:Mr().privateThreadDescription,variant:"text-xs/normal",color:"header-secondary",children:M.Z.Messages.FORM_THREAD_PRIVATE_THREAD_DESCRIPTION}):null]})}function Xr(e){var t,n=e.parentChannel,o=e.parentMessageId,i=e.threadSettings,a=e.updateThreadSettings,l=e.error,u=null!==(t=i.name)&&void 0!==t?t:"",c=(0,Nr.Od)(n,o),s=null!=o,f=(0,jr.Dt)();return(0,r.jsx)(Sr.hj,{tag:"label",htmlFor:f,title:M.Z.Messages.THREAD_NAME+(s?" (Optional)":""),className:Mr().formSection,children:(0,r.jsx)(Er.ZP,{value:u,id:f,
placeholder:""!==c?c:M.Z.Messages.FORM_THREAD_NAME_PLACEHOLDER,maxLength:R.HN8,onChange:function(e){a({name:(0,Tr.Z)(e,!1)});""!==e?or.Z.startTyping(n.id):or.Z.stopTyping(n.id)},onBlur:function(){var e=(0,Tr.Z)(u,!0);e!==u&&a({name:e})},error:l===Fr.AutoMod?M.Z.Messages.FORUM_POST_AUTOMOD_ERROR:l===Fr.Empty&&0===u.trim().length?M.Z.Messages.FORM_THREAD_NAME_REQUIRED_ERROR:null})})}function Qr(e){var t=e.parentChannel,n=e.textAreaState,i=e.setTextAreaState,l=e.submit,u=e.error,c=Vr(o.useState(!0),2),f=c[0],d=c[1],p=o.useCallback((function(){return d(!0)}),[]),h=o.useCallback((function(){return d(!1)}),[]),y=o.useCallback((function(e,n,r){rr.Z.saveDraft(t.id,n,at.d.FirstThreadMessage);i((function(e){""!==n&&e.textValue!==n?or.Z.startTyping(t.id):""===n&&or.Z.stopTyping(t.id);return{textValue:n,richValue:r}}))}),[t.id,i]),b=o.useCallback((function(e){var t=e.value,n=e.uploads,r=e.stickers;return l(t,r,n)}),[l]);(0,_r.yp)({event:R.CkL.TEXTAREA_FOCUS,handler:p});(0,_r.yp)({
event:R.CkL.TEXTAREA_BLUR,handler:h});var v=(0,s.e7)([mr.Z],(function(){return mr.Z.can(R.Plq.ATTACH_FILES,t)})),m=u===Fr.Empty&&0===n.textValue.trim().length,g=u===Fr.AutoMod||m;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(fr.Z,{channelId:t.id,type:Yr,canAttachFiles:v}),(0,r.jsx)("div",{className:Mr().starterMessageError,children:(0,r.jsx)(Er.jj,{error:u===Fr.AutoMod?M.Z.Messages.FORUM_POST_AUTOMOD_ERROR:m?M.Z.Messages.FORM_THREAD_STARTER_MESSAGE_REQUIRED_ERROR:null})}),(0,r.jsx)(sr.Z,{type:Yr,channel:t,placeholder:M.Z.Messages.FORM_THREAD_STARTER_MESSAGE_PLACEHOLDER,textValue:n.textValue,richValue:n.richValue,focused:f,className:Mr().channelTextArea,innerClassName:a()(Mr().channelTextAreaInner,Gr({},Mr().channelTextAreaInnerError,g)),onFocus:p,onBlur:h,onChange:y,onSubmit:b,promptToUpload:xr.d})]})}function Jr(e){var t=e.parentChannel,n=e.parentMessageId,o=(0,s.e7)([vr.Z],(function(){return null==n?null:vr.Z.getMessage(t.id,n)})),i=br.jU.useSetting();return null!=o?(0,
r.jsx)(pr.Z,{className:Mr().messagePreview,message:o,channel:t,compact:i,renderThreadAccessory:!1}):null}var $r=n(496486),eo=n.n($r),to=n(973381),no=n(437803),ro=n(365103),oo=n(517831),io=n.n(oo);function ao(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function lo(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function uo(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function co(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){
var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ao(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ao(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function so(e){var t=e.channel,n=co(o.useState(!1),2),i=n[0],a=n[1],l=(0,s.e7)([to.Z],(function(){return eo().size(to.Z.getThreadsForParent(t.guild_id,t.id))})),u=o.useCallback((function(){a(!1)
}),[]),c=o.useCallback((function(){i||(0,no.U4)("Popout");a(!i)}),[i]);return(0,r.jsx)(Kt.ZP,{animation:Kt.ZP.Animation.NONE,position:Kt.ZP.Positions.BOTTOM,align:Kt.ZP.Align.RIGHT,autoInvert:!1,shouldShow:i,onRequestClose:u,renderPopout:function(){return(0,r.jsx)(Ht.Z,{children:(0,r.jsx)(ro.Z,{className:io().browser,channel:t,onClose:u})})},children:function(e,t){var n=t.isShown;return(0,r.jsx)(lt.JO,uo(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){lo(e,t,n[t])}))}return e}({},e),{className:io().icon,onClick:c,icon:Ir.Z,"aria-label":M.Z.Messages.THREADS,tooltip:n?null:M.Z.Messages.THREADS,selected:n,children:l>0?(0,r.jsx)(Z.x,{variant:"text-md/normal",color:"interactive-normal",className:io().count,children:l>=100?"99+":l}):null}))}
})}var fo=n(578186),po=n(850202),ho=n(539404),yo=n(150680),bo=n(555448),vo=n(532835),mo=n(592587),go=n(366295),Oo=n(41225),Eo=n(186121);function jo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function So(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Co(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){So(e,t,n[t])}))}return e}function Po(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){
return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Io(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return jo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jo(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _o(e){var t=e.channel,n=function(){l((function(e){return!e}))},i=Io(o.useState(!1),2),a=i[0],l=i[1],u=M.Z.Messages.MORE;return(0,r.jsx)(Kt.ZP,{shouldShow:a,animation:Kt.ZP.Animation.NONE,position:Kt.ZP.Positions.BOTTOM,align:Kt.ZP.Align.RIGHT,autoInvert:!1,onRequestClose:function(){return l(!1)},renderPopout:function(e){return(0,r.jsx)(wo,Po(Co({},e),{channel:t}))},children:function(e,t){var o=t.isShown;return(0,r.jsx)(lt.ZP.Icon,Po(Co({},e),{onClick:n,tooltip:o?null:u,icon:re.Z,"aria-label":u,selected:o}))}})}function wo(e){var t=e.channel,n=e.closePopout,o=e.onSelect,i=(0,po.Z)(t),a=(0,mo.Z)(t.id),l=(0,vo.Z)(t),u=(0,Oo.Z)(t.id),c=(0,ho.Z)(t),s=(0,yo.Z)(t,"Toolbar Overflow"),f=(0,bo.Z)(t),d=(0,go.Z)(t),p=br.vF.useSetting();return(0,r.jsxs)(Eo.ZP,{navId:"thread-context",onClose:n,
"aria-label":M.Z.Messages.THREAD_ACTIONS_MENU_LABEL,onSelect:o,children:[(0,r.jsx)(Eo.kS,{children:s}),(0,r.jsxs)(Eo.kS,{children:[l,f,a,p?(0,r.jsx)(Eo.sN,{id:"open",label:M.Z.Messages.OPEN_IN_SPLIT_VIEW,action:function(){(0,Ar.ok)(t)}}):null]}),(0,r.jsxs)(Eo.kS,{children:[d,i,c]}),(0,r.jsx)(Eo.kS,{children:u})]})}var xo=n(329480),No=n(324954),To=n(194807),Ao=n(478695),Zo=n(952013),Ro=n(18416),Mo=n(962564),Do=n(893321),Lo=n(570992),ko=n(36391),Uo=n(356002),Go=n(535737),Ho=n(578797),Bo=n(442383),Vo=n(737947),Fo=n(124689),Wo=n(308595),Yo=n(158483),zo=n(126861),Ko=n(458105),qo=n(414597),Xo=n(615595),Qo=n(229844),Jo=n.n(Qo);function $o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ei(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function ti(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){
var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return $o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const ni=function(e){var t=e.header,n=e.children,i=e.isLoading,l=void 0===i||i,u=e.className,c=ti(o.useState(!0),2),s=c[0],f=c[1],d=(0,r.jsx)("div",{className:Jo().iconWrapper,children:(0,r.jsx)(qo.Z,{
direction:s?qo.Z.Directions.RIGHT:qo.Z.Directions.DOWN})});return(0,r.jsxs)("div",{className:a()(Jo().listWrapper,u),children:[(0,r.jsx)(J.Co,{className:Jo().collapseBtn,innerClassName:Jo().collapseBtnContent,color:J.Tt.CUSTOM,onClick:function(){return f(!s)},children:l?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Xo.ZT,{width:34,opacity:.08}),(0,r.jsx)(Xo.ZT,{width:135,opacity:.08})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Z.x,{variant:"text-sm/medium",children:t}),d]})}),(0,r.jsx)(Ge.zJ,{className:a()(Jo().connectionList,ei({},Jo().isCollapsed,s)),children:(0,r.jsx)("ul",{children:n})})]})};var ri=n(895076),oi=n(766936),ii=n(366236),ai=n(31991),li=n.n(ai);function ui(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ci(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{
for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ui(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ui(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const si=function(e){var t=e.connection.user,n=t.isNonUserBot(),o=ci((0,s.Wu)([Mo.Z],(function(){return[n?null:Mo.Z.getStatus(t.id),Mo.Z.isMobileOnline(t.id)]})),2),i=o[0],a=o[1];return(0,r.jsxs)("li",{className:li().mutualFriendItem,children:[(0,r.jsx)(oi.ZP,{className:li().connectionAvatar,src:t.getAvatarURL(null,32),
size:ii.u8.SIZE_32,status:i,isMobile:a,"aria-hidden":!0}),(0,r.jsx)(Z.x,{className:li().textGroup,variant:"text-md/medium",children:(0,r.jsx)(ri.Z,{user:t,discriminatorClass:li().discriminator})})]})};var fi=n(565922),di=n(832010),pi=n(609993);const hi=function(e){var t=e.connection,n=e.user,o=e.theme,i=t.guild,a=t.nick,l=n.hasAvatarForGuild(i.id);return(0,r.jsxs)("li",{className:li().mutualGuildItem,children:[(0,r.jsx)(te.Z,{tabIndex:-1,guild:i,showBadge:!0,className:li().connectionAvatar,size:te.Z.Sizes.SMALL,badgeStrokeColor:(0,di.Lq)(o===pi.BR.DARK?pi.Il.PRIMARY_DARK_600:pi.Il.WHITE_500),active:!0}),(0,r.jsxs)("div",{className:li().textGroup,children:[(0,r.jsx)(Z.x,{variant:"text-md/medium",lineClamp:1,children:i.toString()}),l||null!=a?(0,r.jsxs)(Z.x,{variant:"text-xs/normal",lineClamp:1,className:li().guildProfile,children:[l&&(0,r.jsx)(oi.ZP,{src:n.getAvatarURL(i.id,16),size:fi.u.SIZE_16,className:li().guildAvatar,"aria-hidden":!0}),null!=a?a:n.toString()]}):null]})]})}
;var yi=n(956345),bi=n(562934),vi=n(24842),mi=n(60953),gi=n(570459),Oi=n(64987),Ei=n.n(Oi);function ji(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Si(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ji(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ji(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const Ci=function(e){var t=e.user,n=e.displayProfile,o=e.channel,i=e.animateAssets,a=e.forceShowPremiumBadge,l=t.isNonUserBot(),u=Si((0,s.Wu)([Mo.Z],(function(){return[l?null:Mo.Z.getStatus(t.id),Mo.Z.isMobileOnline(t.id)]})),2),c=u[0],f=u[1],d=(0,s.e7)([ko.Z],(function(){return ko.Z.getUserProfile(t.id)}));return(0,r.jsxs)("div",{children:[(0,r.jsx)(bi.Z,{user:t,displayProfile:n,profileType:gi.y0.PANEL,showPremiumBadgeUpsell:!0,isHovering:a,animateOnHover:!i}),(0,r.jsx)(mi.tZ,{user:t,displayProfile:n,status:c,isMobile:f,channelId:o.id,disableUserProfileLink:!0,hasBanner:null!=(null==n?void 0:n.banner),profileType:gi.y0.PANEL,animateOnHover:!i}),(0,r.jsx)("div",{className:Ei().badgelistGroup,children:(0,r.jsx)(vi.Z,{className:Ei().badgeList,user:t,openPremiumSettings:function(){
P.default.track(R.rMx.PREMIUM_PROMOTION_OPENED,{location_page:R.ZY5.DM_CHANNEL,location_section:R.jXE.DM_PROFILE,location_object:R.qAy.BADGE});yi.Z.open(R.oAB.PREMIUM)},premiumSince:null==d?void 0:d.premiumSince,premiumGuildSince:null==d?void 0:d.premiumGuildSince,size:vi.V.SIZE_22})})]})};var Pi=n(118541),Ii=n.n(Pi);function _i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function wi(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function xi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return
;if("string"==typeof e)return _i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _i(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const Ni=function(e){var t=e.channel,n=Zn.useExperiment({},{autoTrackExposure:!0}),i=n.canViewProfilePanel,l=n.canSeeThemeColors,c=t.recipients[0],f=xi(o.useState(!1),2),d=f[0],p=f[1],h=o.useRef(0),y=(0,s.e7)([Gt.default],(function(){return Gt.default.getUser(c)})),b=null==y?void 0:y.isNonUserBot();u()(null!=y,"Profile Panel: user cannot be undefined");var v=(0,An.Z)(y.id),m=i&&null!=v,g=(0,s.cj)([Ro.Z,Mo.Z],(function(){var e=null!=Ro.Z.getStreamForUser(y.id);return{activity:Mo.Z.findActivity(y.id,(function(t){var n=t.type
;return e?n===R.IIU.PLAYING:n!==R.IIU.CUSTOM_STATUS})),customStatusActivity:Mo.Z.findActivity(y.id,(function(e){return e.type===R.IIU.CUSTOM_STATUS})),isApplicationStreaming:e,isMobile:Mo.Z.isMobileOnline(y.id),status:b?null:Mo.Z.getStatus(y.id)}})),O=g.activity,E=g.customStatusActivity,j=g.isApplicationStreaming,S=g.isMobile,C=g.status,P=null!=O||j,I=Lo.Z.getNickname(null,t.id,y),_=(0,s.e7)([Do.Z],(function(){return Do.Z.hidePersonalInformation})),w=xi((0,s.Wu)([ko.Z],(function(){return[ko.Z.getMutualFriends(y.id),ko.Z.getMutualGuilds(y.id),ko.Z.isFetchingFriends(y.id)]})),3),x=w[0],N=w[1],T=w[2],A=T||null!=N&&N.length>0,Z=T||null!=x&&x.length>0,D=(0,Zo.ZP)();o.useEffect((function(){h.current=Date.now()}),[]);o.useEffect((function(){if(i){(0,Uo.Z)(y.id,y.getAvatarURL(void 0,80),{withMutualGuilds:!0});null==x&&(0,Ao.Sr)(y.id)}}),[x,y,i]);o.useEffect((function(){m&&(0,Rn.U)({displayProfile:v,isMobile:S,loadDurationMs:Date.now()-h.current,activity:O,customStatusActivity:E,status:C})
}),[v,S,O,E,C,m]);var L,k=null==N?void 0:N.map((function(e){return(0,r.jsx)(hi,{connection:e,user:y,theme:D},e.guild.id)})),U=null==x?void 0:x.map((function(e){return(0,r.jsx)(si,{connection:e},e.key)})),G=o.useCallback((function(){return p(!0)}),[]),H=o.useCallback((function(){return p(!1)}),[]);return i?(0,r.jsx)("aside",{className:Ii().profilePanel,onMouseEnter:G,onMouseLeave:H,children:(0,r.jsx)(Go.Z,{user:y,profileType:gi.y0.PANEL,useDefaultClientTheme:!0,pendingThemeColors:l?void 0:[null,null],children:(0,r.jsxs)(Ge.u2,{children:[(0,r.jsx)(Ci,{user:y,displayProfile:v,channel:t,animateAssets:d,forceShowPremiumBadge:d}),(0,r.jsxs)(Go.Z.Inner,{children:[(0,r.jsx)(Ko.Z,{user:y,nickname:I}),(0,r.jsx)(Fo.Z,{customStatusActivity:E,animate:d}),(0,r.jsx)(Ho.Z,{}),(0,r.jsx)(zo.Z,{currentPronouns:null!==(L=null==v?void 0:v.pronouns)&&void 0!==L?L:"",hidePersonalInformation:_}),(0,r.jsx)(Vo.Z,{bio:null==v?void 0:v.bio,hidePersonalInformation:_,animateOnHover:!0,isHovering:d}),(0,
r.jsx)(Wo.Z,{userId:c}),(0,r.jsx)(Ho.Z,{}),(0,r.jsx)(Yo.Z,{user:y,setNote:!1,hideNote:!1})]}),P?(0,r.jsx)(Go.Z.Inner,{children:(0,r.jsx)(Bo.Z,{activity:O,user:y,channelId:t.id})}):null,(0,r.jsxs)(Go.Z.Inner,{className:Ii().profilePanelConnections,children:[A?(0,r.jsx)(ni,{className:Ii().mutualGuildsList,header:M.Z.Messages.MUTUAL_GUILDS_COUNT.format({count:null==N?void 0:N.length}),isLoading:T,children:k}):null,Z?(0,r.jsx)(ni,{className:a()(Ii().mutualFriendsList,wi({},Ii().mutualFriendsDivider,null!=N&&N.length>0)),header:M.Z.Messages.MUTUAL_FRIENDS_COUNT.format({count:null==x?void 0:x.length}),isLoading:T,children:U}):null]})]})})}):null}
;var Ti=n(322928),Ai=n(700982),Zi=n(94181),Ri=n(53551),Mi=n(152666),Di=n(759194),Li=n(379822),ki=n(225464),Ui=n(90816),Gi=n(170729),Hi=n(539636),Bi=n(666164),Vi=n(125447),Fi=n(606076),Wi=n(606750),Yi=n(57338),zi=n(747465),Ki=n(823569),qi=n(805448),Xi=n(666722),Qi=n(508528),Ji=n(875673),$i=n(553314),ea=n(992141),ta=n(475823),na=n(94813),ra=n(669525),oa=n(584720),ia=n(880068),aa=n(588641),la=n(519173),ua=n(645320),ca=n.n(ua);function sa(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function fa(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function da(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function pa(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){da(i,r,o,a,l,"next",e)}function l(e){da(i,r,o,a,l,"throw",e)}a(void 0)}))}}function ha(e,t){
if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ya(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function ba(e){ba=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return ba(e)}function va(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&ja(e,t)}function ma(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){ya(e,t,n[t])}))}return e}function ga(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Oa(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function Ea(e,t){return!t||"object"!==Ca(t)&&"function"!=typeof t?fa(e):t}function ja(e,t){ja=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return ja(e,t)}function Sa(e,t){
return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return sa(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sa(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Ca=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Pa(e){var t=function(){
if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=ba(e);if(t){var o=ba(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ea(this,n)}}var Ia=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0]
;continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},_a=aa.default.getEnableHardwareAcceleration(),wa={origin:{x:38,y:11},targetWidth:232,targetHeight:40,offset:{x:0,y:0}},xa=function(e){va(o,e);var t=Pa(o);function o(){ha(this,o);var e;(e=t.apply(this,arguments)).renderUserContextMenu=function(t){var o=fa(e);(0,f.jW)(t,pa((function(){var e,t;return Ia(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(87996),n.e(45323),n.e(1951),n.e(36401),n.e(34076)]).then(n.bind(n,536401))];case 1:e=i.sent(),t=e.default;return[2,function(e){return(0,
r.jsx)(t,ga(ma({},e),{user:o.props.user,guildId:o.props.guildId,channelId:o.props.channel.id,showMediaItems:!0}))}]}}))})))};e.handleShiftClick=function(){var t=e.props,n=t.user,r=t.channel,o="@".concat(Do.Z.hidePersonalInformation?n.username:n.tag),i="<@".concat(n.id,">");Xt.S.dispatchToLastSubscribed(R.CkL.INSERT_TEXT,{plainText:o,rawText:i});or.Z.startTyping(r.id)};e.openGuildSubscriptionModal=function(t){var n=e.props.guildId;if(null!=n){t.stopPropagation();(0,Xi.f)({guildId:n,location:{section:R.jXE.MEMBER_LIST,object:R.qAy.BOOST_GEM_ICON}})}};e.renderUserPopout=function(t){return(0,r.jsx)($i.Z,ga(ma({},t),{userId:e.props.user.id,guildId:e.props.guildId,channelId:e.props.channel.id}))};return e}var i=o.prototype;i.shouldComponentUpdate=function(e){return!(0,Wi.Z)(this.props,e,["channelId"])};i.render=function(){
var e=this,t=this.props,n=t.colorString,o=t.colorRoleName,i=t.isOwner,a=t.nick,l=t.user,u=t.currentUser,c=t.activities,s=t.applicationStream,f=t.status,d=t.channel,p=t.guildId,h=t.isTyping,y=t.isMobileOnline,b=t.premiumSince,v=Oa(t,["colorString","colorRoleName","isOwner","nick","user","currentUser","activities","applicationStream","status","channel","guildId","isTyping","isMobileOnline","premiumSince"]),m=null!=b?new Date(b):null;return(0,r.jsx)(Kt.ZP,{preload:function(){return(0,Uo.Z)(l.id,l.getAvatarURL(p,80),{guildId:p,channelId:d.id})},renderPopout:this.renderUserPopout,position:Fi.tq?Kt.ZP.Positions.WINDOW_CENTER:Kt.ZP.Positions.LEFT,spacing:16,onShiftClick:this.handleShiftClick,children:function(t,b){var g=b.isShown;return(0,r.jsx)(la.Z,ma({className:ca().member,onContextMenu:e.renderUserContextMenu,shouldAnimateStatus:_a,user:l,currentUser:u,nick:a,status:f,activities:c,applicationStream:s,isOwner:i,premiumSince:m,colorString:n,colorRoleName:o,isTyping:h,channel:d,guildId:p,
isMobile:y,onClickPremiumGuildIcon:e.openGuildSubscriptionModal,selected:g,itemProps:v},t))}})};return o}(o.Component),Na=o.memo((function(e){var t=e.colorRoleId,n=Oa(e,["colorRoleId"]),o=e.channel,i=e.user,a=e.index,l=(0,Vi.JA)("".concat(a)),u=(0,s.e7)([ta.Z],(function(){return ta.Z.isTyping(o.id,i.id)})),c=(0,s.e7)([Gt.default],(function(){return Gt.default.getCurrentUser()})),f=(0,s.e7)([Q.Z],(function(){var e,n;return null!=t?null===(n=null===(e=Q.Z.getGuild(o.guild_id))||void 0===e?void 0:e.getRole(t))||void 0===n?void 0:n.name:void 0}),[o,t]);return(0,r.jsx)(xa,ga(ma({},n,l),{isTyping:u,currentUser:c,colorRoleName:f}))})),Ta=o.memo((function(e){var t=e.id,n=e.title,o=e.count,i=e.guildId,a=(0,Qi.p9)({roleId:t,guildId:i,size:16});return t===R.Skl.UNKNOWN?(0,r.jsx)("div",{className:ca().membersGroup,children:(0,r.jsx)("div",{className:ca().memberGroupsPlaceholder})}):(0,r.jsxs)(ra.Z,{className:ca().membersGroup,children:[(0,r.jsx)(zi.Z,{
children:M.Z.Messages.CHANNEL_MEMBERS_A11Y_LABEL.format({title:n,count:o})}),(0,r.jsxs)("span",{"aria-hidden":!0,children:[null!=a?(0,r.jsx)(oa.Z,ma({className:ca().roleIcon},a)):null,n,"  ",o]})]})}));function Aa(e){var t=e.index,n=(0,Vi.JA)("".concat(t));return(0,r.jsx)(la.Z,{itemProps:n})}var Za=function(e){va(n,e);var t=Pa(n);function n(){ha(this,n);var e;(e=t.apply(this,arguments))._list=null;e.setList=function(t){e._list=t;e.props.listRef.current=t};e.getRowHeight=function(){return e.props.canUseAvatarDecorations?44+la.x:44};e.renderSection=function(t){var n=t.section,i=e.props,a=i.groups,l=i.channel,u=a[n];return 0===n?(0,r.jsx)(Ji.Z,{tutorialId:"whos-online",position:Kt.ZP.Positions.LEFT,inlineSpecs:wa,children:(0,r.jsx)(Ta,ga(ma({},u),{guildId:l.guild_id}))},"section-".concat(n)):(0,o.createElement)(Ta,ga(ma({},u),{key:"section-".concat(n),guildId:l.guild_id}))};e.getRowProps=function(t){var n=e.props,r=n.groups,o=n.rows,i=r[t.section];if(null==i)return null;var a=i.index
;return null==a||"row"!==t.type?null:o[a+1+t.row]};e.renderRow=function(t){var n=t.section,o=t.row,i=t.rowIndex,a=e.props.channel,l=e.getRowProps(t);if(null!=l&&l.type===ea.so.MEMBER&&"user"in l){var u=l.colorString,c=l.colorRoleId,s=l.user,f=l.status,d=l.isOwner,p=l.isMobileOnline,h=l.nick,y=l.activities,b=l.applicationStream,v=l.premiumSince;return(0,r.jsx)(Na,{colorString:u,colorRoleId:c,user:s,status:f,isOwner:d,nick:h,activities:y,applicationStream:b,channel:a,guildId:a.guild_id,premiumSince:v,isMobileOnline:p,index:i},"member-".concat(l.user.id))}return(0,r.jsx)(Aa,{index:i},"placeholder-".concat(n,":").concat(o))};e.handleScroll=function(){e.updateSubscription()};e.updateSubscription=eo().debounce((function(){if(null!=e._list){var t=e.props.channel,n=e.getDimensions(),r=n.rowHeight,o=n.y,i=n.height;(0,Yi.TV)(t.guild_id,t.id,o,i,r)}}),50);e.trackMemberListViewed=function(){var t;if(e.lastReportedAnalyticsChannel!==e.props.channel.id){
var n=null===(t=e._list)||void 0===t?void 0:t.getItems(),r=e.getDimensions().rowsVisible;if(void 0!==r&&0!==r&&null!=n){var o=n.map((function(t){return e.getRowProps(t)})).slice(0,r+1).filter(Ui.lm);if(0!==o.length){var i=o.reduce((function(e,t){if(t.type!==ea.so.MEMBER)return e;e.num_users_visible++;t.isMobileOnline&&e.num_users_visible_with_mobile_indicator++;if(null!=t.activities&&t.activities.length>0){e.num_users_visible_with_activity++;t.activities.some((function(e){return e.type===R.IIU.PLAYING}))&&e.num_users_visible_with_game_activity++}return e}),{num_users_visible:0,num_users_visible_with_mobile_indicator:0,num_users_visible_with_game_activity:0,num_users_visible_with_activity:0});e.lastReportedAnalyticsChannel=e.props.channel.id;At.ZP.trackWithMetadata(R.rMx.MEMBER_LIST_VIEWED,ma({},i))}}}};return e}var i=n.prototype;i.shouldComponentUpdate=function(e){return e.channel.id!==this.props.channel.id||e.version!==this.props.version||e.groups.length!==this.props.groups.length}
;i.componentDidMount=function(){this.updateSubscription();this.trackMemberListViewed()};i.componentDidUpdate=function(e){e.channel.id!==this.props.channel.id&&this.updateSubscription();this.trackMemberListViewed()};i.getDimensions=function(){var e=this._list;if(null==e)return{y:0,height:0,rowHeight:0};var t=e.getScrollerState(),n=t.offsetHeight,r=t.scrollTop,o=Math.floor(n/this.getRowHeight());return{height:n,rowHeight:this.getRowHeight(),rowsVisible:o,y:r}};i.render=function(){var e=this,t=this.props,n=t.groups,o=t.listId,i=t.channel;return(0,r.jsx)(qi.Wd,{children:function(t){return(0,r.jsx)(jr.FG,{children:function(l){return(0,r.jsx)("aside",{className:a()(ca().membersWrap,ca().hiddenMembers),"aria-labelledby":l,children:(0,r.jsx)(na.y,{component:(0,r.jsx)(zi.Z,{children:(0,r.jsx)(na.H,{id:l,children:M.Z.Messages.MEMBERS_LIST_LANDMARK_LABEL.format({channel:i.name})})}),children:(0,r.jsx)(Vi.SJ,{children:function(i){var l=i.ref,u=i.role,c=Oa(i,["ref","role"]);return(0,
r.jsx)(ia.ZP,ma({innerRole:u,innerAriaLabel:M.Z.Messages.MEMBERS,ref:function(t){e._list=t;e.props.listRef.current=t;var n;l.current=null!==(n=null==t?void 0:t.getScrollerNode())&&void 0!==n?n:null},className:a()(ca().members,ya({},ca().fullWidth,Fi.tq)),paddingTop:0,sectionHeight:40,rowHeight:e.getRowHeight,renderSection:e.renderSection,renderRow:e.renderRow,sections:n.map((function(e){return e.count})),onScroll:e.handleScroll,fade:!0},c,t),o)}})})})}})}})};return n}(o.Component);function Ra(e){var t=e.channel,n=e.className,i=(0,s.e7)([ar.Z],(function(){return ar.Z.keyboardModeEnabled})),l=(0,s.cj)([ea.ZP],(function(){return ea.ZP.getProps(t.guild_id,t.id)})),u=l.rows,c=l.groups,f=o.useRef(null),d=o.useCallback((function(e,t){var n=f.current;if(null!=n){var r=parseInt(t,10),o=Sa(n.getSectionRowFromIndex(r),2),i=o[0],a=o[1],l=0===i&&0===a?44:0;n.scrollToIndex({section:i,row:a,padding:l,callback:function(){requestAnimationFrame((function(){var t
;return null===(t=document.querySelector(e))||void 0===t?void 0:t.focus({preventScroll:!0})}))}})}}),[]),p=o.useCallback((function(){return new Promise((function(e){var t=f.current;if(null==t)return e();t.scrollToTop({callback:function(){return requestAnimationFrame((function(){return e()}))}})}))}),[]),h=o.useCallback((function(){return new Promise((function(e){var t=f.current;if(null==t)return e();t.scrollToBottom({callback:function(){requestAnimationFrame((function(){return setTimeout(e,100)}))}})}))}),[]),y=(0,Bi.ZP)({id:"members-".concat(t.id),setFocus:d,isEnabled:i,scrollToStart:p,scrollToEnd:h}),b=(0,Ki.E)().canUseAvatarDecorations;return(0,r.jsx)("div",{className:a()(ca().container,n),children:(0,r.jsx)(Vi.bG,{navigator:y,children:(0,r.jsx)(Za,ga(ma({},e,l),{groups:c,rows:u,listRef:f,canUseAvatarDecorations:b}))})})}function Ma(e){var t=e.channel,n=e.className,i=o.useDeferredValue(t);return o.useMemo((function(){return(0,r.jsx)(Ra,{channel:i,className:n})}),[i,n])}
var Da,La=n(976703),ka=n(361751),Ua=n.n(ka),Ga=n(192941),Ha=n.n(Ga),Ba=n(232353),Va=n.n(Ba);function Fa(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var Wa=(Fa(Da={},R.BRd.DARK,Ha()),Fa(Da,R.BRd.LIGHT,Va()),Da);const Ya=function(){var e=(0,Zo.ZP)();o.useEffect((function(){At.ZP.trackWithMetadata(R.rMx.GUILD_OUTAGE_VIEWED,{})}),[]);return(0,r.jsxs)("div",{className:Ua().container,children:[(0,r.jsxs)(sn.Z,{toolbar:(0,r.jsx)(o.Fragment,{}),children:[(0,r.jsx)(sn.Z.Icon,{icon:La.Z,"aria-hidden":!0}),(0,r.jsx)(sn.Z.Title,{children:M.Z.Messages.GUILD_UNAVAILABLE_HEADER})]}),(0,r.jsxs)("div",{className:Ua().content,children:[(0,r.jsx)("img",{alt:"",className:Ua().splashImage,src:Wa[e]}),(0,r.jsx)(A.X,{className:Ua().splashHeader,variant:"heading-lg/normal",children:M.Z.Messages.GUILD_UNAVAILABLE_TITLE}),(0,r.jsx)(Z.x,{className:Ua().splashText,variant:"text-md/normal",children:M.Z.Messages.GUILD_UNAVAILABLE_BODY})]})]})}
;var za=n(78470),Ka=n(649762);function qa(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function Xa(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){qa(i,r,o,a,l,"next",e)}function l(e){qa(i,r,o,a,l,"throw",e)}a(void 0)}))}}function Qa(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Ja(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Qa(e,t,n[t])}))}return e}function $a(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){
var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var el=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0
;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},tl=aa.default.getEnableHardwareAcceleration();function nl(e){var t=e.user,o=e.channel,i=(0,s.cj)([mn.Z,Gt.default,Mo.Z],(function(){return mn.Z.isFriend(t.id)||t===Gt.default.getCurrentUser()?{status:Mo.Z.getStatus(t.id),activities:Mo.Z.getActivities(t.id)}:{}})),a=i.status,l=i.activities,u=(0,s.e7)([ta.Z],(function(){return null!=ta.Z.getTypingUsers(o.id)[t.id]})),c=(0,s.e7)([Gt.default],(function(){return Gt.default.getCurrentUser()})),d=(0,s.e7)([Mo.Z],(function(){return Mo.Z.isMobileOnline(t.id)})),p=(0,s.e7)([mn.Z],(function(){return mn.Z.getNickname(t.id)})),h=function(e){(0,f.jW)(e,Xa((function(){var e,i;return el(this,(function(a){switch(a.label){
case 0:return[4,Promise.all([n.e(40532),n.e(87996),n.e(45323),n.e(9847)]).then(n.bind(n,402878))];case 1:e=a.sent(),i=e.default;return[2,function(e){return(0,r.jsx)(i,$a(Ja({},e),{user:t,channel:o}))}]}}))})))};return(0,r.jsx)(Kt.ZP,{preload:function(){return(0,Uo.Z)(t.id,t.getAvatarURL(void 0,80))},renderPopout:function(e){return(0,r.jsx)($i.Z,$a(Ja({},e),{userId:t.id,channelId:o.id}))},position:Fi.tq?Kt.ZP.Positions.WINDOW_CENTER:Kt.ZP.Positions.LEFT,spacing:16,onShiftClick:function(){var e="@".concat(Do.Z.hidePersonalInformation?t.username:t.tag),n="<@".concat(t.id,">");Xt.S.dispatchToLastSubscribed(R.CkL.INSERT_TEXT,{plainText:e,rawText:n});or.Z.startTyping(o.id)},children:function(e){return(0,r.jsx)(la.Z,Ja({user:t,currentUser:c,isOwner:t.id===o.ownerId,ownerTooltipText:M.Z.Messages.GROUP_OWNER,shouldAnimateStatus:tl,isTyping:u,status:a,activities:l,channel:o,onContextMenu:h,isMobile:d,nick:p},e),t.id)}})}function rl(e){
var t=e.channel,n=Gt.default.getCurrentUser(),i=null==n?void 0:n.isStaff(),a=(0,s.Wu)([Gt.default],(function(){return function(e,t){return eo()(e).map(t.getUser).unshift(t.getCurrentUser()).filter(Ui.lm).sortBy((function(e){return e.username.toLowerCase()})).value()}(t.recipients,Gt.default)}),[t.recipients]);o.useEffect((function(){if(i){var e=!0,t=!1,n=void 0;try{for(var r,o=a[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var l=r.value;(0,Uo.Z)(l.id,l.getAvatarURL(void 0,80),{dispatchWait:!0})}}catch(e){t=!0;n=e}finally{try{e||null==o.return||o.return()}finally{if(t)throw n}}}}),[i,a]);var l=i&&a.every((function(e){return e.isStaff()}));return(0,r.jsx)("div",{className:ca().membersWrap,children:(0,r.jsxs)(Ge.ZP,{className:ca().members,fade:!0,children:[(0,r.jsxs)(ra.Z,{className:ca().membersGroup,children:["".concat(M.Z.Messages.MEMBERS,"").concat(a.length," "),l?(0,r.jsx)(Ka.Z,{className:ca().decorator,type:Ka.Z.Types.STAFF_ONLY_DM}):null]}),a.map((function(e){return(0,
r.jsx)(nl,{user:e,channel:t},e.id)}))]})})}var ol=n(107025);var il=n(979662),al=n(357409),ll=n(519073),ul=n(160957),cl=n.n(ul);function sl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function fl(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function dl(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){fl(i,r,o,a,l,"next",e)}function l(e){fl(i,r,o,a,l,"throw",e)}a(void 0)}))}}function pl(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function hl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){pl(e,t,n[t])}))}return e}
function yl(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function bl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return sl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sl(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var vl=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:
i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},ml=aa.default.getEnableHardwareAcceleration();function gl(e){var t=e.channel,i=e.sectionId,a=e.userId,l=e.guildOwnerId,u=(0,s.e7)([ta.Z],(function(){return ta.Z.isTyping(t.id,a)})),c=(0,s.e7)([Yn.ZP],(function(){return Yn.ZP.getMember(t.guild_id,a)})),d=(0,s.e7)([Q.Z],(function(){var e,n;return null!=(null==c?void 0:c.colorRoleId)?null===(n=null===(e=Q.Z.getGuild(t.guild_id))||void 0===e?void 0:e.getRole(c.colorRoleId))||void 0===n?void 0:n.name:void 0}),[t.guild_id,c]),p=(0,s.e7)([Gt.default],(function(){return Gt.default.getUser(a)})),h=(0,
s.e7)([Gt.default],(function(){return Gt.default.getCurrentUser()})),y=(null==p?void 0:p.id)===(null==h?void 0:h.id),b=(0,s.e7)([Mo.Z,il.Z],(function(){return y?il.Z.getStatus():Mo.Z.getStatus(a,t.guild_id)})),v=(0,s.e7)([Mo.Z],(function(){return Mo.Z.isMobileOnline(a)})),m=(0,s.e7)([Mo.Z,il.Z],(function(){return y?il.Z.getActivities():Mo.Z.getActivities(a,t.guild_id)})),g=(0,s.e7)([Ro.Z],(function(){return Ro.Z.getStreamForUser(a)})),O=(0,Vi.JA)(a),E=(0,s.e7)([ol.Z],(function(){return ol.Z.canUserViewChannel(t.id,i,a)})),j=null!=(null==p?void 0:p.id)&&p.id===l,S=o.useCallback((function(e){null!=p&&(0,f.jW)(e,dl((function(){var e,o;return vl(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(87996),n.e(45323),n.e(16779)]).then(n.bind(n,16779))];case 1:e=i.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,yl(hl({},e),{user:p,guildId:t.guild_id,channelId:t.id}))}]}}))})))}),[p,t]),C=o.useCallback((function(){if(null!=p){
var e="@".concat(Do.Z.hidePersonalInformation?p.username:p.tag),n="<@".concat(p.id,">");Xt.S.dispatchToLastSubscribed(R.CkL.INSERT_TEXT,{plainText:e,rawText:n});or.Z.startTyping(t.id)}}),[p,t]),P=o.useCallback((function(e){e.stopPropagation();(0,Xi.f)({guildId:t.guild_id,location:{section:R.jXE.THREAD_MEMBER_LIST,object:R.qAy.BOOST_GEM_ICON}})}),[t.guild_id]);if(null==p)return null;var I=null==c?void 0:c.premiumSince;return(0,r.jsx)(Kt.ZP,{preload:function(){return(0,Uo.Z)(p.id,p.getAvatarURL(t.guild_id,80),{guildId:t.guild_id,channelId:t.id})},renderPopout:function(e){return(0,r.jsx)($i.Z,yl(hl({},e),{userId:p.id,guildId:t.guild_id,channelId:t.id}))},position:Fi.tq?Kt.ZP.Positions.WINDOW_CENTER:Kt.ZP.Positions.LEFT,spacing:16,onShiftClick:C,children:function(e,n){var o=n.isShown;return(0,r.jsx)(la.Z,hl({onContextMenu:S,shouldAnimateStatus:ml,user:p,currentUser:h,nick:null==c?void 0:c.nick,status:b,activities:m,colorString:null==c?void 0:c.colorString,colorRoleName:d,isTyping:u,
channel:t,guildId:t.guild_id,isMobile:v,selected:o,applicationStream:g,premiumSince:null==I?null:new Date(I),onClickPremiumGuildIcon:P,itemProps:O,lostPermissionTooltipText:E?void 0:M.Z.Messages.THREAD_MEMBER_WITHOUT_ACCESS,isOwner:j},e))}})}function Ol(e){var t=e.id,n=e.label,o=e.count,i=e.guildId,a=(0,Qi.p9)({roleId:t,guildId:i,size:16});return t===R.Skl.UNKNOWN?(0,r.jsx)("div",{className:ca().membersGroup,children:(0,r.jsx)("div",{className:ca().memberGroupsPlaceholder})}):(0,r.jsxs)(ra.Z,{className:ca().membersGroup,"aria-label":M.Z.Messages.CHANNEL_MEMBERS_A11Y_LABEL.format({title:n,count:o}),children:[null!=a?(0,r.jsx)(oa.Z,hl({className:ca().roleIcon},a)):null,(0,r.jsxs)("span",{"aria-hidden":!0,children:[n,"  ",o]})]})}function El(e){return e.channel.type===R.d4z.PRIVATE_THREAD?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:cl().divider}),(0,r.jsxs)(Z.x,{variant:"text-xs/bold",color:"header-secondary",className:cl().private,children:[(0,r.jsx)(ll.Z,{width:12,
height:12}),"",M.Z.Messages.THREAD_BROWSER_PRIVATE]}),(0,r.jsx)(Z.x,{variant:"text-sm/normal",color:"header-secondary",className:cl().instructions,children:M.Z.Messages.MEMBER_LIST_PRIVATE_THREAD_INSTRUCTIONS})]}):null}var jl=o.memo(gl),Sl=o.memo(Ol),Cl=o.memo(El);function Pl(e){var t=e.channel,n=e.guild,i="members-".concat(t.id),l=function(e,t){(0,s.e7)([ol.Z],(function(){return ol.Z.getMemberListVersion(e)}));var n=(0,s.e7)([ol.Z],(function(){return ol.Z.getMemberListSections(e)})),r=o.useMemo((function(){var e=eo()(t.roles).values().filter((function(e){return e.hoist})).sortBy((function(e){return e.position})).reverse().map((function(e){return e.id})).value();e.push("online","offline");return e}),[t.roles]);return null==n?[]:r.map((function(e){var r,o,i=t.roles[e];return{label:"online"===e?M.Z.Messages.STATUS_ONLINE:"offline"===e?M.Z.Messages.STATUS_OFFLINE:i.name,userIds:null!==(o=null===(r=n[e])||void 0===r?void 0:r.userIds)&&void 0!==o?o:[],id:e,roleId:e}}))
}(t.id,n),u=l.filter((function(e){return e.userIds.length>0})).reverse()[0],c=(0,Ki.E)().canUseAvatarDecorations?44+la.x:44,f=function(e,t){var n=(0,s.e7)([ar.Z],(function(){return ar.Z.keyboardModeEnabled})),r=o.useRef(null),i=o.useCallback((function(e,n){var o=r.current;if(null!=o){var i=parseInt(n,10),a=bl(o.getSectionRowFromIndex(i),2),l=a[0],u=a[1],c=0===l&&0===u?t:0;o.scrollToIndex({section:l,row:u,padding:c,callback:function(){requestAnimationFrame((function(){var t;return null===(t=document.querySelector(e))||void 0===t?void 0:t.focus({preventScroll:!0})}))}})}}),[t]),a=o.useCallback((function(){return new Promise((function(e){var t=r.current;if(null==t)return e();t.scrollToTop({callback:function(){return requestAnimationFrame((function(){return e()}))}})}))}),[]),l=o.useCallback((function(){return new Promise((function(e){var t=r.current;if(null==t)return e();t.scrollToBottom({callback:function(){requestAnimationFrame((function(){return setTimeout(e,100)}))}})}))}),[]);return{
navigator:(0,Bi.ZP)({id:e,setFocus:i,isEnabled:n,scrollToStart:a,scrollToEnd:l}),listRef:r}}(i,c),d=f.navigator,p=f.listRef;if(0===l.length||l.every((function(e){return 0===e.userIds.length})))return(0,r.jsx)(Il,{channel:t});var h=eo().omit(d.containerProps,["ref"]);return(0,r.jsx)(Vi.bG,{navigator:d,children:(0,r.jsx)(qi.Wd,{children:function(e){return(0,r.jsx)("div",{className:a()(ca().membersWrap,ca().hiddenMembers),children:(0,r.jsx)(ia.ZP,hl({ref:p,className:ca().members,paddingTop:0,sectionHeight:40,renderSection:function(e){var t=e.section,o=l[t];return(0,r.jsx)(Sl,{id:o.id,label:o.label,count:o.userIds.length,guildId:n.id},o.id)},rowHeight:c,renderRow:function(e){var o=e.section,i=e.row,a=l[o],u=a.userIds,c=a.id;return(0,r.jsx)(jl,{channel:t,sectionId:c,userId:u[i],guildOwnerId:n.ownerId},u[i])},footerHeight:function(e){return l[e]===u&&t.type===R.d4z.PRIVATE_THREAD?80:0},renderFooter:function(e){return l[e.section]===u?(0,r.jsx)(Cl,{channel:t},"footer"):null},
innerAriaLabel:M.Z.Messages.MEMBERS,innerTag:"ul",sections:l.map((function(e){return e.userIds.length})),fade:!0},h,e),i)})}})})}function Il(e){var t=e.channel;return(0,r.jsxs)("div",{className:a()(ca().membersWrap,ca().hiddenMembers,ca().members,cl().emptyState),children:[(0,r.jsx)(Z.x,{className:cl().emptyStateHeader,variant:"text-xs/bold",color:"interactive-normal",children:M.Z.Messages.MEMBERS}),(0,r.jsxs)("div",{className:cl().emptyStateIconContainer,children:[(0,r.jsx)("div",{className:cl().emptyStateIcon,children:(0,r.jsx)(Mt.Z,{width:32,height:32})}),(0,r.jsx)(al.Z,{className:cl().emptyStateStars})]}),(0,r.jsx)(A.X,{variant:"heading-md/medium",children:t.isForumPost()?M.Z.Messages.FORUM_POST_MEMBER_LIST_EMPTY_STATE_HEADER:M.Z.Messages.THREAD_MEMBER_LIST_EMPTY_STATE_HEADER}),(0,r.jsx)(Z.x,{className:cl().emptyStateSubtext,variant:"text-sm/normal",color:"header-secondary",children:M.Z.Messages.THREAD_MEMBER_LIST_EMPTY_STATE_SUBTEXT})]})}
var _l=n(425309),wl=n(190177),xl=n(385202),Nl=n(149563),Tl=n.n(Nl);function Al(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Zl(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function Rl(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Zl(i,r,o,a,l,"next",e)}function l(e){Zl(i,r,o,a,l,"throw",e)}a(void 0)}))}}function Ml(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Dl(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Ll(e){Ll=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Ll(e)}function kl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Dl(e,t,n[t])}))}return e}function Ul(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Gl(e,t){return!t||"object"!==Vl(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Hl(e,t){Hl=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Hl(e,t)}function Bl(e,t){
return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Al(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Al(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Vl=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Fl(e){var t=function(){
if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Ll(e);if(t){var o=Ll(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Gl(this,n)}}var Wl=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0]
;continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},Yl=(0,v.Un)({createPromise:function(){return Promise.all([n.e(40532),n.e(13409)]).then(n.bind(n,213409))},webpackId:213409,renderLoader:function(){return(0,r.jsx)("div",{className:Tl().loader,children:(0,r.jsx)(S.Z,{})})},name:"ForumChannel"}),zl=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Hl(e,t)}(o,e);var t=Fl(o);function o(){Ml(this,o);var e
;(e=t.apply(this,arguments)).state={topicExpanded:!1,threadSidebarWidth:void 0,isThreadSidebarFloating:!1};e.handleTitleParentClick=function(){var t=e.props.parentChannel;null!=t&&(0,Jn.Kh)(t.id)};e._handleContextMenu=function(t,n){switch(n.type){case R.d4z.GUILD_VOICE:case R.d4z.GUILD_ANNOUNCEMENT:case R.d4z.GUILD_TEXT:case R.d4z.GUILD_FORUM:e.openChannelContextMenu(t,n);break;case R.d4z.ANNOUNCEMENT_THREAD:case R.d4z.PUBLIC_THREAD:case R.d4z.PRIVATE_THREAD:e.openThreadContextMenu(t,n);break;case R.d4z.DM:e.openDMContextMenu(t,n)}};e.handleContextMenu=function(t){u()(null!=e.props.channel,"Missing channel in Channel.handleContextMenu");e._handleContextMenu(t,e.props.channel)};e.handleParentContextMenu=function(t){u()(null!=e.props.parentChannel,"Missing parentChannel in Channel.handleParentContextMenu");e._handleContextMenu(t,e.props.parentChannel)};e.handleThreadSidebarResize=function(t,n){e.setState({threadSidebarWidth:t,isThreadSidebarFloating:n})};e.openUserProfile=function(){
var t=e.props.channel;u()(null!=t,"Missing channel in Channel.openUserProfile");(0,To.m)({userId:t.getRecipientId(),guildId:t.guild_id,channelId:t.id,analyticsLocation:{section:R.jXE.CHANNEL_HEADER}})};e.renderStreamQualityLiveIndicatorToolbarItem=function(){var t=e.props.selectedParticipant;return(null==t?void 0:t.type)!==wl.fO.STREAM?null:(0,r.jsx)(vt.Z,{size:ki.ZP.Sizes.LARGE,participant:t,showQuality:!0},"live-indicator")};e.renderHeaderToolbar=function(){var t=e.props,n=t.channel,o=t.parentChannel,i=t.isLurking;u()(null!=n,"Missing channel in Channel.renderHeaderToolbar");var a=[];if(n.isSystemDM())return a;switch(n.type){case R.d4z.GUILD_STAGE_VOICE:case R.d4z.GUILD_VOICE:return a;case R.d4z.DM:a.push(e.renderStreamQualityLiveIndicatorToolbarItem());a.push((0,r.jsx)(Nn,{channel:n},"calls"));a.push((0,r.jsx)(nn,{channel:n},"pins"));a.push((0,r.jsx)(Tn.Z,{channel:n,tooltip:M.Z.Messages.GROUP_DM_ADD_FRIENDS},"invite"));a.push((0,r.jsx)(Dn,{channel:n},"profile"));break
;case R.d4z.GROUP_DM:a.push(e.renderStreamQualityLiveIndicatorToolbarItem());a.push((0,r.jsx)(Nn,{channel:n},"calls"));a.push((0,r.jsx)(nn,{channel:n},"pins"));if(!n.isManaged()){var l=M.Z.Messages.GROUP_DM_ADD_FRIENDS;a.push((0,r.jsx)(Tn.Z,{channel:n,tooltip:l},"invite"))}a.push((0,r.jsx)(Dt,{channelId:n.id},"members"));break;case R.d4z.ANNOUNCEMENT_THREAD:case R.d4z.PRIVATE_THREAD:case R.d4z.PUBLIC_THREAD:null!=o&&(o.isForumChannel()||a.push((0,r.jsx)(so,{channel:o},"browser")));a.push((0,r.jsx)(fo.Z,{channel:n},"notifications"));a.push((0,r.jsx)(nn,{channel:n},"pins"));n.isArchivedThread()||a.push((0,r.jsx)(Dt,{channelId:n.id},"members"));a.push((0,r.jsx)(_o,{channel:n},"threads-overflow"));break;case R.d4z.GUILD_ANNOUNCEMENT:case R.d4z.GUILD_TEXT:a.push((0,r.jsx)(so,{channel:n},"browser"));i||a.push((0,r.jsx)(Lt.Z,{channel:n},"notifications"));a.push((0,r.jsx)(nn,{channel:n},"pins"));a.push((0,r.jsx)(Dt,{channelId:n.id},"members"));break;case R.d4z.GUILD_FORUM:if(!i){a.push((0,
r.jsx)(cn,{channel:n},"forum-onboarding"));a.push((0,r.jsx)(Lt.Z,{channel:n},"notifications"))}__OVERLAY__||a.push((0,r.jsx)(Dt,{channelId:n.id},"members"));break;case R.d4z.GUILD_DIRECTORY:a.push((0,r.jsx)(Dt,{channelId:n.id},"members"))}return a};e.renderMobileToolbar=function(){var t=e.props.channel;u()(null!=t,"Missing channel in Channel.renderHeaderToolbar");var n=[];if(t.isSystemDM())return n;switch(t.type){case R.d4z.GUILD_STAGE_VOICE:case R.d4z.GUILD_VOICE:case R.d4z.DM:break;case R.d4z.GROUP_DM:n.push((0,r.jsx)(Dt,{channelId:t.id},"members"));break;case R.d4z.ANNOUNCEMENT_THREAD:case R.d4z.PRIVATE_THREAD:case R.d4z.PUBLIC_THREAD:t.isArchivedThread()||n.push((0,r.jsx)(Dt,{channelId:t.id},"members"));break;case R.d4z.GUILD_ANNOUNCEMENT:case R.d4z.GUILD_TEXT:case R.d4z.GUILD_FORUM:case R.d4z.GUILD_DIRECTORY:n.push((0,r.jsx)(Dt,{channelId:t.id},"members"))}return n};e.renderFollowButton=function(){var t=e.props,o=t.showFollowButton,i=t.channel;return o?(0,r.jsx)(J.Co,{
size:J.Co.Sizes.MIN,color:J.Co.Colors.PRIMARY,className:Tl().followButton,onClick:function(){return(0,C.ZD)(Rl((function(){var e,t;return Wl(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(64873)]).then(n.bind(n,964873))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,kl({channel:i},e))}]}}))})))},children:M.Z.Messages.FOLLOW}):null};e.renderHeaderBar=function(){var t=e.props,n=t.channel,o=t.channelName,i=t.parentChannel,l=t.guild,c=t.guildId,s=t.showCall,f=t.hasVideo,d=t.isMobile;u()(null!=n,"Missing channel in Channel.renderHeaderBar");u()(null!=o,"Should not be null if channel is not null.");var p=n.isDM()&&!n.isSystemDM()?e.openUserProfile:void 0,h=null!=(null==i?void 0:i.guild_id)&&null!=(null==i?void 0:i.id)?e.handleTitleParentClick:void 0;return(0,r.jsxs)(sn.Z,{guildId:c,channelId:n.id,hideSearch:n.isDirectory(),toolbar:e.renderHeaderToolbar(),mobileToolbar:e.renderMobileToolbar(),className:a()(Tl().title,f&&s?(0,
Gi.Q)(R.BRd.DARK):null),transparent:s,"aria-label":M.Z.Messages.CHANNEL_HEADER_BAR_A11Y_LABEL,children:[(0,nt.ud)({channel:n,channelName:o,parentChannel:i,guild:l,hasVideo:f,isMobile:d,handleContextMenu:e.handleContextMenu,handleParentContextMenu:e.handleParentContextMenu,handleClick:p,handleParentClick:h,renderFollowButton:e.renderFollowButton}),(0,r.jsx)(nt.TS,{channel:n,guild:l}),(0,nt.v0)(n,l)]},"header-".concat(n.id))};return e}var i=o.prototype;i.componentDidMount=function(){(0,No.e)("guild_channel")};i.componentDidUpdate=function(e){null!=this.props.channel&&null!=e.channel&&this.props.channel.id!==e.channel.id&&this.state.topicExpanded&&this.setState({topicExpanded:!1});this.openChannelModal()};i.openChannelContextMenu=function(e,t){var o=this.props.guild;u()(null!=t,"Missing channel in Channel.openChannelContextMenu");u()(null!=o,"Missing guild in Channel.openChannelContextMenu");(0,f.jW)(e,Rl((function(){var e,i;return Wl(this,(function(a){switch(a.label){case 0:
return[4,Promise.all([n.e(57501),n.e(12746)]).then(n.bind(n,612746))];case 1:e=a.sent(),i=e.default;return[2,function(e){return(0,r.jsx)(i,Ul(kl({},e),{channel:t,guild:o}))}]}}))})))};i.openThreadContextMenu=function(e,t){u()(null!=t,"Missing channel in Channel.openChannelContextMenu");(0,f.jW)(e,Rl((function(){var e,o;return Wl(this,(function(i){switch(i.label){case 0:return[4,n.e(98412).then(n.bind(n,669102))];case 1:e=i.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,Ul(kl({},e),{channel:t}))}]}}))})))};i.openDMContextMenu=function(e,t){u()(null!=t,"Missing channel in Channel.openDMContextMenu");var o=Gt.default.getUser(t.getRecipientId());u()(null!=o,"Missing user in Channel.openDMContextMenu");(0,f.jW)(e,Rl((function(){var e,i;return Wl(this,(function(a){switch(a.label){case 0:return[4,Promise.all([n.e(87996),n.e(45323),n.e(63952)]).then(n.bind(n,281327))];case 1:e=a.sent(),i=e.default;return[2,function(e){return(0,r.jsx)(i,Ul(kl({},e),{user:o,channelSelected:!0,
channel:t}))}]}}))})))};i.renderCall=function(){var e=this.props,t=e.channel,n=e.showCall,o=e.nsfwAllowed,i=e.nsfwAgree;u()(null!=t,"Missing channel in Channel.renderCall");if((null==t?void 0:t.isNSFW())&&(!o||!i))return null;if(!n)return null;switch(t.type){case R.d4z.GUILD_STAGE_VOICE:return(0,r.jsx)(nr.Z,{channel:t},t.id);case R.d4z.GUILD_VOICE:case R.d4z.DM:case R.d4z.GROUP_DM:var a=this.props.height-200;return(0,r.jsx)(h.Z,{channel:t,renderExternalHeader:this.renderHeaderBar,maxHeight:a},"call-".concat(t.id));default:return null}};i.renderChat=function(){var e=this.props,t=e.channel,n=e.nsfwAgree,o=e.guild,i=e.nsfwAllowed,a=e.needSubscriptionToAccess;u()(null!=t,"Missing channel in Channel.renderChat");if(a){u()(null!=o,"premium channels must exist within a guild");return(0,r.jsx)(Nt,{channelId:t.id,guildId:o.id})}if(t.isNSFW()&&(!i||!n))return(0,r.jsx)(_l.Z,{guild:o});if(t.isGuildVocal())return null;if(t.isDirectory()){u()(null!=o,"directory channels must exist within a guild")
;return(0,r.jsx)($e,{channel:t,guild:o})}if(t.type===R.d4z.GUILD_FORUM){u()(null!=o,"forum channels must exist within a guild");return(0,r.jsx)(Yl,{channel:t,guild:o},t.id)}return(0,r.jsx)(et.Z,{channel:t,guild:o,chatInputType:b.I.NORMAL},null!=o?o.id:"home")};i.renderSidebar=function(){var e=this.props,t=e.searchId,n=e.channel,o=e.parentChannel,i=e.guild,a=e.needSubscriptionToAccess,l=e.section;u()(null!=n,"Missing channel in Channel.renderSidebar");if(__OVERLAY__||a)return null;if(l===R.ULH.PROFILE)return(0,r.jsx)(Ni,{channel:n},"private-channel-profile-".concat(n.id));if(l===R.ULH.MEMBERS)switch(n.type){case R.d4z.GROUP_DM:return(0,r.jsx)(rl,{channel:n},"private-channel-recipients-".concat(n.id));case R.d4z.GUILD_DIRECTORY:case R.d4z.GUILD_FORUM:case R.d4z.GUILD_ANNOUNCEMENT:case R.d4z.GUILD_TEXT:return(0,r.jsx)(Ma,{channel:n},"channel-members-".concat(n.id));case R.d4z.ANNOUNCEMENT_THREAD:if(null!=o)return(0,r.jsx)(Ma,{channel:o},"channel-members-".concat(o.id));break
;case R.d4z.PUBLIC_THREAD:case R.d4z.PRIVATE_THREAD:if(!n.isArchivedThread()&&null!=i)return(0,r.jsx)(Pl,{channel:n,guild:i},"channel-members-".concat(n.id))}else if(l===R.ULH.SEARCH&&null!=t)return(0,r.jsx)($n.Z,{searchId:t});return null};i.openChannelModal=function(){var e=this.props,t=e.channel,o=e.guildId,i=e.hasModalOpen,a=e.showWelcomeModal,l=e.isLurking,u=e.isUnavailable,c=e.showRealNameModal;if(null==t||null==o||u||i)return null;c&&(0,C.ZD)(Rl((function(){var e,t;return Wl(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(40843)]).then(n.bind(n,940843))];case 1:e=i.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,Ul(kl({},e),{guildId:o}))}]}}))})),{onCloseCallback:function(){return mt.viewPrompt(Kn.REAL_NAME_PROMPT,o)},modalKey:"Guild Hub Real Name Modal"});a&&(0,C.ZD)(Rl((function(){var e,t;return Wl(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(401)]).then(n.bind(n,873214))];case 1:e=i.sent(),t=e.default
;return[2,function(e){return(0,r.jsx)(t,Ul(kl({},e),{guildId:o}))}]}}))})),{onCloseCallback:function(){return(0,Ai.y0)(o,l)},modalKey:"Guild Welcome Screen Modal"});return null};i.renderThreadSidebar=function(){var e,t=this.props,n=t.channel,o=t.section,i=t.threadSidebarState,a=t.nsfwAgree,l=t.nsfwAllowed,u=t.width;if(o!==R.ULH.SIDEBAR_CHAT||null==i)return null;if((null==n?void 0:n.isNSFW())&&(!l||!a))return null;switch(i.type){case er.t.CREATE_THREAD:if(null==n?void 0:n.isForumChannel())return null;e=(0,r.jsx)(zr,{parentChannelId:i.parentChannelId,parentMessageId:i.parentMessageId,location:i.location});break;case er.t.VIEW_THREAD:var c=(null==n?void 0:n.isForumChannel())?bt:xo.Z;e=(0,r.jsx)(c,{channelId:i.channelId});break;case er.t.VIEW_CHANNEL:case er.t.VIEW_MESSAGE_REQUEST:return null;default:(0,Ui.vE)(i)}var s=(null==n?void 0:n.type)===R.d4z.GUILD_FORUM?528:450,f=u-R.PrS-s;return(0,r.jsx)(Hi.Z,{
sidebarType:(null==n?void 0:n.type)===R.d4z.GUILD_FORUM?Hi.y.PostSidebar:Hi.y.ThreadSidebar,maxWidth:f,onWidthChange:this.handleThreadSidebarResize,children:e})};i.render=function(){var e=this.props,t=e.channel,n=e.guild,o=e.formattedChannelName,i=e.showCall,l=e.isUnavailable,u=e.layout,c=e.section,s=e.textInStageEnabled,f=this.state,d=f.threadSidebarWidth,p=f.isThreadSidebarFloating;if(l)return(0,r.jsx)(Ya,{});if(null==t)return(0,r.jsx)(za.Z,{channelId:this.props.channelId});var h,y=c===R.ULH.SIDEBAR_CHAT,b=!t.isForumChannel()&&(s||!t.isGuildStageVoice()),v=null==n?void 0:n.name;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(m.yY,{location:v,subsection:null!=o?o:void 0}),(0,r.jsxs)("div",{className:a()(Tl().chat,(h={},Dl(h,Tl().threadSidebarOpen,y),Dl(h,Tl().threadSidebarFloating,y&&p),h)),children:[b?(0,r.jsx)(tt.Z,{style:{right:y?d:void 0},className:Tl().uploadArea,channel:t,draftType:at.d.ChannelMessage}):null,i?null:this.renderHeaderBar(),this.renderCall(),(0,r.jsxs)("div",{
className:a()(Tl().content,Dl({},Tl().noChat,u===R.AEg.NO_CHAT)),children:[this.renderChat(),this.renderSidebar()]})]}),this.renderThreadSidebar()]})};return o}(o.PureComponent),Kl=(0,d.Z)(zl);const ql=o.memo((function(){var e,t=Bl(o.useState(null),2),n=t[0],i=t[1],a=(0,s.e7)([Li.Z],(function(){return Li.Z.getChannelId()})),l=(0,s.e7)([Li.Z],(function(){return Li.Z.getVoiceChannelId()})),u=(0,s.e7)([p.Z],(function(){return null!=a&&p.Z.getParticipants(a).length>0}),[a]),f=(0,s.e7)([it.Z],(function(){return it.Z.getChannel(a)}),[a]),d=(0,s.e7)([it.Z],(function(){return it.Z.getChannel(l)}),[l]),h=null==f?void 0:f.parent_id,b=(0,s.e7)([it.Z],(function(){return it.Z.getChannel(h)}),[h]),v=(0,s.e7)([Q.Z],(function(){return Q.Z.getGuild(null==f?void 0:f.guild_id)}),[f]),m=(0,gt.Z)(null!==(e=null==f?void 0:f.id)&&void 0!==e?e:void 0).needSubscriptionToAccess,g=(0,Ti.Vy)(null==f?void 0:f.guild_id),O=(null==f?void 0:f.isGuildVocal())||u,E=(0,c.TH)().welcomeModalChannelId,j=(0,
s.e7)([Qn.Z],(function(){return null!=f&&Qn.Z.isLurking(f.guild_id)}),[f]),S=(0,s.e7)([Zi.Z],(function(){return Zi.Z.hasSeen(null==f?void 0:f.guild_id,j)}),[f,j]),P=(0,s.e7)([p.Z],(function(){return null!=a?p.Z.getLayout(a):R.AEg.NORMAL}),[a]),I=(0,s.e7)([p.Z],(function(){return null!=f?p.Z.getSelectedParticipant(f.id):null})),_=(0,s.e7)([Gt.default],(function(){return Gt.default.getCurrentUser()})),w=qn(v),x=E===a&&null!=f&&f.getGuildId()===(null==v?void 0:v.id)&&(0,Ri.zi)(f.type)&&(null==v?void 0:v.hasFeature(R.oNc.WELCOME_SCREEN_ENABLED))&&(null==v?void 0:v.hasFeature(R.oNc.COMMUNITY)),N=(0,s.cj)([Zt.ZP],(function(){return{section:Zt.ZP.getSection(a),threadSidebarState:Zt.ZP.getSidebarState(a)}})),T=N.section,A=N.threadSidebarState,Z=(0,y.Z)(f),M=(0,y.Z)(f,!0),D=null!=f&&l===f.id,L=null!=f&&f.isGuildStageVoice();o.useEffect((function(){var e,t=(0,rt.s1)();if((null==t||null===(e=t.location)||void 0===e?void 0:e.state)===xl.Df){var n,r,o=(null!==(r=(0,
Xn.Qj)(null==t||null===(n=t.location)||void 0===n?void 0:n.pathname))&&void 0!==r?r:{}).channelId;null!=o&&i(o)}}),[]);o.useEffect((function(){if(null!=n&&null!=f&&L&&f.id===n&&!D){(0,tr.Cq)(f);i(null)}}),[n,L]);return(0,r.jsx)(Kl,Ul(kl({guildId:null==f?void 0:f.guild_id,channelId:a,channel:f,channelName:Z,formattedChannelName:M,parentChannel:b,voiceChannel:d,layout:P,needSubscriptionToAccess:m,isLurking:j,hasModalOpen:(0,C.$s)(),section:T,threadSidebarState:A,guild:v,searchId:(0,s.e7)([Di.Z],(function(){return Di.Z.getCurrentSearchId()})),showCall:!m&&O,nsfwAgree:(0,s.e7)([zt.Z],(function(){return zt.Z.didAgree(null==f?void 0:f.guild_id)})),isMobile:(0,s.e7)([Mo.Z],(function(){return(null==f?void 0:f.type)===R.d4z.DM&&Mo.Z.isMobileOnline(f.getRecipientId())}),[f]),isUnavailable:(0,s.e7)([Mi.Z],(function(){return null!=(null==f?void 0:f.guild_id)&&Mi.Z.isUnavailable(f.guild_id)}),[f]),showRealNameModal:w,showWelcomeModal:!S&&x,
showFollowButton:(null==f?void 0:f.type)===R.d4z.GUILD_ANNOUNCEMENT&&(null==v?void 0:v.hasFeature(R.oNc.NEWS))||!1},(0,s.cj)([gn.Z],(function(){return{hasVideo:null!=f&&gn.Z.hasVideo(f.id)}}),[f])),{inCall:D,selectedParticipant:I,nsfwAllowed:!0===(null==_?void 0:_.nsfwAllowed),textInStageEnabled:g}))}))},455591:(e,t,n)=>{"use strict";n.d(t,{Z:()=>Nn});var r=n(785893),o=n(667294),i=n(441143),a=n.n(i),l=n(606076),u=n(777087),c=n(277563),s=n(791462),f=n(741655),d=n(549425),p=n(541307),h=n(159500),y=n(529245),b=n(599414),v=n(733436),m=n(730189),g=n(747465),O=n(23816),E=n(361138),j=n(888403),S=n(421749),C=n(807322),P=n(448450),I=n(99719),_=n(691869),w=n(172458),x=n(294184),N=n.n(x),T=n(865289),A=n(757987),Z=n(348336),R=n.n(Z);function M(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function D(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){
var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function L(e){var t,n=e.className,o=e.channel,i=e.section,a=null!=i?(0,T.ky)(i):null;return(0,r.jsx)("div",{className:N()(n,R().wrapper),children:(0,r.jsx)("div",{className:R().icon,children:null!=a?(0,r.jsx)(A.ZP,{text:null!==(t=null==i?void 0:i.name)&&void 0!==t?t:"",position:A.ZP.Positions.TOP,children:function(e){return(0,r.jsx)(a,D(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){M(e,t,n[t])}))}return e}({},e),{channel:o,
section:i,width:24,height:24}))}}):null})})}const k=o.memo(L);var U=n(600445),G=n(85451),H=n(171447),B=n(859023),V=n(173436);function F(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function W(e){W=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return W(e)}function Y(e,t){return!t||"object"!==K(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function z(e,t){z=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return z(e,t)}var K=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){
return!1}}();return function(){var n,r=W(e);if(t){var o=W(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Y(this,n)}}var X=new Set;var Q=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&z(e,t)}(n,e);var t=q(n);function n(){F(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(e){null!=e&&(X=new Set(e))};r.hasAllowedSpamUser=function(e){return X.has(e)};r.getState=function(){return X};r.__getLocalVars=function(){return{allowedSpamUsers:X}};return n}(s.ZP.PersistedStore);Q.displayName="SpamMessageAcceptStore";Q.persistKey="SpamMessageAcceptStore";const J=new Q(V.Z,{ALLOW_SPAM_MESSAGES_FOR_USER:function(e){var t=e.userId;X.add(t)},HIDE_SPAM_MESSAGES_FOR_USER:function(e){var t=e.userId;X.delete(t)}});var $=n(461061),ee=n(35236)
;function te(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ne(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return te(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return te(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}
var re=n(992497),oe=n(642400),ie=n(735713),ae=n(849832),le=n(27029),ue=n(157358),ce=n.n(ue);function se(e){var t=e.bannerIcon,n=e.bannerHeader,o=e.bannerSubtext,i=e.containerStyles,a=e.headerStyles,l=e.children;return(0,r.jsxs)("div",{className:ce().spamBanner,children:[(0,r.jsxs)("div",{className:N()(ce().bannerTextContainer,i),children:["string"==typeof t?(0,r.jsx)("img",{src:t,alt:"",className:ce().bannerIcon}):t,(0,r.jsxs)("div",{className:ce().bannerText,children:[(0,r.jsx)("div",{className:N()(ce().bannerHeader,a),children:n}),(0,r.jsx)("div",{className:ce().bannerSubtext,children:o})]})]}),(0,r.jsx)("div",{className:ce().actionButtons,children:l})]})}var fe=n(191940),de=n(112712),pe=n(911324),he=n(932847);var ye=n(959797),be=n(981138),ve=n.n(be);function me(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function ge(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n)
;function a(e){me(i,r,o,a,l,"next",e)}function l(e){me(i,r,o,a,l,"throw",e)}a(void 0)}))}}function Oe(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Ee(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var je=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){
if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},Se=n(513157);function Ce(e){var t,n=e.channel,o=n.getRecipientId(),i=(0,s.e7)([B.default],(function(){var e=B.default.getUser(o);return null!=e?e.username:null})),a=(0,le.V)(n.id,o),l=(t=ge((function(){
return je(this,(function(e){switch(e.label){case 0:he.default.track($.rMx.DM_SAFETY,{channel_id:n.id,channel_type:n.type,safety_prompt:"DMSpamExperiment",response:"block_modal_cancel_click"});return[4,oe.Z.closePrivateChannel(n.id,!0)];case 1:e.sent();return[2]}}))})),function(){return t.apply(this,arguments)}),u=function(){var e=ge((function(){return je(this,(function(e){switch(e.label){case 0:he.default.track($.rMx.DM_SAFETY,{channel_id:n.id,channel_type:n.type,safety_prompt:"DMSpamExperiment",response:"block_modal_block_click"});return[4,ie.Z.addRelationship({userId:o,context:{location:"DMSpamModal"},type:$.OGo.BLOCKED})];case 1:e.sent();return[4,oe.Z.closePrivateChannel(n.id,!0)];case 2:e.sent();(0,pe.CF)((0,de.Yz)(ye.Z.Messages.SPAMMER_BLOCKED.format({username:i}),de.pC.SUCCESS));return[2]}}))}));return function(){return e.apply(this,arguments)}}(),c=function(){e=o,V.Z.dispatch({type:"ALLOW_SPAM_MESSAGES_FOR_USER",userId:e});var e;null!=a&&n.hasFlag(ee.zZ.IS_SPAM)&&(0,ae.zd)(a)
;he.default.track($.rMx.DM_SAFETY,{channel_id:n.id,channel_type:n.type,safety_prompt:"DMSpamExperiment",response:"not_spam"})};return(0,r.jsxs)(se,{bannerIcon:Se,bannerHeader:ye.Z.Messages.ACCEPT_SPAM_DM_HEADER,bannerSubtext:ye.Z.Messages.ACCEPT_SPAM_DM_SUBTEXT,children:[(0,r.jsx)(A.ZP,{text:ye.Z.Messages.REPORT_NOT_SPAM_TOOLTIP,color:A.ZP.Colors.BRAND,tooltipClassName:ve().notSpamTooltip,children:function(e){return(0,r.jsx)(fe.Co,Ee(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Oe(e,t,n[t])}))}return e}({},e),{className:ce().largeButton,look:fe.Co.Looks.FILLED,size:fe.Co.Sizes.SMALL,color:fe.Co.Colors.PRIMARY,onClick:c,children:ye.Z.Messages.REPORT_NOT_SPAM}))}}),(0,r.jsx)(fe.Co,{className:ce().largeButton,look:fe.Co.Looks.FILLED,
size:fe.Co.Sizes.SMALL,color:fe.Co.Colors.RED,onClick:function(){he.default.track($.rMx.DM_SAFETY,{channel_id:n.id,channel_type:n.type,safety_prompt:"DMSpamExperiment",response:"close_channel_click"});re.Z.show({title:ye.Z.Messages.BLOCK_SPAMMER_HEADER,body:ye.Z.Messages.BLOCK_SPAMMER_SUBHEADER.format({username:i}),onCancel:l,cancelText:ye.Z.Messages.CANCEL,onConfirm:u,confirmText:ye.Z.Messages.BLOCK});oe.Z.closePrivateChannel(n.id,!0)},children:ye.Z.Messages.CLOSE_DM})]})}var Pe=n(992735),Ie=n(811506),_e=n(113204),we=n(631134),xe=n(212218),Ne=n(552007),Te=n(685351),Ae=n(219946),Ze=n(35220),Re=n(462327);var Me=n(480088),De=n(48843),Le=n(430294),ke=n.n(Le);function Ue(e){var t=e.onClose,n=e.guildName;return(0,r.jsxs)("div",{className:ke().container,children:[(0,r.jsx)("div",{className:ke().iconContainer,children:(0,r.jsx)(Ae.Z,{className:ke().icon,width:20,height:20})}),(0,r.jsxs)("div",{className:ke().header,children:[(0,r.jsx)(De.X,{variant:"heading-md/medium",
className:ke().headerText,children:ye.Z.Messages.GUILD_COMMUNICATION_DISABLED_POPOUT_HEADER}),(0,r.jsx)(Te.x,{variant:"text-sm/normal",children:ye.Z.Messages.GUILD_COMMUNICATION_DISABLED_POPOUT_SUBHEADER.format({guildName:n})}),(0,r.jsx)(fe.Co,{onClick:t,className:ke().button,children:ye.Z.Messages.OKAY})]})]})}var Ge=n(809096),He=n(146615),Be=n.n(He);function Ve(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Fe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ve(e,t);var n=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ve(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function We(e){var t=e.guild,n=e.disabledUntil,i=Fe((0,Me.i)(t.id),2),a=i[0],l=i[1];!function(e){var t=null!=e?e:{},n=t.communicationDisabledUntil,r=t.userId,i=t.guildId,a=(0,Ze.Z)(null!=n?Date.parse(n):Date.now()),l=a.seconds,u=(0,o.useRef)(null);(0,o.useEffect)((function(){if(null!=e&&null!=i&&null!=r){l<=0&&null==u.current&&(u.current=setTimeout((function(){Re.Z.clearGuildMemberTimeout(i,r)}),1e3));return function(){if(null!=u.current){clearTimeout(u.current);u.current=null}}}clearTimeout(u.current)}),[i,r,l,n,e])}((0,s.e7)([xe.ZP,we.default],(function(){return xe.ZP.getMember(t.id,we.default.getId())}),[t.id]));return(0,
r.jsxs)("div",{children:[a?(0,r.jsx)(Ue,{onClose:function(){return l(t.id)},guildName:t.name}):null,(0,r.jsx)(se,{bannerIcon:(0,r.jsx)(Ae.Z,{className:Be().bannerIcon}),bannerHeader:ye.Z.Messages.GUILD_COMMUNICATION_DISABLED_NOTICE_HEADER,bannerSubtext:ye.Z.Messages.GUILD_COMMUNICATION_DISABLED_CHAT_NOTICE_DESCRIPTION.format({link:Ge.cu}),containerStyles:Be().bannerContainer,headerStyles:Be().bannerHeader,children:(0,r.jsx)(Te.x,{variant:"text-sm/semibold",children:(0,r.jsx)(Ne.Z,{deadline:new Date(n),showUnits:!0,stopAtOneSec:!0})})})]})}var Ye=n(136770),ze=n(35197);function Ke(e){var t=(0,Ye.Td)(),n=function(e){var t=(0,Ye.Td)();return(0,s.e7)([ze.Z],(function(){return t&&ze.Z.isMessageRequest(e)}),[t,e])}(e),r=(0,s.e7)([ze.Z],(function(){return ze.Z.isAcceptedOptimistic(e)}),[e]);return t&&n&&!r}var qe=n(672549),Xe=n(658620),Qe=n(915354),Je=n(356004),$e=n(266662),et=n(781405),tt=n(441640),nt=n(513157);function rt(e){var t=e.channel,n=t.id,i=(0,s.e7)([B.default],(function(){
return B.default.getUser(t.recipients[0])}),[t]),a=o.useCallback((function(){(0,pe.CF)((0,de.Yz)(ye.Z.Messages.MESSAGE_REQUEST_REQUEST_ERROR_ALERT_TITLE,tt.pC.FAILURE))}),[]),l=(0,et._)().hasSingleMessageRequest,u=o.useCallback((function(){Xe.Z.closeChannelSidebar(Qe.uZ)}),[]),c=o.useCallback((function(){Xe.Z.closeChannelSidebar(Qe.uZ);!0===l&&(0,qe.Kh)(n)}),[n,l]),f=(0,$e.m)({user:i,onAcceptSuccess:c,onRejectSuccess:u,onError:a}),d=f.acceptMessageRequest,p=f.rejectMessageRequest,h=f.isAcceptLoading,y=f.isRejectLoading,b=f.isUserProfileLoading,v=f.isOptimisticAccepted,m=f.isOptimisticRejected,g=h||y||b||(v||m);return null==i?null:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(fe.Co,{className:ce().largeButton,look:fe.Co.Looks.LINK,size:fe.Co.Sizes.SMALL,color:fe.Tt.PRIMARY,submitting:y||m,disabled:g,onClick:function(e){e.stopPropagation();p(n)},children:ye.Z.Messages.MESSAGE_REQUEST_IGNORE}),(0,r.jsx)(fe.Co,{className:ce().largeButton,look:fe.Co.Looks.FILLED,size:fe.Co.Sizes.SMALL,
color:fe.Co.Colors.BRAND,disabled:g,submitting:h||b||v,onClick:function(e){e.stopPropagation();d(n)},children:ye.Z.Messages.MESSAGE_REQUEST_ACCEPT})]})}function ot(e){var t=e.channelId,n=(0,s.e7)([Je.Z],(function(){return Je.Z.getChannel(t)}),[t]);return(0,r.jsx)(se,{bannerIcon:nt,bannerHeader:ye.Z.Messages.MESSAGE_REQUEST_BANNER_TITLE,bannerSubtext:ye.Z.Messages.MESSAGE_REQUEST_BANNER_SUBTITLE,children:null!=n&&(0,r.jsx)(rt,{channel:n})})}var it=n(290174),at=n(640753),lt=n(748241),ut=n(282004),ct=n(959154),st=n(183194),ft=n(248088),dt=n(832010),pt=n(475823),ht=n(559159),yt=n(346370),bt=n(447086),vt=n(664825),mt=n(440313),gt=n.n(mt);function Ot(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Et(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){
i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ot(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ot(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var jt=o.memo((function(e){var t=e.channelId,n=e.width,i=(0,s.e7)([m.Z],(function(){return m.Z.useReducedMotion})),a=(0,s.e7)([ct.ZP],(function(){return ct.ZP.getMostRecentMessageCombo(t)}),[t]),l=Et(o.useState(!1),2),u=l[0],c=l[1];o.useEffect((function(){if(!(null==a?void 0:a.displayed)){c(!1);setImmediate((function(){var e=null!=a?(0,bt.Eo)(a.combo):0;c(e>0)}))
;var e=setTimeout((function(){c(!1);null!=a&&(0,ut.ew)(a)}),2e3);return function(){return clearTimeout(e)}}}),[a]);var f=null!=a?"100%":"200%",d=(0,ft.useSpring)({opacity:u?1:0,translateY:u?"0":f,pointerEvents:"none",width:n,config:i?ft.config.stiff:ft.config.slow});return(0,r.jsx)(r.Fragment,{children:null!=a&&(0,r.jsx)(ft.animated.div,{className:gt().messageComboScore,style:d,children:(0,r.jsx)(Te.x,{className:gt().comboScore,variant:"text-sm/bold",children:(0,bt.Eo)(a.combo)})})})})),St=o.memo((function(e){var t=e.value,n=e.multiplier,i=o.useMemo((function(){return(0,bt.yz)(n)}),[n]),a=i.color,l=i.square,u=i.flair,c=(0,dt.Lq)(a);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Te.x,{className:gt().comboValue,variant:"text-sm/bold",children:t}),(0,r.jsxs)("div",{className:gt().comboNameplate,style:{color:c},children:[(0,r.jsx)(Te.x,{className:gt().comboMultiplier,style:{color:c},variant:"text-sm/bold",children:ye.Z.Messages.POGGERMODE_COMBO.format({multiplier:n})}),l&&(0,
r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:N()(gt().comboSquare,gt().left),style:{backgroundColor:c}}),(0,r.jsx)("div",{className:N()(gt().comboSquare,gt().right),style:{backgroundColor:c}})]}),u&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:N()(gt().confettiIcon,gt().left),children:(0,r.jsx)(yt.Z,{width:24,height:24})}),(0,r.jsx)("div",{className:N()(gt().confettiIcon,gt().right),children:(0,r.jsx)(yt.Z,{width:24,height:24})})]}),1===n&&(0,r.jsx)(Te.x,{className:gt().tip,variant:"text-sm/bold",children:ye.Z.Messages.POGGERMODE_COMBO_TIP})]})]})}));const Ct=o.memo((function(e){var t=e.channelId,n=(0,s.e7)([we.default],(function(){return we.default.getId()})),i=(0,s.e7)([pt.Z],(function(){return pt.Z.isTyping(t,n)}),[t,n]),a=(0,st.Z)(),l=(0,s.e7)([ct.ZP],(function(){return ct.ZP.isComboing(n,t)}),[t,n]),u=o.useRef(null),c=(0,ht.Z)(u,!0,[i]),f=(0,s.e7)([m.Z],(function(){return m.Z.useReducedMotion})),d=Et(o.useState(!1),2),p=d[0],h=d[1],y=(0,
vt.Z)(t),b=a&&l&&i;o.useEffect((function(){b&&h(!0);var e=setTimeout((function(){return h(b)}),1e3);return function(){return clearTimeout(e)}}),[b]);var v=(0,ft.useSpring)({opacity:p?1:0,transform:p?"translateY(0)":"translateY(100%)",pointerEvents:"none",config:ft.config.stiff,immediate:f}),g=o.useMemo((function(){return null!=y?y:{value:0,multiplier:1}}),[y]),O=o.useRef(g);o.useEffect((function(){(g.multiplier>1||g.value>0)&&(O.current=g)}),[g]);var E,j=o.useMemo((function(){return{value:b?g.value:O.current.value,multiplier:b?g.multiplier:O.current.multiplier}}),[b,g,O]),S=j.multiplier,C=j.value;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(jt,{channelId:t,width:null!==(E=null==c?void 0:c.width)&&void 0!==E?E:0}),(0,r.jsx)(ft.animated.div,{ref:u,className:gt().combo,style:v,children:(0,r.jsx)(St,{value:C,multiplier:S})})]})}));var Pt=n(469620),It=n(452689);var _t=n(95467),wt=n(686012);const xt=function(e,t){var n=(0,wt.$)(t),r=(0,s.e7)([H.Z],(function(){
return H.Z.getMessages(t.id).length>0}),[t]);return null!=e&&(e.hasFlag($.xW$.QUARANTINED)&&n&&!r)};var Nt=n(513157);const Tt=function(){return(0,r.jsx)(se,{bannerIcon:Nt,bannerHeader:ye.Z.Messages.YOUR_ACCOUNT_IS_QUARANTINED,bannerSubtext:ye.Z.Messages.QUARANTINE_MODE_DM_BAR_SUBTEXT.format({helpdeskArticle:_t.Z.getArticleURL($.BhN.QUARANTINE)})})};var At=n(302561),Zt=n(11870),Rt=n(942604),Mt=n(875673),Dt=n(402124),Lt=n(985009),kt=n(940712),Ut=n(379822),Gt=n(861842),Ht=n(796080),Bt=n(94813),Vt=n(761434),Ft=n(762441),Wt=n(444766),Yt=n(897576),zt=n(238585),Kt=n(882699),qt=n(391595),Xt=n(787619),Qt=n(56133),Jt=n(418368),$t=n(567007),en=n(748670),tn=n(300376),nn=n(884021),rn=n(239396),on=n(303540),an=n(149563),ln=n.n(an);function un(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function cn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sn(e,t,n,r,o,i,a){try{
var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function fn(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){sn(i,r,o,a,l,"next",e)}function l(e){sn(i,r,o,a,l,"throw",e)}a(void 0)}))}}function dn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pn(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function hn(e){hn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return hn(e)}function yn(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&On(e,t)}function bn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){pn(e,t,n[t])}))}return e}function vn(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function mn(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r]
;t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function gn(e,t){return!t||"object"!==jn(t)&&"function"!=typeof t?cn(e):t}function On(e,t){On=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return On(e,t)}function En(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return un(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return un(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var jn=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Sn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=hn(e);if(t){var o=hn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return gn(this,n)}}var Cn=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){
if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function Pn(e){e.preventDefault()}var In=/^\+(?!\w+):?(?!:)(\w+)?:?$/;function _n(e){var t=e.isSidebar,n=mn(e,["isSidebar"]);return t?(0,r.jsx)("section",vn(bn({},n),{role:"complementary"})):(0,
r.jsx)("main",bn({},n))}var wn=function(e){yn(n,e);var t=Sn(n);function n(){dn(this,n);var e;(e=t.apply(this,arguments)).isFirstChange=!0;e.state=vn(bn({},(0,w.eK)(Dt.Z.getDraft(e.props.channel.id,Dt.d.ChannelMessage))),{contentWarningProps:null});e.draftDidChange=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.props,n=e.state.textValue,r=Dt.Z.getDraft(t.channel.id,Dt.d.ChannelMessage);n===r||""!==r&&""!==n||e.setState((0,w.eK)(r),(function(){if(n!==r){var t=e.props.onFocus;null==t||t()}}))};e.handleKeyDown=function(t){var n=e.props,r=n.keyboardModeEnabled,o=n.onKeyDown,i=n.channel,a=t.shiftKey||t.altKey||t.ctrlKey||t.metaKey,l=0!==e.state.textValue.length;switch(t.which){case $.yXg.DELETE:case $.yXg.BACKSPACE:e.handleIncrementCombo("",1);return;case $.yXg.ARROW_UP:if(a)return;if(l)return;t.preventDefault()
;if(r)Gt.Z.getUploadCount(i.id,Dt.d.ChannelMessage)>0?Kt.S.dispatchToLastSubscribed($.CkL.FOCUS_ATTACHMENT_AREA):Kt.S.dispatchToLastSubscribed($.CkL.FOCUS_MESSAGES,{atEnd:!0});else{var u=e.props.channel,s=H.Z.getLastCommandMessage(u.id),f=H.Z.getLastEditableMessage(u.id);null!=s&&null!=f?c.default.compare(f.id,s.id)>0?e.handleEditLastMessage(f):e.handleRecallLastCommand(s):null!=s?e.handleRecallLastCommand(s):null!=f&&e.handleEditLastMessage(f)}return;case $.yXg.ESCAPE:if(a)return;if(t.target!==t.currentTarget)return;t.preventDefault();if(r){(0,v.rf)();return}if(Gt.Z.getUploadCount(i.id,Dt.d.ChannelMessage)>0){h.Z.clearAll(i.id,Dt.d.ChannelMessage);return}}null==o||o(t,l)};e.handleIncrementCombo=function(t,n){if(e.props.poggermodeEnabled){var r,o=e.props.channel.id,i=we.default.getId(),a=ct.ZP.getUserCombo(i,o),l=(null!==(r=null==a?void 0:a.value)&&void 0!==r?r:0)+1;(0,ut.SE)({channelId:o,userId:i,value:null!=t?t.length:l,multiplier:n})}};e.handleTextareaChange=function(t,n,r){
var o=e.props,i=o.keyboardModeEnabled,a=o.channel.id;f.Z.changeDraft(a,n,Dt.d.ChannelMessage);var l=""!==n&&r!==e.state.richValue,u=l&&!In.test(n)&&!n.startsWith("/")&&(!e.isFirstChange||n!==e.state.textValue);e.isFirstChange=!1;u&&e.state.textValue.length<n.length&&e.handleIncrementCombo();u?p.Z.startTyping(a):""===n&&p.Z.stopTyping(a);l&&i&&(0,v.rf)();e.setState({textValue:n,richValue:r})};var o,i=cn(e);e.handleSendMessage=(o=fn((function(e){var t,n,r,o,a,l,u,c,s,f,p,b,v;return Cn(this,(function(m){switch(m.label){case 0:t=e.value,n=e.uploads,r=e.stickers,o=e.command,a=e.commandOptionValues,l=e.isGif;if(!(0!==(t=t.trim()).length||null!=r&&0!==r.length||null!=n&&0!==n.length))return[2,Promise.resolve({shouldClear:!1,shouldRefocus:!0})];u=i.props,c=u.guild,s=u.channel,f=u.pendingReply,p=u.chatInputType;b=!1;if(null==o)return[3,2];if(o.inputType===C.iw.BUILT_IN_INTEGRATION){Kt.S.dispatch($.CkL.SHAKE_APP,{duration:200,intensity:2});return[2,Promise.resolve({shouldClear:!1,
shouldRefocus:!0})]}return[4,(0,P.Z)(o,null!=a?a:{},{guild:c,channel:s})];case 1:v=m.sent();if(o.inputType!==C.iw.BUILT_IN_TEXT)return[2,Promise.resolve({shouldClear:!0,shouldRefocus:!0})];if(null!=v){t=null!=v.content&&""!==v.content?v.content:t;b=!0===v.tts}m.label=2;case 2:return[2,(0,qt.v)({openWarningPopout:function(e){return i.setState({contentWarningProps:e})},type:i.props.chatInputType,content:t,stickers:r,uploads:n,channel:s}).then((function(e){var o=e.valid,a=e.failureReason;if(!o){if(a===$.zYc.SLOWMODE_COOLDOWN){Kt.S.dispatch($.CkL.SHAKE_APP,{duration:200,intensity:2});Kt.S.dispatch($.CkL.EMPHASIZE_SLOWMODE_COOLDOWN);return{shouldClear:!1,shouldRefocus:!0}}return{shouldClear:!1,shouldRefocus:!1}}var u=(0,it.g)(t,{channel:s,isEdit:!1});if(null!=u){null!=u.content&&(t=u.content);null!=u.tts&&(b=u.tts)}var v=at.ZP.parse(s,t);v.tts=v.tts||b;var m=d.Z.getSendMessageOptionsForReply(f);if(l){d.Z.sendMessage(s.id,v,void 0,m);(0,At.A6)(s.id);return{shouldClear:!1,shouldRefocus:!0}}
if(null!=n&&n.length>0){var g=(0,Jt.KZ)(n);if((0,Jt.Bf)(g,null==c?void 0:c.id)){(0,Qt.G)(s,g);return{shouldClear:!1,shouldRefocus:!1}}y.Z.uploadFiles({channelId:s.id,uploads:n,draftType:Dt.d.ChannelMessage,parsedMessage:v,options:vn(bn({},m),{stickerIds:r})});h.Z.clearAll(s.id,Dt.d.ChannelMessage)}else null!=r&&r.length>0?""!==t?d.Z.sendMessage(s.id,v,void 0,vn(bn({},m),{stickerIds:r})):d.Z.sendStickers(s.id,r,t,m,v.tts):d.Z.sendMessage(s.id,v,void 0,m);i.setState((0,w.H2)());(0,At.A6)(s.id);(0,Rt.qB)(s.id,p.drafts.type);return{shouldClear:!0,shouldRefocus:!0}}))]}}))})),function(e){return o.apply(this,arguments)});e.renderAttachButton=function(t,n){return(0,r.jsx)(U.Z,{className:n,channel:e.props.channel,draftType:Dt.d.ChannelMessage,editorTextContent:e.state.textValue,setValue:function(t){return e.handleTextareaChange(null,t,(0,w.JM)(t))},canShowPremiumTrialTutorial:t})};e.renderApplicationCommandIcon=function(t,n,o){return(0,r.jsx)(k,{className:o,command:t,section:n,
channel:e.props.channel})};return e}var o=n.prototype;o.componentDidMount=function(){Dt.Z.addChangeListener(this.draftDidChange)};o.componentWillUnmount=function(){Dt.Z.removeChangeListener(this.draftDidChange)};o.componentDidUpdate=function(e,t){var n=this.props.channel,r=this.state.textValue;if(e.channel.id===n.id){if(e.hasModalOpen&&!this.props.hasModalOpen){var o=Dt.Z.getDraft(n.id,Dt.d.ChannelMessage);o!==r&&this.setState((0,w.eK)(o))}t.textValue.length<$.J6R&&r.length>=$.J6R&&he.default.track($.rMx.MESSAGE_LENGTH_LIMIT_REACHED,{})}else this.draftDidChange(this.props)};o.handleEditLastMessage=function(e){var t=this.props.channel;d.Z.startEditMessage(t.id,e.id,e.content);O.ZP.trackWithMetadata($.rMx.MESSAGE_EDIT_UP_ARROW)};o.handleRecallLastCommand=function(e){var t=this.props.channel,n=S.Z.getCommandFromInteractionData(e.interactionData),r=S.Z.getApplication(null==n?void 0:n.applicationId);if(null!=n){var o,i,a=null!=r?{type:C.Qi.APPLICATION,id:r.id,
icon:null!==(i=null==r||null===(o=r.bot)||void 0===o?void 0:o.username)&&void 0!==i?i:r.icon,name:r.name,application:r}:null,l=(0,j.Fi)(n,e.interactionData);E.Po(t.id,n,a,C.Vh.RECALL,l)}};o.render=function(){var e=this,t=this.props,n=t.channel,o=t.focused,i=t.onResize,l=t.onBlur,u=t.onFocus,c=t.highlighted,s=t.pendingReply,f=t.chatInputType,d=t.placeholder,p=t.accessibilityLabel,h=t.shakeIntensity,y=t.poggermodeEnabled,b=this.state.contentWarningProps,v=(0,r.jsx)(G.Z,{textValue:this.state.textValue,richValue:this.state.richValue,focused:o,className:ln().channelTextArea,channel:n,placeholder:d,accessibilityLabel:p,pendingReply:s,type:f,onChange:this.handleTextareaChange,onSubmit:this.handleSendMessage,onResize:i,onFocus:u,onBlur:l,onKeyDown:this.handleKeyDown,renderAttachButton:this.renderAttachButton,renderApplicationCommandIcon:this.renderApplicationCommandIcon,promptToUpload:Qt.d,highlighted:c});return(0,r.jsx)(Vt.ZP,{position:Vt.ZP.Positions.TOP,onRequestClose:function(){var t
;null==b||null===(t=b.onCancel)||void 0===t||t.call(b);e.setState({contentWarningProps:null})},shouldShow:null!=b,renderPopout:function(e){var t=e.closePopout;a()(null!=b,"ChannelTextAreaForm > Popout > renderPopout: contentWarningProps cannot be null");return(0,r.jsx)(on.Z,bn({onClose:t},b))},children:function(){return y?(0,r.jsx)(Ft.Z,{isShaking:h>0,intensity:h,children:v}):v}})};return n}(o.PureComponent),xn=function(e){yn(n,e);var t=Sn(n);function n(){dn(this,n);var e;(e=t.apply(this,arguments)).inputFormRef=o.createRef();e.state={textAreaFocused:!1,textAreaHighlighted:!1,currentChannelId:e.props.channel.id};e.dispatchGroupRef=o.createRef();e.handleRequestFocus=function(t){t.channelId===e.props.channel.id&&e.setState({textAreaFocused:!0})};e.getAnalyticsPage=function(){var t=e.props.channel;if(null==t)return null;switch(t.type){case $.d4z.GUILD_ANNOUNCEMENT:case $.d4z.GUILD_TEXT:case $.d4z.GUILD_FORUM:return rn.Z.Pages.GUILD_CHANNEL;case $.d4z.GROUP_DM:case $.d4z.DM:
return rn.Z.Pages.DM_CHANNEL;default:return null}};e.handleInputFocus=function(t){var n;null===(n=e.dispatchGroupRef.current)||void 0===n||n.bumpDispatchPriority();(0,Xt.rB)()||(null!=(null==t?void 0:t.highlight)?e.setState({textAreaFocused:!0,textAreaHighlighted:null==t?void 0:t.highlight}):e.setState({textAreaFocused:!0}))};e.handleInputBlur=function(){(document.hasFocus()||e.props.hasModalOpen)&&e.setState({textAreaFocused:!1,textAreaHighlighted:!1})};e.handleInputKeyDown=function(t,n){e.state.textAreaHighlighted&&e.setState({textAreaHighlighted:!1});n||e._handleMoveToPane(t)};e.handleKeyDown=function(t){var n;(null===(n=e.inputFormRef.current)||void 0===n?void 0:n.contains(t.target))||e._handleMoveToPane(t)};e._handleMoveToPane=function(t){var n=e.props,r=n.keyboardModeEnabled,o=n.chatInputType,i=n.channel;if(r)switch(t.which){case $.yXg.ARROW_LEFT:o===_.I.SIDEBAR&&Kt.S.dispatch($.CkL.FOCUS_CHANNEL_TEXT_AREA,{channelId:Ut.Z.getChannelId()});return;case $.yXg.ARROW_RIGHT:
o===_.I.NORMAL&&Kt.S.dispatch($.CkL.FOCUS_CHANNEL_TEXT_AREA,{channelId:Qe.ZP.getCurrentSidebarChannelId(i.id)})}};e.handleOpenExpressionPicker=function(t){var n=t.activeView;(0,Pe.PG)(n,e.props.chatInputType)};e.handleChatInteract=function(){var t;null===(t=e.dispatchGroupRef.current)||void 0===t||t.bumpDispatchPriority()};e.renderMessageBanner=function(e){var t=e.channel,n=e.showSpamBanner,o=e.showQuarantinedUserBanner,i=e.showMessageRequestBanner,a=e.guild,l=e.communicationDisabledUntil;if(t.type===$.d4z.DM){if(n)return(0,r.jsx)(Ce,{channel:t});if(o)return(0,r.jsx)(Tt,{});if(i)return(0,r.jsx)(ot,{channelId:t.id})}return null!=l&&(0,Ie.J)(l)&&null!=a&&!kt.Z.can($.Plq.ADMINISTRATOR,a)?(0,r.jsx)(We,{guild:a,disabledUntil:l}):null};return e}var i=n.prototype;i.componentDidMount=function(){Kt.S.subscribe($.CkL.FOCUS_CHANNEL_TEXT_AREA,this.handleRequestFocus)};i.componentDidUpdate=function(e){
this.props.isEditing===e.isEditing&&this.props.hasModalOpen===e.hasModalOpen||(this.props.isEditing||this.props.hasModalOpen?this.handleInputBlur():this.handleInputFocus())};i.componentWillUnmount=function(){Kt.S.unsubscribe($.CkL.FOCUS_CHANNEL_TEXT_AREA,this.handleRequestFocus)};i.render=function(){var e,t,n=this.props,o=n.channel,i=n.guild,a=n.keyboardModeEnabled,l=n.hasModalOpen,c=n.pendingReply,s=n.chatInputType,f=n.placeholder,d=n.accessibilityLabel,p=n.showQuarantinedUserBanner,h=n.filterAfterTimestamp,y=n.showSpamBanner,b=n.showMessageRequestBanner,v=n.communicationDisabledUntil,m=n.shakeIntensity,O=n.poggermodeEnabled,E=this.state,j=E.textAreaFocused,S=E.textAreaHighlighted,C=o.isPrivate()?en.Z:tn.Z,P=s===_.I.SIDEBAR;e=P&&o.type===$.d4z.GUILD_VOICE?ye.Z.Messages.TEXT_IN_VOICE_A11Y_LABEL:P&&o.type===$.d4z.GUILD_STAGE_VOICE?ye.Z.Messages.TEXT_IN_STAGE_A11Y_LABEL:u.T.THREADS.has(o.type)?ye.Z.Messages.THREAD_A11Y_LABEL:ye.Z.Messages.CHANNEL_A11Y_LABEL;return(0,r.jsx)(rn.Z,{
page:this.getAnalyticsPage(),children:(0,r.jsx)(Wt.sW,{children:(0,r.jsxs)(zt.I3,{ref:this.dispatchGroupRef,children:[(0,r.jsx)(zt.d9,{event:$.CkL.TEXTAREA_FOCUS,handler:this.handleInputFocus}),(0,r.jsx)(zt.d9,{event:$.CkL.TEXTAREA_BLUR,handler:this.handleInputBlur}),(0,r.jsx)(zt.d9,{event:$.CkL.OPEN_EXPRESSION_PICKER,handler:this.handleOpenExpressionPicker}),(0,r.jsxs)(_n,{isSidebar:P,className:ln().chatContent,"aria-label":e.format({channelName:o.name}),onMouseDown:this.handleChatInteract,onKeyDown:this.handleKeyDown,onFocus:this.handleChatInteract,children:[(0,r.jsx)($t.Z,{channel:o,guild:i,narrow:P}),(0,r.jsxs)(Bt.y,{component:(0,r.jsx)(g.Z,{children:(0,r.jsx)(Bt.H,{children:ye.Z.Messages.CHANNEL_CHAT_HEADING.format({channelName:o.name})})}),children:[(0,r.jsx)(lt.Z,{channel:o,filterAfterTimestamp:h,showingSpamBanner:y,showingQuarantineBanner:p}),null!==(t=this.renderMessageBanner({channel:o,showSpamBanner:y,showQuarantinedUserBanner:p,showMessageRequestBanner:b,guild:i,
communicationDisabledUntil:v}))&&void 0!==t?t:(0,r.jsxs)("form",{ref:this.inputFormRef,onSubmit:Pn,className:ln().form,children:[O&&(0,r.jsx)(Ct,{channelId:o.id}),(0,r.jsx)(C,{channel:o,children:(0,r.jsx)(Mt.Z,{tutorialId:"writing-messages",position:Ht.q_.LEFT,offsetX:75,children:(0,r.jsx)(wn,{focused:j,highlighted:S,channel:o,guild:i,keyboardModeEnabled:a,onFocus:this.handleInputFocus,onBlur:this.handleInputBlur,onKeyDown:this.handleInputKeyDown,hasModalOpen:l,pendingReply:c,chatInputType:s,placeholder:f,accessibilityLabel:d,shakeIntensity:m,poggermodeEnabled:O})})}),(0,r.jsx)(nn.Z,{channel:o,poggermodeEnabled:O})]}),(0,r.jsx)(Wt.kw,{})]})]})]})})},"messages-".concat(o.id))};n.getDerivedStateFromProps=function(e,t){var n=e.channel,r=t.currentChannelId;return n.id!==r?{textAreaFocused:null!=n&&(!l.tq&&kt.Z.can($.Plq.SEND_MESSAGES,n)),currentChannelId:n.id}:null};return n}(o.PureComponent);const Nn=o.memo((function(e){
var t=e.channel,n=e.guild,o=e.chatInputType,i=e.filterAfterTimestamp,a=(0,b.gA)(),l=(0,I.Z)(t),u=l.placeholder,c=l.accessibilityLabel,f=function(e){var t=e.isDM()&&!e.isSystemDM()&&!e.rawRecipients.some((function(e){return e.bot})),n=(0,s.e7)([B.default],(function(){var t;return!0===(null===(t=B.default.getUser(e.getRecipientId()))||void 0===t?void 0:t.hasFlag($.xW$.SPAMMER))}),[e]),r=e.hasFlag(ee.zZ.IS_SPAM),o=ne((0,s.Wu)([H.Z],(function(){var t=H.Z.getMessages(e.id);return[t.length>0,t.toArray().some((function(t){return t.author.id===e.getRecipientId()}))]}),[e]),2),i=o[0],a=o[1],l=(0,s.e7)([J],(function(){return J.hasAllowedSpamUser(e.getRecipientId())}),[e]);return t&&(n&&i||r&&a)&&!l}(t)&&!a,d=xt(B.default.getCurrentUser(),t),p=En((0,_e.A)(null==n?void 0:n.id),1)[0],h=Ke(t.id)&&!a,y=(0,st.Z)(),v=function(e){var t=(0,Pt.Z)(It.oZ.CHAT_INPUT),n=(0,st.Z)();return(0,s.e7)([pt.Z,ct.ZP,we.default],(function(){
return n&&pt.Z.isTyping(e,we.default.getId())?ct.ZP.getUserComboShakeIntensity(we.default.getId(),e,t):0}))}(t.id);return(0,r.jsx)(xn,{channel:t,isEditing:null!=(0,s.e7)([Lt.Z],(function(){return Lt.Z.getEditingMessageId(t.id)})),hasModalOpen:(0,Yt.s9)(Yt.JQ),guild:n,keyboardModeEnabled:(0,s.e7)([m.Z],(function(){return m.Z.keyboardModeEnabled})),pendingReply:(0,s.e7)([Zt.Z],(function(){return Zt.Z.getPendingReply(t.id)})),chatInputType:o,placeholder:u,accessibilityLabel:c,filterAfterTimestamp:i,showSpamBanner:f,showQuarantinedUserBanner:d,communicationDisabledUntil:p,showMessageRequestBanner:h,shakeIntensity:v,poggermodeEnabled:y})}))},539636:(e,t,n)=>{"use strict";n.d(t,{y:()=>v,Z:()=>O});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),l=n(496486),u=n(830395),c=n(980306),s=n(661623),f=n(912551),d=n(542709),p=n.n(d);function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(e,t,n){t in e?Object.defineProperty(e,t,{value:n,
enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var v,m=(0,f.Mg)(p().resizeHandleWidth);!function(e){
e[e.PostSidebar=0]="PostSidebar";e[e.ThreadSidebar=1]="ThreadSidebar";e[e.CallChatSidebar=2]="CallChatSidebar";e[e.MessageRequestSidebar=3]="MessageRequestSidebar";e[e.HomeSidebar=4]="HomeSidebar"}(v||(v={}));function g(e){var t=e.resizableNode,n=e.onResize,o=e.onResizeEnd,i=e.maxWidth,a=(0,c.Z)({minDimension:450,maxDimension:i,resizableDomNodeRef:t,onElementResize:n,onElementResizeEnd:o,orientation:c.y.HORIZONTAL_LEFT});return(0,r.jsx)("div",{onMouseDown:a,className:p().resizeHandle})}function O(e){var t,n=e.sidebarType,i=e.maxWidth,c=e.onWidthChange,f=e.children,d=e.floatingLayer,h=o.useRef(null),O=function(e){switch(e){case v.PostSidebar:return"postSidebarWidth";case v.ThreadSidebar:return"threadSidebarWidth";case v.CallChatSidebar:return"callChatSidebarWidth";case v.MessageRequestSidebar:return"messageRequestSidebarWidth";case v.HomeSidebar:return"homeSidebarWidth"}}(n),E=b(o.useState(s.ZP[O]),2),j=E[0],S=E[1],C=o.useCallback((function(e){u.Z.updatedUnsyncedSettings(y({},O,e))
}),[O]),P=function(e){return e.maxWidth<=450}({maxWidth:i}),I=(0,l.clamp)(j,450,i),_=P?I:I+m;o.useEffect((function(){null==c||c(I,P)}),[I,c,P]);var w=(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:a()(p().chatTarget,(t={},y(t,p().floating,P),y(t,p().notFloating,!P),t)),style:{width:_}}),!P&&(0,r.jsx)(g,{maxWidth:i,resizableNode:h,onResize:S,onResizeEnd:C}),(0,r.jsx)("div",{ref:h,className:a()(p().container,y({},p().floating,P)),style:{width:I},children:f})]});if(P){var x=null!=d?d:o.Fragment;return(0,r.jsx)(x,{children:(0,r.jsx)("div",{className:p().chatLayerWrapper,children:w})})}return(0,r.jsx)(r.Fragment,{children:w})}},567007:(e,t,n)=>{"use strict";n.d(t,{Z:()=>L});var r=n(785893),o=n(667294),i=n(657935),a=n(234162),l=n(461181),u=n(294184),c=n.n(u),s=n(23816),f=n(191940),d=n(685351),p=n(932847),h=n(682684),y=n(551821),b=n(461061),v=n(959797),m=n(47987),g=n.n(m);function O(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0
}):e[t]=n;return e}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){O(e,t,n[t])}))}return e}function j(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function S(e){var t=e.channel,n=e.narrow,i=(0,y.tc)(t),a=(0,y.Xb)(t);o.useEffect((function(){p.default.track(b.rMx.CHANNEL_BANNER_VIEWED,j(E({},(0,s.hH)(t.getGuildId()),(0,s.v_)(t)),{
banner_type:"thread"}))}),[t]);return(0,r.jsxs)("div",{className:c()(g().chatHeaderBar,O({},g().narrow,n)),children:[(0,r.jsx)(d.x,{className:g().chatHeaderBarText,variant:"text-sm/normal",color:"header-secondary",children:t.isForumPost()?v.Z.Messages.FORUM_POST_HEADER_NOTICE_LOCKED:v.Z.Messages.THREAD_HEADER_NOTICE_LOCKED}),i?(0,r.jsx)(f.Co,{size:n?f.Co.Sizes.SMALL:f.Co.Sizes.TINY,className:g().chatHeaderBarButton,color:f.Co.Colors.PRIMARY,onClick:function(){p.default.track(b.rMx.CHANNEL_BANNER_CTA_CLICKED,j(E({},(0,s.hH)(t.getGuildId()),(0,s.v_)(t)),{banner_type:"thread",cta_type:"unarchive"}));h.Z.unarchiveThread(t,a)},children:v.Z.Messages.UNARCHIVE}):null]})}var C=n(791462),P=n(688417),I=n(53211),_=n(53551),w=n(356004),x=n(390504),N=n(680977),T=n(36656),A=n.n(T);function Z(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function R(e){for(var t=1;t<arguments.length;t++){
var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Z(e,t,n[t])}))}return e}function M(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function D(e){var t=e.guild,n=e.channel,i=(0,C.cj)([w.Z,x.Z],(function(){return{category:null!=n.parent_id?w.Z.getChannel(n.parent_id):null,isGuildMuted:x.Z.isMuted(n.getGuildId()),isCategoryMuted:null!=n.parent_id&&x.Z.isChannelMuted(n.getGuildId(),n.parent_id),
isChannelMuted:x.Z.isChannelMuted(n.getGuildId(),n.id),messageNotifications:x.Z.resolvedMessageNotifications(n)}})),a=i.category,l=i.isGuildMuted,u=i.isCategoryMuted,c=i.isChannelMuted,h=i.messageNotifications,y=(0,I.Z)(n,!0);o.useEffect((function(){p.default.track(b.rMx.CHANNEL_BANNER_VIEWED,M(R({},(0,s.hH)(n.getGuildId()),(0,s.v_)(n)),{banner_type:"chat_notification_settings"}))}),[n]);if(!(0,_.Qm)(n.type)||n.isThread())return null;var m,g,O,E=l||u||c;if(E){var j;if(l){var S;j=null!==(S=null==t?void 0:t.name)&&void 0!==S?S:"???";O=function(){p.default.track(b.rMx.CHANNEL_BANNER_CTA_CLICKED,M(R({},(0,s.hH)(n.getGuildId()),(0,s.v_)(n)),{banner_type:"chat_notification_settings",cta_type:"unmute guild"}));P.Z.updateGuildNotificationSettings(n.getGuildId(),{muted:!1})}}else if(u){var T;j=null!==(T=null==a?void 0:a.name)&&void 0!==T?T:"???";O=function(){p.default.track(b.rMx.CHANNEL_BANNER_CTA_CLICKED,M(R({},(0,s.hH)(n.getGuildId()),(0,s.v_)(n)),{banner_type:"chat_notification_settings",
cta_type:"unmute parent"}));P.Z.updateChannelOverrideSettings(n.getGuildId(),n.parent_id,{muted:!1})}}else{j=y;O=function(){p.default.track(b.rMx.CHANNEL_BANNER_CTA_CLICKED,M(R({},(0,s.hH)(n.getGuildId()),(0,s.v_)(n)),{banner_type:"chat_notification_settings",cta_type:"unmute channel"}));P.Z.updateChannelOverrideSettings(n.getGuildId(),n.id,{muted:!1})}}m=v.Z.Messages.CHANNEL_CHAT_NOTIFICATION_SETTINGS_NOTICE_MUTED.format({name:j});g=v.Z.Messages.UNMUTE}else{if(h===b.bL.ALL_MESSAGES)return null;m=v.Z.Messages.CHANNEL_CHAT_NOTIFICATION_SETTINGS_NOTICE_ONLY_MENTIONS.format({name:y});g=v.Z.Messages.ENABLE_NOTIFICATIONS_TITLECASE;O=function(){p.default.track(b.rMx.CHANNEL_BANNER_CTA_CLICKED,M(R({},(0,s.hH)(n.getGuildId()),(0,s.v_)(n)),{banner_type:"chat_notification_settings",cta_type:"enable all messages"}));P.Z.updateChannelOverrideSettings(n.getGuildId(),n.id,{message_notifications:b.bL.ALL_MESSAGES})}}return(0,r.jsxs)("div",{className:A().chatHeaderBar,children:[(0,r.jsx)(N.Z,{
className:A().chatHeaderBarIcon,foreground:E?A().chatHeaderBarIconStrikethrough:void 0}),(0,r.jsx)(d.x,{className:A().chatHeaderBarText,variant:"text-sm/normal",color:"header-secondary",children:m}),(0,r.jsx)(f.Co,{size:f.Co.Sizes.TINY,color:f.Co.Colors.PRIMARY,className:A().chatHeaderBarButton,onClick:O,children:g})]})}const L=o.memo((function(e){var t,n=e.channel,o=e.guild,u=e.narrow,c=(0,i.Z)(n);return n.isArchivedThread()&&(null===(t=n.threadMetadata)||void 0===t?void 0:t.locked)?(0,r.jsx)(S,{channel:n,narrow:u}):c?(0,r.jsx)(a.Z,{channel:n,narrow:u}):(0,l.c)()?(0,r.jsx)(D,{guild:o,channel:n}):null}))},960988:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});var r=n(785893),o=n(667294),i=n(606076),a=n(791462),l=n(915354),u=n(191940),c=n(552007),s=n(48843),f=n(304546),d=n(685351),p=n(470392),h=n.n(p);const y=o.memo((function(e){
var t=e.message,n=e.subtitle,p=e.countdown,y=e.buttonText,b=e.buttonColor,v=e.buttonSubmitting,m=e.onButtonClick,g=e.imageSrc,O=e.animationSrc,E=e.secondaryButtonText,j=e.onSecondaryButtonClick,S=e.children,C=e.useReducedMotion,P=void 0!==C&&C,I=(0,a.e7)([l.ZP],(function(){return l.ZP.getState().isMembersOpen}));if(i.tq&&I)return null;if(null==t)return(0,r.jsx)(r.Fragment,{children:o.Children.only(S)});var _=null;null!=g?_=(0,r.jsx)("img",{alt:"",src:g,className:h().image}):null!=O&&(_=(0,r.jsx)(f.Z,{importData:O,shouldAnimate:!P,className:h().animation}));return(0,r.jsxs)("div",{className:h().wrapper,children:[(0,r.jsxs)("div",{className:h().content,children:[_,(0,r.jsxs)("div",{className:h().text,children:[(0,r.jsx)(s.X,{variant:"heading-md/medium",className:h().title,children:t}),null!=n&&(0,r.jsx)(d.x,{color:"text-muted",variant:"text-xs/normal",children:n})]})]}),(0,r.jsxs)("div",{className:h().buttonContainer,children:[null!=E&&(0,r.jsx)(u.Co,{className:h().button,
size:u.Co.Sizes.SMALL,onClick:j,look:u.Co.Looks.LINK,color:u.Co.Colors.PRIMARY,submitting:v,children:E}),null!=y&&(0,r.jsx)(u.Co,{className:h().button,size:u.Co.Sizes.SMALL,onClick:m,submitting:v,color:null!=b?b:u.Co.Colors.PRIMARY,children:y})]}),null!=p&&(0,r.jsx)(c.Z,{className:h().countdown,deadline:p})]})}))},748670:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(785893),o=(n(667294),n(791462)),i=n(735713),a=n(105405),l=n(95467),u=n(960988),c=n(461061),s=n(959797);function f(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function d(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){
Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function p(e){var t=e.channel,p=e.children,h=(0,o.e7)([a.Z],(function(){return a.Z.isBlocked(t.getRecipientId())})),y=t.isSystemDM(),b=h&&!y&&!t.isMultiUserDM(),v={};if(y){v.message=s.Z.Messages.SYSTEM_DM_CHANNEL_DESCRIPTION;v.subtitle=s.Z.Messages.SYSTEM_DM_CHANNEL_DESCRIPTION_SUBTEXT;v.buttonText=s.Z.Messages.LEARN_MORE;v.onButtonClick=function(){return open(l.Z.getArticleURL(c.BhN.SYSTEM_DMS))};v.imageSrc=n(32028)}else if(b){v.message=s.Z.Messages.DM_VERIFICATION_TEXT_BLOCKED;v.buttonText=s.Z.Messages.UNBLOCK;v.onButtonClick=function(){i.Z.unblockUser(t.getRecipientId())}}return(0,r.jsx)(u.Z,d(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){f(e,t,n[t])}))}
return e}({},v),{children:p}))}},78470:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var r=n(785893),o=n(667294),i=n(606076),a=n(791462),l=n(975584),u=n(80635),c=n(971738),s=n(246887),f=n(82961),d=n(905567),p=n(461061),h=n(959797),y=n(591701),b=n.n(y);function v(e){var t=e.channelId;o.useEffect((function(){l.Z.loadThread(t)}));var y,v=(0,a.e7)([c.Z],(function(){return c.Z.getGuildId()}))===p.I_8,m=(0,a.e7)([u.Z],(function(){return u.Z.theme}));y=v?(0,r.jsx)(s.OZ,{note:h.Z.Messages.FAVORITES_EMPTY_BODY,children:h.Z.Messages.FAVORITES_EMPTY_TITLE}):null!=t?(0,r.jsx)(f.Z,{type:f.Z.Type.SPINNING_CIRCLE}):(0,r.jsx)(s.OZ,{note:h.Z.Messages.CHANNELS_UNAVAILABLE_BODY,children:h.Z.Messages.CHANNELS_UNAVAILABLE_TITLE});return(0,r.jsxs)("div",{className:b().noChannel,children:[i.tq&&(0,r.jsx)(d.ZP,{children:(0,r.jsx)(o.Fragment,{})}),(0,r.jsxs)(s.ZP,{theme:m,children:[(0,r.jsx)(s.ox,{darkSrc:n(v?128112:16697),lightSrc:n(v?876406:105045),width:272,height:222}),y]})]})}},300376:(e,t,n)=>{"use strict"
;n.d(t,{Z:()=>_e});var r=n(785893),o=n(667294),i=n(441143),a=n.n(i),l=n(791462),u=n(822567),c=n(160156),s=n(354290),f=n(730189),d=n(767870),p=n(57859),h=n(619309),y=n(570239),b=n(748737),v=n(191940),m=n(48843),g=n(304546),O=n(685351),E=n(272729),j=n(67416),S=n(959797),C=n(97893),P=n.n(C);function I(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function _(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var w=function(){return n.e(37761).then(n.t.bind(n,299145,19)).then((function(e){return e.default}))};const x=function(e){var t=(0,
E.Dt)();return(0,r.jsxs)(j.Y0,_(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){I(e,t,n[t])}))}return e}({},e),{transitionState:e.transitionState,"aria-labelledby":t,children:[(0,r.jsx)("div",{className:P().animationContainer,children:(0,r.jsx)(g.Z,{importData:w,className:P().animationMiddle})}),(0,r.jsx)(j.hz,{children:(0,r.jsxs)("div",{className:P().container,children:[(0,r.jsx)(m.X,{variant:"heading-xl/medium",className:P().header,id:t,children:S.Z.Messages.MEMBER_VERIFICATION_APPROVED_APPLICATION_MODAL_TITLE.format({guildName:e.guildName})}),(0,r.jsx)(O.x,{variant:"text-sm/normal",color:"header-secondary",children:S.Z.Messages.MEMBER_VERIFICATION_APPROVED_APPLICATION_MODAL_DESC}),(0,r.jsx)(v.Co,{className:P().button,
onClick:function(){e.onAccept();e.onClose()},children:S.Z.Messages.MEMBER_VERIFICATION_APPROVED_APPLICATION_MODAL_CONFIRM})]})})]}))};var N=n(176822),T=n(173436),A=n(630695);function Z(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function R(e){R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return R(e)}function M(e,t){return!t||"object"!==L(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function D(e,t){D=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return D(e,t)}var L=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{
Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=R(e);if(t){var o=R(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return M(this,n)}}var U=null,G=null;function H(){var e=A.Z.mostRecentLurkedGuildId();if(null!=e){U=e;G=null}else if(null!=U){G=U;U=null}else{G=null;U=null}}var B=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&D(e,t)}(n,e);var t=k(n);function n(){Z(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(){this.syncWith([A.Z],H)};r.shouldShowPopout=function(e){return G===e};r.__getLocalVars=function(){return{lurkingGuildId:U,recentlyJoinedGuildId:G}};return n}(l.ZP.Store);B.displayName="LurkerModePopoutStore";const V=new B(T.Z)
;var F=n(954611),W=n.n(F);const Y=function(e){var t=e.guild,o=e.onClose;return(0,r.jsxs)("div",{className:W().container,children:[(0,r.jsx)("img",{alt:"",className:W().image,src:n(419552)}),(0,r.jsxs)("div",{className:W().content,children:[(0,r.jsx)(m.X,{variant:"heading-md/medium",children:S.Z.Messages.LURKER_MODE_POPOUT_SUCCESS_HEADER.format({guild:t.name})}),(0,r.jsx)(O.x,{color:"header-secondary",variant:"text-sm/normal",children:S.Z.Messages.LURKER_MODE_POPOUT_SUCCESS_BODY}),(0,r.jsx)("div",{className:W().buttonContainer,children:(0,r.jsx)(v.Co,{onClick:o,children:S.Z.Messages.LURKER_MODE_POPOUT_SUCCESS_BUTTON})})]})]})};var z=n(893309),K=n(99918),q=n(655695),X=n(80635),Q=n(577088),J=n(212218),$=n(653772),ee=n(243256),te=n(940712),ne=n(859023),re=n(629590),oe=n(761434),ie=n(30741),ae=n(897576),le=n(108580),ue=n(960988),ce=n(461061),se=n(330665),fe=n(979409),de=n.n(fe);function pe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
;return e}function he(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function ye(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){he(i,r,o,a,l,"next",e)}function l(e){he(i,r,o,a,l,"throw",e)}a(void 0)}))}}function be(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ve(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function me(e){me=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return me(e)}function ge(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){ve(e,t,n[t])}))}
return e}function Oe(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Ee(e,t){return!t||"object"!==Se(t)&&"function"!=typeof t?pe(e):t}function je(e,t){je=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return je(e,t)}var Se=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Ce(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){
return!1}}();return function(){var n,r=me(e);if(t){var o=me(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ee(this,n)}}var Pe=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){
a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},Ie=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&je(e,t)}(i,e);var t=Ce(i);function i(){be(this,i);var e;(e=t.apply(this,arguments)).state={submitting:!1,shouldShowLurkerModeUpsellPopout:!1,shouldShowLurkerModeSuccessPopout:!1};e.renderSuccessPopout=function(t){var n=t.closePopout,o=e.props.guild;a()(null!=o,"This guildID cannot be null");return(0,r.jsx)(Y,{onClose:n,guild:o})};e.handleCancelApplication=function(){var t=e.props.guild;null!=t&&(0,ae.h7)((function(e){return(0,r.jsx)(ie.default,Oe(ge({header:S.Z.Messages.MODIFY_FOLLOWED_NEWS_HEADER,
confirmText:S.Z.Messages.CONFIRM,cancelText:S.Z.Messages.CANCEL,onConfirm:function(){return p.Z.removeGuildJoinRequest(t.id)},confirmButtonColor:v.Co.Colors.BRAND},e),{children:(0,r.jsx)(O.x,{variant:"text-md/normal",children:S.Z.Messages.MEMBER_VERIFICATION_CANCEL_APPLICATION_SUBTITLE})}))}))};e.handleViewApplicationRejection=function(){var t=e.props.guild;null!=t&&(0,ae.ZD)(ye((function(){var e,o;return Pe(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(96090)]).then(n.bind(n,696090))];case 1:e=i.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,ge({guildId:t.id},e))}]}}))})))};e.handleShowMemberVerification=function(){var t=e.props.guild;null!=t&&(0,N.Z)(t.id)};e.handleClaimAccount=function(){d.j()};e.handleVerifyPhone=function(){(0,ae.ZD)(ye((function(){var e,t;return Pe(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(97846)]).then(n.bind(n,997846))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,
r.jsx)(t,ge({reason:K.L.GUILD_PHONE_REQUIRED},e))}]}}))})),{modalKey:se.M})};e.handleResendVerification=function(){var e;u.Z.verifyResend();var t=null===(e=ne.default.getCurrentUser())||void 0===e?void 0:e.email;null!=t&&(0,ae.h7)((function(e){return(0,r.jsx)(ie.default,Oe(ge({},e),{header:S.Z.Messages.VERIFICATION_EMAIL_TITLE,confirmText:S.Z.Messages.OKAY,confirmButtonColor:v.Co.Colors.BRAND,children:(0,r.jsx)(O.x,{variant:"text-md/normal",children:S.Z.Messages.VERIFICATION_EMAIL_BODY.format({email:t})})}))}))};e.handleTextAreaClick=function(){var t=e.props.showLurkerModeUpsellPopout;e.setState({shouldShowLurkerModeUpsellPopout:t})};var o=pe(e);e.handleJoinServer=ye((function(){var e;return Pe(this,(function(t){switch(t.label){case 0:o.setState({submitting:!0});e=o.props.channel.getGuildId();t.label=1;case 1:t.trys.push([1,3,,4]);return[4,s.Z.joinGuild(e,{source:ce.vtS.CHAT_INPUT_BLOCKER})];case 2:t.sent();return[3,4];case 3:t.sent();o.setState({submitting:!1});return[3,4];case 4:
return[2]}}))}));e.handleGoBack=function(){e.setState({submitting:!0});(0,q.s1)().goBack()};e.handleFollowAnnouncement=function(){var t=e.props.channel;(0,ae.ZD)(ye((function(){var e,o;return Pe(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(64873)]).then(n.bind(n,964873))];case 1:e=i.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,ge({channel:t},e))}]}}))})))};e.closeLurkerModeUpsellPopout=function(){e.setState({shouldShowLurkerModeUpsellPopout:!1})};e.renderLurkerModeUpsellPopout=function(){var t=e.props.guild;a()(null!=t,"GuildVerification.renderLurkerModeUpsellPopout - guild cannot be undefined");return(0,r.jsx)(z.Z,{type:z.s.CHAT,guild:t,closePopout:e.closeLurkerModeUpsellPopout})};e.renderMemberVerificationSuccessModal=function(){var t=e.props,n=t.guild,o=t.guildJoinRequest,i=(null==o?void 0:o.applicationStatus)===y.wB.APPROVED;if(null==n||null==o||!i||(0,h.d3)(o))return null;var a=function(){return p.Z.ackUserGuildJoinRequest(n.id,o.id)}
;return(0,r.jsx)(j.ZP,{renderModal:function(e){return(0,r.jsx)(x,Oe(ge({},e),{onAccept:a,guildName:n.name}))},onCloseRequest:a})};return e}var l=i.prototype;l.componentDidMount=function(){var e=this.props,t=e.isFollowable,n=e.channelFollowingUsersSeen,r=e.channel;t&&null==n&&c.Z.fetchChannelFollowerStats(r.id)};l.componentDidUpdate=function(e){var t=this.props,n=t.shouldShowLurkerModeSuccessPopout,r=t.guild;t.showMemberVerificationModal||e.shouldShowLurkerModeSuccessPopout||!n||null==r||this.setState({shouldShowLurkerModeSuccessPopout:!0})};l.render=function(){
var e=this,t=this.props,i=t.isFollowable,a=t.isLurking,l=t.notClaimed,u=t.notPhoneVerified,c=t.notEmailVerified,s=t.newMember,f=t.memberDeadline,d=t.newAccount,p=t.accountDeadline,h=t.theme,b=t.children,m=t.canSendMessages,g=t.channelFollowingUsersSeen,O=t.showLurkerModeUpsellPopout,E=t.showMemberVerificationModal,j=t.useReducedMotion,C=t.isStaff,P=t.guildJoinRequest,I=this.state,_=I.shouldShowLurkerModeUpsellPopout,w=I.shouldShowLurkerModeSuccessPopout,x={theme:h,useReducedMotion:j};if(i&&!m){x.message=S.Z.Messages.FOLLOW_NEWS_CHAT_INPUT_MESSAGE;if(null!=g&&g>=1e3){var N=1e3*Math.floor(g/1e3);x.subtitle=S.Z.Messages.FOLLOW_NEWS_CHAT_INPUT_SUBTITLE.format({count:N.toLocaleString()})}x.buttonText=S.Z.Messages.FOLLOW;x.onButtonClick=this.handleFollowAnnouncement;x.imageSrc=n(40028);if(a){x.onSecondaryButtonClick=this.handleJoinServer;x.secondaryButtonText=S.Z.Messages.LURKER_MODE_CHAT_INPUT_BUTTON}}else if(l){x.message=S.Z.Messages.GUILD_VERIFICATION_TEXT_NOT_CLAIMED
;x.buttonText=S.Z.Messages.CLAIM_ACCOUNT;x.onButtonClick=E?this.handleShowMemberVerification:this.handleClaimAccount;x.imageSrc=n(976693)}else if(E)switch(null==P?void 0:P.applicationStatus){case y.wB.SUBMITTED:x.message=S.Z.Messages.MEMBER_VERIFICATION_APPLICATION_CONFIRMATION_TITLE;x.subtitle=S.Z.Messages.MEMBER_VERIFICATION_APPLICATION_CONFIRMATION_SUBTITLE;x.buttonText=S.Z.Messages.MEMBER_VERIFICATION_CANCEL_APPLICATION;x.onButtonClick=this.handleCancelApplication;x.imageSrc=n(312915);break;case y.wB.REJECTED:x.message=S.Z.Messages.MEMBER_VERIFICATION_REJECTED_TITLE;x.buttonText=S.Z.Messages.MEMBER_VERIFICATION_LEARN_MORE;x.onButtonClick=this.handleViewApplicationRejection;x.imageSrc=n(960362);break;default:x.message=S.Z.Messages.MEMBER_VERIFICATION_CHAT_BLOCKER_TEXT;x.buttonText=S.Z.Messages.MEMBER_VERIFICATION_NOTICE_CTA;x.buttonColor=v.Tt.BRAND;x.onButtonClick=this.handleShowMemberVerification;x.animationSrc=function(){
return n.e(61029).then(n.t.bind(n,640002,19)).then((function(e){return e.default}))}}else if(u&&!C){x.message=S.Z.Messages.GUILD_VERIFICATION_TEXT_NOT_PHONE_VERIFIED;x.buttonText=S.Z.Messages.VERIFY_PHONE;x.onButtonClick=this.handleVerifyPhone;x.imageSrc=n(470914)}else if(c){x.message=S.Z.Messages.GUILD_VERIFICATION_TEXT_NOT_VERIFIED;x.buttonText=S.Z.Messages.RESEND_VERIFICATION_EMAIL;x.onButtonClick=this.handleResendVerification;x.imageSrc=n(976693)}else if(s){x.message=S.Z.Messages.GUILD_VERIFICATION_TEXT_MEMBER_AGE.format({min:ce.fDV.MEMBER_AGE});x.countdown=f}else if(d){x.message=S.Z.Messages.GUILD_VERIFICATION_TEXT_ACCOUNT_AGE.format({min:ce.fDV.ACCOUNT_AGE});x.countdown=p}return(0,r.jsx)(oe.ZP,{position:oe.ZP.Positions.TOP,align:oe.ZP.Align.LEFT,shouldShow:w,onRequestClose:function(){return e.setState({shouldShowLurkerModeSuccessPopout:!1})},renderPopout:this.renderSuccessPopout,children:function(t){return(0,r.jsx)(ue.Z,Oe(ge({},x),{children:(0,r.jsxs)(o.Fragment,{
children:[e.renderMemberVerificationSuccessModal(),O?(0,r.jsx)(oe.ZP,{renderPopout:e.renderLurkerModeUpsellPopout,shouldShow:_,position:oe.ZP.Positions.TOP,children:function(t){return(0,r.jsx)(re.Z,Oe(ge({},t),{className:de().clickableChannelTextArea,onClick:e.handleTextAreaClick,children:b}))}}):b]})}))}})};return i}(o.PureComponent);const _e=l.ZP.connectStores([$.Z,ee.Z,A.Z,X.Z,Q.Z,V,te.Z,J.ZP,ne.default,b.Z,f.Z],(function(e){var t,n,r,o,i=e.channel,a=i.getGuildId(),l=$.Z.getGuild(a),u=ee.Z.getCheck(a),c=i.type===ce.d4z.GUILD_ANNOUNCEMENT&&null!=l&&l.hasFeature(ce.oNc.NEWS),s=c?Q.Z.getFollowerStatsForChannel(i.id):null,d=A.Z.isLurking(a),p=ne.default.getCurrentUser(),h=null!==(n=null==p?void 0:p.isStaff())&&void 0!==n&&n,v=null!=p&&(null!==(r=null===(t=J.ZP.getMember(a,p.id))||void 0===t?void 0:t.isPending)&&void 0!==r&&r),m=!!(null==l?void 0:l.hasVerificationGate()),g=(v||u.notClaimed)&&m,O=b.Z.getRequest(a);return Oe(ge({},u),{guild:l,isLurking:d,isFollowable:c,
shouldShowLurkerModeSuccessPopout:V.shouldShowPopout(a),showLurkerModeUpsellPopout:d&&null!=l&&le.ZP.canEveryoneRole(ce.Plq.SEND_MESSAGES,i),theme:X.Z.theme,canSendMessages:te.Z.can(ce.Plq.SEND_MESSAGES,i),channelFollowingUsersSeen:null!=s?s.usersSeenEver:null,hasVerificationGate:m,showMemberVerificationModal:g,guildJoinRequestStatus:null!==(o=null==O?void 0:O.applicationStatus)&&void 0!==o?o:y.wB.STARTED,guildJoinRequest:O,useReducedMotion:f.Z.useReducedMotion,isStaff:h})}))(Ie)},630164:(e,t,n)=>{"use strict";n.d(t,{Z:()=>k});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),l=n(791462),u=n(80635),c=n(733285),s=n(191940),f=n(761434),d=n(757987),p=n(240243);function h(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function y(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){
var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function b(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function v(e){var t=e.width,n=void 0===t?24:t,o=e.height,i=void 0===o?24:o,a=e.color,l=void 0===a?"currentColor":a,u=e.foreground,c=b(e,["width","height","color","foreground"]);return(0,r.jsxs)("svg",y(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){h(e,t,n[t])}))}return e}({},(0,p.Z)(c)),{width:n,height:i,viewBox:"0 0 24 24",children:[(0,r.jsx)("path",{d:"M7.19999 18C7.19999 17.3364 6.77 16.8 6.24019 16.8H3.3598C2.82999 16.8 2.39999 17.3364 2.39999 18V20.4C2.39999 21.0636 2.82999 21.6 3.3598 21.6H6.23923C6.76904 21.6 7.19903 21.0636 7.19903 20.4V18H7.19999Z",fill:l,className:u}),(0,r.jsx)("path",{d:"M14.4 10.6909C14.4 10.0876 13.9699 9.6 13.44 9.6H10.56C10.0301 9.6 9.60001 10.0876 9.60001 10.6909V20.5091C9.60001 21.1124 10.0301 21.6 10.56 21.6H13.44C13.9699 21.6 14.4 21.1124 14.4 20.5091V10.6909Z",fill:l,className:u}),(0,r.jsx)("path",{d:"M21.6 3.46667C21.6 2.8768 21.1699 2.4 20.64 2.4H17.76C17.2301 2.4 16.8 2.8768 16.8 3.46667V20.5333C16.8 21.1232 17.2301 21.6 17.76 21.6H20.64C21.1699 21.6 21.6 21.1232 21.6 20.5333V3.46667Z",fill:l,
className:u})]}))}var m=n(680892),g=n(23531),O=n(461061),E=n(883806),j=n.n(E);function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function P(e){P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return P(e)}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){C(e,t,n[t])}))}return e}function _(e,t){return!t||"object"!==N(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function w(e,t){w=Object.setPrototypeOf||function(e,t){
e.__proto__=t;return e};return w(e,t)}var x,N=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=P(e);if(t){var o=P(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _(this,n)}}var A,Z,R=(C(x={},O.IE4.UNKNOWN,d.ZP.Colors.BLACK),C(x,O.IE4.BAD,d.ZP.Colors.RED),C(x,O.IE4.AVERAGE,d.ZP.Colors.YELLOW),C(x,O.IE4.FINE,d.ZP.Colors.GREEN),x),M=(C(A={},O.QKv.CONNECTED,j().rtcConnectionStatusConnected),C(A,O.QKv.CONNECTING,j().rtcConnectionStatusConnecting),C(A,O.QKv.ERROR,j().rtcConnectionStatusError),A),D=(C(Z={},O.IE4.FINE,j().rtcConnectionQualityFine),C(Z,O.IE4.AVERAGE,j().rtcConnectionQualityAverage),
C(Z,O.IE4.BAD,j().rtcConnectionQualityBad),C(Z,O.IE4.UNKNOWN,null),Z),L=l.ZP.connectStores([c.Z,u.Z],(function(){return{theme:u.Z.theme,connectionState:c.Z.getState(),hostname:c.Z.getHostname(),averagePing:c.Z.getAveragePing(),lastPing:c.Z.getLastPing(),outboundLossRate:c.Z.getOutboundLossRate(),pings:c.Z.getPings()}}))(g.Z);const k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&w(e,t)}(n,e);var t=T(n);function n(){S(this,n);var e;(e=t.apply(this,arguments)).renderPopout=function(e){return(0,r.jsx)(L,I({},e))};return e}var o=n.prototype;o.renderPopoutTarget=function(e){return(0,r.jsx)(f.ZP,{renderPopout:this.renderPopout,position:f.ZP.Positions.TOP,children:e})};o.renderStatus=function(){
var e=this.props,t=e.statusTextClassName,n=e.hasVideo,o=e.state,i=m.Z.getStatus(o,n),l=i.connectionStatus,u=i.connectionStatusText;return this.renderPopoutTarget((function(e){var n=e.onClick;return(0,r.jsx)(s.Co,{look:s.Co.Looks.BLANK,size:s.Co.Sizes.NONE,className:a()(t,M[l]),onClick:n,children:u})}))};o.render=function(){var e,t=this.props,n=t.quality,o=t.smallPing,i=t.lastPing,l=t.state,u=t.className,c=t.children;l===O.hes.RTC_CONNECTED&&(e=(0,r.jsx)(d.ZP,{text:n!==O.IE4.UNKNOWN&&null!=i?"".concat(i.toFixed(0)," ms"):null,color:R[n],children:function(e){return(0,r.jsx)(v,I({className:a()(j().ping,C({},j().smallPing,o)),foreground:j().pingForeground},e))}}));return(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:a()(j().rtcConnectionStatus,D[n],u),children:[e,(0,r.jsx)("div",{className:j().labelWrapper,children:this.renderStatus()})]}),c]})};return n}(o.PureComponent)},338215:(e,t,n)=>{"use strict";n.d(t,{Z:()=>w})
;var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),l=n(658045),u=n(356002),c=n(553314),s=n(487502),f=n(761434),d=n(685351),p=n(766936),h=n(895076),y=n(461061),b=n(596e3),v=n.n(b);function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function O(e){O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return O(e)}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){g(e,t,n[t])}))}return e}function j(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){
var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function S(e,t){return!t||"object"!==P(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function C(e,t){C=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return C(e,t)}var P=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){
var n,r=O(e);if(t){var o=O(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return S(this,n)}}var _=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&C(e,t)}(n,e);var t=I(n);function n(){m(this,n);var e;(e=t.apply(this,arguments)).state={popoutOpen:!1};e.handleClickUser=function(){var t=e.props.onPopoutOpen;e.setState({popoutOpen:!e.state.popoutOpen});null==t||t()};e.handleUserPopoutClose=function(){var t=e.props.onPopoutClose;e.setState({popoutOpen:!1});null==t||t()};e.renderUserPopout=function(t){var n=e.props,o=n.className,i=n.disablePopout,l=n.onContextMenu,u=n.user,c=n.status,f=n.textClassName,y=n.nick,b=n.guildId;return(0,r.jsxs)(s.Z,{align:s.Z.Align.CENTER,className:a()(v().memberListItem,o,g({},v().popoutDisabled,i)),onContextMenu:l,onMouseDown:t.onMouseDown,
onKeyDown:t.onKeyDown,onClick:e.handleClickUser,children:[(0,r.jsx)(p.ZP,{src:u.getAvatarURL(b,24),className:v().avatar,"aria-label":u.username,size:p.ZP.Sizes.SIZE_24,status:c}),(0,r.jsx)(d.x,{className:a()(v().memberListItemTag,f),variant:"text-sm/normal",children:(0,r.jsx)(h.Z,{user:u,nick:y,usernameClass:v().username,hideDiscriminator:!0})})]})};return e}n.prototype.render=function(){var e=this,t=this.state.popoutOpen,n=this.props,o=n.user,i=n.analyticsContext,a=n.disablePopout,l=n.guildId,s={location:j(E({},i.location),{object:y.qAy.LIST_ITEM})};return(0,r.jsx)(f.ZP,{preload:function(){return(0,u.Z)(o.id,o.getAvatarURL(l,80),{guildId:l})},renderPopout:function(e){return(0,r.jsx)(c.Z,j(E({},e),{guildId:l,userId:o.id,analyticsParams:s}))},position:f.ZP.Positions.LEFT,onRequestClose:this.handleUserPopoutClose,shouldShow:!a&&t,children:function(t){return e.renderUserPopout(t)}})};return n}(o.Component);_.defaultProps={disablePopout:!1};const w=(0,l.Z)(_)},101577:(e,t,n)=>{"use strict"
;n.d(t,{R:()=>C,Z:()=>I});var r=n(785893),o=n(667294),i=n(791462),a=n(370149),l=n(733730),u=n(53551),c=n(989232),s=n(948571),f=n(859023),d=n(693518),p=n(709990),h=n(685351),y=n(757987),b=n(908570),v=n(440455),m=n(461061),g=n(225691),O=n(848545),E=n(959797),j=n(256813),S=n.n(j),C=function(){return(0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)(b.qE,{src:null,size:b.qE.Sizes.DEPRECATED_SIZE_100,className:S().avatar}),(0,r.jsx)(b.DK,{children:E.Z.Messages.INSTANT_INVITE_YOU_HAVE_BEEN_INVITED_TO_JOIN}),(0,r.jsx)(b.Dx,{className:S().inviteResolvingGuildName,children:E.Z.Messages.LOADING})]})},P=function(e){var t=e.guild,n=e.user,o=e.application,i=e.compact;return null!=o?(0,r.jsx)(d.Z,{className:S().appIcon,game:o,size:S().appIconSize}):null!=n?(0,r.jsx)(b.qE,{src:null!=n?n.getAvatarURL(void 0,80):null,size:b.qE.Sizes.SIZE_80,className:i?S().compactAvatar:S().avatar}):null!=t?(0,r.jsx)(v.ZP,{mask:v.ZP.Masks.SQUIRCLE,width:64,height:64,className:S().guildIcon,children:(0,r.jsx)(b.Vj,{guild:t,
size:b.Vj.Sizes.LARGER,animate:!0})}):null};const I=function(e){var t,n=e.invite,o=e.disableUser,d=void 0!==o&&o,v=e.error,j=e.flatActivityCount,C=void 0!==j&&j,I=e.isRegister,_=void 0!==I&&I,w=(0,i.cj)([a.Z,f.default],(function(){return{currentUser:f.default.getCurrentUser(),multiAccounts:a.Z.getUsers()}})),x=w.currentUser,N=w.multiAccounts;if(null==n)return null;var T,A,Z,R=null!=n.guild?new c.Z(n.guild):null,M=null!=n.channel?new u.ZP(n.channel):null,D=null!=n.target_application?new l.Z(n.target_application):null,L=d||null==n.inviter?null:new s.Z(n.inviter),k=!(null!=n.approximate_member_count&&n.approximate_member_count>100||null!=R&&R.hasFeature(m.oNc.COMMUNITY))&&null!=L,U=null,G=!1;if(null!=R){U=null==L?E.Z.Messages.INSTANT_INVITE_YOU_HAVE_BEEN_INVITED_TO_JOIN:E.Z.Messages.AUTH_MESSAGE_INVITED_BY.format({username:L.username});n.target_type===O.Iq.STREAM&&null!=n.target_user&&(U=E.Z.Messages.AUTH_MESSAGE_INVITED_TO_STREAM.format({username:n.target_user.username}))
;n.target_type===O.Iq.EMBEDDED_APPLICATION&&null!=n.target_application&&(U=null!=L?E.Z.Messages.AUTH_MESSAGE_INVITED_TO_PLAY_USERNAME.format({username:L.username}):E.Z.Messages.AUTH_MESSAGE_INVITED_TO_PLAY);k&&null==D&&(T=(0,r.jsx)(b.Vj,{guild:R,size:b.Vj.Sizes.SMALL}));A=R.name;if(null!=D){A=D.name;Z=(0,r.jsxs)("div",{children:[(0,r.jsx)(b.DK,{className:S().appIn,children:E.Z.Messages.EMBEDDED_ACTIVITIES_INVITE_IN}),(0,r.jsxs)("div",{className:S().guildContainer,children:[(0,r.jsx)(b.Vj,{guild:R,size:b.Vj.Sizes.SMALL}),(0,r.jsx)(h.x,{tag:"span",variant:"text-lg/normal",color:"header-primary",className:S().appGuildName,children:R.name})]})]})}}else if(null!=M){if(null==L)throw new Error("no inviter in group DM invite");var H=L.username;if(null!=M.name&&""!==M.name){U=E.Z.Messages.AUTH_MESSAGE_INVITED_BY.format({username:H});A=M.name;null!=M.icon&&(T=(0,r.jsx)(b.MC,{channel:M,size:b.qE.Sizes.SIZE_32}))}else{U=E.Z.Messages.INSTANT_INVITE_YOU_HAVE_BEEN_INVITED_TO_JOIN_GROUP_DM;A=H}
}else if(null!=L){A=E.Z.Messages.INSTANT_INVITE_YOU_HAVE_BEEN_INVITED_TO_CHAT.format({username:L.username});G=!0;Z=null!=v?null:(0,r.jsx)(b.DK,{className:S().directInviteSubTitle,children:_?E.Z.Messages.INSTANT_INVITE_DIRECT_FRIEND_DESCRIPTION_REGISTER.format({username:"".concat(L.username,"#").concat(L.discriminator)}):E.Z.Messages.INSTANT_INVITE_DIRECT_FRIEND_DESCRIPTION.format({username:"".concat(L.username,"#").concat(L.discriminator)})})}return(0,r.jsxs)("div",{className:S().container,children:[(0,r.jsx)(P,{application:D,guild:R,user:k?L:null,compact:G}),null!=v?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(b.DK,{children:E.Z.Messages.INVITE_MODAL_ERROR_TITLE}),(0,r.jsx)(b.Dx,{children:v})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(b.DK,{children:U}),(0,r.jsxs)(b.Dx,{className:S().title,children:[null!=R?(0,r.jsx)(p.Z,{guild:R,className:S().guildBadge,tooltipPosition:y.ZP.Positions.LEFT}):null,T,A]})]
}),Z,null!=D||G||(null==n||null===(t=n.guild)||void 0===t?void 0:t.id)===g.fQ?null:(0,r.jsx)(b.EJ,{className:S().activityCount,online:n.approximate_presence_count,total:n.approximate_member_count,flat:C}),N.length>1?(0,r.jsx)(b.jQ,{user:x}):null]})}},936570:(e,t,n)=>{"use strict";n.d(t,{RE:()=>Pe,PZ:()=>Ie,Qj:()=>Se});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),l=n(441143),u=n.n(l),c=n(473727),s=n(125447),f=n(606076),d=n(791462),p=n(642400),h=n(281081),y=n(152250),b=n(823569),v=n(879022),m=n(175045),g=n(125628),O=n(53211),E=n(75720),j=n(18416),S=n(962564),C=n(365667),P=n(475823),I=n(390504),_=n(859023),w=n(649762),x=n(629590),N=n(810873),T=n(443536),A=n.n(T);function Z(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function R(e){var t,n=e.selected,o=e.muted,i=void 0!==o&&o,l=e.highlighted,u=void 0!==l&&l,c=e.wrapContent,s=void 0!==c&&c,f=e.avatar,d=e.decorators,p=e.name,h=e.subText,y=e.avatarClassName,b=e.innerClassName
;return(0,r.jsxs)("div",{className:a()(b,A().layout,(t={},Z(t,A().muted,!n&&i),Z(t,A().highlighted,u),Z(t,A().wrappedLayout,s),t)),children:[(0,r.jsx)("div",{className:a()(A().avatar,y),children:f}),(0,r.jsxs)("div",{className:A().content,children:[(0,r.jsxs)("div",{className:A().nameAndDecorators,children:[(0,r.jsx)("div",{className:a()(A().name,Z({},A().wrappedName,s)),children:p}),d]}),null!=h?(0,r.jsx)("div",{className:A().subText,children:h}):null]})]})}var M=n(54806),D=n.n(M);function L(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function k(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){
Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function U(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function G(e){var t,n=e.as,o=e.muted,i=void 0!==o&&o,l=e.selected,u=void 0!==l&&l,c=e.className,s=U(e,["as","muted","selected","className"]),f=null!=n?n:x.Z;return(0,r.jsx)(f,k(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){L(e,t,n[t])}))}return e}({},s),{className:a()(D().interactive,c,(t={},
L(t,D().muted,i),L(t,D().selected,u),t))}))}var H=n(647446),B=n(98848),V=n.n(B);function F(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){F(e,t,n[t])}))}return e}function Y(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function z(e,t){
if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}const K=o.forwardRef((function(e,t){var n=e.className,o=e.focusProps,i=z(e,["className","focusProps"]);return(0,r.jsx)(H.tE,Y(W({},o),{children:(0,r.jsx)("li",Y(W({className:a()(n,V().container)},i),{ref:t}))}))}));var q=n(719455),X=n(897576),Q=n(766936),J=n(917870),$=n(588641),ee=n(325310),te=n(638915),ne=n(461061),re=n(959797),oe=n(386999),ie=n.n(oe);function ae(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function le(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){ae(i,r,o,a,l,"next",e)}function l(e){
ae(i,r,o,a,l,"throw",e)}a(void 0)}))}}function ue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ce(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function se(e){se=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return se(e)}function fe(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&be(e,t)}function de(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){ce(e,t,n[t])}))}return e}function pe(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function he(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function ye(e,t){return!t||"object"!==ve(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}
function be(e,t){be=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return be(e,t)}var ve=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function me(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=se(e);if(t){var o=se(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ye(this,n)}}var ge=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,
r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},Oe=$.default.getEnableHardwareAcceleration()?Q.Xo:Q.ZP,Ee={offset:{top:2,bottom:2,right:4}},je=function(e){return(0,r.jsx)(x.Z,pe(de({className:ie().closeButton},e),{focusProps:{offset:{top:-2,bottom:-2,left:-2,right:6}},children:(0,r.jsx)(q.Z,{className:ie().closeIcon})}))
},Se=function(e){fe(n,e);var t=me(n);function n(){ue(this,n);return t.apply(this,arguments)}n.prototype.render=function(){var e=this.props,t=e.route,n=e.selected,o=e.icon,i=e.text,l=e.children,u=e.locationState,s=e.onClick,d=e.className,p=e.role,h=e["aria-posinset"],y=e["aria-setsize"],b=he(e,["route","selected","icon","text","children","locationState","onClick","className","role","aria-posinset","aria-setsize"]);return(0,r.jsx)(K,{className:a()(ie().channel,ce({},ie().fullWidth,f.tq),d),onClick:s,role:p,focusProps:de({within:!0},Ee),"aria-posinset":h,"aria-setsize":y,children:(0,r.jsx)(G,{as:"div",selected:n,className:a()(ie().interactive,ie().linkButton,ce({},ie().interactiveSelected,n)),children:(0,r.jsxs)(c.rU,pe(de({to:{pathname:t,state:u},className:ie().link},b),{children:[(0,r.jsx)(R,{selected:n,muted:!1,avatar:(0,r.jsx)(o,{className:ie().linkButtonIcon}),name:i,innerClassName:ie().avatarWithText}),l]}))})})};return n}(o.Component),Ce=function(e){fe(i,e);var t=me(i)
;function i(){ue(this,i);var e;(e=t.apply(this,arguments)).state={hovered:!1};e._linkRef=o.createRef();e._listItemRef=o.createRef();e.handleMouseEnter=function(){e.setState({hovered:!0})};e.handleMouseLeave=function(){e.setState({hovered:!1})};e.handleClose=function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null!=t){t.preventDefault();t.stopPropagation()}var r=e.props.channel;p.Z.closePrivateChannel(r.id,e.props.selected,n)};e.handleContextMenu=function(t){var o=e.props,i=o.channel,a=o.selected,l=o.user;i.isMultiUserDM()?(0,h.jW)(t,le((function(){var e,t;return ge(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(87996),n.e(11499)]).then(n.bind(n,411499))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,pe(de({},e),{channel:i,selected:a}))}]}}))})),{noBlurEvent:!0}):(0,h.jW)(t,le((function(){var e,t;return ge(this,(function(o){switch(o.label){case 0:
return[4,Promise.all([n.e(87996),n.e(45323),n.e(63952)]).then(n.bind(n,281327))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,pe(de({},e),{user:l,channel:i,channelSelected:a}))}]}}))})))};e.handleLeaveGroup=function(t){t.preventDefault();t.stopPropagation();var n=e.props,o=n.channel,i=n.channelName,a=re.Z.Messages.LEAVE_GROUP_DM_TITLE.format({name:i}),l=re.Z.Messages.LEAVE_GROUP_DM_BODY.format({name:i});if(o.isManaged()){a=re.Z.Messages.LEAVE_GROUP_DM_MANAGED_TITLE.format({name:i});l=re.Z.Messages.LEAVE_GROUP_DM_MANAGED_BODY.format({name:i})}(0,X.h7)((function(t){return(0,r.jsx)(te.Z,de({header:a,body:l,onSubmit:e.handleClose},t))}))};e.handleMouseDown=function(){p.Z.preload(ne.ME,e.props.channel.id)};e.handleCloseButtonMouseDown=function(e){e.stopPropagation()};e.onContainerClick=function(t){if(t.target===t.currentTarget){var n;null===(n=e._linkRef.current)||void 0===n||n.click()}};return e}var l=i.prototype;l.renderSubtitle=function(){
var e=this.props,t=e.channel,n=e.activities,o=e.applicationStream,i={className:ie().activity,textClassName:ie().activityText,emojiClassName:ie().activityEmoji};return t.isSystemDM()?(0,r.jsx)("div",{className:ie().subtext,children:re.Z.Messages.SYSTEM_DM_ACTIVITY_TEXT}):t.isMultiUserDM()?(0,r.jsx)("div",{className:ie().subtext,children:re.Z.Messages.MEMBERS_HEADER.format({members:t.recipients.length+1})}):null!=n?(0,r.jsx)(ee.Z,pe(de({},i),{activities:n,applicationStream:o,animate:this.state.hovered,hideTooltip:!0})):null};l.renderAvatar=function(){var e=this.props,t=e.channel,n=e.user,o=e.status,i=e.activities,a=e.isTyping,l=e.isMobile,c=e.canUseAvatarDecorations,s=void 0!==c&&c;if(t.isMultiUserDM())return(0,r.jsx)(Oe,{src:(0,g.x)(t),"aria-hidden":!0,className:ie().avatar,size:Q.u8.SIZE_32});u()(null!=n,"PrivateChannel.renderAvatar: Invalid prop configuration - no user or channel");var f=null;n.isSystemUser()||(f=(0,y.Z)(i)?ne.Skl.STREAMING:o);var d=s?(0,J.NZ)({userId:n.id,
avatarDecoration:n.avatarDecoration,size:(0,v.y)(Q.u8.SIZE_32)}):null;return(0,r.jsx)(Oe,{size:Q.u8.SIZE_32,src:n.getAvatarURL(void 0,32),avatarDecoration:d,status:f,isMobile:l,isTyping:a,className:ie().avatar,"aria-label":n.username,statusTooltip:!0})};l.render=function(){var e=this,t=this.props,n=t.channel,o=t.channelName,i=t.selected,l=t.muted,u=t.hasUnreadMessages,f=n.isMultiUserDM(),d=n.isSystemDM(),p=(0,E.Q)();return(0,r.jsx)(s.mh,{id:n.id,children:function(t){var s,h=t.role,y=he(t,["role"]);return(0,r.jsx)(K,{className:ie().channel,role:h,focusProps:pe(de({},Ee),{focusTarget:e._linkRef,ringTarget:e._listItemRef}),ref:e._listItemRef,onMouseEnter:e.handleMouseEnter,onMouseLeave:e.handleMouseLeave,onMouseDown:e.handleMouseDown,onContextMenu:e.handleContextMenu,"aria-setsize":e.props["aria-setsize"],"aria-posinset":e.props["aria-posinset"],children:(0,r.jsxs)(G,{className:a()(ie().interactive,(s={},ce(s,ie().interactiveSystemDM,p&&d),ce(s,ie().interactiveSelected,i),s)),as:"div",
onClick:e.onContainerClick,muted:l,selected:i,children:[(0,r.jsx)(c.rU,pe(de({innerRef:e._linkRef,to:ne.Z5c.CHANNEL(ne.ME,n.id),className:ie().link,"aria-label":(0,m.Z)({channel:n,unread:u})},y),{children:(0,r.jsx)(R,{avatar:e.renderAvatar(),selected:i,highlighted:u,muted:null!=l&&l,subText:e.renderSubtitle(),name:(0,r.jsx)(N.Z,{children:o}),decorators:n.isSystemDM()?(0,r.jsx)(w.Z,{className:ie().decorator,type:w.Z.Types.SYSTEM_DM,verified:!0}):null})})),!d&&(0,r.jsx)(je,{"aria-label":f?re.Z.Messages.LEAVE_GROUP_DM:re.Z.Messages.CLOSE_DM,onClick:f?e.handleLeaveGroup:e.handleClose,onMouseDown:e.handleCloseButtonMouseDown})]})})}})};return i}(o.PureComponent);Ce.defaultProps={selected:!1};var Pe=function(e){var t=e.channel,n=e.selected,o=he(e,["channel","selected"]),i=(0,d.e7)([_.default],(function(){return _.default.getUser(t.getRecipientId())})),a=(0,d.cj)([S.Z,j.Z],(function(){return{status:null!=i?S.Z.getStatus(i.id):null,activities:null!=i?S.Z.getActivities(i.id):null,
applicationStream:null!=i?j.Z.getStreamForUser(i.id):null,isMobile:null!=i&&S.Z.isMobileOnline(i.id)}}),[null==i?void 0:i.id]),l=(0,d.e7)([P.Z],(function(){return null!=i?P.Z.isTyping(t.id,t.getRecipientId()):void 0})),u=(0,d.e7)([I.Z],(function(){return I.Z.isChannelMuted(t.getGuildId(),t.id)})),c=(0,d.e7)([C.ZP],(function(){return C.ZP.getMentionCount(t.id)>0})),s=(0,O.Z)(t),f=(0,b.E)().canUseAvatarDecorations;return(0,r.jsx)(Ce,de({channel:t,channelName:s,selected:n,user:i,isTyping:l,muted:u,hasUnreadMessages:c,canUseAvatarDecorations:f},o,a))},Ie=function(e){var t=e.channel,n=e.selected,o=he(e,["channel","selected"]),i=(0,d.e7)([I.Z],(function(){return I.Z.isChannelMuted(t.getGuildId(),t.id)})),a=(0,d.e7)([C.ZP],(function(){return C.ZP.getMentionCount(t.id)>0})),l=(0,O.Z)(t);return(0,r.jsx)(Ce,de({channel:t,channelName:l,selected:n,muted:i,hasUnreadMessages:a},o))}},638915:(e,t,n)=>{"use strict";n.d(t,{Z:()=>b})
;var r=n(785893),o=n(667294),i=n(146530),a=n(685351),l=n(30741),u=n(959797),c=n(500725),s=n.n(c);function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function p(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function h(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){
var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e){var t=e.header,n=e.body,c=e.onSubmit,f=h(e,["header","body","onSubmit"]),b=y(o.useState(!1),2),v=b[0],m=b[1];return(0,r.jsxs)(l.default,p(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){d(e,t,n[t])}))}return e}({header:t,confirmText:u.Z.Messages.LEAVE_GROUP_DM,cancelText:u.Z.Messages.CANCEL,onConfirm:function(){c(null,v)}},f),{children:[(0,r.jsx)(a.x,{variant:"text-md/normal",children:n}),(0,r.jsx)(i.Z,{type:i.Z.Types.INVERTED,value:v,onChange:function(){return m((function(e){return!e}))},className:s().checkbox,children:(0,r.jsx)(a.x,{variant:"text-md/normal",
children:u.Z.Messages.LEAVE_GROUP_DM_SILENTLY})})]}))}},428907:(e,t,n)=>{"use strict";n.d(t,{Z:()=>Q});var r=n(785893),o=n(667294),i=n(823493),a=n.n(i),l=n(125447),u=n(666164),c=n(791462),s=n(606750),f=n(8062),d=n(136770),p=n(599414),h=n(730189),y=n(23816),b=n(805448),v=n(861925),m=n(35197),g=n(996515),O=n(47195),E=n(356004),j=n(962564),S=n(703863),C=n(761434),P=n(757987),I=n(272729),_=n(54168),w=n(669525),x=n(880068),N=n(936570),T=n(461061),A=n(959797),Z=n(398842),R=n.n(Z);function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function D(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function k(e){k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return k(e)}function U(e){for(var t=1;t<arguments.length;t++){
var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){L(e,t,n[t])}))}return e}function G(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function H(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e)
;for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function B(e,t){return!t||"object"!==W(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function V(e,t){V=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return V(e,t)}function F(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var W=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=k(e);if(t){var o=k(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return B(this,n)}}var z,K=44;!function(e){e[e.PAGES=0]="PAGES";e[e.DMS=1]="DMS"}(z||(z={}));var q=o.memo((function(){return(0,r.jsxs)("svg",{width:"184",height:"428",
viewBox:"0 0 184 428",className:R().empty,children:[(0,r.jsx)("rect",{x:40,y:6,width:144,height:20,rx:10}),(0,r.jsx)("circle",{cx:16,cy:16,r:16}),(0,r.jsx)("rect",{x:40,y:50,width:144,height:20,rx:10,opacity:.9}),(0,r.jsx)("circle",{cx:16,cy:60,r:16,opacity:.9}),(0,r.jsx)("rect",{x:40,y:94,width:144,height:20,rx:10,opacity:.8}),(0,r.jsx)("circle",{cx:16,cy:104,r:16,opacity:.8}),(0,r.jsx)("rect",{x:40,y:138,width:144,height:20,rx:10,opacity:.7}),(0,r.jsx)("circle",{cx:16,cy:148,r:16,opacity:.7}),(0,r.jsx)("rect",{x:40,y:182,width:144,height:20,rx:10,opacity:.6}),(0,r.jsx)("circle",{cx:16,cy:192,r:16,opacity:.6}),(0,r.jsx)("rect",{x:40,y:226,width:144,height:20,rx:10,opacity:.5}),(0,r.jsx)("circle",{cx:16,cy:236,r:16,opacity:.5}),(0,r.jsx)("rect",{x:40,y:270,width:144,height:20,rx:10,opacity:.4}),(0,r.jsx)("circle",{cx:16,cy:280,r:16,opacity:.4}),(0,r.jsx)("rect",{x:40,y:314,width:144,height:20,rx:10,opacity:.3}),(0,r.jsx)("circle",{cx:16,cy:324,r:16,opacity:.3}),(0,r.jsx)("rect",{x:40,
y:358,width:144,height:20,rx:10,opacity:.2}),(0,r.jsx)("circle",{cx:16,cy:368,r:16,opacity:.2}),(0,r.jsx)("rect",{x:40,y:402,width:144,height:20,rx:10,opacity:.1}),(0,r.jsx)("circle",{cx:16,cy:412,r:16,opacity:.1})]})})),X=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&V(e,t)}(n,e);var t=Y(n);function n(){D(this,n);var e;(e=t.apply(this,arguments)).state={initialized:!1,preRenderedChildren:0,totalRowCount:0,nonNullChildren:[]};e._list=null;e.hasReportedAnalytics=!1;e.reportAnalytics=function(){var t;if(!e.hasReportedAnalytics){var n=null===(t=e._list)||void 0===t?void 0:t.getScrollerState();if(null!=n){var r=e.props,i=r.privateChannelIds,a=r.channels;if(0!==i.length){var l=o.Children.count(e.props.children),u=K*l;if(null!=n){
var c=Math.round((n.offsetHeight-u)/K),s=c>i.length?i.slice(0,c+1):i,f=s.map((function(e){return null!=a[e]?a[e].getRecipientId():null})),d={num_users_visible:s.length,num_users_visible_with_mobile_indicator:f.filter((function(e){return null!=e&&j.Z.isMobileOnline(e)})).length};e.hasReportedAnalytics=!0;y.ZP.trackWithMetadata(T.rMx.DM_LIST_VIEWED,U({},d))}}}}};e.getSectionHeight=function(t){var n=e.props.showDMHeader;return t===z.PAGES?0:n?40:0};e.handleScroll=a()((function(){if(null!=e._list){var t=e._list.getScrollerNode();null!=t&&f.Z.updateChannelListScroll(T.ME,t.scrollTop)}}),100);e.renderDM=function(t,n){var o=e.props,i=o.privateChannelIds,a=o.channels,l=o.selectedChannelId,u=e.state,c=u.totalRowCount,s=u.preRenderedChildren,f=a[i[n]];if(null==f)return null;var d=f.isMultiUserDM()?N.PZ:N.RE;return(0,r.jsx)(d,{channel:f,selected:f.id===l,"aria-posinset":s+n+1,"aria-setsize":c},f.id)};e.renderChild=function(t){var n=e.state,r=n.nonNullChildren,i=n.totalRowCount,a=r[t]
;return o.isValidElement(a)?o.cloneElement(a,{"aria-setsize":i,"aria-posinset":t+1}):a};e.renderRow=function(t){var n=t.section,o=t.row,i=e.props.privateChannelIds;return n===z.PAGES?e.renderChild(o):0===o&&0===i.length?(0,r.jsx)(q,{},"no-private-channels"):e.renderDM(n,o)};e.renderSection=function(t){var n=t.section,o=e.props.showDMHeader;return n!==z.PAGES&&o?(0,r.jsxs)(w.Z,{className:R().privateChannelsHeaderContainer,children:[(0,r.jsx)("span",{className:R().headerText,children:A.Z.Messages.DIRECT_MESSAGES}),(0,r.jsx)(v.Z,{tooltip:A.Z.Messages.CREATE_DM,tooltipPosition:P.ZP.Positions.TOP,popoutAlign:C.ZP.Align.LEFT,iconClassName:R().privateChannelRecipientsInviteButtonIcon,icon:_.Z,subscribeToGlobalHotkey:!0})]},n):null};e.getRowHeight=function(t,n){var r=e.props.privateChannelIds;return t===z.DMS&&0===n&&0===r.length?428:K};return e}var i=n.prototype;i.componentDidMount=function(){var e=this.props,t=e.selectedChannelId,n=e.homeLink
;null!=t&&null!=n&&n.indexOf(t)>=0&&this.scrollToChannel(t);this.reportAnalytics()};i.shouldComponentUpdate=function(e){return!(0,s.Z)(this.props,e,["children"])};i.componentDidUpdate=function(e){var t=this.props,n=t.selectedChannelId,r=t.homeLink;null!=n&&n!==e.selectedChannelId?this.scrollToChannel(n):null==n&&r!==e.homeLink&&this.scrollToChannel(null);this.reportAnalytics()};i.scrollToChannel=function(e){if(null!=this._list){var t=this.props.padding,n=this.state.preRenderedChildren,r=null!=e?this.props.privateChannelIds.indexOf(e):-1,o=0;if(r<0||null==e)this._list.scrollTo({to:o});else{o+=K*(r+n)+t;this._list.scrollIntoViewRect({start:Math.max(o-8,0),end:o+K+8})}}};i.render=function(){var e=this,t=this.props,n=t.privateChannelIds,o=t.padding,i=this.state.preRenderedChildren;return(0,r.jsx)(l.SJ,{children:function(t){var a=t.ref,l=t.role,u=H(t,["ref","role"]);return(0,r.jsx)(b.Wd,{children:function(t){return(0,r.jsx)(x.ZP,U({fade:!0,innerRole:l,
innerAriaLabel:A.Z.Messages.DIRECT_MESSAGES,innerTag:"ul",ref:function(t){e._list=t;e.props.listRef.current=t;var n;a.current=null!==(n=null==t?void 0:t.getScrollerNode())&&void 0!==n?n:null},onScroll:e.handleScroll,className:R().scroller,sectionHeight:e.getSectionHeight,paddingTop:o,paddingBottom:8,rowHeight:e.getRowHeight,renderSection:e.renderSection,renderRow:e.renderRow,sections:[i,Math.max(n.length,1)]},u,t))}})}})};n.getDerivedStateFromProps=function(e){var t=e.children,n=e.privateChannelIds;if(null==t)return{preRenderedChildren:0,nonNullChildren:[],totalRowCount:n.length};var r=t.filter((function(e){return null!=e})),o=r.length;return{preRenderedChildren:o,nonNullChildren:r,totalRowCount:o+n.length}};return n}(o.Component);X.defaultProps={padding:8};const Q=function(e){var t=e.version,n=e.theme,i=e.children,a=e.showDMHeader,s=o.Children.count(i),f=E.Z.getMutablePrivateChannels(),y=(0,d.Td)(),b=(0,p.gA)(),v=function(e,t,n){return t&&n?(0,g.k1)(e):t?(0,g.hP)(e):e}(f,y,b),j=(0,
c.Wu)([S.Z,m.Z,O.Z],(function(){return function(e,t,n,r){var o=F(r,2),i=o[0],a=o[1];return t&&n?(0,g.tU)(e,[i,a]):t?(0,g.Ug)(e,[i]):e}(S.Z.getPrivateChannelIds(),y,b,[m.Z,O.Z])}),[y,b]),C=(0,c.cj)([h.Z,E.Z],(function(){return{theme:h.Z.darkSidebar?T.BRd.DARK:n,keyboardModeEnabled:h.Z.keyboardModeEnabled,version:null!=t?"".concat(t,":").concat(E.Z.getPrivateChannelsVersion()):E.Z.getPrivateChannelsVersion()}})),P=o.useRef(null),_=o.useCallback((function(e){var t=P.current,n=document.querySelector(e);null!=t&&null!=n&&t.scrollIntoViewNode({node:n,callback:function(){requestAnimationFrame((function(){var t;return null===(t=document.querySelector(e))||void 0===t?void 0:t.focus({preventScroll:!0})}))}})}),[]),w=o.useCallback((function(){return new Promise((function(e){var t=P.current;if(null==t)return e();t.scrollToTop({callback:function(){return requestAnimationFrame((function(){return e()}))}})}))}),[]),x=o.useCallback((function(){return new Promise((function(e){var t=P.current
;if(null==t)return e();t.scrollToBottom({callback:function(){requestAnimationFrame((function(){return setTimeout(e,100)}))}})}))}),[]),N=s+(a?1:0),A=(0,I.Dt)(),Z=(0,u.ZP)({id:"private-channels-".concat(A),isEnabled:C.keyboardModeEnabled,scrollToStart:w,scrollToEnd:x,defaultFocused:N.toString(),setFocus:_});return(0,r.jsx)(l.bG,{navigator:Z,children:(0,r.jsx)(X,U(G(U({channels:v,privateChannelIds:j,listRef:P,theme:n,version:t},e),{children:i}),C))})}},23531:(e,t,n)=>{"use strict";n.d(t,{Z:()=>j});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),l=n(706690),u=n(587071),c=n(409271),s=n(934714),f=n(892472),d=n(895917),p=n(932847),h=n(95467),y=n(680892),b=n(461061),v=n(866452),m=n(959797),g=n(910566),O=n.n(g);function E(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}const j=function(e){(0,o.useEffect)((function(){p.default.track(b.rMx.OPEN_POPOUT,{type:"RTC Connection"})}),[]);var t,n=(0,o.useCallback)((function(){
var t=e.closePopout;null!=t&&t();l.bA()}),[e]),i=(0,o.useCallback)((function(){var t=e.hostname,n=e.averagePing,i=e.lastPing,l=e.outboundLossRate,s=c.Sb.getSetting();return(0,r.jsxs)(o.Fragment,{children:[s&&(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:O().graphContainer,children:(0,r.jsx)(u.Z,{dataPoints:e.pings,width:218,height:80})}),(0,r.jsx)("div",{className:O().popoutText,children:(0,r.jsx)("strong",{children:y.Z.getShortHostname(t)})})]}),(0,r.jsx)("div",{className:O().popoutText,children:m.Z.Messages.RTC_CONNECTION_STATE_RTC_CONNECTED_AVERAGE_PING.format({averagePing:n.toFixed(0)})}),null!=i?(0,r.jsx)("div",{className:O().popoutText,children:m.Z.Messages.RTC_CONNECTION_STATE_RTC_CONNECTED_LAST_PING.format({lastPing:i.toFixed(0)})}):null,null!=l?(0,r.jsx)("div",{className:O().popoutText,children:m.Z.Messages.RTC_CONNECTION_STATE_RTC_CONNECTED_LOSS_VALUE.format({outboundLossRate:l.toFixed(1)})}):null,(0,r.jsxs)("div",{className:a()(O().popoutText,O().popoutTextDetails),
children:[null==l?m.Z.Messages.RTC_CONNECTION_STATE_RTC_CONNECTED_DETAILS.format({badPing:250}):null,null!=l?m.Z.Messages.RTC_CONNECTION_STATE_RTC_CONNECTED_DETAILS_WITH_LOSS.format({badPing:250,badLossRate:10}):null]})]})}),[e]),g=e.connectionState,j=c.Sb.getSetting(),S=(t={},E(t,b.hes.AWAITING_ENDPOINT,m.Z.Messages.RTC_CONNECTION_STATE_AWAITING_ENDPOINT.format({url:b.yXt.STATUS})),E(t,b.hes.CONNECTING,m.Z.Messages.RTC_CONNECTION_STATE_CONNECTING),E(t,b.hes.AUTHENTICATING,m.Z.Messages.RTC_CONNECTION_STATE_AUTHENTICATING),E(t,b.hes.DISCONNECTED,m.Z.Messages.RTC_CONNECTION_STATE_DISCONNECTED),E(t,b.hes.RTC_CONNECTING,m.Z.Messages.RTC_CONNECTION_STATE_RTC_CONNECTING),E(t,b.hes.ICE_CHECKING,m.Z.Messages.RTC_CONNECTION_STATE_ICE_CHECKING.format({url:h.Z.getArticleURL(b.BhN.VOICE_CONNECTION_ERRORS)})),E(t,b.hes.DTLS_CONNECTING,m.Z.Messages.RTC_CONNECTION_STATE_ICE_CHECKING.format({url:h.Z.getArticleURL(b.BhN.VOICE_CONNECTION_ERRORS)})),E(t,b.hes.RTC_CONNECTED,i),
E(t,b.hes.NO_ROUTE,m.Z.Messages.RTC_CONNECTION_STATE_NO_ROUTE.format({url:h.Z.getArticleURL(b.BhN.VOICE_CONNECTION_ERRORS)})),E(t,b.hes.RTC_DISCONNECTED,m.Z.Messages.RTC_CONNECTION_STATE_DISCONNECTED),t)[g];return(0,r.jsx)("div",{className:O().container,children:(0,r.jsxs)("section",{className:O().section,children:["function"==typeof S?S():(0,r.jsx)("p",{className:a()(O().popoutText,O().popoutTextDetails),children:S}),(0,r.jsx)("hr",{className:O().separator}),(0,r.jsxs)("div",{className:O().popoutBottom,children:[(0,r.jsx)("span",{className:O().secured,children:m.Z.Messages.SECURE_CONNECTION}),j&&s.Z.supports(v.AN.DIAGNOSTICS)&&!__OVERLAY__&&(0,r.jsxs)(f.Z,{className:O().debugButton,onClick:n,children:[m.Z.Messages.DEBUG,(0,r.jsx)(d.Z,{className:O().launchIcon,width:12,height:12})]}),!j&&!__OVERLAY__&&(0,r.jsx)(f.Z,{className:O().debugButton,href:h.Z.getArticleURL(b.BhN.VOICE_VIDEO_TROUBLESHOOTING),children:m.Z.Messages.LEARN_MORE})]})]})})}},239443:(e,t,n)=>{"use strict";n.d(t,{
Z:()=>p});var r=n(667294),o=n(365523);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e){a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return a(e)}function l(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e,t){u=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return u(e,t)}function c(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var s=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=a(e);if(t){var o=a(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,
configurable:!0}});t&&u(e,t)}(n,e);var t=f(n);function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var r;(r=t.call(this,e))._interval=new o.Xp;r.update=function(){var e=r.props,t=e.onUpdate,n=e.numUpdatesToShow,o=e.pointsToSmooth,i=e.updateInterval,a=r.props.getHistoricalTotalBytes(),l=null!=a[0]?a[0].bytes:0,u=c(r.state.deltaBytes.slice(1,n+o)).concat([l-r.state.lastTotalBytes]);r.setState({deltaBytes:u,smoothedDeltaBytes:r.smoothDeltaBytes(u),lastTotalBytes:l},(function(){return null!=t&&t(i)}))};var i=r.props.getHistoricalTotalBytes(),a=r.calculateInitialDeltaBytes(i);r.state={deltaBytes:a,smoothedDeltaBytes:r.smoothDeltaBytes(a),lastTotalBytes:null!=i[0]?i[0].bytes:0};return r}var r=n.prototype;r.componentDidMount=function(){this.update();this._interval.start(this.props.updateInterval,this.update)};r.componentWillUnmount=function(){this._interval.stop()};r.calculateInitialDeltaBytes=function(e){
for(var t=this.props,n=t.numUpdatesToShow,r=t.updateInterval,o=t.pointsToSmooth,i=Date.now(),a=0,l=0,u=[],c=null!=e[0]?e[0].bytes:0;a<n+o;a++){for(var s=i-(a+1)*r,f=void 0;l<e.length&&(f=e[l]).timestamp>s;)l++;if(l===e.length)break;if(null!=f){u.push(c-f.bytes);c=f.bytes}}for(;a<n+o;a++)u.push(0);u.reverse();return u};r.smoothDeltaBytes=function(e){for(var t=this.props.pointsToSmooth,n=[],r=0;r<e.length-t;r++){for(var o=0,i=0;i<t;i++)o+=e[r+i];n.push(o/t)}return n};r.render=function(){var e=this.props,t=e.numUpdatesToShow,n=e.updateInterval;return(0,e.children)(this.state.smoothedDeltaBytes,n,t)};return n}(r.Component);d.defaultProps={numUpdatesToShow:30,updateInterval:500,pointsToSmooth:10};const p=d},647334:(e,t,n)=>{"use strict";n.d(t,{E:()=>V,Z:()=>F})
;var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),l=n(738017),u=n(791462),c=n(589175),s=n(832010),f=n(655695),d=n(367124),p=n(134734),h=n(937689),y=n(217409),b=n(329915),v=n(757987),m=n(575921),g=n(57203),O=n(239443),E=n(461061),j=n(959797),S=n(305619),C=n.n(S);function P(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function _(e){_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return _(e)}function w(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Z(e,t)}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){I(e,t,n[t])}))}return e}function N(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function T(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r]
;t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function A(e,t){return!t||"object"!==R(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Z(e,t){Z=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Z(e,t)}var R=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function M(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=_(e);if(t){var o=_(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return A(this,n)}}var D,L,k,U,G=(I(U={},E.vxO.INSTALLING,(I(D={},y.J6.NONE,(function(e,t){
return j.Z.Messages.APPLICATION_PROGRESS_INDICATOR_INSTALLING.format({name:e})})),I(D,y.J6.SECONDS,(function(e,t){return j.Z.Messages.APPLICATION_PROGRESS_INDICATOR_INSTALLING_SECONDS.format({name:e,timeRemaining:t})})),I(D,y.J6.MINUTES,(function(e,t){return j.Z.Messages.APPLICATION_PROGRESS_INDICATOR_INSTALLING_MINUTES.format({name:e,timeRemaining:t})})),I(D,y.J6.HOURS,(function(e,t){return j.Z.Messages.APPLICATION_PROGRESS_INDICATOR_INSTALLING_HOURS.format({name:e,timeRemaining:t})})),D)),I(U,E.vxO.UPDATING,(I(L={},y.J6.NONE,(function(e,t){return j.Z.Messages.APPLICATION_PROGRESS_INDICATOR_UPDATING.format({name:e})})),I(L,y.J6.SECONDS,(function(e,t){return j.Z.Messages.APPLICATION_PROGRESS_INDICATOR_UPDATING_SECONDS.format({name:e,timeRemaining:t})})),I(L,y.J6.MINUTES,(function(e,t){return j.Z.Messages.APPLICATION_PROGRESS_INDICATOR_UPDATING_MINUTES.format({name:e,timeRemaining:t})})),I(L,y.J6.HOURS,(function(e,t){
return j.Z.Messages.APPLICATION_PROGRESS_INDICATOR_UPDATING_HOURS.format({name:e,timeRemaining:t})})),L)),I(U,E.vxO.REPAIRING,(I(k={},y.J6.NONE,(function(e,t){return j.Z.Messages.APPLICATION_PROGRESS_INDICATOR_INSTALLING.format({name:e})})),I(k,y.J6.SECONDS,(function(e,t){return j.Z.Messages.APPLICATION_PROGRESS_INDICATOR_INSTALLING_SECONDS.format({name:e,timeRemaining:t})})),I(k,y.J6.MINUTES,(function(e,t){return j.Z.Messages.APPLICATION_PROGRESS_INDICATOR_INSTALLING_MINUTES.format({name:e,timeRemaining:t})})),I(k,y.J6.HOURS,(function(e,t){return j.Z.Messages.APPLICATION_PROGRESS_INDICATOR_INSTALLING_HOURS.format({name:e,timeRemaining:t})})),k)),U),H=function(e){w(n,e);var t=M(n);function n(){P(this,n);var e;(e=t.apply(this,arguments)).renderProgressBody=function(t,n){var r=e.props,o=r.state,i=r.application,a=o.stage,l=o.progress,u=o.total,c=o.type;if(null==l||null==u||null==a)return null
;var s=t[t.length-1]/n*1e3,f=u-l,d=0!==s?Math.max(1,f/s):null,p=null!=d?d/60:null,h=G[c],b=null!=h?Object.keys(h):[],v=(0,y.CI)(p,b),m=v.unit,g=v.time;if(null!=h&&null!=m){var O=h[m];return null!=O?O(i.name,g):null}return null};return e}var o=n.prototype;o.renderText=function(){var e=this.props,t=e.state,n=e.isPaused;if(t.type===E.vxO.UPDATING||t.type===E.vxO.REPAIRING||t.type===E.vxO.INSTALLING){if(n)return j.Z.Messages.APPLICATION_PROGRESS_INDICATOR_PAUSED;if(t.stage===E.f07.PATCHING||t.stage===E.f07.REPAIRING)return(0,r.jsx)(O.Z,{getHistoricalTotalBytes:p.Z.getHistoricalTotalBytesWritten,updateInterval:5e3,children:this.renderProgressBody})}return null};o.render=function(){var e=this.renderText();return null!=e?e:j.Z.Messages.LIBRARY};return n}(o.PureComponent),B=function(e){w(n,e);var t=M(n);function n(){P(this,n);var e;(e=t.apply(this,arguments)).state={animationScale:new l.Z.Value(0)};e.handleOnClick=function(t){var n=e.props.onClick;t.preventDefault();t.stopPropagation()
;null!=n&&n(t);(0,f.uL)(E.Z5c.APPLICATION_LIBRARY)};return e}var o=n.prototype;o.componentWillAppear=function(e){this.state.animationScale.setValue(1);e()};o.componentWillEnter=function(e){l.Z.spring(this.state.animationScale,{toValue:1,duration:200}).start(e)};o.componentWillLeave=function(e){l.Z.spring(this.state.animationScale,{toValue:0,duration:200}).start(e)};o.getTooltipText=function(){var e=this.props,t=e.firstApplication,n=e.firstState,o=e.isPaused;return null==t||null==n?j.Z.Messages.LIBRARY:(0,r.jsx)(H,{application:t,state:n,isPaused:o})};o.render=function(){var e=this.props,t=e.percent,n=e.isPaused,o=e.className;return(0,r.jsx)(l.Z.div,{style:{transform:[{scale:this.state.animationScale}]},className:a()(o,C().progressContainer),onClick:this.handleOnClick,children:(0,r.jsx)(v.ZP,{text:this.getTooltipText(),position:v.ZP.Positions.RIGHT,"aria-label":!1,children:function(e){return(0,r.jsx)("div",N(x({},e),{children:(0,r.jsx)(b.Z,{percent:t,colorOverride:n?(0,
s.Lq)(E.Ilk.PRIMARY_DARK_500):null,children:(0,r.jsx)(m.Z,{className:C().downloadIcon})})}))}})})};return n}(o.PureComponent);B.defaultProps={strokeSize:b.Z.StrokeSizes.MEDIUM};function V(e,t){return e.reduce((function(e,n){var r=n.applicationId,o=n.branchId,i=t.getState(r,o);null!=i&&e.push(i);return e}),[])}const F=u.ZP.connectStores([h.Z,d.Z,p.Z],(function(){var e=h.Z.activeItems,t=V(e,p.Z),n=g.lK(t),r=n.total,o=n.progress;return{percent:g.xI(o,r),isPaused:h.Z.paused,firstApplication:e.length>0?d.Z.getGame(e[0].applicationId):null,firstState:t.length>0?t[0]:null}}))((function(e){var t=e.determineOwnVisibility,n=void 0===t||t,i=T(e,["determineOwnVisibility"]);return n?(0,r.jsx)(c.Z,{component:o.Fragment,children:i.percent>0&&i.percent<100?(0,r.jsx)(B,x({},i)):null}):(0,r.jsx)(B,x({},i))}))},676623:(e,t,n)=>{"use strict";n.r(t);n.d(t,{default:()=>h});var r=n(785893),o=(n(667294),n(53211)),i=n(191940),a=n(685351),l=n(30741),u=n(959797),c=n(188651),s=n.n(c);function f(e,t,n){
t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function d(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function p(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function h(e){
var t=e.channel,n=e.category,c=p(e,["channel","category"]),h=(0,o.Z)(t,!0),y=(0,o.Z)(n);return(0,r.jsx)(l.default,d(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){f(e,t,n[t])}))}return e}({header:u.Z.Messages.CONFIRM_CHANNEL_DRAG_TITLE,confirmText:u.Z.Messages.SYNC_PERMISSIONS,cancelText:u.Z.Messages.KEEP_PERMISSIONS,confirmButtonColor:i.Co.Colors.BRAND},c),{children:(0,r.jsx)(a.x,{variant:"text-md/normal",className:s().message,selectable:!1,children:u.Z.Messages.SYNC_PERMISSIONS_EXPLANATION.format({channelName:h,categoryName:y})})}))}},97672:(e,t,n)=>{"use strict";n.d(t,{Z:()=>E});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),l=n(487502),u=n(67416),c=n(391651),s=n.n(c);function f(e,t){
if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function p(e){p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return p(e)}function h(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function y(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t)
;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function b(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function v(e,t){v=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return v(e,t)}var m=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return b(this,n)}}
var O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&v(e,t)}(n,e);var t=g(n);function n(){f(this,n);var e;(e=t.apply(this,arguments)).scrollerRef=o.createRef();e.handleScroll=function(){var t=e.scrollerRef.current;if(null!=t){var n,r;null===(r=(n=e.props).onScroll)||void 0===r||r.call(n,t)}};return e}n.prototype.render=function(){var e,t=this,n=this.props,o=n.renderFooter,i=n.selectable,c=n.renderHeader,f=n.className,p=n.onClose,b=n.children;null!=o&&(e=(0,r.jsx)(u.mz,{direction:l.Z.Direction.HORIZONTAL,children:o()}));return(0,r.jsx)(u.ZP,{onCloseRequest:p,renderModal:function(n){var o=n.onClose,v=y(n,["onClose"]);return(0,r.jsxs)(u.Y0,h(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){d(e,t,n[t])}))}return e}({className:s().modal},v),{children:[(0,r.jsxs)(u.xB,{align:l.Z.Justify.BETWEEN,separator:!1,children:[c(),(0,r.jsx)(l.Z.Child,{grow:0,children:(0,r.jsx)(u.ol,{onClick:function(){null!=p&&p();o()}})})]}),(0,r.jsx)(u.hz,{className:a()(f,s().content,{selectable:i}),scrollerRef:t.scrollerRef,onScroll:t.handleScroll,children:b}),e]}))}})};return n}(o.PureComponent);O.defaultProps={selectable:!1};const E=O},790865:(e,t,n)=>{"use strict";n.d(t,{Z:()=>de})
;var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),l=n(441143),u=n.n(l),c=n(791462),s=n(321795),f=n(927911),d=n(658045),p=n(823343),h=n(623899),y=n(665733),b=n(641955),v=n(337160),m=n(742572),g=n(988279),O=n(987866),E=n(127949),j=n(505780),S=n(18416),C=n(631134),P=n(356004),I=n(367124),_=n(1812),w=n(653772),x=n(934714),N=n(940712),T=n(962564),A=n(73462),Z=n(379822),R=n(343435),M=n(693518),D=n(701197),L=n(334444),k=n(620741),U=n(789093),G=n(805931),H=n(897576),B=n(230365),V=n(430542),F=n(552572),W=n(225464),Y=n(932847),z=n(742269),K=n(461061),q=n(959797),X=n(962847),Q=n.n(X);function J(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function $(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){J(i,r,o,a,l,"next",e)}function l(e){J(i,r,o,a,l,"throw",e)}a(void 0)}))}}function ee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}
function te(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function ne(e){ne=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return ne(e)}function re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){te(e,t,n[t])}))}return e}function oe(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){
Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function ie(e,t){return!t||"object"!==le(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ae(e,t){ae=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return ae(e,t)}var le=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function ue(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=ne(e);if(t){var o=ne(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ie(this,n)}}var ce=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]}
;return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};var se=(0,f.Z)((function(e){
var t=e.message;return(0,r.jsx)(V.Z,{children:t})})),fe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&ae(e,t)}(o,e);var t=ue(o);function o(){ee(this,o);var e;(e=t.apply(this,arguments)).handleClickGoLiveButton=function(){var t=e.props,o=t.guildId,i=t.voiceChannel,a=null!=i?i.getGuildId():o;(0,H.ZD)($((function(){var e,t;return ce(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(58342)]).then(n.bind(n,58342))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,oe(re({},e),{selectSource:!1,guildId:a,analyticsLocation:K.Sbl.ACTIVITY_PANEL}))}]}}))}))).then((function(t){null!=t&&(e.modalKey=t)}))};e.handleClickStopStreamingButton=function(){var t=e.props.stream;(0,j.Z)(t)};e.handleClickInviteButton=function(){var t=e.props,n=t.activity,r=t.analyticsContext
;u()(null!=n,"Received null activity");Y.default.track(K.rMx.OPEN_MODAL,{type:"Send Join Invite",application_id:n.application_id,location:r.location});(0,s.h7)(n,!1)};e.handleClickLeaveEmbeddedActivityButton=function(t,n){var r=e.props,o=r.embeddedActivity,i=r.isLastEligibleEmbeddedActivityHost;return function(){i&&null!=o?(0,b.Z)({embeddedActivity:o,channelId:n.id,shouldDisconnectCall:!1}):(0,p.mW)({channelId:n.id,applicationId:t.id})}};return e}var i=o.prototype;i.isJoinableActivity=function(){var e=this.props,t=e.application,n=e.activity,r=e.embeddedActivity;return null!=t&&(null!=n?n.application_id===t.id&&n.type===K.IIU.PLAYING&&(0,y.Z)(n,K.xjy.JOIN):null!=r&&r.application_id===t.id)};i.renderGoLiveButton=function(){var e,t,n,o,i=this.props,a=i.canGoLive,l=i.guildId,u=i.isStreaming,c=i.voiceChannel,s=i.canStream,f=i.runningGame;if(!(u||a&&null!=f))return null;if(u){e=!1;t=this.handleClickStopStreamingButton;n=U.Z;o=q.Z.Messages.STOP_STREAMING}else if(s){e=!1
;t=this.handleClickGoLiveButton;n=G.Z;o=null!=f?q.Z.Messages.ACTIVITY_PANEL_GO_LIVE_STREAM_GAME.format({game:f.name}):q.Z.Messages.ACTIVITY_PANEL_GO_LIVE}else{e=!0;t=null;n=G.Z;o=null!=c?q.Z.Messages.ACTIVITY_PANEL_GO_LIVE_TOOLTIP_NO_PERMISSION_IN_VOICE:null!=l?q.Z.Messages.ACTIVITY_PANEL_GO_LIVE_TOOLTIP_NO_PERMISSION_IN_GUILD:q.Z.Messages.ACTIVITY_PANEL_GO_LIVE_TOOLTIP_NOT_IN_GUILD}return(0,r.jsx)(B.Z,{tooltipText:o,disabled:e,onClick:t,icon:n,iconForeground:Q().actionIcon})};i.renderInviteButton=function(){var e=this.props.embeddedActivity;return this.isJoinableActivity()&&null==e?(0,r.jsx)(B.Z,{tooltipText:q.Z.Messages.INVITE_EMBED_INVITE_TO_JOIN,onClick:this.handleClickInviteButton,icon:k.Z,iconForeground:Q().actionIcon}):null};i.renderLeaveEmbeddedActivityButton=function(){var e=this.props,t=e.application,n=e.embeddedActivity,o=e.voiceChannel;return null==n||null==t||null==o?null:(0,r.jsx)(B.Z,{tooltipText:q.Z.Messages.EMBEDDED_ACTIVITIES_LEAVE_ACTIVITY,
onClick:this.handleClickLeaveEmbeddedActivityButton(t,o),icon:L.Z,iconForeground:Q().actionIcon})};i.renderActions=function(){var e=this.renderGoLiveButton(),t=this.renderInviteButton(),n=this.renderLeaveEmbeddedActivityButton();return null==e&&null==t&&null==n?null:(0,r.jsxs)("div",{className:Q().actions,children:[e,t,null==e?n:null]})};i.getGameName=function(){var e=this.props,t=e.runningGame,n=e.application;return null!=n?n.name:null!=t?t.name:q.Z.Messages.STATUS_UNKNOWN};i.renderGame=function(){var e=this.props,t=e.isStreaming,n=e.application,o=e.runningGame,i=this.getGameName();return(0,r.jsxs)("div",{className:a()(Q().gameWrapper,te({},Q().clickableGameWrapper,null!=n)),children:[(0,r.jsxs)("div",{className:Q().gameIconWrapper,children:[(0,r.jsx)(M.Z,{className:Q().gameIcon,game:n,pid:null==o?void 0:o.pid}),t?(0,r.jsx)(D.Z,{className:Q().liveBadge}):null]}),(0,r.jsx)("div",{className:Q().info,children:null!=i?(0,r.jsx)(F.Z,{children:i}):null})]})};i.renderScreenshare=function(){
var e=this.props,t=e.isStreaming,n=e.streamMetadata,o=(0,g.Z)(n),i=o.title,a=o.sanitizedTitle;return(0,r.jsxs)("div",{className:Q().gameWrapper,children:[t?(0,r.jsx)(O.Z,{title:a}):(0,r.jsx)(W.ZP,{look:W.ZP.Looks.GRAY,size:W.ZP.Sizes.SMALL,className:Q().liveIndicator}),(0,r.jsx)("div",{className:Q().info,children:(0,r.jsx)(F.Z,{children:i})})]})};i.renderEmbeddedActivity=function(){var e=this.props,t=e.application,n=e.embeddedActivity;if(null==n)return null;var o,i={start:n.connectedSince};return(0,r.jsxs)("div",{className:Q().gameWrapper,children:[(0,r.jsx)(M.Z,{className:Q().gameIcon,game:t}),(0,r.jsxs)("div",{className:Q().info,children:[(0,r.jsx)(F.Z,{children:null!==(o=null==n?void 0:n.name)&&void 0!==o?o:"Unknown"}),(0,r.jsx)(se,{timestamps:i})]})]})};i.render=function(){var e=this,t=this.props,n=t.canGoLive,o=t.embeddedActivity,i=t.runningGame,l=t.isStreaming,u=t.streamMetadata,c=t.className;if(!l){if(!this.isJoinableActivity()&&!n)return null;if(null==i&&null==o)return null}
return(0,r.jsx)("div",{className:a()(Q().panel,c),children:(0,r.jsxs)("div",{className:Q().body,children:[null==i||l&&null==(null==u?void 0:u.pid)?null!=o?e.renderEmbeddedActivity():e.renderScreenshare():e.renderGame(),this.renderActions()]})})};return o}(o.PureComponent);const de=(0,d.Z)(c.ZP.connectStores([A.Z,R.Z,C.default,P.Z,S.Z,Z.Z,h.ZP,w.Z,x.Z,I.Z,T.Z,_.ZP,N.Z],(function(e){var t=e.guildId,n=C.default.getId(),r=(0,E.Z)(A.Z,R.Z),o=P.Z.getChannel(Z.Z.getVoiceChannelId()),i=S.Z.getActiveStreamForUser(n),a=S.Z.getStreamerActiveStreamMetadata(),l=!1,u=null;if(null!=o){l=v.JL(o,w.Z,N.Z,!1);u=h.ZP.getSelfEmbeddedActivityForChannel(o.id)}else if(null!=t){l=v.h_(_.ZP.getChannels(t),w.Z,N.Z).length>0}var c=null;null!=a&&null!=a.id?c=I.Z.getGame(a.id):null!=r?c=I.Z.getGameBySettingGame(r):null!=u&&(c=I.Z.getGame(u.application_id));var s=null!=c&&h.ZP.isLastEligibleHost(n,c.id);return{canGoLive:(0,m.Z)(x.Z)&&(0,z.ED)(),activity:null!=n?T.Z.findActivity(n,(function(e){
return e.type===K.IIU.PLAYING})):null,embeddedActivity:u,runningGame:r,application:c,isStreaming:null!=i&&i.ownerId===n&&i.state!==K.jm8.ENDED,voiceChannel:o,canStream:l,stream:i,streamMetadata:a,isLastEligibleEmbeddedActivityHost:s}}))(fe))},303540:(e,t,n)=>{"use strict";n.d(t,{Z:()=>C});var r=n(785893),o=n(667294),i=n(23816),a=n(832010),l=n(80635),u=n(191940),c=n(851994),s=n(685351),f=n(217039),d=n(932847),p=n(461061),h=n(959797),y=n(147752),b=n.n(y),v=n(169595),m=n.n(v);function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function O(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function E(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){
var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var S=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){
if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function C(e){var t=e.onClose,y=e.onConfirm,v=e.onCancel,g=e.channel,C=e.analyticsType,P=e.popoutText,I=e.animation;o.useEffect((function(){d.default.track(p.rMx.OPEN_POPOUT,function(e){
for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){E(e,t,n[t])}))}return e}({type:C},(0,i.v_)(g)))}),[C,g]);var _=o.useCallback((function(){null==y||y();t()}),[y,t]),w=o.useCallback((function(){null==v||v();t()}),[v,t]),x=o.useRef(null);o.useEffect((function(){var e,t,r=l.Z.theme,o=!1;null!=I&&(t=function(){var t,i,a,l;return S(this,(function(u){switch(u.label){case 0:return[4,Promise.all([Promise.resolve().then(n.t.bind(n,211248,23)),r===p.BRd.DARK?I.dark():I.light()])];case 1:t=j.apply(void 0,[u.sent(),2]),i=t[0],a=i.default,l=t[1];if(o)return[2];e=a.loadAnimation({container:x.current,renderer:"svg",loop:!0,autoplay:!0,animationData:l});return[2]}}))},function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n)
;function a(e){O(i,r,o,a,l,"next",e)}function l(e){O(i,r,o,a,l,"throw",e)}a(void 0)}))})();return function(){o=!0;if(null!=e){e.destroy();e=void 0}}}),[I]);return(0,r.jsx)(c.Z,{"aria-labelledby":"content-warning-popout-label",children:(0,r.jsxs)("form",{className:b().contentWarningPopout,onSubmit:_,children:[(0,r.jsxs)("div",{className:b().body,children:[null!=I&&(0,r.jsx)("div",{className:b().animation,ref:x}),(0,r.jsxs)("div",{className:b().content,children:[(0,r.jsx)("div",{className:b().header,children:h.Z.Messages.SELF_XSS_HEADER}),(0,r.jsx)(s.x,{id:"content-warning-popout-label",className:m().markup,variant:"text-sm/normal",children:P.body}),(0,r.jsxs)("div",{className:b().buttonWrapper,children:[(0,r.jsxs)("div",{className:b().buttonContainer,children:[(0,r.jsx)(u.Co,{className:b().button,color:u.Co.Colors.PRIMARY,onClick:w,children:h.Z.Messages.EDIT_MESSAGE}),(0,r.jsx)(s.x,{variant:"text-xs/normal",className:b().buttonHint,children:h.Z.Messages.EVERYONE_POPOUT_ESC.format()})]
}),(0,r.jsxs)("div",{className:b().buttonContainer,children:[(0,r.jsx)(u.Co,{className:b().button,onClick:_,type:"submit",autoFocus:!0,children:h.Z.Messages.EVERYONE_POPOUT_SEND_NOW}),(0,r.jsx)(s.x,{variant:"text-xs/normal",className:b().buttonHint,children:h.Z.Messages.EVERYONE_POPOUT_ENTER.format()})]})]})]})]}),null!=P.footer&&""!==P.footer?(0,r.jsxs)("div",{className:b().footer,children:[(0,r.jsx)(f.Z,{color:(0,a.Lq)(p.Ilk.PRIMARY_DARK_400),className:b().icon}),(0,r.jsx)(s.x,{variant:"text-sm/normal",children:P.footer})]}):null]})})}},29189:(e,t,n)=>{"use strict";n.d(t,{Z:()=>S});var r=n(785893),o=n(667294),i=n(791462),a=n(408247),l=n(53211),u=n(402124),c=n(179468),s=n(243256),f=n(212033),d=n(940712),p=n(105405),h=n(859023),y=n(882699),b=n(56133),v=n(853468),m=n(290671),g=n(461061),O=n(959797);function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){
var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const S=function(e){var t=e.className,n=e.style,E=e.channel,S=e.draftType,C=j(o.useState(!0),2),P=C[0],I=C[1],_=(0,i.e7)([f.Z],(function(){return f.Z.hasLayers()})),w=(0,i.e7)([d.Z],(function(){
return null!=E&&d.Z.can(g.Plq.ATTACH_FILES,E)}),[E]),x=null!=(0,i.e7)([a.Z],(function(){return a.Z.getActiveCommand(E.id)})),N=E.getGuildId(),T=S===u.d.FirstThreadMessage,A=(0,i.e7)([h.default],(function(){var e;return!0==!(null===(e=h.default.getCurrentUser())||void 0===e?void 0:e.nsfwAllowed)})),Z=(0,i.e7)([c.Z],(function(){return c.Z.didAgree(N)}))&&!A,R=o.useMemo((function(){return!_&&(E.isPrivate()&&!E.isManaged()||null!=N&&(!E.isNSFW()||Z)&&w&&s.Z.canChatInGuild(N))}),[w,Z,E,N,_]),M=T?O.Z.Messages.UPLOAD_TO_NEW_THREAD:P?O.Z.Messages.UPLOAD_TO.format({destination:(0,l.F)(E,h.default,p.Z,!0)}):O.Z.Messages.UPLOAD_AREA_TITLE_NO_CONFIRMATION;return x||!R?null:(0,r.jsx)(v.Z,{className:t,style:n,title:M,description:T?O.Z.Messages.UPLOAD_AREA_NEW_THREAD_HELP:O.Z.Messages.UPLOAD_AREA_HELP,icons:m.J6,onDrop:function(e){if(x)return!1;if(R&&null!=E){(0,b.d)(e,E,S,{requireConfirm:P,showLargeMessageDialog:!1});y.S.dispatchToLastSubscribed(g.CkL.TEXTAREA_FOCUS)}},onDragClear:function(){
return I(!0)},onDragOver:function(e){if(x)return!1;T||e.shiftKey!==P||I(!e.shiftKey)}})}},853468:(e,t,n)=>{"use strict";n.d(t,{Z:()=>S});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),l=n(897576),u=n(509618),c=n(212271),s=n(959797),f=n(334276),d=n.n(f),p=n(476600),h=n.n(p);function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function v(e){v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return v(e)}function m(e,t){return!t||"object"!==O(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e,t){g=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return g(e,t)}var O=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e
};function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var o=v(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m(this,n)}}function j(){return(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:a()(h().sparkleWhite,d().sparkleOne)}),(0,r.jsx)("div",{className:a()(h().sparkleWhite,d().sparkleTwo)}),(0,r.jsx)("div",{className:a()(h().lightWhite,d().lightOne)}),(0,r.jsx)("div",{className:a()(h().lightWhite,d().lightTwo)}),(0,r.jsx)("div",{className:a()(h().crossWhite,d().crossOne)}),(0,r.jsx)("div",{className:a()(h().crossWhite,d().crossTwo)}),(0,r.jsx)("div",{className:a()(h().popWhite,d().popOne)})]})}const S=function(e){!function(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&g(e,t)}(n,e);var t=E(n);function n(){y(this,n);var e;(e=t.apply(this,arguments)).state={isDragging:!1,isOverZone:!1};e.dragOverTimeout=null;e.elementDOMRef=o.createRef();e.isAllDropFiles=function(e){for(var t=0;t<e.length;t++)try{var n,r=null!==(n=e[t].webkitGetAsEntry())&&void 0!==n?n:e[t].getAsEntry();if(r&&!r.isFile)return!1}catch(e){continue}return!0};e.preventUnwantedDrop=function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=t.dataTransfer;if(null==r)return!0;var o=Array.isArray(r.types)&&-1!==r.types.indexOf("text/uri-list")&&-1===r.types.indexOf("application/json"),i=null!=r.items&&!e.isAllDropFiles(r.items);if(o||i){t.stopPropagation();t.preventDefault();r.effectAllowed="none";r.dropEffect="none";if(n){e.setState({isDragging:!1});(0,c.xT)({
title:s.Z.Messages.UPLOAD_AREA_INVALID_FILE_TYPE_TITLE,help:s.Z.Messages.UPLOAD_AREA_INVALID_FILE_TYPE_HELP,icons:e.props.icons})}return!1}return!0};e.handleDragOver=function(t){var n,r;if(!e.preventUnwantedDrop(t))return!1;var o=t.dataTransfer;if(null!=o){o.dropEffect="copy";(0,l.nf)(c.Am)&&(0,l.Mr)(c.Am);t.stopPropagation();t.preventDefault();null===(r=(n=e.props).onDragOver)||void 0===r||r.call(n,t);if(!e.state.isDragging){var i,a=null===(i=e.elementDOMRef.current)||void 0===i?void 0:i.ownerDocument.defaultView;(null!=a&&o.types instanceof a.DOMStringList&&o.types.contains("application/x-moz-file")||-1!==o.types.indexOf("Files"))&&e.setState((function(e){return e.isDragging?{}:{isDragging:!0}}))}clearTimeout(e.dragOverTimeout);e.dragOverTimeout=setTimeout((function(){var t,n;e.setState({isDragging:!1});null===(n=(t=e.props).onDragClear)||void 0===n||n.call(t)}),1e3)}};e.handleDragOverZone=function(){e.setState({isOverZone:!0})};e.handleDragLeaveZone=function(){e.setState({
isOverZone:!1})};e.handleDragLeave=function(t){if(e.state.isDragging){t.stopPropagation();t.preventDefault();e.clearDragging()}};e.clearDragging=function(){var t,n;e.setState({isDragging:!1,isOverZone:!1});null===(n=(t=e.props).onDragClear)||void 0===n||n.call(t)};e.handleDrop=function(t){if(!e.preventUnwantedDrop(t,!0))return!1;var n=t.dataTransfer;if(null==n)return!0;if(e.state.isDragging){t.preventDefault();t.stopPropagation();e.props.onDrop(n.files);e.clearDragging()}};return e}var i=n.prototype;i.componentDidMount=function(){var e=this.elementDOMRef.current;if(null!=e){e.ownerDocument.body.addEventListener("dragover",this.handleDragOver,!1);e.ownerDocument.body.addEventListener("drop",this.handleDragLeave,!1);e.addEventListener("dragover",this.handleDragOverZone,!1);e.addEventListener("dragleave",this.handleDragLeaveZone,!1);e.addEventListener("drop",this.handleDrop,!1)}};i.componentWillUnmount=function(){var e=this.elementDOMRef.current;if(null!=e){
e.ownerDocument.body.removeEventListener("dragover",this.handleDragOver,!1);e.ownerDocument.body.removeEventListener("drop",this.handleDragLeave,!1);e.removeEventListener("dragover",this.handleDragOverZone,!1);e.removeEventListener("dragleave",this.handleDragLeaveZone,!1);e.removeEventListener("drop",this.handleDrop,!1)}clearTimeout(this.dragOverTimeout)};i.render=function(){var e,t=this.props,n=t.title,o=t.description,i=t.icons,l=t.style,c=t.className;return(0,r.jsx)("div",{ref:this.elementDOMRef,className:a()(c,d().uploadArea,(e={},b(e,d().droppable,this.state.isDragging),b(e,d().uploadModalIn,this.state.isOverZone),e)),style:l,children:(0,r.jsxs)("div",{className:d().uploadDropModal,children:[this.state.isDragging&&(0,r.jsx)(j,{}),(0,r.jsx)("div",{className:d().bgScale}),(0,r.jsxs)("div",{className:d().inner,children:[(0,r.jsx)(u.Z,{icons:i}),(0,r.jsx)("div",{className:d().title,children:n}),(0,r.jsx)("div",{className:d().instructions,children:(0,r.jsx)("pre",{children:o})})]})]})})
};return n}(o.Component)},425309:(e,t,n)=>{"use strict";n.d(t,{Z:()=>C});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),l=n(791462),u=n(354290),c=n(859023),s=n(658986),f=n(318937),d=n(95467),p=n(461061),h=n(959797),y=n(887675),b=n.n(y);function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e){m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return m(e)}function g(e,t){return!t||"object"!==E(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function O(e,t){O=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return O(e,t)}var E=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1
;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=m(e);if(t){var o=m(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return g(this,n)}}var S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&O(e,t)}(n,e);var t=j(n);function n(){v(this,n);var e;(e=t.apply(this,arguments)).scroller=o.createRef();e.handleDisagree=function(){var t=e.props.guild;null!=t&&u.Z.nsfwReturnToSafety(t.id)};e.handleAgree=function(){var t=e.props.guild;null!=t&&u.Z.nsfwAgree(t.id)};return e}var i=n.prototype;i.componentDidMount=function(){var e=this.scroller.current;null==e||e.scrollToBottom()};i.render=function(){var e=this.props.nsfwDisallowed,t=h.Z.Messages.NSFW_DESCRIPTION
;t=e?h.Z.Messages.AGE_GATE_NSFW_UNDERAGE_BODY.format({helpURL:d.Z.getArticleURL(p.BhN.NSFW_AGE_GATING)}):h.Z.Messages.AGE_GATE_NSFW_DESCRIPTION;var n=e?(0,r.jsx)(s.Z,{onAgree:this.handleAgree,onDisagree:this.handleDisagree,title:h.Z.Messages.AGE_GATE_NSFW_UNDERAGE_HEADER,description:t,agreement:null,disagreement:h.Z.Messages.BACK,imageClassName:b().ageGatedImage}):(0,r.jsx)(s.Z,{onAgree:this.handleAgree,onDisagree:this.handleDisagree,title:h.Z.Messages.NSFW_TITLE,description:t,agreement:h.Z.Messages.NSFW_ACCEPT,disagreement:h.Z.Messages.NSFW_DECLINE});return(0,r.jsx)(f.ZP,{ref:this.scroller,className:b().scroller,children:(0,r.jsx)("div",{className:a()(this.props.className,b().wrapper),children:n})})};return n}(o.PureComponent);const C=l.ZP.connectStores([c.default],(function(){var e;return{nsfwDisallowed:!1===(null===(e=c.default.getCurrentUser())||void 0===e?void 0:e.nsfwAllowed)}}))(S)},401953:(e,t,n)=>{"use strict";n.d(t,{Q:()=>d,$:()=>p})
;var r=n(428313),o=n(512503),i=n(354290),a=n(653772),l=n(940712),u=n(882687),c=n(645897),s=n(461061),f="DRAGGABLE_USER";function d(e){return(0,r.G)(f,{canDrop:function(e){var t,n,r=e.channel,o=r.getGuildId(),i=null!==(n=null===(t=a.Z.getGuild(o))||void 0===t?void 0:t.maxVideoChannelUsers)&&void 0!==n?n:-1,f=c.ZP.countVoiceStatesForChannel(r.id),d=null!=o&&u.Z.hasVideo(r.id)&&i>0&&f>=i+1;return l.Z.can(s.Plq.MOVE_MEMBERS,r)&&l.Z.can(s.Plq.CONNECT,r)&&!d},drop:function(e,t){var n=e.channel,r=u.Z.getVoiceStateForUser(t.getItem().user.id);(null==r?void 0:r.channelId)!==n.id&&i.Z.setChannel(n.getGuildId(),t.getItem().user.id,n.id)}},(function(e,t){return{connectUserDropTarget:e.dropTarget(),isUserOver:t.isOver()&&t.canDrop()}}))(e)}function p(e){return(0,o.E)(f,{canDrag:function(e){e.user;var t=e.canDrag;return null!=t&&t},beginDrag:function(e){return{user:e.user}}},(function(e){return{connectUserDragSource:e.dragSource()}}))(e)}},599414:(e,t,n)=>{"use strict";n.d(t,{gA:()=>o,c3:()=>i})
;var r=(0,n(553494).B)({kind:"user",id:"2022-09_inboxes_v2_frontend",label:"Safety Integrity Platform Inboxes V2",defaultConfig:{enabled:!1,forceConfirmationOnAccept:!1},treatments:[{id:1,label:"Enabled",config:{enabled:!0,forceConfirmationOnAccept:!1}}]});function o(e){(null==e?void 0:e.trackExposure)&&r.trackExposure({});return r.useExperiment({}).enabled}function i(){return r.getCurrentConfig({}).enabled}},980306:(e,t,n)=>{"use strict";n.d(t,{y:()=>l,Z:()=>s});var r=n(667294),o=n(496486);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}
}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var l,u;!function(e){e[e.VERTICAL_TOP=0]="VERTICAL_TOP";e[e.VERTICAL_BOTTOM=1]="VERTICAL_BOTTOM";e[e.HORIZONTAL_LEFT=2]="HORIZONTAL_LEFT";e[e.HORIZONTAL_RIGHT=3]="HORIZONTAL_RIGHT"}(l||(l={}));!function(e){e[e.VERTICAL=0]="VERTICAL";e[e.HORIZONTAL=1]="HORIZONTAL"}(u||(u={}));function c(e){return e===l.HORIZONTAL_LEFT||e===l.HORIZONTAL_RIGHT?u.HORIZONTAL:u.VERTICAL}const s=function(e){
var t=e.initialElementDimension,n=e.resizableDomNodeRef,i=e.maxDimension,s=e.minDimension,f=e.onElementResize,d=e.onElementResizeEnd,p=e.throttleDuration,h=void 0===p?300:p,y=e.orientation,b=e.usePointerEvents,v=void 0!==b&&b,m=a(r.useState(!1),2),g=m[0],O=m[1],E=r.useRef(0),j=r.useRef(null==t?0:t);r.useLayoutEffect((function(){var e=function(e){var t=c(y)===u.HORIZONTAL?e.screenX:e.screenY,n=y===l.VERTICAL_TOP||y===l.HORIZONTAL_LEFT,r=(t-E.current)*(n?-1:1),a=j.current+r;return(0,o.clamp)(a,null!=s?s:0,null!=i?i:a)};if(g&&null!=n.current){var t=(0,o.throttle)(f,h),r=function(r){if(null==n.current)return null;var o=e(r),i=c(y)===u.HORIZONTAL?"width":"height";n.current.style[i]="".concat(o,"px");t(o)},a=function(t){O(!1);var n=e(t);f(n);null==d||d(n)},p=v?"pointerup":"mouseup",b=v?"pointermove":"mousemove",m=n.current.ownerDocument;m.addEventListener(p,a);m.addEventListener(b,r);return function(){m.removeEventListener(p,a);m.removeEventListener(b,r);t.cancel()}}}),[g,f,s,i,y,n,h,d,v])
;return r.useCallback((function(e){var t=c(y)===u.HORIZONTAL;null!=n.current&&(j.current=t?n.current.offsetWidth:n.current.offsetHeight);E.current=t?e.screenX:e.screenY;O(!0)}),[y,n])}},16122:(e,t,n)=>{"use strict";n.d(t,{Sr:()=>I,Xq:()=>_,Zg:()=>w});var r,o=n(613102),i=n(716086),a=n(913371),l=n(941341),u=n(408113),c=n(830652),s=n(112886),f={binds:["mod+k","mod+t"],comboKeysBindGlobal:!0,action:function(){(0,s.$Z)("KEYBIND","");return!1}},d=n(976352),p=n(373296),h=n(581480),y=n(704445),b=n(144438),v=n(428252),m=n(76789),g=n(948996),O=n(171826),E=n(547530),j=n(461061),S=n(959797);function C(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function P(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.map((function(e){var t=I[e];if(null==t)throw new Error("getBindsFor(...): No bind for ".concat(t));return t.binds[0]}))}var I=(C(r={},j.EkH.SERVER_NEXT,y.nq),C(r,j.EkH.SERVER_PREV,y.X3),
C(r,j.EkH.CHANNEL_NEXT,i.tQ),C(r,j.EkH.CHANNEL_PREV,i.x5),C(r,j.EkH.NAVIGATE_BACK,i.Nx),C(r,j.EkH.NAVIGATE_FORWARD,i.On),C(r,j.EkH.UNREAD_NEXT,E.pd),C(r,j.EkH.UNREAD_PREV,E.wk),C(r,j.EkH.MENTION_CHANNEL_NEXT,E.Nv),C(r,j.EkH.MENTION_CHANNEL_PREV,E.uX),C(r,j.EkH.TOGGLE_PREVIOUS_GUILD,i.$c),C(r,j.EkH.JUMP_TO_GUILD,a.u),C(r,j.EkH.SUBMIT,b.z),C(r,j.EkH.TEXTAREA_FOCUS,v.U),C(r,j.EkH.MARK_CHANNEL_READ,l.f),C(r,j.EkH.MARK_SERVER_READ,u.l),C(r,j.EkH.TOGGLE_MUTE,m.iN),C(r,j.EkH.TOGGLE_DEAFEN,m.oV),C(r,j.EkH.TOGGLE_CATEGORY_COLLAPSED,g.u),C(r,j.EkH.SCROLL_UP,p.B2),C(r,j.EkH.SCROLL_DOWN,p.gN),C(r,j.EkH.SEARCH_EMOJIS,h.S),C(r,j.EkH.TOGGLE_HOTKEYS,O._),C(r,j.EkH.JUMP_TO_FIRST_UNREAD,c.O),C(r,j.EkH.RETURN_TO_AUDIO_CHANNEL,d.F),C(r,j.EkH.CALL_ACCEPT,o.IL),C(r,j.EkH.CALL_START,o.FI),C(r,j.EkH.QUICKSWITCHER_SHOW,f),r),_=C({},j.EkH.QUICKSWITCHER_SHOW,f);function w(){return[{description:S.Z.Messages.KEYBIND_DESCRIPTION_MODAL_NAVIGATE_SERVERS,binds:P(j.EkH.SERVER_PREV,j.EkH.SERVER_NEXT)},{
description:S.Z.Messages.KEYBIND_DESCRIPTION_MODAL_NAVIGATE_CHANNELS,binds:P(j.EkH.CHANNEL_PREV,j.EkH.CHANNEL_NEXT)},{description:S.Z.Messages.KEYBIND_DESCRIPTION_MODAL_NAVIGATE_BACK_FORWARD,binds:P(j.EkH.NAVIGATE_BACK,j.EkH.NAVIGATE_FORWARD)},{description:S.Z.Messages.KEYBIND_DESCRIPTION_MODAL_UNREAD_CHANNELS,binds:P(j.EkH.UNREAD_PREV,j.EkH.UNREAD_NEXT)},{description:S.Z.Messages.KEYBIND_DESCRIPTION_MODAL_UNREAD_MENTION_CHANNELS,binds:P(j.EkH.MENTION_CHANNEL_PREV,j.EkH.MENTION_CHANNEL_NEXT),groupEnd:!0},{description:S.Z.Messages.KEYBIND_DESCRIPTION_MODAL_TOGGLE_PREVIOUS_GUILD,binds:P(j.EkH.TOGGLE_PREVIOUS_GUILD)},{description:S.Z.Messages.KEYBIND_DESCRIPTION_MODAL_MARK_SERVER_READ,binds:P(j.EkH.MARK_SERVER_READ)},{description:S.Z.Messages.KEYBIND_DESCRIPTION_MODAL_MARK_CHANNEL_READ,binds:P(j.EkH.MARK_CHANNEL_READ)},{description:S.Z.Messages.KEYBIND_DESCRIPTION_MODAL_SEARCH_EMOJIS,binds:P(j.EkH.SEARCH_EMOJIS),groupEnd:!0},{description:S.Z.Messages.KEYBIND_DESCRIPTION_MODAL_TOGGLE_MUTE,
binds:P(j.EkH.TOGGLE_MUTE)},{description:S.Z.Messages.KEYBIND_DESCRIPTION_MODAL_TOGGLE_DEAFEN,binds:P(j.EkH.TOGGLE_DEAFEN)},{description:S.Z.Messages.KEYBIND_DESCRIPTION_MODAL_CALL_ACCEPT,binds:P(j.EkH.CALL_ACCEPT)},{description:S.Z.Messages.KEYBIND_DESCRIPTION_MODAL_CALL_DECLINE,binds:P(j.EkH.MARK_CHANNEL_READ)},{description:S.Z.Messages.KEYBIND_DESCRIPTION_MODAL_CALL_START,binds:P(j.EkH.CALL_START),groupEnd:!0},{description:S.Z.Messages.KEYBIND_DESCRIPTION_MODAL_SCROLL_CHAT,binds:P(j.EkH.SCROLL_UP,j.EkH.SCROLL_DOWN)},{description:S.Z.Messages.KEYBIND_DESCRIPTION_MODAL_JUMP_TO_FIRST_UNREAD,binds:P(j.EkH.JUMP_TO_FIRST_UNREAD)},{description:S.Z.Messages.KEYBIND_DESCRIPTION_MODAL_FOCUS_TEXT_AREA,binds:P(j.EkH.TEXTAREA_FOCUS)},{description:S.Z.Messages.KEYBIND_DESCRIPTION_MODAL_QUICKSWITCHER,binds:P(j.EkH.QUICKSWITCHER_SHOW)}]}},537546:(e,t,n)=>{"use strict";n.d(t,{u:()=>f});var r=n(388721),o=n(35599),i=n(737172),a=n(766243),l=n(882699),u=n(748896),c=n(461061);function s(e,t,n){
t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var f=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){s(e,t,n[t])}))}return e}({POP_LAYER:{binds:["esc"],comboKeysBindGlobal:!0,action:function(e){if((0,i.Vb)())return!1;if(l.S.hasSubscribers(c.CkL.CALL_DECLINE)){l.S.dispatch(c.CkL.CALL_DECLINE);return!1}if(a.Z.close())return!1;if((0,r.k)(e.target)){var t=(0,o.J5)(e.target);if(null==t?void 0:t.hasSubscribers(c.CkL.POPOUT_CLOSE)){t.dispatch(c.CkL.POPOUT_CLOSE);return!1}}if(l.S.hasSubscribers(c.CkL.MODAL_CLOSE)){l.S.dispatch(c.CkL.MODAL_CLOSE);return!1}l.S.dispatch(c.CkL.LAYER_POP_ESCAPE_KEY)}}},u.ZP)},415344:(e,t,n)=>{"use strict";n.d(t,{m:()=>r,o:()=>h})
;var r,o=n(391809),i=n(840502),a=n(631134),l=n(356004),u=n(112187),c=n(733285),s=n(882687),f=n(932847),d=n(461061);!function(e){e.SELF_VIDEO="self_video";e.SELF_STREAM="self_stream";e.REMOTE_VIDEO="remote_video";e.REMOTE_STREAM="remote_stream";e.CHANGE_VIDEO_BACKGROUND="change_video_background";e.VIDEO_PLAYER="video_player";e.REPLAY_VIDEO_STREAM="replay_video_stream"}(r||(r={}));var p=new Map;var h=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);this.spinnerVisibleStart=null;this.logger=new o.Z(t)}var t=e.prototype;t.onSpinnerStarted=function(){null==this.spinnerVisibleStart&&(this.spinnerVisibleStart=(0,i.zO)())};t.trackSpinnerDuration=function(e,t){if(null!=this.spinnerVisibleStart){var n=function(e){var t,n=(null!==(t=p.get(e))&&void 0!==t?t:0)+1;p.set(e,n);return n}(t),r=(0,i.zO)()-this.spinnerVisibleStart;this.spinnerVisibleStart=null
;if(r<0||r>2e4)this.logger.warn("spinner duration not in [0, ".concat(2e4,"]: ").concat(r," ms\n        [").concat(e,", count for stream: ").concat(n,"]"));else{this.logger.info("spinner visible for ".concat(r," ms\n      [").concat(e,", count for stream: ").concat(n,"]"));var o=c.Z.getGuildId(),h=s.Z.getUserVoiceChannelId(o,a.default.getId()),y=function(e){if(null!=e){if(e.isGuildVoice())return"guild_voice";if(e.isGuildStageVoice())return"is_stage_channel";if(e.isDM())return"dm";if(e.isGroupDM())return"group_dm"}return null}(l.Z.getChannel(h));f.default.track(d.rMx.VIDEO_SPINNER_SHOWN,{video_spinner_context:e,duration_video_spinner_visible_ms:r,rtc_connection_id:c.Z.getRTCConnectionId(),media_session_id:c.Z.getMediaSessionId(),event_count_for_stream:n,guild_id:o,channel_id:h,channel_type:y,connection_type:u.Z.getType(),effective_connection_speed:u.Z.getEffectiveConnectionSpeed(),service_provider:u.Z.getServiceProvider()})}}};return e}()},877271:(e,t,n)=>{"use strict";n.d(t,{Z:()=>ee})
;var r=n(785893),o=n(667294),i=n(173436),a=n(245189),l=n(897576),u=n(294184),c=n.n(u),s=n(460015),f=n(101577),d=n(859169),p=n(64833),h=n(361963),y=n(762018),b=n(513284),v=n(733730),m=n(859023),g=n(629590),O=n(487502),E=n(420202),j=n(757987),S=n(272729),C=n(908570),P=n(732031),I=n(67416),_=n(725002),w=n(932847),x=n(917870),N=n(742269),T=n(588641),A=n(671018),Z=n(50151);const R={acceptInvite:function(e){var t=this,n=A.Z.getInviteContext("Desktop Invite Modal",e);A.Z.acceptInvite({inviteKey:e.code,context:n,callback:function(e){null==e||null==e.guild||null==e.channel||__OVERLAY__||A.Z.transitionToInvite(e)}}).then((function(){return t.close()}),(function(e){i.Z.dispatch({type:"INVITE_MODAL_ERROR",message:(0,Z.O)(e.code)})}))},close:function(){i.Z.dispatch({type:"INVITE_MODAL_CLOSE"})}};var M=n(924750),D=n(461061),L=n(298716),k=n(959797),U=n(33648),G=n.n(U),H=n(380203),B=n.n(H);function V(){var e=(0,p.Z)(d.Z.PREMIUM_UPSELL_TOOLTIP),t=e.analyticsLocations,n=e.sourceAnalyticsLocations
;o.useEffect((function(){w.default.track(D.rMx.PREMIUM_UPSELL_VIEWED,{type:L.cd.GUILD_CAP_INLINE_INVITE_MODAL,location:{page:D.ZY5.NATIVE_INVITE_MODAL},location_stack:n})}),[n]);return(0,r.jsxs)(g.Z,{onClick:function(){return(0,b.Z)({analyticsSource:{page:D.Sbl.EXTERNAL_INVITE_LINK_MODAL},analyticsLocation:{page:D.Sbl.EXTERNAL_INVITE_LINK_MODAL,section:D.jXE.GUILD_CAP_UPSELL_MODAL},analyticsLocations:t})},className:G().experimentUpsellError,children:[(0,r.jsx)(P.Z,{width:24,height:24,className:G().experimentUpsellIcon,color:E.JX.PREMIUM_TIER_2}),(0,r.jsx)("span",{className:G().experimentUpsellText,children:k.Z.Messages.GUILD_CAP_UPSELL_TOOLTIP}),(0,r.jsx)("span",{className:G().experimentGetNitro,children:k.Z.Messages.GUILD_CAP_UPSELL_GET_NITRO})]})}function F(e){var t=e.transitionState,n=function(){null!=a&&R.acceptInvite(a)};(0,s.ZP)([m.default],(function(){var e;return null===(e=m.default.getCurrentUser())||void 0===e?void 0:e.premiumType}));var i=(0,s.cj)([M.Z],(function(){
return M.Z.getProps()})),a=i.invite,l=i.error,u=i.submitting;o.useEffect((function(){if(!__OVERLAY__){(0,N.ED)()?T.default.minimize():T.default.restore();T.default.focus()}}),[]);var b=(0,S.Dt)(),g=(0,p.Z)(d.Z.INVITE_MODAL).AnalyticsLocationProvider;if(null==a||null==a.channel)return null;var E,P,w=a.guild,A=a.channel,Z=a.inviter,D=a.target_application,L=null!=w,U=null!=a.stage_instance,H=null==a.guild&&null==a.channel&&null!=a.inviter;if(null!=D){E=null==w?void 0:w.name;P=v.Z.createFromServer(D).getCoverImageURL(1024)}else if(null!=w){E=w.name;P=x.ZP.getGuildSplashURL({id:w.id,splash:w.splash})}else{null!=(E=A.name)&&""!==E||null==Z||(E=Z.username);if(null==E)throw new Error("no name for group DM invite")}var F=(0,y.yU)(),W=U?k.Z.Messages.INSTANT_INVITE_ACCEPT_STAGE:k.Z.Messages.INVITE_MODAL_BUTTON.format({guildName:E});H&&(W=k.Z.Messages.ACCEPT_INVITE_MODAL_BUTTON);return(0,r.jsx)(g,{children:(0,r.jsxs)(I.Y0,{size:I.Cg.DYNAMIC,"aria-labelledby":b,transitionState:t,
className:G().container,children:[(0,r.jsx)("div",{className:G().contentWrapper,children:(0,r.jsx)(_.ZP,{className:G().scroller,children:(0,r.jsxs)(O.Z,{className:G().inviteContent,direction:O.Z.Direction.VERTICAL,justify:O.Z.Justify.BETWEEN,children:[(0,r.jsx)("div",{id:b,className:B().marginBottom20,children:(0,r.jsx)(f.Z,{invite:a,disableUser:L,error:l})}),U&&null!=w?(0,r.jsx)("div",{className:c()(B().marginBottom20,G().stage),children:(0,r.jsx)(h.Z,{isCard:!0,stageInstance:a.stage_instance,guild:w})}):null,(0,r.jsxs)("div",{children:[F?(0,r.jsx)(V,{}):null,null==D?(0,r.jsx)(j.ZP,{text:F?k.Z.Messages.TOO_MANY_USER_GUILDS_DESCRIPTION:null,position:j.ZP.Positions.BOTTOM,children:function(e){var t=e.onMouseEnter,o=e.onMouseLeave;return(0,r.jsx)(C.zx,{size:C.zx.Sizes.LARGE,onClick:n,submitting:u,disabled:F,color:U?C.zx.Colors.GREEN:C.zx.Colors.BRAND,onMouseEnter:t,onMouseLeave:o,children:F?k.Z.Messages.GUILD_CAP_INVITE_MODAL_BUTTON:W})}}):(0,r.jsxs)("div",{className:G().buttonGroup,
children:[(0,r.jsx)(C.zx,{size:C.zx.Sizes.LARGE,onClick:n,submitting:u,children:k.Z.Messages.PLAY}),(0,r.jsx)(C.zx,{color:C.zx.Colors.PRIMARY,size:C.zx.Sizes.LARGE,onClick:n,submitting:u,children:k.Z.Messages.SPECTATE})]}),(0,r.jsx)(O.Z,{justify:O.Z.Justify.CENTER,className:B().marginTop8,children:(0,r.jsx)(C.zx,{look:C.zx.Looks.LINK,className:G().noThanksButton,onClick:function(){R.close()},color:C.zx.Colors.TRANSPARENT,children:k.Z.Messages.INIVTE_MODAL_NO_THANKS})})]})]})})}),null!=P&&(0,r.jsx)("div",{className:G().inviteSplash,style:{backgroundImage:"url(".concat(P,")")}})]})})}function W(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Y(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function z(e){z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return z(e)}function K(e,t){
return!t||"object"!==X(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function q(e,t){q=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return q(e,t)}var X=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=z(e);if(t){var o=z(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return K(this,n)}}var J="INVITE_MODAL_KEY",$=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{
constructor:{value:e,writable:!0,configurable:!0}});t&&q(e,t)}(n,e);var t=Q(n);function n(){W(this,n);return t.apply(this,arguments)}var o=n.prototype;o._initialize=function(){i.Z.subscribe("INVITE_MODAL_OPEN",this.handleOpenModal);i.Z.subscribe("INVITE_MODAL_CLOSE",this.handleCloseModal)};o._terminate=function(){(0,l.Mr)(J);i.Z.subscribe("INVITE_MODAL_OPEN",this.handleOpenModal);i.Z.subscribe("INVITE_MODAL_CLOSE",this.handleCloseModal)};o.handleOpenModal=function(){M.Z.isOpen()&&!(0,l.nf)(J)&&(0,l.h7)((function(e){return(0,r.jsx)(F,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Y(e,t,n[t])}))}return e}({},e))}),{modalKey:J,onCloseRequest:function(){return i.Z.dispatch({type:"INVITE_MODAL_CLOSE"})}})};o.handleCloseModal=function(){(0,
l.Mr)(J)};o.__getLocalVars=function(){return{INVITE_MODAL_KEY:J}};return n}(a.Z);const ee=new $},924750:(e,t,n)=>{"use strict";n.d(t,{Z:()=>R});var r=n(791462),o=n(173436),i=n(682125),a=n(655695),l=n(53551),u=n(989232),c=n(356004),s=n(653772),f=n(142583),d=n(940712),p=n(859023),h=n(588641),y=n(461061),b=n(35236);function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function O(e){O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return O(e)}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){
return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){g(e,t,n[t])}))}return e}function j(e,t){return!t||"object"!==P(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function S(e,t){S=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return S(e,t)}function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var P=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=O(e);if(t){var o=O(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return j(this,n)}}var _,w=y.IlC.APP,x=!1,N=!1,T=[];function A(){x=!0}var Z=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function")
;e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&S(e,t)}(n,e);var t=I(n);function n(){m(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(){this.waitFor(s.Z,f.Z,p.default)};r.isOpen=function(){var e=__OVERLAY__?y.IlC.OVERLAY:y.IlC.APP;return Boolean(x&&T.length&&w===e)};r.getProps=function(){return{invite:T.length>0?T[0][0]:null,error:null!=_&&""!==_?_:null,submitting:N}};r.__getLocalVars=function(){return{context:w,connected:x,error:_,submitting:N,invites:T}};return n}(r.ZP.Store);Z.displayName="InviteModalStore";const R=new Z(o.Z,{OVERLAY_INITIALIZE:A,CONNECTION_OPEN:A,CONNECTION_CLOSED:function(){x=!1},INVITE_MODAL_OPEN:function(e){var t=e.invite;if(null==t)return!1;var n=t.channel,r=t.guild;if(null==n)return!1;if((0,l.bc)(n.type)){if(null!=c.Z.getChannel(n.id)){(0,a.XU)(y.ME,n.id);h.default.focus();return!1}}else{if(null==r)return!1;if(null!=s.Z.getGuild(r.id)&&!(0,i.TY)(t)){var o=function(e){if((0,
i.W6)(e))return b.oC.ROLE_SUBSCRIPTIONS;var t=e.channel;if(null!=t){var n=c.Z.getChannel(t.id);if(d.Z.can(y.Plq.VIEW_CHANNEL,n))return t.id}return null}(t);(0,a.XU)(r.id,o);h.default.focus();return!1}}if(T.some((function(e){return C(e,1)[0].code===v})))return!1;var f=t.approximate_member_count,p=t.approximate_presence_count,v=t.code,m=t.target_type,g=t.target_user,O=t.target_application,j=t.stage_instance,S=t.type;w=e.context;N=!1;var P={code:v,approximate_member_count:f,approximate_presence_count:p,target_type:m,target_user:g,target_application:O,channel:E({},n),stage_instance:j,type:S};null!=r&&(P.guild=new u.Z(r));null!=t.inviter&&(P.inviter=E({},t.inviter));T.push([P,e.resolve])},INVITE_MODAL_CLOSE:function(){_=null;N=!1;if(T.length>0){var e=C(T.shift(),2)[1];null!=e&&e()}},INVITE_ACCEPT:function(){N=!0},INVITE_MODAL_ERROR:function(e){var t=e.message;_=t;N=!1}})},245662:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u,Q:()=>c});var r=n(667294),o=n(791462),i=n(320115),a=n(90816),l=n(623899)
;function u(e){return s((0,o.Wu)([l.ZP],(function(){return null!=e&&null!=e.id&&""!==e.id?l.ZP.getEmbeddedActivitiesForChannel(e.id):l.i6})))}function c(e){var t=s((0,o.e7)([l.ZP],(function(){return null!=e?l.ZP.getEmbeddedActivitiesForGuild(e):l.i6})));return r.useMemo((function(){var e=new Map;t.forEach((function(t){var n,r=t.embeddedActivity.channelId,o=null!==(n=e.get(r))&&void 0!==n?n:[];o.push(t);e.set(r,o)}));return e}),[t])}function s(e){var t=e.map((function(e){return e.application_id})),n=(0,i.Z)(t);return r.useMemo((function(){return e.map((function(e,t){var r=n[t];return null==r?null:{embeddedActivity:e,application:r}})).filter(a.lm)}),[e,n])}},627599:(e,t,n)=>{"use strict";n.d(t,{i:()=>f});var r=n(791462),o=n(653772),i=n(859023),a=n(863419),l=n(700920),u=n(248613),c=n(623899),s=n(461061),f=function(e){var t,n=e.guildId,f=e.appId,d=(0,r.e7)([o.Z],(function(){return o.Z.getGuild(n)})),p=(0,r.e7)([i.default],(function(){return i.default.getCurrentUser()
})),h=null!=d&&d.premiumTier===s.Eu4.NONE,y=a.ZP.canUsePremiumActivities(p),b=l.GO.useExperiment({guildId:null!=n?n:""}).hasRotatingActivity,v=u.s8.useExperiment(null!==(t=null==p?void 0:p.id)&&void 0!==t?t:"").enableNitroActivities,m=b&&h||v&&!y,g=(0,r.cj)([c.ZP],(function(){return{shouldShowFreeIndicator:c.ZP.getState().shouldShowNewActivityIndicator||m&&c.ZP.shouldShowIndicatorForActivity(f),isRotatingFreeActivity:m&&c.ZP.getState().currentFreeActivity===f}}));return{shouldShowFreeIndicator:g.shouldShowFreeIndicator,isRotatingFreeActivity:g.isRotatingFreeActivity}}},416866:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(667294),o=n(791462),i=n(859023),a=n(331792),l=n(90816),u=n(248613),c=n(823343),s=n(623899),f=n(390212),d=function(e){return null!=e&&""!==e};function p(e){var t,n=(0,o.e7)([i.default],(function(){return i.default.getCurrentUser()})),p=(0,o.e7)([a.Z],(function(){return a.Z.testModeEmbeddedApplicationId
})),h=u.s8.useExperiment(null!==(t=null==n?void 0:n.id)&&void 0!==t?t:"").enableNitroActivities,y=(0,f.z)(),b=(0,o.e7)([s.ZP],(function(){return s.ZP.getBundleItems(null!=e?e:"").length}));r.useEffect((function(){d(e)&&y&&(0,c.w1)(e)}),[e,y]);return d(e)&&y&&(h||(0,l.lm)(p)||b>0)}},641955:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(785893),o=(n(667294),n(897576));function i(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function l(e){i(a,r,o,l,u,"next",e)}function u(e){i(a,r,o,l,u,"throw",e)}l(void 0)}))}}function l(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var u=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},
"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function c(e){var t=e.channelId,i=e.embeddedActivity,c=e.shouldDisconnectCall;(0,
o.ZD)(a((function(){var e,o;return u(this,(function(a){switch(a.label){case 0:return[4,Promise.all([n.e(40532),n.e(35666),n.e(35560),n.e(65296),n.e(90066),n.e(76748),n.e(73613),n.e(38946),n.e(97967),n.e(33646),n.e(86860),n.e(87773),n.e(42311),n.e(80911),n.e(39052),n.e(76948),n.e(21021),n.e(67895),n.e(51796),n.e(26492),n.e(95774),n.e(23816),n.e(73298),n.e(42334),n.e(745),n.e(26466),n.e(16486),n.e(39326)]).then(n.bind(n,172166))];case 1:e=a.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){l(e,t,n[t])}))}return e}({embeddedActivity:i,channelId:t,shouldDisconnectCall:c},e))}]}}))})))}},578068:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(667294),o=n(137861);function i(e,t){
(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}
var l=["embedded_cover","embedded_background"];function u(e){var t=e.applicationId,n=e.size,i=e.names,u=void 0===i?l:i,c=a(r.useState(null),2),s=c[0],f=c[1],d=a(r.useState(!0),2),p=d[0],h=d[1],y=(0,o.xF)(t,s,n),b=p?"loading":null!=y?"fetched":"not-found";r.useEffect((function(){(0,o.GR)(t,u).then((function(e){h(!1);var t=!0,n=!1,r=void 0;try{for(var o,i=e[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;if(null!=a&&""!==a){f(a);return}}}catch(e){n=!0;r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}}))}),[t]);return{url:y,state:b}}},485502:(e,t,n)=>{"use strict";n.d(t,{c:()=>c});var r=n(667294),o=n(859023),i=n(90816),a=n(248613),l=n(623899),u=n(641955),c=function(e){var t=e.channelId,n=e.shouldDisconnectCall,c=void 0!==n&&n,s=a.s8.useExperiment({},{autoTrackExposure:!0}).enableNitroActivities,f=l.ZP.getSelfEmbeddedActivityForChannel(t),d=o.default.getCurrentUser(),p=null==f?void 0:f.application_id,h=!(null==d||!(0,
i.lm)(p))&&l.ZP.isLastEligibleHost(d.id,p);return r.useCallback((function(){if(s&&h&&(0,i.lm)(f)){(0,u.Z)({embeddedActivity:f,channelId:t,shouldDisconnectCall:c});return!0}return!1}),[t,f,s,h,c])}},108994:(e,t,n)=>{"use strict";n.d(t,{Z:()=>j});var r=n(785893),o=(n(667294),n(173436)),i=n(912224),a=n(245189),l=n(897576),u=n(959797);function c(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){c(i,r,o,a,l,"next",e)}function l(e){c(i,r,o,a,l,"throw",e)}a(void 0)}))}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function p(e){p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return p(e)}
function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){d(e,t,n[t])}))}return e}function y(e,t){return!t||"object"!==v(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function b(e,t){b=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return b(e,t)}var v=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}()
;return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y(this,n)}}var g=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i
;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},O="ActivityInviteManager",E=function(){o.Z.dispatch({type:"ACTIVITY_INVITE_MODAL_CLOSE"})};const j=new(function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&b(e,t)}(a,e);var t=m(a);function a(){f(this,a);return t.apply(this,arguments)}var c=a.prototype;c._initialize=function(){o.Z.subscribe("ACTIVITY_INVITE_MODAL_OPEN",this.handleModalOpen);o.Z.subscribe("ACTIVITY_INVITE_MODAL_CLOSE",this.handleModalClose)};c._terminate=function(){o.Z.unsubscribe("ACTIVITY_INVITE_MODAL_OPEN",this.handleModalOpen);o.Z.unsubscribe("ACTIVITY_INVITE_MODAL_CLOSE",this.handleModalClose)};c.handleModalOpen=function(e){
var t=e.activity;e.isPrivate?(0,l.h7)((function(e){return(0,r.jsx)(i.Z,h({title:u.Z.Messages.ACTIVITY_INVITE_MODAL_HEADER.format({name:t.name}),body:u.Z.Messages.ACTIVITY_INVITE_PRIVATE,confirmText:u.Z.Messages.OKAY},e))}),{onCloseCallback:E,modalKey:O}):(0,l.ZD)(s((function(){var e,t;return g(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(57263)]).then(n.bind(n,457263))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,h({},e))}]}}))})),{onCloseCallback:E,modalKey:O})};c.handleModalClose=function(e){(0,l.Mr)(O)};c.__getLocalVars=function(){return{modalKey:O,onCloseCallback:E}};return a}(a.Z))},90151:(e,t,n)=>{"use strict";n.d(t,{T:()=>r,A:()=>s});var r,o=n(785893),i=(n(667294),n(294184)),a=n.n(i),l=n(250242),u=n.n(l);function c(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}!function(e){e[e.POPOUT=0]="POPOUT";e[e.SECONDARY=1]="SECONDARY";e[e.BLACK=2]="BLACK"}(r||(r={}))
;var s=function(e){var t,n=e.left,i=void 0===n?void 0:n,l=e.top,s=void 0===l?0:l,f=e.right,d=void 0===f?0:f,p=e.bottom,h=void 0===p?void 0:p,y=e.size,b=void 0===y?8:y,v=e.alert,m=void 0!==v&&v,g=e.maskColor,O=void 0===g?r.SECONDARY:g;return(0,o.jsx)("span",{className:a()(u().dot,(t={},c(t,u().alert,m),c(t,u().maskPopout,O===r.POPOUT),c(t,u().maskSecondary,O===r.SECONDARY),c(t,u().maskBlack,O===r.BLACK),t)),style:{height:b,width:b,left:i,top:s,right:d,bottom:h}})}},866328:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var r=n(785893),o=(n(667294),n(830395)),i=n(912224),a=n(661623),l=n(897576),u=n(959797);function c(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable
}))));r.forEach((function(t){c(e,t,n[t])}))}return e}function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=function(){o.Z.updatedUnsyncedSettings({disableEmbeddedActivityPopOutAlert:!0});e()},c=!a.ZP.disableEmbeddedActivityPopOutAlert;c?(0,l.h7)((function(o){return(0,r.jsx)(i.Z,s({confirmText:u.Z.Messages.EMBEDDED_ACTIVITIES_YEP,secondaryConfirmText:u.Z.Messages.DONT_ASK_AGAIN,title:u.Z.Messages.EMBEDDED_ACTIVITIES_CAREFUL,cancelText:u.Z.Messages.EMBEDDED_ACTIVITIES_NVM,onConfirm:e,onConfirmSecondary:n,onCancel:t,body:u.Z.Messages.EMBEDDED_ACTIVITIES_POP_OUT_WARNING},o))})):e()}},182134:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});function r(e,t){return"activityembed:".concat(e,":").concat(t)}},106392:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=(0,n(553494).B)({kind:"user",id:"2021-05_application_command_suggestions",label:"Application Command Suggestion experiment",defaultConfig:{showApplicationCommandSuggestions:!1},treatments:[{id:1,
label:"Show suggestions",config:{showApplicationCommandSuggestions:!0}}]})},902788:(e,t,n)=>{"use strict";n.d(t,{f:()=>O});var r,o=n(780921),i=n(402124),a=n(861842),l=n(888403),u=n(555581),c=n(817513),s=n(820294),f=n(99298),d=n(544934),p=n(959797);function h(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var y=(h(r={},o.jw.SUB_COMMAND,(function(){return{success:!1}})),h(r,o.jw.SUB_COMMAND_GROUP,(function(){return{success:!1}})),h(r,o.jw.STRING,(function(e,t){var n,r=null===(n=function(e){switch(e.type){case"emoji":return e.surrogate;case"text":return e.text}}(e))||void 0===n?void 0:n.trim();return null==t.choices||null!=r&&t.choices.map((function(e){return e.displayName})).includes(r)?t.type!==o.jw.STRING||void 0===t.minLength&&void 0===t.maxLength?{success:!0}:void 0!==r?function(e,t,n){if(void 0!==t.minLength&&e.length<t.minLength||void 0!==t.maxLength&&e.length>t.maxLength){
if(void 0!==t.maxLength&&void 0!==t.minLength&&t.minLength===t.maxLength)return{success:!1,error:n.exactRangeErrorMessage.format({value:m(t.minLength)})};if(void 0!==t.maxLength&&void 0!==t.minLength)return{success:!1,error:n.rangeErrorMessage.format({minimum:m(t.minLength),maximum:m(t.maxLength)})};if(void 0!==t.minLength)return{success:!1,error:n.minErrorMessage.format({minimum:m(t.minLength)})};if(void 0!==t.maxLength)return{success:!1,error:n.maxErrorMessage.format({maximum:m(t.maxLength)})}}return{success:!0}}(r,t,{exactRangeErrorMessage:p.Z.Messages.COMMAND_VALIDATION_STRING_EXACT_RANGE_ERROR,rangeErrorMessage:p.Z.Messages.COMMAND_VALIDATION_STRING_RANGE_ERROR,minErrorMessage:p.Z.Messages.COMMAND_VALIDATION_STRING_MINIMUM_ERROR,maxErrorMessage:p.Z.Messages.COMMAND_VALIDATION_STRING_MAXIMUM_ERROR}):{success:!0}:{success:!1}})),h(r,o.jw.BOOLEAN,(function(e){if("text"!==e.type)return{success:!1};var t=e.text.trim();return{success:d.ak.map((function(e){
return e.displayName.toLowerCase()})).includes(t.toLowerCase())}})),h(r,o.jw.INTEGER,(function(e,t,n){if("text"!==e.type||t.type!==o.jw.INTEGER)return{success:!1};var r=e.text.trim();if(0===r.length)return{success:!1};if(null!=t.choices)return t.choices.map((function(e){return e.displayName})).includes(r)?{success:!0}:{success:!1};var i=s.Z.getAutocompleteLastChoices(n,t.name);if(null!=i&&i.map((function(e){return e.displayName})).includes(r))return{success:!0};var a=Number(l.AS(c.default.locale,r));return!isNaN(a)&&Number.isInteger(a)&&Number.isSafeInteger(a)?v(a,t,p.Z.Messages.COMMAND_VALIDATION_NUMBER_RANGE_ERROR,p.Z.Messages.COMMAND_VALIDATION_NUMBER_MINIMUM_ERROR,p.Z.Messages.COMMAND_VALIDATION_NUMBER_MAXIMUM_ERROR):{success:!1}})),h(r,o.jw.NUMBER,(function(e,t,n){if("text"!==e.type||t.type!==o.jw.NUMBER)return{success:!1};var r=e.text.trim();if(0===r.length)return{success:!1};if(null!=t.choices)return t.choices.map((function(e){return e.displayName})).includes(r)?{success:!0}:{
success:!1};var i=s.Z.getAutocompleteLastChoices(n,t.name);if(null!=i&&i.map((function(e){return e.displayName})).includes(r))return{success:!0};var a=Number(l.AS(c.default.locale,r));return isNaN(a)||a>Number.MAX_SAFE_INTEGER||a<Number.MIN_SAFE_INTEGER?{success:!1}:v(a,t,p.Z.Messages.COMMAND_VALIDATION_NUMBER_RANGE_ERROR,p.Z.Messages.COMMAND_VALIDATION_NUMBER_MINIMUM_ERROR,p.Z.Messages.COMMAND_VALIDATION_NUMBER_MAXIMUM_ERROR)})),h(r,o.jw.USER,(function(e,t,n,r){if("text"===e.type){if((0,f.BH)(e.text))return{success:!0};var o=(0,u.K)(e.text,r,n);return{success:"userMention"===(null==o?void 0:o.type)}}return{success:"userMention"===e.type}})),h(r,o.jw.CHANNEL,(function(e,t,n,r){if("text"===e.type){if((0,f.BH)(e.text))return{success:!0};var o=(0,u.K)(e.text,r,n);return{success:"channelMention"===(null==o?void 0:o.type)}}return{success:"channelMention"===e.type}})),h(r,o.jw.ROLE,(function(e,t,n,r){if("text"===e.type){if((0,f.BH)(e.text))return{success:!0};var o=(0,u.K)(e.text,r,n);return{
success:"roleMention"===(null==o?void 0:o.type)}}return{success:b(e)}})),h(r,o.jw.MENTIONABLE,(function(e,t,n,r){if("text"===e.type){if((0,f.BH)(e.text))return{success:!0};var o=(0,u.K)(e.text,r,n);return{success:null!=o&&("userMention"===o.type||b(o))}}return{success:"userMention"===e.type||b(e)}})),h(r,o.jw.ATTACHMENT,(function(e,t,n){if("text"!==e.type)return{success:!1};var r=a.Z.getUpload(n,t.name,i.d.ChannelMessage);return{success:null!=r&&r.filename===e.text}})),r),b=function(e){return"roleMention"===e.type||"textMention"===e.type&&"@everyone"===e.text};function v(e,t,n,r,o){if(null!=t.minValue&&e<t.minValue||null!=t.maxValue&&e>t.maxValue){if(null!=t.maxValue&&null!=t.minValue)return{success:!1,error:n.format({minimum:m(t.minValue),maximum:m(t.maxValue)})};if(null!=t.minValue)return{success:!1,error:r.format({minimum:m(t.minValue)})};if(null!=t.maxValue)return{success:!1,error:o.format({maximum:m(t.maxValue)})}}return{success:!0}}function m(e){
return e.toLocaleString(p.Z.getLocale(),{useGrouping:!1})}const g=y;function O(e,t,n,r,u){if(e.type===o.jw.ATTACHMENT){var c=a.Z.getUpload(r,e.name,i.d.ChannelMessage);return e.required&&null==c&&!u?{success:!1,error:p.Z.Messages.COMMAND_VALIDATION_REQUIRED_ERROR}:{success:!0}}var s=null!=t?(0,l.KF)({content:t},"content").trim():"";if(e.required&&""===s&&!u)return{success:!1,error:p.Z.Messages.COMMAND_VALIDATION_REQUIRED_ERROR};if(null==t)return{success:!0};if(""===s)return u?{success:!0}:{success:!1,error:(0,d.al)(e)};var f=t.length>1?{type:"text",text:s}:t[0],h=g[e.type](f,e,r,n);h.success||null!=h.error||(h.error=(0,d.al)(e));return h}},744:(e,t,n)=>{"use strict";n.d(t,{Z:()=>O});var r=n(131795),o=n.n(r),i=n(951660),a=n(531286),l=n(865622),u=n(478695),c=n(655695),s=n(631134),f=n(18700),d=n(932847),p=n(618468),h=n(461061);function y(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function b(e){return function(){
var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){y(i,r,o,a,l,"next",e)}function l(e){y(i,r,o,a,l,"throw",e)}a(void 0)}))}}var v=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){
a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function m(e){return g.apply(this,arguments)}function g(){return(g=b((function(e){var t,n,r,l,c;return v(this,(function(f){switch(f.label){case 0:if("Android"!==(n=null===(t=o().os)||void 0===t?void 0:t.family)&&"iOS"!==n)return[3,5];l=null!==(r=s.default.getFingerprint())&&void 0!==r?r:s.default.getId();c=(0,a.WS)();if(null!=l||!s.default.isAuthenticated())return[3,4];f.label=1;case 1:f.trys.push([1,3,,4]);return[4,(0,u.k)()];case 2:f.sent();l=s.default.getId();return[3,4];case 3:f.sent();return[3,4];case 4:return[2,(0,a.ZP)((0,i.Gk)(),{utmSource:e,fingerprint:l,attemptId:c})];case 5:return[2,"discord://"]}}))}))).apply(this,arguments)}function O(e){return E.apply(this,arguments)}function E(){return(E=b((function(e){var t,n;return v(this,(function(r){
switch(r.label){case 0:return[4,m(e)];case 1:t=r.sent();null!=(n=(0,a.zS)(t))&&d.default.track(h.rMx.DEEP_LINK_CLICKED,{fingerprint:(0,l.K)(n.fingerprint),attempt_id:n.attemptId,source:n.utmSource});p.Z.launch(t,(function(e){e||(0,c.dL)(f.Z.fallbackRoute)}));return[2]}}))}))).apply(this,arguments)}},702234:(e,t,n)=>{"use strict";n.d(t,{K:()=>r});var r;!function(e){e[e.STREAM=0]="STREAM";e[e.VIDEO=1]="VIDEO"}(r||(r={}))},242829:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(959797);function o(e,t,n,o){return o?r.Z.Messages.CONSOLE_CONNECTING_DISABLED:n?r.Z.Messages.SUPPRESSED:t?r.Z.Messages.SERVER_MUTED_DIALOG_TITLE:e?r.Z.Messages.UNMUTE:r.Z.Messages.MUTE}},722059:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r,o=n(190177),i=n(866452);function a(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var l=Object.freeze((a(r={},o.fO.STREAM,i.Yn.STREAM),a(r,o.fO.HIDDEN_STREAM,i.Yn.STREAM),a(r,o.fO.USER,i.Yn.DEFAULT),
a(r,o.fO.ACTIVITY,i.Yn.DEFAULT),r));function u(e){return l[e]}},14395:(e,t,n)=>{"use strict";n.r(t);n.d(t,{default:()=>m});var r=n(785893),o=(n(667294),n(239396)),i=n(186121),a=n(488455),l=n(749469),u=n(557893),c=n(791462),s=n(600341),f=n(934714);var d=n(956345),p=n(73393),h=n(461061),y=n(959797);var b=n(741937),v=n.n(b);function m(e){var t,n,b,m,g=e.onClose,O=e.renderOutputDevices,E=void 0!==O&&O,j=e.renderInputDevices,S=void 0!==j&&j,C=e.renderInputModes,P=void 0!==C&&C,I=e.renderInputVolume,_=void 0!==I&&I,w=e.renderOutputVolume,x=void 0!==w&&w,N=e.onSelect,T=(0,r.jsx)(i.sN,{id:"voice-settings",label:y.Z.Messages.VOICE_SETTINGS,action:function(){return d.Z.open(h.oAB.VOICE)},icon:p.Z}),A=(t=(0,c.e7)([f.Z],(function(){return Object.values(f.Z.getInputDevices())})),n=(0,c.e7)([f.Z],(function(){return f.Z.getInputDeviceId()})),t.map((function(e){var t=e.id,o=e.disabled,a=e.name;return(0,r.jsx)(i.k5,{id:"input-".concat(t),group:"input-devices",disabled:o,label:a,checked:t===n,
action:function(){return s.Z.setInputDevice(t)}},"input-".concat(t))}))),Z=(b=(0,c.e7)([f.Z],(function(){return Object.values(f.Z.getOutputDevices())})),m=(0,c.e7)([f.Z],(function(){return f.Z.getOutputDeviceId()})),b.map((function(e){var t=e.id,n=e.disabled,o=e.name;return(0,r.jsx)(i.k5,{group:"output-devices",id:"output-".concat(t),disabled:n,label:o,checked:t===m,action:function(){return s.Z.setOutputDevice(t)}},"output-".concat(t))}))),R=(0,a.Z)(),M=(0,l.Z)(),D=(0,u.Z)();return(0,r.jsx)(o.Z,{object:h.qAy.CONTEXT_MENU,children:(0,r.jsxs)(i.ZP,{onSelect:N,className:v().menu,onClose:g,navId:"audio-device-context","aria-label":y.Z.Messages.AUDIO_DEVICE_ACTIONS,children:[S?(0,r.jsx)(i.kS,{label:y.Z.Messages.INPUT_DEVICE,children:A}):null,E?(0,r.jsx)(i.kS,{label:y.Z.Messages.OUTPUT_DEVICE,children:Z}):null,P?(0,r.jsx)(i.kS,{label:y.Z.Messages.FORM_LABEL_INPUT_MODE,children:R}):null,(0,r.jsxs)(i.kS,{children:[_?M:null,x?D:null,T]})]})})}},68352:(e,t,n)=>{"use strict";n.d(t,{Z:()=>ma})
;var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),l=n(441143),u=n.n(l),c=n(791462),s=n(820028),f=n(365523),d=n(173436),p=n(825524),h=n(281081),y=n(804626),b=n(370442),v=n(830395),m=n(569476),g=n(24397),O=n(487502),E=n(761434),j=n(629590),S=n(983801);function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function I(e){I=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return I(e)}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){P(e,t,n[t])}))}return e}function w(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function x(e,t){return!t||"object"!==T(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function N(e,t){N=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return N(e,t)}var T=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function A(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{
Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=I(e);if(t){var o=I(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return x(this,n)}}const Z=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&N(e,t)}(n,e);var t=A(n);function n(){C(this,n);var e;(e=t.apply(this,arguments)).renderPopout=function(t){var n=t.closePopout,o=e.props,i=o.options,a=o.value,l=o.renderOption,u=o.popoutClassName,c=o.scroller;return(0,r.jsx)(S.W,{scroller:Boolean(c),className:u,options:i,value:a,renderOption:l,onChange:function(t){e.handleChange(t);n()}})};e.handleChange=function(t){var n=e.props.onChange;null==n||n(t)};return e}n.prototype.render=function(){
var e=this.props,t=e.label,n=e.value,o=e.renderValue,i=e.className,a=e.popoutProps;return(0,r.jsx)(E.ZP,w(_({},a),{renderPopout:this.renderPopout,children:function(e,a){var l=a.isShown;return(0,r.jsx)(j.Z,w(_({},e),{className:i,"aria-haspopup":"listbox","aria-expanded":l,children:(0,r.jsx)(S.Z,{label:t,value:n,renderValue:o})}))}}))};return n}(o.PureComponent);var R=n(959797),M=n(949391),D=n.n(M);function L(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e){k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return k(e)}function U(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&H(e,t)}function G(e,t){return!t||"object"!==B(t)&&"function"!=typeof t?function(e){
if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function H(e,t){H=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return H(e,t)}var B=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function V(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=k(e);if(t){var o=k(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return G(this,n)}}var F={position:E.vK.BOTTOM,autoInvert:!1},W=function(e){var t=e.region,n=e.className,o=void 0===n?D().regionSelectName:n,i=t.name.replace(/ \(VIP\)$/,"");return(0,r.jsx)("div",{className:o,children:i})},Y=function(e){U(n,e);var t=V(n);function n(){L(this,n)
;return t.apply(this,arguments)}n.prototype.render=function(){var e=this.props,t=e.region,n=e.selected;return(0,r.jsxs)(O.Z,{align:O.Z.Align.CENTER,className:a()({selected:n}),children:[(0,r.jsx)(W,{region:t,className:D().regionSelectName}),n?(0,r.jsx)("i",{className:D().check}):null]})};return n}(o.PureComponent),z=function(e){U(n,e);var t=V(n);function n(){L(this,n);var e;(e=t.apply(this,arguments)).renderOption=function(e,t){return(0,r.jsx)(Y,{region:e.value,selected:t},e.value.id)};e.getSelectedRegion=function(){var t,n=e.props,r=n.regions,o=n.call;return o.regionUpdated&&null!=r&&null!=o.region?null!==(t=r.find((function(e){return e.id===o.region})))&&void 0!==t?t:{name:o.region,id:o.region}:{id:"automatic",name:R.Z.Messages.AUTOMATIC_REGION,vip:!1,deprecated:!1,hidden:!1}};e.handleChangeVoiceRegion=function(t){var n=t.value,r=e.props.call.channelId;m.Z.changeCallRegion(r,n.id)};return e}var o=n.prototype;o.componentDidMount=function(){
null==this.props.regions&&m.Z.fetchRegions(null)};o.render=function(){var e=this.props.regions;if(null==e)return null;var t=this.getSelectedRegion(),n={label:t.name,value:t},o=e.filter((function(e){return!e.deprecated&&!e.hidden})).map((function(e){return{label:e.name,value:e,key:e.id}}));return(0,r.jsx)(Z,{label:R.Z.Messages.REGION,options:o,value:n,onChange:this.handleChangeVoiceRegion,renderOption:this.renderOption,popoutProps:F,popoutClassName:D().regionSelectPopout})};return n}(o.PureComponent);const K=c.ZP.connectStores([g.Z],(function(){return{regions:g.Z.getRegions(null)}}))(z);var q=n(239396),X=n(558128),Q=n(980306),J=n(35599),$=n(623899),ee=n(416866),te=n(866328),ne=n(897576),re=n(882699),oe=n(461061);function ie(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function ae(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){ie(i,r,o,a,l,"next",e)}function l(e){
ie(i,r,o,a,l,"throw",e)}a(void 0)}))}}function le(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var ue=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){
a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function ce(){var e=function(e){var t=e.applicationId;(0,ne.ZD)(ae((function(){var e,o;return ue(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(5754)]).then(n.bind(n,905754))];case 1:e=i.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){le(e,t,n[t])}))}return e}({applicationId:t},e))}]}}))})))};o.useEffect((function(){re.S.subscribe(oe.CkL.LAST_NITRO_HOST_LEFT,e);return function(){
re.S.unsubscribe(oe.CkL.LAST_NITRO_HOST_LEFT,e)}}),[]);return null}var se=n(859169),fe=n(23816),de=n(64833),pe=n(570132),he=n(430923),ye=n(781479),be=n(67874),ve=n(95048),me=n(186121),ge=n(348025),Oe=n(316103),Ee=n(212033),je=n(963886),Se=n(454369),Ce=n(803204),Pe=n(796080),Ie=n(236102),_e=n.n(Ie),we=n(206091),xe=n.n(we);function Ne(e){var t=e.onDismiss,n=e.onAccept,o=e.popoutPosition;return(0,r.jsx)(Ce.ZP,{header:R.Z.Messages.CONSOLE_NUX_TOOLTIP_HEADER,content:R.Z.Messages.CONSOLE_NUX_TOOLTIP_BODY_XBOX,asset:(0,r.jsx)("img",{src:xe(),alt:"",className:_e().art}),onClick:n,onSecondaryClick:t,markAsDismissed:t,buttonCTA:R.Z.Messages.CONSOLE_NUX_TOOLTIP_ACCEPT,secondaryButtonCTA:R.Z.Messages.CONSOLE_NUX_TOOLTIP_DISMISS,caretPosition:o===Pe.q_.TOP?Ce.DF.BOTTOM_LEFT:Ce.DF.TOP_LEFT})}var Te=n(441233),Ae=n(576629),Ze=n(259849);function Re(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Me(e,t,n){t in e?Object.defineProperty(e,t,{value:n,
enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function De(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Me(e,t,n[t])}))}return e}function Le(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function ke(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r]
;t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function Ue(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Re(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Re(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ge(e){var t=e.onClose,n=e.channel,o=(0,Ae.Z)(n);return(0,r.jsx)(me.ZP,{onClose:t,onSelect:function(){return null},navId:"transfer-menu","aria-label":R.Z.Messages.TRANSFER,children:o})}function He(e){return null!=e?e===Ze.YE.XBOX?R.Z.Messages.XBOX_REMOTE_CONNECTED_RAW:R.Z.Messages.DONUT_BAKED_SPRINKLES_RAW:R.Z.Messages.CONSOLE_TRANSFER}function Be(e){var t,n=e.channel,i=ke(e,["channel"]),a=(0,ye.Z)(),l=(0,c.e7)([je.Z],(function(){var e;return null===(e=je.Z.getSessionById(null!==(t=null==a?void 0:a.sessionId)&&void 0!==t?t:""))||void 0===e?void 0:e.clientInfo.os})),u=(0,c.e7)([Ee.Z],(function(){return Ee.Z.hasLayers()})),f=Ue((0,c.Wu)([be.Z],(function(){return[be.Z.getMode(n.id),be.Z.getLayout(n.id)]})),2),d=f[0],p=f[1],h=(0,ne.s9)(ne.JQ),y=(0,Se.Z)(!1),b=Ue(o.useState(!1),2),v=b[0],m=b[1]
;if(null==a&&0===y.length)return null;var g=oe.WtW.VOICE!==d&&[oe.AEg.NO_CHAT,oe.AEg.FULL_SCREEN].includes(p)?E.ZP.Positions.TOP:E.ZP.Positions.BOTTOM;return(0,r.jsx)(ve.Z,{contentTypes:[s.z$.DONUT_DESKTOP_NUX],children:function(e){var t=e.visibleContent,o=e.markAsDismissed,a=t===s.z$.DONUT_DESKTOP_NUX,c=!u&&!h;return(0,r.jsx)(E.ZP,{position:g,spacing:a?16:void 0,positionKey:"".concat(d,":").concat(p),onRequestClose:function(){return m(!1)},shouldShow:(a||v)&&c,renderPopout:function(e){var t=e.closePopout;return(0,r.jsx)(ge.Z,{children:a?(0,r.jsx)(Ne,{popoutPosition:g,onDismiss:o,onAccept:function(){o();m(!0)}}):(0,r.jsx)(Ge,{onClose:function(){t()},channel:n})})},children:function(e){return(0,r.jsx)(Oe.Z,De(Le(De({},e),{onClick:function(){return m(!0)},label:He(l),iconComponent:(0,Te.Z)(l)}),i))}})}})}var Ve=n(997163),Fe=n(337160),We=n(280195),Ye=n(81717),ze=n(655695),Ke=n(76899),qe=n(639760),Xe=n(395130),Qe=n(899881),Je=n(806702),$e=n(61334);function et(e,t,n){
t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function tt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){et(e,t,n[t])}))}return e}function nt(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function rt(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e)
;for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function ot(e){var t=e.channel,n=rt(e,["channel"]),o=t.getGuildId(),i=(0,Qe.Z)(t),a=i.mute,l=i.suppress;Ke.ZP.useExperiment({guildId:null!=o?o:""},{autoTrackExposure:null!=o});return null==o||a||l?null:(0,r.jsx)(E.ZP,{position:E.ZP.Positions.TOP,renderPopout:function(e){var t=e.closePopout;return(0,r.jsx)(ge.Z,{children:(0,r.jsx)($e.Z,{guildId:o,onClose:t,analyticsSource:"call button"})})},children:function(e){return(0,r.jsx)(Oe.Z,tt(nt(tt({},e),{label:R.Z.Messages.GUILD_SETTINGS_SOUNDBOARD,iconComponent:Je.Z}),n))}})}var it=n(661623),at=n(906695),lt=n(283533),ut=n(738017),ct=n(589175),st=n(952013),ft=n(426217),dt=n(459541),pt=n(190177),ht=n(366236),yt=n(25578),bt=n.n(yt),vt=n(3066),mt=n.n(vt),gt=n(476600),Ot=n.n(gt)
;function Et(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jt(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function St(e){St=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return St(e)}function Ct(e,t){return!t||"object"!==It(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Pt(e,t){Pt=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Pt(e,t)}var It=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function _t(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0
}catch(e){return!1}}();return function(){var n,r=St(e);if(t){var o=St(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ct(this,n)}}var wt=23,xt=17,Nt=26,Tt={SCALE_MIN:.7,SCALE_MAX:1,DURATION_IN:300,DURATION_OUT:170,EASING_IN:ut.Z.Easing.inOut(ut.Z.Easing.back()),EASING_OUT:ut.Z.Easing.quad},At=200,Zt=125,Rt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Pt(e,t)}(n,e);var t=_t(n);function n(){Et(this,n);var e;(e=t.apply(this,arguments)).scaleAnimation=new ut.Z.Value(0);e.spriteAnimation=new ut.Z.Value(0);e.spriteOpacity=new ut.Z.Value(0);e.widthAnimation=new ut.Z.Value(0);return e}var o=n.prototype;o.componentDidMount=function(){this.componentDidAppear()};o.componentDidAppear=function(){var e=this.scaleAnimation,t=this.widthAnimation;e.setValue(1);t.setValue(1)}
;o.componentWillEnter=function(e){var t=this.scaleAnimation,n=this.widthAnimation;t.setValue(0);n.setValue(0);ut.Z.parallel([ut.Z.timing(t,{toValue:1,duration:Tt.DURATION_IN,easing:Tt.EASING_IN}),ut.Z.timing(n,{toValue:1,duration:At})]).start(e)};o.componentWillLeave=function(e){var t=this,n=t.scaleAnimation,r=t.spriteAnimation,o=t.spriteOpacity,i=t.widthAnimation;o.setValue(1);r.setValue(0);for(var a=[],l=0;l<wt;l++)a.push(ut.Z.timing(r,{toValue:-Nt*l,duration:xt}));ut.Z.sequence([ut.Z.timing(n,{toValue:0,duration:Tt.DURATION_OUT,easing:Tt.EASING_OUT}),ut.Z.sequence(a),ut.Z.timing(i,{toValue:0,duration:Zt})]).start(e)};o.getScaleStyle=function(){var e=this.scaleAnimation;return ut.Z.accelerate({transform:[{scale:e.interpolate({inputRange:[0,1],outputRange:[Tt.SCALE_MIN,Tt.SCALE_MAX]})}],opacity:e})};o.getSpriteStyle=function(){return{backgroundPosition:this.spriteAnimation,opacity:this.spriteOpacity}};o.getWidthStyle=function(){return{width:this.widthAnimation.interpolate({
inputRange:[0,1],outputRange:["0px","".concat(this.props.width,"px")]})}};o.render=function(){var e,t=this.props,n=t.theme,o=t.children,i=t.className,l=n===oe.BRd.DARK,u=a()(bt().sprite,(jt(e={},Ot().crossWhite,l),jt(e,Ot().crossGrey,!l),e));return(0,r.jsxs)(ut.Z.div,{className:a()(bt().transition,i),style:this.getWidthStyle(),children:[(0,r.jsx)("div",{className:a()(bt().spriteWrapper,mt().horizontal,mt().justifyCenter,mt().alignCenter),children:(0,r.jsx)(ut.Z.div,{className:u,style:this.getSpriteStyle()})}),(0,r.jsx)(ut.Z.div,{style:this.getScaleStyle(),children:o})]})};return n}(o.PureComponent);function Mt(e){var t=e.participants,n=e.onContextMenu,o=e.className,i=e.onClick,l=e.width,u=e.guildId,s=(0,st.ZP)(),f=function(e,t){return((0,ht.px)(ht.u8.SIZE_80)+16)*t>e?ht.u8.SIZE_40:ht.u8.SIZE_80}(l,t.length),d=(0,c.e7)([ft.Z],(function(){return ft.Z.isFocused()})),p=t.map((function(e){if(e.type!==pt.fO.USER)return null;var t,o,a=e.user,l=e.voiceState,c=e.speaking,p=e.ringing;return(0,
r.jsx)(Rt,{className:bt().participant,width:(0,ht.px)(f),theme:s,children:(0,r.jsx)(dt.Z,{src:a.getAvatarURL(u,ht.H8[f].size,c&&d),size:f,muted:null!==(t=null==l?void 0:l.isVoiceMuted())&&void 0!==t&&t,deafen:null!==(o=null==l?void 0:l.isVoiceDeafened())&&void 0!==o&&o,speaking:c,ringing:p,onClick:function(t){return null==i?void 0:i(e,t)},onContextMenu:function(t){return null==n?void 0:n(e,t)}},e.id)},a.id)}));return(0,r.jsx)(ct.Z,{component:"div",className:a()(bt().root,o),children:p})}var Dt=n(631134),Lt=n(191940),kt=n(48843),Ut=n(685351),Gt=n(363572),Ht=n(517879),Bt=n(657091),Vt=n.n(Bt);function Ft(e,t){return 0===t.length?R.Z.Messages.CURRENTLY_IN_VOICE_EMPTY:1===t.length?R.Z.Messages.CURRENTLY_IN_VOICE_1.format({a:(0,Gt.Z)(e,t[0])}):2===t.length?R.Z.Messages.CURRENTLY_IN_VOICE_2.format({a:(0,Gt.Z)(e,t[0]),b:(0,Gt.Z)(e,t[1])}):t.length>2?R.Z.Messages.CURRENTLY_IN_VOICE_2_N.format({a:(0,Gt.Z)(e,t[0]),b:(0,Gt.Z)(e,t[1]),n:t.length-2}):void 0}const Wt=function(e){
var t=e.participants,n=e.channel,i=e.hasConnectPermission,a=t.filter(pt.Io),l=o.useCallback((function(){y.default.selectVoiceChannel(n.id)}),[n.id]),u=4===a.length?2:3;return(0,r.jsxs)("div",{className:Vt().container,children:[(0,r.jsx)("div",{className:Vt().tiles,style:{maxWidth:168*u},children:a.slice(0,5).map((function(e){return(0,r.jsx)(Ht.ZP,{participant:e,channel:n,className:Vt().tile,paused:!0,inCall:!0,noVideoRender:!0,inPopout:!1,width:48},e.id)}))}),(0,r.jsx)(kt.X,{className:Vt().channelName,variant:"heading-xxl/medium",children:n.name}),(0,r.jsx)("div",{className:Vt().participantsRow,children:(0,r.jsx)(Ut.x,{color:"header-secondary",variant:"text-sm/normal",children:Ft(n,a)})}),(0,r.jsx)(Lt.Co,{disabled:!i,className:Vt().joinButton,color:i?Lt.Co.Colors.GREEN:Lt.Co.Colors.PRIMARY,onClick:l,size:Lt.Co.Sizes.MEDIUM,children:i?R.Z.Messages.JOIN_VOICE:R.Z.Messages.CHANNEL_LOCKED_SHORT})]})}
;var Yt=n(506884),zt=n(383689),Kt=n(64914),qt=n(653772),Xt=n(940712),Qt=n(104640),Jt=n(941724),$t=n(550542),en=n.n($t);function tn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function nn(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function rn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return tn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var on=16/9;function an(e,t){return Math.floor((t-e)/(8+e))+1}function ln(e,t,n){for(var r=t-e;r>0;){var o=e,i=Math.floor(r/2);if(n(o+=i)){e=o+1;r-=i+1}else r=i}return e}function un(e,t,n){var r,o=Math.floor(t/25),i=t;if(e>25)r=ln(o,i,(function(e){var r=an(e,t),o=function(e,t){var n=e/on;return Math.ceil((t-n)/(8+n))+1}(e,n);return r*o>25}));else{r=ln(o,i,(function(r){var o=an(r,t),i=function(e,t){var n=e/on;return Math.floor((t-n)/(8+n))+1}(r,n);return o*i>=e}));r-=1}var a=an(r,t),l=function(e,t){return Math.ceil(t/e)}(a,e);return{tileWidth:r,columns:Math.max(1,a),rows:l}}function cn(e){var t,n=e.className,i=e.children,l=e.keyExtractor,u=e.paddingTop,c=void 0===u?0:u,s=e.paddingBottom,f=void 0===s?0:s,d=rn(o.useState({
width:0,height:0}),2),p=d[0],h=d[1],y=p.width,b=p.height,v=null!==(t=null==i?void 0:i.length)&&void 0!==t?t:0,m=y-16,g=b-(c+f),O=o.useMemo((function(){return function(e,t,n){var r=un(e,t,n),o=r.rows,i=r.columns,a=r.tileWidth;return{tileStyle:{width:a},tileWidth:a,rows:o,columns:i}}(v,m,g)}),[v,m,g]),E=O.tileStyle,j=O.tileWidth,S=O.rows,C=O.columns,P=C+1,I=P*j+8*(P-1)<=y,_=Math.floor(j/on)+8,w=Math.max(0,g-_*S)/2;return(0,r.jsx)(Jt.Z,{fade:!0,className:n,listPadding:[c+w,0,f+w-8,8],renderRow:function(e){var t,n=e*C;return(0,r.jsx)("div",{className:en().row,children:null===(t=null==i?void 0:i.slice(n,n+C))||void 0===t?void 0:t.map((function(e,t){var o,i,u=n+t;return(0,r.jsx)("div",{style:E,className:a()(en().tile,(i={},nn(i,en().padColumn,I),nn(i,en().noVerticalMargin,u>=(S-1)*C),nn(i,en().noHorizontalMargin,(u+1)%C==0||u===v-1),i)),children:(0,r.jsx)(Qt.Z,{className:en().tileSizer,aspectRatio:on,children:e(j)})},null!==(o=null==l?void 0:l(u))&&void 0!==o?o:u)}))},e)},rowCount:S,
rowCountBySection:[S],rowHeight:_,onResize:h})}var sn=n(225391),fn=n(735237),dn=n(86030),pn=n(200146),hn=n.n(pn),yn=n(222917),bn=n.n(yn);function vn(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function mn(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){vn(i,r,o,a,l,"next",e)}function l(e){vn(i,r,o,a,l,"throw",e)}a(void 0)}))}}function gn(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function On(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){
Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var En=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}
o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function jn(e){var t=e.channel,o=e.guild,i=e.width,a=e.inPopout;return(0,r.jsx)(sn.Z,{className:hn().root,children:(0,r.jsx)(fn.Z,{artURL:bn(),size:(0,fn.L)(i),header:R.Z.Messages.STREAM_SINGLE_PERSON_BODY,onCTAClick:function(){return(0,ne.ZD)(mn((function(){var e,i;return En(this,(function(a){switch(a.label){case 0:return[4,Promise.all([n.e(40532),n.e(15793),n.e(42348),n.e(23647)]).then(n.bind(n,715793))];case 1:e=a.sent(),i=e.default;return[2,function(e){return(0,r.jsx)(i,On(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){gn(e,t,n[t])}))}return e}({},e),{guild:o,channel:t,
source:oe.t4x.CHANNEL_CALL}))}]}}))})),{contextKey:a?dn.u1:dn.z1})},callToAction:R.Z.Messages.INSTANT_INVITE})})}var Sn=n(946234),Cn=n.n(Sn);function Pn(e){var t=e.participants,n=e.onClick,i=e.onDoubleClick,a=e.onContextMenu,l=e.channel,u=e.className,s=e.inCall,f=e.totalNumberOfParticipants,d=e.paused,p=void 0!==d&&d,h=(0,J.bp)()===oe.IlC.POPOUT,y=(0,c.e7)([qt.Z],(function(){return qt.Z.getGuild(l.guild_id)}),[l.guild_id]),b=(0,c.e7)([Xt.Z],(function(){return l.isPrivate()||(0,Kt.b)(Xt.Z,y,l)}),[y,l]),v=(null==y?void 0:y.afkChannelId)===l.id,m=l.userLimit<=0||l.userLimit>1,g=t.map((function(e){return function(t){return(0,r.jsx)(Ht.ZP,{participant:e,channel:l,className:Cn().tile,paused:p,onClick:n,onDoubleClick:i,onContextMenu:a,inCall:s,width:t,inPopout:h},e.id)}}));(0,zt.Z)({type:Yt.nv.VIEW,name:Yt.zs.CHANNEL_CALL_VIDEO_GRID_VIEW,properties:{total_participants:f,can_invite:b,is_afk_channel:v,channel_user_limit:l.userLimit}},{trackOnInitialLoad:!0},[])
;null!=y&&!v&&m&&1===f&&b&&g.push((function(e){return(0,r.jsx)(jn,{width:e,channel:l,guild:y,inPopout:h})}));var O=o.useCallback((function(e){var n,r;return null!==(r=null===(n=t[e])||void 0===n?void 0:n.id)&&void 0!==r?r:"empty-tile"}),[t]);return(0,r.jsx)(cn,{className:u,keyExtractor:O,paddingTop:64,paddingBottom:64,children:g})}var In=n(248088),_n=n(244028),wn=n(850513),xn=n(934714),Nn=n(444450),Tn=n(350577),An=n(974777),Zn=n.n(An);function Rn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Mn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return
;if("string"==typeof e)return Rn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Rn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Dn="CameraPreviewPosition";function Ln(e){var t=e.width,n=e.onContextMenuParticipant,i=e.height,a=e.channel,l=e.participants,u=Mn(function(){var e=Mn(o.useState((function(){return Nn.Z.get(Dn,oe.VD2.BOTTOM_RIGHT)})),2),t=e[0],n=e[1];return[t,o.useCallback((function(e){Nn.Z.set(Dn,e);n(e)}),[])]}(),2),c=u[0],s=u[1],f=o.useRef(null),d=null==a.getGuildId()?70:50;o.useLayoutEffect((function(){var e;null===(e=f.current)||void 0===e||e.ensureIsInPosition()}),[l.length]);return(0,r.jsx)("div",{className:Zn().container,children:(0,
r.jsx)(Tn._,{position:c,id:0,ref:f,onMove:function(e,t){return s(t)},maxX:t,maxY:i,edgeOffsetTop:d,edgeOffsetBottom:70,edgeOffsetLeft:16,edgeOffsetRight:16,children:(0,r.jsx)("div",{className:Zn().tileContainer,children:l.map((function(e){return(0,r.jsx)(Ht.ZP,{participant:e,channel:a,onContextMenu:n,className:Zn().tile,fit:Ht.BP.COVER,inCall:!0,inPopout:!1,width:160})}))})})})}var kn=n(90816),Un=n(776500);var Gn=n(496486),Hn=n.n(Gn),Bn=n(131291),Vn=n(388832),Fn=n.n(Vn);function Wn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Yn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||Kn(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zn(e){return function(e){if(Array.isArray(e))return Wn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Kn(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Kn(e,t){if(e){if("string"==typeof e)return Wn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Wn(e,t):void 0}}var qn=864e13,Xn=16/9*112+8,Qn=1e4;function Jn(e){var t=String(qn).length;return String(qn-e).padStart(t,"0")}function $n(e){var t,n=Dt.default.getId()
;return e.type===pt.fO.USER&&e.user.id===n&&(null===(t=e.voiceState)||void 0===t?void 0:t.selfVideo)}function er(e,t){var n=Yn(o.useState(Date.now()),2),r=n[0],i=n[1];o.useEffect((function(){var e=setTimeout((function(){i(Date.now())}),Qn);return function(){clearTimeout(e)}}),[t]);var a=o.useRef({}),l=o.useMemo((function(){var n=Date.now(),r=(0,Gn.sortBy)(t,(function(e){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();switch(e.type){case pt.fO.ACTIVITY:return"\0".concat(e.sortKey);case pt.fO.HIDDEN_STREAM:case pt.fO.STREAM:return"".concat((0,Bn.qz)(e.userNick,e.user));case pt.fO.USER:var n,r="";e.speaking?r="":t-e.lastSpoke<Qn?r="":(null===(n=e.voiceState)||void 0===n?void 0:n.selfVideo)&&(r="");return"".concat(r).concat(Jn(e.lastSpoke)).concat((0,Bn.qz)(e.userNick,e.user))}}(e,n)})),o=Yn((0,Gn.partition)(r,pt._5),2),i=o[0],l=o[1],u=l.findIndex($n),c=null;if(-1!==u){c=l[u];l.splice(u,1)}
var s=null!=c?e-Xn-8:e,f=Math.floor((s-8)/132),d=Math.max(0,Math.min(f,12,t.length)),p=Math.min((s-8)/d-8,Xn),h=Math.max(0,d-i.length),y=i.slice(0,d),b=l.slice(0,h),v=new Array(h);if(h>0){var m=[],g=!0,O=!1,E=void 0;try{for(var j,S=b[Symbol.iterator]();!(g=(j=S.next()).done);g=!0){var C=j.value,P=a.current[C.id];null!=P&&P<h?v[P]=C:m.push(C)}}catch(e){O=!0;E=e}finally{try{g||null==S.return||S.return()}finally{if(O)throw E}}for(var I=0;I<v.length;I++)if(null==v[I]){var _=m.shift();if(null==_)break;v[I]=_}}var w=v.filter(kn.lm),x=(0,Gn.keyBy)((0,Gn.range)(w.length),(function(e){return w[e].id}));a.current=x;var N=zn(y).concat(zn(w));null!=c&&N.push(c);return{visibleParticipants:N,participantTileWidth:p}}),[e,t,r]);return{visibleParticipants:l.visibleParticipants,participantTileWidth:l.participantTileWidth}}function tr(e){
var t=e.participants,n=e.participantTileWidth,o=e.selectedParticipantId,i=e.onDoubleClick,a=e.onContextMenu,l=e.onClick,u=e.channel,c=e.inCall,s=e.popoutWindow,f=e.paused,d=void 0!==f&&f,p=null!=s;return(0,r.jsx)("div",{className:Fn().root,children:t.map((function(e){if(null==e)return null;var t=$n(e);return(0,r.jsx)("div",{className:Fn().tileSizer,style:t?{flexShrink:0}:void 0,children:(0,r.jsx)(Ht.ZP,{participant:e,selected:o===e.id,channel:u,className:Fn().tile,fit:Ht.BP.COVER,onClick:l,onDoubleClick:i,onContextMenu:a,width:t?Xn:n,inCall:c,paused:d,inPopout:p})},e.id)}))})}var nr=n(367374),rr=n.n(nr),or=n(398720),ir=n.n(or);function ar(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function lr(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function ur(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){lr(e,t,n[t])}))}return e}function cr(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function sr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{
try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ar(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ar(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var fr=120;function dr(e){
var t=e.onSelectParticipant,n=e.onContextMenuParticipant,i=e.onFullscreenParticipant,l=e.participants,u=e.filteredParticipants,c=e.popoutWindow,s=e.inCall,f=e.channel,d=e.selectedParticipant,p=e.showParticipants,h=void 0===p||p,y=e.className,b=e.paused,v=e.width,m=e.height,g=e.layout,O=e.idle,E=null!=c,j=xn.Z.getVideoComponent(),S=Dt.default.getId(),C=sr(o.useState(null),2),P=C[0],I=C[1],_=sr(o.useState(!0),2),w=_[0],x=_[1],N=sr(o.useState(!1),2),T=N[0],A=N[1],Z=d.type===pt.fO.ACTIVITY,R=!Z&&null!=d.streamId,M=R&&null!=P&&P.width>0&&P.height>0?P.width/P.height:1.7777777777777777,D=m<=384,L=h&&!D,k=(0,_n.Z)(L),U=0;(Z||L)&&(U+=72);Z&&!L&&(U+=48);L&&(U+=68);var G,H=m-2*U,B=H*M,V=Math.floor(Math.min(v,B)/M),F=m>v/M+72+fr+8;G=!L&&!Z?40+Math.max(0,72-(m-V)/2):L?-16:-8;o.useEffect((function(){var e=setTimeout((function(){x(!1)}),250);return function(){clearTimeout(e)}}),[]);var W=(0,In.useSpring)({value:L?1:0,delay:F||!L?0:100,config:cr(ur({},In.config.stiff),{clamp:!0}),onStart:function(){
return A(!0)},onChange:function(){return re.S.dispatch(oe.CkL.REMEASURE_TARGET)},onRest:function(){A(!1);re.S.dispatch(oe.CkL.REMEASURE_TARGET)}}),Y=(0,In.useSpring)({value:L?1:0,config:cr(ur({},In.config.stiff),{clamp:!0})}),z=(0,In.useSpring)({value:B,config:cr(ur({},In.config.stiff),{clamp:!0}),immediate:k===L&&Y.value.idle}),K=(0,In.useSpring)({value:G,config:cr(ur({},In.config.stiff),{clamp:!0})}),q=(0,In.useTransition)(d,{keys:function(e){return null==e?void 0:e.id},config:cr(ur({},In.config.stiff),{clamp:!0}),initial:null,from:{opacity:0},enter:{opacity:1},leave:{opacity:0}}),X=o.useCallback((function(e){I(e);x(!1)}),[]),Q=L||b?[]:function(e,t,n){return null==t||t.type===pt.fO.ACTIVITY?[]:[t.type===pt.fO.STREAM?e.find((function(e){return e.type===pt.fO.USER&&e.id===(null==t?void 0:t.user.id)&&e.id!==n&&(0,Un.Z)(e)})):null,t.type===pt.fO.USER?e.find((function(e){return e.type===pt.fO.STREAM&&e.user.id===(null==t?void 0:t.user.id)&&null!=e.streamId
})):null,t.id!==n?e.find((function(e){return e.type===pt.fO.USER&&e.id===n&&(0,Un.Z)(e)})):null].filter(kn.lm)}(l,d,S),J=er(v,u),$=J.visibleParticipants,ee=J.participantTileWidth;return(0,r.jsxs)("div",{className:a()(ir().root,rr().flexCenter,y),children:[(0,r.jsxs)("div",{className:ir().tileWrapper,style:{opacity:R&&w?0:1},children:[(0,r.jsxs)(In.animated.div,{className:ir().videoFrame,style:{top:Y.value.to((function(e){return-e*fr/2}))},children:[(0,r.jsx)(In.animated.div,{style:{width:z.value},className:ir().videoWrapper,children:(0,r.jsx)(Qt.Z,{className:rr().videoSizer,aspectRatio:M,children:q((function(e,o,a){var l=a.key;return null!=o?(0,r.jsx)(In.animated.div,{className:rr().videoWrapperAnimated,style:e,children:(0,r.jsx)(Ht.ZP,{focused:!0,noBorder:B>=v||H>=m,channel:f,className:rr().focusedVideo,videoComponent:j,paused:b,width:v,participant:o,onClick:t,onDoubleClick:i,onContextMenu:n,onVideoResize:X,inCall:s,inPopout:E})},l):null}))})
}),D||g===oe.AEg.MINIMUM||g===oe.AEg.NORMAL?null:(0,r.jsx)(In.animated.div,{className:a()(ir().actionRow,lr({},ir().idle,O)),style:{bottom:K.value},children:(0,r.jsx)(wn.Z,{channelId:f.id,isParticipantsOpen:h,isVertical:!0})})]}),(0,r.jsx)(In.animated.div,{className:ir().participantsWrapperAnimated,style:{translateY:W.value.to((function(e){return e*fr/2})),opacity:W.value,visibility:W.value.to((function(e){return 0===e?"hidden":"visible"}))},children:(0,r.jsx)(tr,{channel:f,onClick:t,onContextMenu:n,onDoubleClick:i,participants:$,participantTileWidth:ee,selectedParticipantId:d.id,inCall:s,paused:b||T||!h,popoutWindow:c})})]}),Q.length>0?(0,r.jsx)(Ln,{onContextMenuParticipant:n,width:v,height:m,channel:f,participants:Q}):null]})}var pr=n(153996);function hr(e){var t=e.width,n=e.className,o=e.channelId,i=e.noArt,a=void 0!==i&&i;return(0,r.jsx)(fn.Z,{artURL:pr,noArt:a,size:(0,fn.L)(t),className:n,callToAction:R.Z.Messages.STREAM_SHOW_ALL_PARTICIPANTS,
header:R.Z.Messages.STREAM_PARTICIPANTS_HIDDEN.format(),onCTAClick:function(){return p.Z.toggleVoiceParticipantsHidden(o,!1)}})}const yr=(0,lt.Z)((function(e){var t=e.participants,n=e.filteredParticipants,i=e.selectedParticipant,l=e.participantsVersion,u=e.layout,c=e.onSelectParticipant,s=e.onContextMenuParticipant,f=e.onFullscreenParticipant,d=e.channel,p=e.hasConnectPermission,h=e.className,y=e.inCall,b=e.showParticipants,v=void 0===b||b,m=e.paused,g=void 0!==m&&m,E=e.width,j=e.height,S=e.idle,C=e.mode,P=e.popoutWindow;o.useEffect((function(){re.S.dispatch(oe.CkL.REMEASURE_TARGET)}),[E,j]);var I=o.useMemo((function(){return n.filter((function(e){return e.type!==pt.fO.ACTIVITY||!e.participants.has(Dt.default.getId())}))}),[n,l]);if((null==d?void 0:d.isGuildVocal())&&!y)return(0,r.jsx)(Wt,{channel:d,participants:t,hasConnectPermission:p});if(C===oe.WtW.VOICE)return(0,r.jsx)(Mt,{guildId:d.guild_id,width:E,className:rr().voiceCallWrapper,participants:t,onContextMenu:s});n=y?n:t
;return null==i?0===n.length?(0,r.jsx)(hr,{className:a()(rr().videoGrid,rr().hiddenParticipants),channelId:d.id,width:E}):(0,r.jsx)(O.Z,{className:rr().videoGridWrapper,justify:O.Z.Justify.CENTER,align:O.Z.Align.CENTER,children:(0,r.jsx)(Pn,{channel:d,className:rr().videoGrid,participants:I,totalNumberOfParticipants:t.length,onClick:c,onDoubleClick:f,onContextMenu:s,paused:g,inCall:y})}):(0,r.jsx)(dr,{onFullscreenParticipant:f,onContextMenuParticipant:s,onSelectParticipant:c,selectedParticipant:i,filteredParticipants:I,participants:t,popoutWindow:P,className:h,idle:S,height:j,width:E,layout:u,inCall:y,channel:d,showParticipants:v})}));var br,vr=n(992917),mr=n(794851),gr=n(6873),Or=n(679302),Er=n(323093),jr=n(822375),Sr=n(810881),Cr=n.n(Sr);function Pr(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Ir(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e)
;for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}!function(e){e[e.UP=0]="UP";e[e.DOWN=1]="DOWN"}(br||(br={}));function _r(e){var t=e.direction,n=e.className,o=Ir(e,["direction","className"]);return(0,r.jsx)(Oe.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Pr(e,t,n[t])}))}return e}({className:a()(n,Cr().arrow,Pr({},Cr().up,t===br.UP)),iconComponent:jr.Z},o))}_r.Directions=br;const wr=_r
;var xr=n(403613),Nr=n(401844),Tr=n(296942),Ar=n(206728),Zr=n(193031),Rr=n(623123),Mr=n(809107),Dr=n(468811),Lr=n.n(Dr),kr=n(152163),Ur=n(730189),Gr=n(893054),Hr=n.n(Gr);function Br(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Vr(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Fr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Vr(e,t,n[t])}))}return e}function Wr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value)
;if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||zr(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yr(e){return function(e){if(Array.isArray(e))return Br(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||zr(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zr(e,t){if(e){if("string"==typeof e)return Br(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Br(e,t):void 0}}
var Kr=[Hr().emoji1,Hr().emoji2,Hr().emoji3,Hr().emoji4],qr=o.memo((function(e){var t,n=e.emoji,i=e.onAnimationEnd,l=(0,Gn.sample)(Kr),u=o.useCallback((function(){i(n.key)}),[n.key,i]);return(0,r.jsx)("div",{className:a()(Hr().emoji,l),onAnimationEnd:u,children:(0,r.jsx)(kr.Z,{emojiId:n.id,emojiName:n.name,animated:null!==(t=n.animated)&&void 0!==t&&t})})}));function Xr(e){var t=e.channelId,n=(0,c.e7)([Ur.Z],(function(){return Ur.Z.useReducedMotion})),i=Wr(o.useState([]),2),a=i[0],l=i[1];o.useEffect((function(){var e=function(e){var r=e.channelId,o=e.emoji;r!==t||n||l((function(e){return Yr(e).concat([Fr({key:Lr()()},o)])}))};d.Z.subscribe("VOICE_CHANNEL_EFFECT_SEND",e);return function(){d.Z.unsubscribe("VOICE_CHANNEL_EFFECT_SEND",e)}}),[t,n]);var u=o.useCallback((function(e){l((function(t){return t.filter((function(t){return t.key!==e}))}))}),[]);return n?null:(0,r.jsx)("div",{className:Hr().container,"aria-hidden":!0,children:a.map((function(e){return(0,r.jsx)(qr,{emoji:e,
onAnimationEnd:u},e.key)}))})}var Qr=n(18416),Jr=n(182376),$r=n(464623),eo=n(365667),to=n(379822),no=n(859023),ro=n(882687),oo=n(226300),io=n(932847),ao=n(268333),lo=n(742269),uo=n(170729),co=n(588641),so=n(787619),fo=n(722059),po=n(799217),ho=n(711138),yo=n(688087),bo=n(450754),vo=n(320115),mo=n(53211),go=n(987928),Oo=n(217891),Eo=n(905567),jo=n(613258),So=n(178249),Co=n(348786),Po=n.n(Co);function Io(e){var t=e.guildEvent;return null==t?null:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Eo.ZP.Divider,{className:Po().divider}),(0,r.jsx)(So.z,{startTime:t.scheduled_start_time,isActive:(0,jo.xt)(t),isEnded:(0,jo.Z2)(t),liveText:R.Z.Messages.LIVE_EVENT,className:Po().eventSchedule,textVariant:"text-lg/semibold",eventType:t.entity_type}),(0,r.jsx)(Ut.x,{color:"header-secondary",variant:"text-md/normal",className:Po().eventName,children:t.name})]})}var _o=n(782226),wo=n(772235),xo=n(573643),No=n(962564),To=n(570992)
;var Ao=n(693518),Zo=n(67121),Ro=n(174301),Mo=n(721431),Do=n(807729),Lo=n(757987),ko=n(240243);function Uo(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Go(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Ho(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r]
;t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function Bo(e){var t=e.width,n=void 0===t?24:t,o=e.height,i=void 0===o?24:o,a=e.color,l=void 0===a?"currentColor":a,u=e.foreground,c=Ho(e,["width","height","color","foreground"]);return(0,r.jsxs)("svg",Go(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Uo(e,t,n[t])}))}return e}({},(0,ko.Z)(c)),{width:n,height:i,viewBox:"0 0 24 24",fill:"none",children:[(0,r.jsx)("rect",{className:u,x:"4",y:"4",width:"7",height:"7",rx:"1",fill:l}),(0,r.jsx)("rect",{className:u,x:"4",y:"13",width:"7",height:"7",rx:"1",fill:l}),(0,r.jsx)("rect",{className:u,x:"13",y:"4",width:"7",height:"7",rx:"1",fill:l}),(0,r.jsx)("rect",{className:u,x:"13",y:"13",width:"7",
height:"7",rx:"1",fill:l})]}))}function Vo(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Fo(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function Wo(e){var t=e.channelId,n=Fo(e,["channelId"]);return(0,r.jsx)(Oe.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Vo(e,t,n[t])}))}return e}({onClick:function(){p.Z.selectParticipant(t,null)},
label:R.Z.Messages.VIDEO_CALL_RETURN_TO_GRID,iconComponent:Bo,tooltipPosition:Lo.as.BOTTOM},n))}var Yo=n(605390),zo=n(898641),Ko=n.n(zo);function qo(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Xo(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function Qo(e){var t=e.className,n=e.count;return(0,r.jsxs)("div",{className:a()(Ko().root,Ko().comboIcon,t),children:[(0,r.jsx)(Yo.Z,{className:Ko().icon}),(0,r.jsx)(Ut.x,{color:"none",className:Ko().count,variant:"text-md/normal",children:n})]})}function Jo(e){var t=e.count,n=Xo(e,["count"]);return(0,r.jsx)(Oe.Z,function(e){for(var t=1;t<arguments.length;t++){
var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){qo(e,t,n[t])}))}return e}({label:R.Z.Messages.CHANNEL_CALL_PARTICIPANTS,iconComponent:function(e){var n=e.className;return(0,r.jsx)(Qo,{className:n,count:t})},tooltipPosition:Lo.as.BOTTOM},n))}function $o(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function ei(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){
Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function ti(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function ni(e){var t=e.width,n=void 0===t?24:t,o=e.height,i=void 0===o?24:o,a=e.color,l=void 0===a?"currentColor":a,u=e.foreground,c=ti(e,["width","height","color","foreground"]);return(0,r.jsxs)("svg",ei(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){$o(e,t,n[t])}))}return e}({},(0,
ko.Z)(c)),{width:n,height:i,viewBox:"0 0 24 24",fill:"none",children:[(0,r.jsx)("rect",{className:u,x:"3",y:"3",width:"18",height:"10",rx:"1",fill:l}),(0,r.jsx)("rect",{className:u,x:"3",y:"15",width:"8",height:"6",rx:"1",fill:l}),(0,r.jsx)("rect",{className:u,x:"13",y:"15",width:"8",height:"6",rx:"1",fill:l})]}))}function ri(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function oi(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function ii(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{}
;var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function ai(e){var t=e.width,n=void 0===t?24:t,o=e.height,i=void 0===o?24:o,a=e.color,l=void 0===a?"currentColor":a,u=e.foreground,c=ii(e,["width","height","color","foreground"]);return(0,r.jsxs)("svg",oi(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){ri(e,t,n[t])}))}return e}({},(0,ko.Z)(c)),{width:n,height:i,viewBox:"0 0 24 24",fill:"none",children:[(0,r.jsx)("rect",{className:u,x:"1",y:"4",width:"13",height:"16",rx:"2",fill:l}),(0,
r.jsx)("rect",{className:u,x:"16",y:"4",width:"7",height:"7",rx:"1",fill:l}),(0,r.jsx)("rect",{className:u,x:"16",y:"13",width:"7",height:"7",rx:"1",fill:l})]}))}function li(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function ui(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function ci(e){var t=e.channelId,n=e.isHorizontal,o=ui(e,["channelId","isHorizontal"]);return(0,r.jsx)(Oe.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){
return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){li(e,t,n[t])}))}return e}({onClick:function(){p.Z.selectParticipant(t,pt.dF.AUTO)},label:R.Z.Messages.VIDEO_CALL_AUTO_SELECT,iconComponent:n?ni:ai,tooltipPosition:Lo.as.BOTTOM},o))}var si=n(248604),fi=n(109707),di=n(225464),pi=n(829038),hi=n(110553),yi=n(974902),bi=n(674606),vi=n(534830);function mi(e){var t=e.channelId,n=e.onClose,o=e.appContext,i=e.exitFullScreen,a=e.onSelect,l=(0,c.e7)([be.Z],(function(){return be.Z.getSelectedParticipant(t)})),u=(null==l?void 0:l.type)===pt.fO.STREAM?l.stream:null;return(0,r.jsxs)(me.ZP,{navId:"channel-call-overflow-popout",style:me.gA.FLEXIBLE,onClose:n,"aria-label":R.Z.Messages.CHANNEL_CALL_OVERFLOW_MENU_LABEL,onSelect:a,children:[(0,pi.Z)(t),(0,yi.Z)(),(0,hi.Z)(t),(0,vi.Z)(t),(0,bi.Z)(u,o,i)]})}var gi=n(443785),Oi=n(645897),Ei=n(725002),ji=n(498082),Si=n.n(ji);function Ci(e){var t=e.channel,n=(0,c.e7)([Oi.ZP],(function(){return Oi.ZP.getVoiceStatesForChannel(t)}))
;return(0,r.jsxs)("div",{className:Si().root,children:[(0,r.jsx)(Ut.x,{variant:"text-xs/bold",className:Si().header,children:R.Z.Messages.CHANNEL_CALL_MEMBERS_POPOUT_HEADER.format({count:n.length})}),(0,r.jsx)(Ei.ZP,{className:Si().scroller,children:(0,r.jsx)(gi.Z,{allowDragging:!1,allowPreviews:!1,className:Si().voiceUsers,channel:t,voiceStates:n,collapsed:!1,location:oe.Sbl.CHANNEL_CALL})})]})}var Pi=n(942751),Ii=n.n(Pi);function _i(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function wi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){_i(e,t,n[t])}))}return e}function xi(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Ni(e){var t=e.channelId,n=e.guildId,o=Date.now(),i=(0,c.e7)([si.Z,be.Z],(function(){return Hn()(si.Z.getSpeakers()).map((function(e){return be.Z.getParticipant(t,e)})).filter((function(e){return null!=e&&e.type===pt.fO.USER&&!(0,Un.Z)(e)&&e.speaking})).sortBy((function(e){return-si.Z.getSpeakingDuration(e.user.id,o)})).slice(0,3).value()}));return 0===i.length?null:(0,r.jsx)(r.Fragment,{children:i.map((function(e,t){return(0,r.jsx)(Lo.ZP,{position:Lo.ZP.Positions.BOTTOM,color:Lo.ZP.Colors.GREY,text:R.Z.Messages.CHANNEL_CALL_CURRENT_SPEAKER.format({
username:e.user.username}),children:function(o){return(0,r.jsx)(fi.Z,xi(wi({},o),{className:a()(Ii().speaker,_i({},Ii().last,t===i.length-1)),user:e.user,speaking:!0,collapsed:!0,guildId:n}))}},e.id)}))})}function Ti(e){var t=e.channel,n=e.appContext,i=e.inCall,a=e.isChatOpen,l=e.exitFullScreen,u=t.id,s=(0,c.cj)([be.Z],(function(){return{selectedParticipant:be.Z.getSelectedParticipant(u),voiceParticipantsHidden:be.Z.getVoiceParticipantsHidden(u),userParticipantCount:be.Z.getUserParticipantCount(u)}}),[t.id]),f=s.voiceParticipantsHidden,d=s.selectedParticipant,p=s.userParticipantCount,h=(0,gr.Y)("popup"),y=h.preventIdle,b=h.allowIdle,v=[];f&&v.push((0,r.jsx)(Ni,{channelId:u,guildId:t.guild_id},"current-speaker"));if((null==d?void 0:d.type)===pt.fO.STREAM){v.push((0,r.jsx)(Mo.Z,{className:Ii().button,participant:d},"warning"));v.push((0,r.jsx)(Zo.Z,{size:di.ZP.Sizes.LARGE,className:Ii().button,participant:d,showQuality:!0},"live-indicator"))}f&&v.push((0,r.jsx)(E.ZP,{
position:E.ZP.Positions.BOTTOM,renderPopout:function(){return(0,r.jsx)(ge.Z,{children:(0,r.jsx)(Ci,{channel:t})})},children:function(e,t){var n=t.isShown;return(0,o.createElement)(Jo,xi(wi({},e),{active:n,count:p,key:"call-members",className:Ii().button}))}},"call-members-popout"));i&&v.push(null!=d?(0,r.jsx)(Wo,{className:Ii().button,channelId:u},"deselect-participant"):(0,r.jsx)(ci,{className:Ii().button,channelId:u,isHorizontal:!0},"select-participant"));v.push((0,r.jsx)(Ro.Z,{onOpen:y,onClose:b,className:Ii().button},"recents"));v.push((0,r.jsx)(E.ZP,{position:E.ZP.Positions.BOTTOM,renderPopout:function(e){var t=e.closePopout;return(0,r.jsx)(ge.Z,{children:(0,r.jsx)(mi,{channelId:u,onClose:t,appContext:n,exitFullScreen:l})})},children:function(e,t){var n=t.isShown;return(0,o.createElement)(Do.Z,xi(wi({},e),{key:"more-options",active:n,className:Ii().lastButton}))}},"more-options-popout"));if(!a){v.push((0,r.jsx)(Eo.ZP.Divider,{className:Ii().divider},"divider"));v.push((0,
r.jsx)(xr.Y,{channelId:t.id,className:Ii().chatButtonSpacer,disabled:!0}))}return(0,r.jsx)(r.Fragment,{children:v})}var Ai=n(609993),Zi=n(34973),Ri=n.n(Zi);function Mi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Di(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Mi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Mi(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Li(e){var t=e.user,n=e.channel,o=e.stream,i=function(e,t,n){var r=(0,c.e7)([No.Z],(function(){return null!=n?(0,xo.L2)(n,No.Z):null}),[n]),o=To.Z.getName(e.getGuildId(),e.id,t);return null==n?o:null!=(null==r?void 0:r.name)?R.Z.Messages.GO_LIVE_USER_PLAYING.format({applicationName:null==r?void 0:r.name,username:o}):R.Z.Messages.GO_LIVE_TILE_SCREEN.format({username:o})}(n,t,o);return null==t||null==o?null:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(yo.Z,{className:Ri().avatar,size:yo.u.SIZE_24,user:t,animate:!1}),(0,r.jsx)(Ut.x,{className:Ri().playingText,variant:"text-md/medium",color:"none",children:i})]})}function ki(e){var t,n=e.focusedApplication,o=e.focusedParticipant,i=e.channel,a=(0,Oo.qY)(i.id),l=null!=a;if((null==o?void 0:o.type)===pt.fO.ACTIVITY)null!=n&&(t=(0,r.jsxs)(r.Fragment,{children:[(0,
r.jsx)(Eo.ZP.Divider,{className:Ri().divider}),(0,r.jsx)(Ao.Z,{game:n,className:Ri().activityIcon}),(0,r.jsx)(Ut.x,{className:Ri().playingText,variant:"text-md/normal",color:"none",children:(0,bo.Z)(n.name)})]}));else if((null==o?void 0:o.type)===pt.fO.STREAM){var u=o.user,c=o.stream;t=(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Eo.ZP.Divider,{className:Ri().divider}),(0,r.jsx)(Li,{user:u,channel:i,stream:c})]})}else l&&(t=(0,r.jsx)(Io,{guildEvent:a}));return(0,r.jsx)("div",{className:Ri().container,children:t})}function Ui(e){var t=e.channel,n=e.guild,o=e.appContext,i=e.inCall,a=e.isChatOpen,l=e.exitFullScreen,u=(0,c.cj)([be.Z],(function(){return{focusedParticipant:be.Z.getSelectedParticipant(t.id),participantsOpen:be.Z.getParticipantsOpen(t.id)}}),[t.id]).focusedParticipant,s=(0,mo.Z)(t),f=(0,go.Z)(t),d=Di((0,vo.Z)((null==u?void 0:u.type)===pt.fO.ACTIVITY?[u.id]:[]),1)[0],p=R.Z.Messages.VOICE_CHANNEL;t.isDM()?p=R.Z.Messages.DM:t.isGroupDM()&&(p=R.Z.Messages.GROUP_DM);return(0,
r.jsxs)(Eo.ZP,{onDoubleClick:_o.O,transparent:!0,className:(0,uo.Q)(Ai.BR.DARK),toolbar:(0,r.jsx)(Ti,{channel:t,appContext:o,inCall:i,isChatOpen:a,exitFullScreen:l}),children:[null!=f?(0,r.jsx)(Eo.ZP.Icon,{icon:f,disabled:!0,"aria-label":p}):null,(0,r.jsx)(Eo.ZP.Title,{children:s}),(0,r.jsx)(wo.TS,{channel:t,guild:n}),(0,r.jsx)(ki,{focusedApplication:d,focusedParticipant:u,channel:t})]})}var Gi=n(147253),Hi=(0,n(538959).Xv)("VoiceChannelEffectsCall"),Bi=Hi.Layer,Vi=Hi.LayerContainer,Fi=Hi.LayerProvider,Wi=Vi,Yi=Fi;const zi=Bi;var Ki=n(661073),qi=n.n(Ki);function Xi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Qi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ji(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function $i(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){
var i=e.apply(t,n);function a(e){Ji(i,r,o,a,l,"next",e)}function l(e){Ji(i,r,o,a,l,"throw",e)}a(void 0)}))}}function ea(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ta(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function na(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function ra(e){ra=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return ra(e)}function oa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){na(e,t,n[t])}))}return e}function ia(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function aa(e,t){return!t||"object"!==ca(t)&&"function"!=typeof t?Qi(e):t}function la(e,t){la=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return la(e,t)}function ua(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}
}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Xi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xi(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ca=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function sa(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=ra(e);if(t){var o=ra(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments)
;return aa(this,n)}}var fa,da,pa=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){
i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},ha=(na(fa={},oe.AEg.NORMAL,qi().normal),na(fa,oe.AEg.MINIMUM,qi().minimum),na(fa,oe.AEg.NO_CHAT,qi().noChat),na(fa,oe.AEg.FULL_SCREEN,qi().fullScreen),fa),ya=(na(da={},oe.IlC.POPOUT,qi().popout),na(da,oe.IlC.APP,null),na(da,oe.IlC.OVERLAY,null),da);function ba(e){var t=e.resizableNode,n=e.onResize,i=e.onResizeEnd,a=e.maxHeight,l=ua(o.useState(null),2),u=l[0],c=l[1];o.useEffect((function(){var e,n;c(null!==(n=null===(e=t.current)||void 0===e?void 0:e.offsetHeight)&&void 0!==n?n:null)}),[t]);var s=(0,Q.Z)({initialElementDimension:u,minDimension:200,maxDimension:a,resizableDomNodeRef:t,onElementResize:n,onElementResizeEnd:i,orientation:Q.y.VERTICAL_BOTTOM});return(0,r.jsx)("div",{onMouseDown:s,className:qi().resizeHandle})}var va=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function")
;e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&la(e,t)}(i,e);var t=sa(i);function i(){ea(this,i);var e;(e=t.apply(this,arguments))._prevLayout=oe.AEg.MINIMUM;e._wrapperRef=o.createRef();e._callContainerRef=o.createRef();e._channelChatRef=o.createRef();e._contentRef=o.createRef();e._videoBackgroundTooltipTimeout=new f.V7;e._lastIdleProps=null;e.state={resizedHeight:it.ZP.callHeaderHeight};e.handleFullScreenChange=function(){var t=e.getRootNode();null!=t&&((0,so.rB)(t,e.currentDocument)||e.props.layout!==oe.AEg.FULL_SCREEN||e.handleFullScreen())};e.handleFullScreen=function(){var t=e.getRootNode();if(null!=t)if(e.props.layout!==oe.AEg.FULL_SCREEN){e._prevLayout=e.props.layout;e.handleChangeLayout(oe.AEg.FULL_SCREEN);(0,so.Dj)(t)}else e.maybeLeaveFullScreen()};e.maybeLeaveFullScreen=function(){var t=e.getRootNode();if(null!=t&&e.props.layout===oe.AEg.FULL_SCREEN){e.handleChangeLayout(e._prevLayout);(0,so.Pr)(t,e.currentDocument)}}
;e.handleToggleLayout=function(){e.handleChangeLayout(e.props.layout===oe.AEg.NORMAL?oe.AEg.NO_CHAT:oe.AEg.NORMAL)};e.handleChangeLayout=function(t){var n=e.props,r=n.channel,o=n.appContext;if(n.layout!==t){p.Z.updateLayout(r.id,t,o);t===oe.AEg.FULL_SCREEN&&r.isPrivate()&&re.S.dispatch(oe.CkL.TEXTAREA_BLUR)}};e.handleDisconnect=function(){e.props.layout===oe.AEg.FULL_SCREEN&&e.handleFullScreen()};e.handleContextMenu=function(t,o){var i,a,l=e.props,c=l.channel,s=l.appContext,f=l.layout,d={onClose:function(){var t;return null===(t=e._lastIdleProps)||void 0===t?void 0:t.onAllowIdle("menu")},context:s};null===(i=e._lastIdleProps)||void 0===i||i.onPreventIdle("menu");null===(a=e._lastIdleProps)||void 0===a||a.onActive();switch(t.type){case pt.fO.HIDDEN_STREAM:case pt.fO.STREAM:var p=Qi(e);(0,h.jW)(o,$i((function(){var e,o;return pa(this,(function(i){switch(i.label){case 0:return[4,n.e(32557).then(n.bind(n,932557))];case 1:e=i.sent(),o=e.default;return[2,function(e){return(0,
r.jsx)(o,ia(oa({},e),{stream:t.stream,exitFullscreen:p.maybeLeaveFullScreen,appContext:s}))}]}}))})),d);return;case pt.fO.USER:var y=no.default.getUser(t.id);if(null!=y)switch(c.type){case oe.d4z.DM:return(0,h.jW)(o,$i((function(){var e,t;return pa(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(87996),n.e(45323),n.e(63952)]).then(n.bind(n,281327))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,ia(oa({},e),{showChannelCallItems:!0,showMediaItems:!0,user:y,channel:c,showModalItems:!0}))}]}}))})),d);case oe.d4z.GROUP_DM:return(0,h.jW)(o,$i((function(){var e,t;return pa(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(87996),n.e(45323),n.e(9847)]).then(n.bind(n,402878))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,ia(oa({},e),{showChannelCallItems:!0,showMediaItems:!0,showChatItems:f===oe.AEg.MINIMUM||f===oe.AEg.NORMAL,user:y,channel:c,showModalItems:!0}))}]}}))})),d);case oe.d4z.GUILD_VOICE:
var b=c.getGuildId();u()(null!=b,"GuildID null for guild voice channel");return(0,h.jW)(o,$i((function(){var e,t;return pa(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(87996),n.e(45323),n.e(1951),n.e(36401),n.e(34076)]).then(n.bind(n,536401))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,ia(oa({},e),{showMediaItems:!0,showChannelCallItems:!0,showChatItems:!1,user:y,channelId:c.id,guildId:b,showModalItems:!0}))}]}}))})),d)}}};e.handleCallResize=function(t){e.setState({resizedHeight:t})};e.handleSelectParticipant=function(t,n){var r=e.props,o=r.channel,i=r.selectedParticipant,a=r.allActiveStreams,l=r.inCall,u=r.mode;if((0,pt._5)(t)&&(0,Fe.p9)(o,ro.Z,qt.Z,Xt.Z,he.Z)[0]){y.default.selectVoiceChannel(o.id);0===a.filter((function(e){return(0,Ve.V9)(e)===t.id&&e.state!==oe.jm8.ENDED})).length&&(0,b.rn)((0,Ve.my)(t.id),{forceMultiple:n.shiftKey})}
l&&u===oe.WtW.VIDEO&&((null==i?void 0:i.id)===t.id?p.Z.selectParticipant(o.id,null):p.Z.selectParticipant(o.id,t.id))};e.handleOpenPopout=function(){var t=e.props,n=t.channel,r=function(){var e=n.getGuildId();null!=e&&(0,ze.uL)((0,ao.LY)(e));We.hP(n)};t.connectedToEmbeddedActivity?(0,te.Z)(r):r()};e.handleStayOnTop=function(e){We.hY(oe.KJ3.CHANNEL_CALL_POPOUT,e)};e.handleClosePopout=function(){We.xv(oe.KJ3.CHANNEL_CALL_POPOUT)};e.handleFullscreenParticipant=function(t,n){var r=e.props,o=r.layout,i=r.selectedParticipant,a=o===oe.AEg.FULL_SCREEN;(!a&&(null==i?void 0:i.id)!==t.id||a&&(null==i?void 0:i.id)===t.id)&&e.handleSelectParticipant(t,n);e.handleFullScreen()};e.renderRegionSelect=function(){var t,n=e.props,o=n.call,i=n.channel,a=n.layout;e.inPopout||a===oe.AEg.FULL_SCREEN||null==o||i.isManaged()||(t=(0,r.jsx)(K,{call:o}));return(0,r.jsx)(O.Z,{justify:O.Z.Justify.END,children:t})};e.renderBottomCenter=function(){var t=e.props,n=t.channel,o=t.mode,i=t.inCall,a=t.layout
;return i||a===oe.AEg.MINIMUM||a===oe.AEg.NORMAL?(0,r.jsx)(at.ZP,{exitFullScreen:e.maybeLeaveFullScreen,channel:n,mode:o,onDisconnectCall:e.handleDisconnect,idleProps:e._lastIdleProps}):null};e.renderBottomLeft=function(){var t=e.props,n=t.layout,o=t.mentionCount,i=t.channel,l=t.appContext,u=t.useNewInviteButton,c=t.selectedParticipant,s=t.soundboardEnabled;if(!t.inCall)return null;var f=n===oe.AEg.NO_CHAT?wr.Directions.UP:wr.Directions.DOWN,d=[oe.AEg.FULL_SCREEN,oe.AEg.NO_CHAT].includes(n),p=n===oe.AEg.FULL_SCREEN?function(){e._prevLayout=oe.AEg.NORMAL;e.handleFullScreen()}:e.handleToggleLayout,h=e.viewProperties,y=h.canChangeLayout,b=h.canInvite,v=u?(0,r.jsx)(vr.Z,{channel:i,stream:(null==c?void 0:c.type)===pt.fO.STREAM?(0,Ve.my)(c.id):void 0,applicationId:(null==c?void 0:c.type)===pt.fO.ACTIVITY?c.id:void 0,appContext:l,className:qi().leftTrayIcon,exitFullScreen:e.maybeLeaveFullScreen,analyticsLocation:i.type===oe.d4z.GUILD_VOICE?oe.ZY5.GUILD_CHANNEL:oe.ZY5.DM_CHANNEL}):(0,
r.jsx)(Tr.Z,{channel:i,stream:(null==c?void 0:c.type)===pt.fO.STREAM?(0,Ve.my)(c.id):void 0,appContext:l,className:qi().leftTrayIcon,exitFullScreen:e.maybeLeaveFullScreen,analyticsLocation:i.type===oe.d4z.GUILD_VOICE?oe.ZY5.GUILD_CHANNEL:oe.ZY5.DM_CHANNEL});return(0,r.jsxs)(r.Fragment,{children:[s&&l===oe.IlC.POPOUT&&(0,qe.Z)(i)?(0,r.jsx)(ot,{className:qi().leftTrayIcon,channel:i}):null,b?v:null,y?(0,r.jsxs)(O.Z,{className:qi().iconWrapper,align:O.Z.Align.CENTER,grow:0,children:[(0,r.jsx)(wr,{label:d?R.Z.Messages.SHOW_CHAT:R.Z.Messages.HIDE_CHAT,direction:f,className:qi().leftTrayIcon,onClick:p}),d&&o>0?(0,r.jsx)(oo.mA,{className:qi().badge,count:o}):null]}):null,(null==c?void 0:c.type)===pt.fO.STREAM||(null==c?void 0:c.type)===pt.fO.ACTIVITY?(0,r.jsx)(gr.Z,{children:(0,r.jsx)(Gi.Z,{className:a()(qi().leftTrayIcon,qi().viewersButton),participant:c,maxVisibleUsers:4,guildId:i.getGuildId(),channelId:i.id,disableInteraction:e.inPopout||n===oe.AEg.FULL_SCREEN})}):null,(0,r.jsx)(Be,{
themeable:e.viewProperties.useTheme,className:qi().leftTrayIcon,channel:i})]})};e.renderBottomRight=function(){var t=e.props,n=t.popoutWindow,o=t.popoutWindowAlwaysOnTop,i=t.currentUserId,a=t.selectedParticipant,l=e.viewProperties,u=l.canFullscreen,c=l.canStayOnTop,s=l.canPopout,f=l.useTheme;return(0,r.jsxs)(r.Fragment,{children:[null!=a&&a.type!==pt.fO.ACTIVITY&&a.user.id!==i?(0,r.jsx)(Rr.Z,{context:(0,fo.Z)(a.type),userId:a.user.id,currentWindow:e.inPopout?null!=n?n:void 0:window,sliderClassName:qi().volumeSlider}):null,c?(0,r.jsx)(Zr.Z,{className:qi().rightTrayIcon,popoutWindowAlwaysOnTop:o,onToggleStayOnTop:e.handleStayOnTop}):null,s?(0,r.jsx)(Ar.Z,{themeable:f,popoutOpen:e.popoutOpen,className:qi().rightTrayIcon,onOpenPopout:e.handleOpenPopout,onClosePopout:e.handleClosePopout}):null,u?(0,r.jsx)(Nr.Z,{themeable:f,node:e.getRootNode(),guestWindow:n,className:qi().rightTrayIcon,onClick:e.handleFullScreen}):null]})};e.renderChatButton=function(t){
var n=t.className,o=t.showingClassName,i=e.props,a=i.channel,l=i.chatOpen,u=i.inCall;return l||e.popoutOpen&&!e.inPopout&&u?null:(0,r.jsx)(xr.TH,{channelId:a.id,className:n,showingClassName:o})};e.renderChatToasts=function(){var t=e.props,n=t.showChatToasts,o=t.chatOpen,i=t.channel,a=t.inCall;return!n||o||e.popoutOpen&&!e.inPopout&&a?null:(0,r.jsx)(po.ZP,{children:(0,r.jsx)(Or.Z,{className:qi().chatToasts,channelId:i.id})})};e.renderVoiceChannelEffects=function(){var t=e.props,n=t.channel;return t.voiceChannelEffectsEnabled?(0,r.jsx)(zi,{children:(0,r.jsx)(Xr,{channelId:n.id})}):null};e.renderHeader=function(){var t=e.props,n=t.renderExternalHeader,o=t.channel,i=t.guild,a=t.appContext,l=t.chatOpen,u=t.inCall,c=e.viewProperties,s=c.useExternalHeader,f=c.canSelectRegion;return c.renderHeader?(0,r.jsxs)(gr.Z,{children:[(0,r.jsx)("div",{className:qi().headerWrapper,children:s?null==n?void 0:n():(0,r.jsx)(Ui,{channel:o,guild:i,appContext:a,inCall:u,
isChatOpen:l||e.popoutOpen&&!e.inPopout&&u,exitFullScreen:e.maybeLeaveFullScreen})}),f?e.renderRegionSelect():null]}):null};return e}var l=i.prototype;l.getRootNode=function(){var e,t;return(null!==(t=null===(e=this.props.popoutWindow)||void 0===e?void 0:e.window)&&void 0!==t?t:window).document.getElementById("app-mount")};l.componentDidMount=function(){var e=this.props,t=e.channel,n=e.layout;this.currentDocument.addEventListener(so.NO,this.handleFullScreenChange);io.default.track(oe.rMx.VIDEO_LAYOUT_TOGGLED,oa({video_layout:this.inPopout?"popout":n},(0,fe.AB)(t.id)))};l.componentWillUnmount=function(){this._videoBackgroundTooltipTimeout.stop();this.currentDocument.removeEventListener(so.NO,this.handleFullScreenChange);this.inPopout&&(0,lo.id)()||this.maybeLeaveFullScreen()};l.componentDidUpdate=function(e){var t=this,n=this.props,r=n.participantsOpen,o=n.inCall,i=n.mode,a=n.layout,l=this.getRootNode();null!=l&&e.mode===oe.WtW.VIDEO&&i===oe.WtW.VOICE&&(0,
so.rB)(l,this.currentDocument)&&(0,so.Pr)(l,this.currentDocument);if(e.participantsOpen!==r||a!==e.layout){var u;null===(u=this._contentRef.current)||void 0===u||u.triggerResize()}e.inCall&&!o&&this.inPopout&&d.Z.wait((function(){return t.handleClosePopout()}))};l.renderContent=function(e){var t=this.props,n=t.selectedParticipant,o=t.inCall,i=t.hasConnectPermission,a=t.mode,l=t.popoutWindow,u=t.participantsOpen,c=t.participants,s=t.filteredParticipants,f=t.participantsVersion,d=t.channel,p=t.guild,h=t.layout,y=t.forceShowControls,b=h===oe.AEg.MINIMUM,v=b||h===oe.AEg.NORMAL,m=o&&a===oe.WtW.VIDEO;this._lastIdleProps=e;return(0,r.jsx)(Er.Z,ia(oa({renderHeader:this.renderHeader,renderBottomLeft:this.renderBottomLeft,renderBottomCenter:this.renderBottomCenter,renderBottomRight:this.renderBottomRight,renderChatButton:d.isGuildVoice()?this.renderChatButton:void 0,renderChatToasts:d.isGuildVoice()?this.renderChatToasts:void 0,renderVoiceChannelEffects:this.renderVoiceChannelEffects},e),{
screenMessage:this.screenMessage,disableGradients:b,idle:!y&&o&&!b&&e.idle,children:o&&this.popoutOpen&&!this.inPopout?null:(0,r.jsx)(yr,{ref:this._contentRef,inCall:o,paused:this.paused,channel:d,hasConnectPermission:i,guild:p,participants:c,filteredParticipants:s,participantsVersion:f,selectedParticipant:m?n:null,layout:h,idle:e.idle,mode:a,onSelectParticipant:this.handleSelectParticipant,onContextMenuParticipant:this.handleContextMenu,showParticipants:u&&!v,popoutWindow:this.inPopout?l:null})}))};l.render=function(){var e,t=this,n=this.props,o=n.layout,i=n.channel,l=n.guild,u=n.mode,c=n.chatOpen,s=n.appContext,f=n.maxSidebarWidth,d=n.maxHeight,p=n.inCall,h=this.state.resizedHeight,y=u===oe.WtW.VIDEO,b=o!==oe.AEg.NO_CHAT&&o!==oe.AEg.FULL_SCREEN&&null!=d;return(0,r.jsxs)("div",{className:a()(qi().wrapper,ha[o],ya[s],(e={},na(e,qi().poppedOut,this.popoutOpen&&!this.inPopout&&o!==oe.AEg.NO_CHAT&&i.isPrivate()),na(e,qi().video,y),na(e,qi().chatSidebarOpen,c),e)),ref:function(e){
t._wrapperRef.current=e;t.props.wrapperRef.current=e},style:b&&null!=h?{minHeight:200,maxHeight:d,height:h}:void 0,children:[(0,r.jsx)("div",{className:a()(qi().callContainer,na({},(0,uo.Q)(oe.BRd.DARK),y)),ref:function(e){t._callContainerRef.current=e;t.props.callContainerRef.current=e},children:(0,r.jsx)(mr.ZP,{timeout:2e3,children:function(e){return t.renderContent(e)}})}),b&&(0,r.jsx)(ba,{maxHeight:d,resizableNode:this._wrapperRef,onResize:this.handleCallResize,onResizeEnd:this.props.updateStoredCallHeaderHeight}),(0,r.jsx)("div",{className:qi().channelChatWrapper,ref:function(e){t._channelChatRef.current=e;t.props.channelChatRef.current=e},children:c&&(!p||!this.popoutOpen||this.inPopout)&&(0,r.jsx)(ho.Z,{channel:i,guild:l,maxWidth:f})})]})};!function(e,t,n){t&&ta(e.prototype,t);n&&ta(e,n)}(i,[{key:"nativePopoutSupported",get:function(){return lo.FB&&co.default.supportsFeature(oe.eRX.POPOUT_WINDOWS)}},{key:"popoutSupported",get:function(){return!lo.FB||this.nativePopoutSupported}
},{key:"popoutOpen",get:function(){var e=this.props.popoutWindow;return null!=e&&!e.closed}},{key:"currentDocument",get:function(){var e=this.props.popoutWindow;return null!=e&&this.popoutOpen&&this.inPopout?e.document:document}},{key:"screenMessage",get:function(){return this.popoutOpen&&!this.inPopout&&this.props.inCall?{mainText:R.Z.Messages.POPOUT_PLAYER_OPENED}:null}},{key:"paused",get:function(){return this.popoutOpen&&!this.inPopout}},{key:"inPopout",get:function(){return this.props.appContext===oe.IlC.POPOUT}},{key:"viewProperties",get:function(){var e=this.props,t=e.layout,n=e.mode,r=e.channel,o=e.inCall,i=n===oe.WtW.VIDEO&&o&&!(this.popoutOpen&&!this.inPopout),a=n===oe.WtW.VIDEO&&o&&!this.inPopout&&this.popoutSupported,l=n!==oe.WtW.VOICE&&r.isPrivate()&&!this.inPopout&&o,u=r.type===oe.d4z.GUILD_VOICE,c=t===oe.AEg.MINIMUM||t===oe.AEg.NORMAL,s=this.inPopout&&this.nativePopoutSupported,f={renderHeader:!0,useTheme:!1,useExternalHeader:c,canInvite:u,canPopout:a,canFullscreen:i,
canSelectRegion:r.isPrivate(),canChangeLayout:l,canStayOnTop:s};if(!o)return ia(oa({},f),{canFullscreen:i,useTheme:!0});switch(t){case oe.AEg.FULL_SCREEN:return ia(oa({},f),{canPopout:!this.inPopout&&this.popoutOpen&&f.canPopout});case oe.AEg.MINIMUM:return ia(oa({},f),{canPopout:!1,useTheme:!0});case oe.AEg.NO_CHAT:case oe.AEg.NORMAL:return oa({},f)}}}]);return i}(o.PureComponent);const ma=function(e){var t,n,i=e.channel,a=e.renderExternalHeader,l=e.maxHeight,u=(0,X.Z)(),f=u.width,d=void 0===f?0:f,p=u.ref,h=(0,X.Z)(),y=h.width,b=void 0===y?0:y,m=h.height,g=void 0===m?0:m,O=h.ref,E=(0,X.Z)().ref,j=(0,J.bp)(),S=(0,ye.Z)(),C=(0,c.e7)([to.Z],(function(){return(null!==(t=null==S?void 0:S.channelId)&&void 0!==t?t:to.Z.getVoiceChannelId())===i.id})),P=(0,c.cj)([be.Z],(function(){var e=j===oe.IlC.POPOUT,t=be.Z.getMode(i.id);e&&(t=oe.WtW.VIDEO);var n=t===oe.WtW.VIDEO?be.Z.getLayout(i.id,j):oe.AEg.MINIMUM;e&&n!==oe.AEg.FULL_SCREEN&&(n=oe.AEg.NO_CHAT);return{mode:t,layout:n,
selectedParticipant:t!==oe.WtW.VOICE?be.Z.getSelectedParticipant(i.id):null,participants:be.Z.getParticipants(i.id),filteredParticipants:be.Z.getFilteredParticipants(i.id),participantsOpen:be.Z.getParticipantsOpen(i.id),chatOpen:be.Z.getChatOpen(i.id),participantsVersion:be.Z.getParticipantsVersion(i.id)}}),[i.id,i.type,C]),I=P.participants,_=P.filteredParticipants,w=P.participantsVersion,x=P.mode,N=P.layout,T=P.participantsOpen,A=P.chatOpen,Z=P.selectedParticipant,R=(0,c.Wu)([Qr.Z],(function(){return Qr.Z.getAllActiveStreams()})),M=(0,c.cj)([Qr.Z],(function(){return{selectedStream:null!=Z?Qr.Z.getActiveStreamForStreamKey(Z.id):null}}),[Z]).selectedStream,D=(0,c.e7)([qt.Z],(function(){return qt.Z.getGuild(i.getGuildId())})),L=(0,c.e7)([$r.Z],(function(){return $r.Z.getCall(i.id)}),[i.id]),k=(0,c.e7)([eo.ZP],(function(){return eo.ZP.getMentionCount(i.id)}),[i.id]),U=(0,c.e7)([Dt.default],(function(){return Dt.default.getId()})),G=(0,c.cj)([Ye.Z],(function(){return{
popoutWindow:Ye.Z.getWindow(oe.KJ3.CHANNEL_CALL_POPOUT),popoutWindowAlwaysOnTop:Ye.Z.getIsAlwaysOnTop(oe.KJ3.CHANNEL_CALL_POPOUT)}})),H=G.popoutWindow,B=G.popoutWindowAlwaysOnTop,V=(0,c.e7)([Xt.Z],(function(){return Xt.Z.can(oe.Plq.CONNECT,i)})),F=(0,c.e7)([Jr.Z],(function(){return Jr.Z.getToastsEnabled(i.id)})),W=(0,c.e7)([it.ZP],(function(){return it.ZP.callHeaderHeight})),Y=o.useCallback((function(e){v.Z.updatedUnsyncedSettings({callHeaderHeight:e})}),[]),z=null!==(n=null==D?void 0:D.id)&&void 0!==n?n:null,K=(0,ee.Z)(z),Q=(0,c.e7)([$.ZP],(function(){return null!=$.ZP.getSelfEmbeddedActivityForChannel(i.id)}),[i]);ce();var te=Mr.Z.useExperiment({guildId:i.guild_id},{autoTrackExposure:!0}).enabled;o.useEffect((function(){var e,t=!1,n=null,r=(e=$i((function(){return pa(this,(function(e){switch(e.label){case 0:return C&&x===oe.WtW.VIDEO?[4,co.default.blockDisplaySleep()]:[3,2];case 1:n=e.sent();t&&null!=n&&co.default.unblockDisplaySleep(n);e.label=2;case 2:return[2]}}))})),function(){
return e.apply(this,arguments)});r();return function(){null!=n?co.default.unblockDisplaySleep(n):t=!0}}),[C,x]);var ne=Ke.ZP.useExperiment({guildId:null!=z?z:""},{autoTrackExposure:!0}).allowSoundboard,re=(0,Xe.f)(),ie=(0,pe.bn)(s.z$.CALL_CHAT_BUTTON_TEXT_IN_VOICE_COACH_MARK),ae=(0,de.Z)(se.Z.CHANNEL_CALL).AnalyticsLocationProvider,le=d-550;return(0,r.jsx)(ae,{children:(0,r.jsx)(q.Z,{page:oe.ZY5.CHANNEL_CALL,children:(0,r.jsx)(po.B2,{children:(0,r.jsxs)(Yi,{children:[(0,r.jsx)(va,{channel:i,guild:D,hasConnectPermission:V,participantsOpen:T,renderExternalHeader:a,appContext:j,call:L,popoutWindow:H,popoutWindowAlwaysOnTop:B,mentionCount:k,selectedStream:M,mode:x,inCall:C,participants:I,filteredParticipants:_,participantsVersion:w,layout:N,chatOpen:A,maxSidebarWidth:le,soundboardEnabled:ne&&re,currentUserId:U,selectedParticipant:Z,allActiveStreams:R,useNewInviteButton:K,connectedToEmbeddedActivity:Q,showChatToasts:F,storedCallHeaderHeight:W,updateStoredCallHeaderHeight:Y,wrapperRef:p,
callContainerDimensions:{width:b,height:g},callContainerRef:O,channelChatRef:E,width:d,maxHeight:l,forceShowControls:ie,voiceChannelEffectsEnabled:te}),!i.isPrivate()&&(0,r.jsx)(Wi,{}),(0,r.jsx)(po.H_,{})]})})})})}},799217:(e,t,n)=>{"use strict";n.d(t,{H_:()=>l,B2:()=>u,ZP:()=>c});var r=(0,n(538959).Xv)("ChannelCallChat"),o=r.Layer,i=r.LayerContainer,a=r.LayerProvider,l=i,u=a;const c=o},711138:(e,t,n)=>{"use strict";n.d(t,{Z:()=>S});var r=n(785893),o=n(667294),i=n(820028),a=n(825524),l=n(455591),u=n(539636),c=n(29189),s=n(691869),f=n(635940),d=n(402124),p=n(170161),h=n(719455),y=n(905567),b=n(882699),v=n(799217),m=n(461061),g=n(610804),O=n(959797),E=n(974290),j=n.n(E);const S=function(e){var t=e.channel,n=e.guild,E=e.maxWidth;o.useEffect((function(){(0,f.EW)(i.z$.CALL_CHAT_BUTTON_TEXT_IN_VOICE_COACH_MARK,{dismissAction:g.L.AUTO})}),[]);var S=o.useCallback((function(){a.Z.updateChatOpen(t.id,!1);b.S.safeDispatch(m.CkL.FOCUS_CHAT_BUTTON)}),[t.id]),C=(0,r.jsx)(y.ZP.Icon,{icon:h.Z,
tooltip:O.Z.Messages.CLOSE,onClick:S});return(0,r.jsxs)(u.Z,{sidebarType:u.y.CallChatSidebar,maxWidth:E,floatingLayer:v.ZP,children:[(0,r.jsx)(c.Z,{channel:t,draftType:d.d.ChannelMessage}),(0,r.jsxs)(y.ZP,{toolbar:C,"aria-label":O.Z.Messages.CHANNEL_HEADER_BAR_A11Y_LABEL,children:[(0,r.jsx)(y.ZP.Icon,{icon:p.Z,disabled:!0,"aria-label":O.Z.Messages.VOICE_CHAT_TEXT_CHANNEL}),(0,r.jsx)(y.ZP.Title,{children:t.name})]}),(0,r.jsx)("div",{className:j().chat,children:(0,r.jsx)(l.Z,{channel:t,guild:n,chatInputType:s.I.SIDEBAR},t.id)})]})}},147253:(e,t,n)=>{"use strict";n.d(t,{Z:()=>H});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),l=n(496486),u=n.n(l),c=n(791462),s=n(365523),f=n(281081),d=n(338215),p=n(239396),h=n(18416),y=n(859023),b=n(851994),v=n(48843),m=n(761434),g=n(757987),O=n(679755),E=n(766936),j=n(725002),S=n(90816),C=n(570992),P=n(190177),I=n(461061),_=n(959797),w=n(168088),x=n.n(w);function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n]
;return r}function T(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function A(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){T(i,r,o,a,l,"next",e)}function l(e){T(i,r,o,a,l,"throw",e)}a(void 0)}))}}function Z(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function R(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){
var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return N(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var D=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){
return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function L(e,t){switch(e){case P.fO.ACTIVITY:return _.Z.Messages.EMBEDDED_ACTIVITIES_NUM_PARTICIPANTS.format({numUsers:t});case P.fO.STREAM:
return _.Z.Messages.SPECTATORS.format({numViewers:t});default:throw new Error("Unknown participant type.")}}function k(e){var t=e.users,n=e.disableInteraction,o=e.guildId,i=e.participantType,l=e.channelId,u=e.handleUserContextMenu,c=L(i,t.length);return(0,r.jsx)(b.Z,{"aria-label":c,className:x().popoutWrapper,children:(0,r.jsxs)(j.ZP,{className:x().scroller,children:[(0,r.jsx)(v.X,{variant:"heading-deprecated-12/medium",className:x().memberListHeader,children:c}),(0,r.jsx)("div",{children:t.map((function(e){return(0,r.jsx)(d.Z,{guildId:null!=o?o:void 0,className:a()(x().memberListItem,Z({},x().popoutDisabled,n)),textClassName:x().memberListItemText,user:e,disablePopout:n,nick:C.Z.getNickname(o,l,e),onContextMenu:function(t){return n?null:u(t,e)}},e.id)}))})]})})}function U(e){var t=e.users,n=e.guildId,o=e.channelId,i=e.maxVisibleUsers,l=void 0===i?3:i,u=e.className,c=L(e.participantType,t.length),s=t.length<l?t.map((function(e){return(0,r.jsx)("div",{className:x().viewersTooltipItem,
children:C.Z.getName(n,o,e)},e.id)})):c;return(0,r.jsx)(g.DY,{text:s,"aria-label":c,children:(0,r.jsxs)("div",{className:a()(x().viewers,u),children:[(0,r.jsx)(O.Z,{className:x().viewersIcon}),(0,r.jsx)("span",{"aria-hidden":"true",children:t.length})]})})}var G=[];function H(e){var t=e.channelId,i=e.guildId,l=e.participant,d=e.className,b=e.compact,v=void 0!==b&&b,g=e.disableInteraction,O=void 0!==g&&g,j=e.maxVisibleUsers,C=void 0===j?3:j,_=M(o.useState(!1),2),w=_[0],N=_[1],T=o.useRef(new s.sW(150,(function(){return N(!1)}))),L=(0,c.Wu)([h.Z,y.default],(function(){if(l.type===P.fO.STREAM){var e=h.Z.getViewerIds(l.id);return e.length>0?e.map((function(e){return y.default.getUser(e)})).filter(S.lm):G}return l.type===P.fO.ACTIVITY&&l.participants.size>0?Array.from(l.participants).map((function(e){return y.default.getUser(e)})).filter(S.lm):G}),[l]),H=o.useCallback((function(){T.current.cancel();N(!0)}),[]),B=o.useCallback((function(){T.current.delay()
}),[]),V=o.useCallback((function(e,t){H();(0,f.jW)(e,A((function(){var e,o;return D(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(87996),n.e(45323),n.e(64178)]).then(n.bind(n,90248))];case 1:e=i.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,R(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Z(e,t,n[t])}))}return e}({},e),{user:t}))}]}}))})),{onClose:B})}),[B,H]);if(0===L.length)return null;if(v)return(0,r.jsx)(U,{maxVisibleUsers:C,users:L,guildId:i,channelId:t,className:d,participantType:l.type});var F=u()(L).take(C).map((function(e){return(0,r.jsx)(E.ZP,{src:e.getAvatarURL(i,24),"aria-label":e.username,size:E.ZP.Sizes.SIZE_24,className:x().viewer},e.id)})).value();L.length>C&&(F[F.length-1]=(0,
r.jsxs)("div",{className:x().overflow,children:["+",L.length-C+1]},"overflow"));return(0,r.jsx)(p.Z,{section:I.jXE.STREAM_VIEWER_POPOUT,children:(0,r.jsx)("div",{onMouseEnter:H,onMouseLeave:B,children:(0,r.jsx)(m.ZP,{renderPopout:function(){return(0,r.jsx)(k,{participantType:l.type,handleUserContextMenu:V,guildId:i,channelId:t,users:L,disableInteraction:O})},shouldShow:w,position:m.ZP.Positions.TOP,children:function(){return(0,r.jsx)("div",{className:a()(x().viewers,d),children:F})}})})})}},841522:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});var r=n(785893),o=(n(667294),n(441143)),i=n.n(o),a=n(791462),l=n(239396),u=n(186121),c=n(859023),s=n(600341),f=n(934714);var d=n(642258),p=n(461061),h=n(959797);function y(e){var t,n,o=e.onClose,y=e.onSelect,b=(0,a.e7)([c.default],(function(){var e=c.default.getCurrentUser();i()(null!=e,"VideoDeviceMenu: currentUser cannot be undefined");return e})),v=(t=(0,a.e7)([f.Z],(function(){return Object.values(f.Z.getVideoDevices())})),n=(0,
a.e7)([f.Z],(function(){return f.Z.getVideoDeviceId()})),t.map((function(e){var t=e.id,o=e.disabled,i=e.name;return(0,r.jsx)(u.k5,{group:"video-devices",id:"video-device-".concat(t),disabled:o,label:i,checked:t===n,action:function(){return s.Z.setVideoDevice(t)}},"video-device-".concat(t))}))),m=(0,d.Z)(b.id);return(0,r.jsx)(l.Z,{object:p.qAy.CONTEXT_MENU,children:(0,r.jsxs)(u.ZP,{onClose:o,navId:"video-device-context","aria-label":h.Z.Messages.FORM_LABEL_VIDEO_DEVICE,onSelect:y,children:[(0,r.jsx)(u.kS,{label:h.Z.Messages.FORM_LABEL_VIDEO_DEVICE,children:v}),(0,r.jsx)(u.kS,{children:m})]})})}},457188:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});var r=n(785893),o=(n(667294),n(600341)),i=n(912224),a=n(495049),l=n(897576),u=n(959797);function c(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){c(i,r,o,a,l,"next",e)}
function l(e){c(i,r,o,a,l,"throw",e)}a(void 0)}))}}function f(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){f(e,t,n[t])}))}return e}function p(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var h=function(e,t){var n,r,o,i,a={label:0,
sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{
value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function y(e,t){t&&(0,a.p)()?(0,l.ZD)(s((function(){var e,t;return h(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(81348)]).then(n.bind(n,81348))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,d({},e))}]}}))}))):t?(0,l.h7)((function(e){return(0,r.jsx)(i.Z,p(d({},e),{title:u.Z.Messages.SUPPRESSED,body:u.Z.Messages.SUPPRESSED_PERMISSION_BODY}))})):e?(0,l.h7)((function(e){return(0,r.jsx)(i.Z,p(d({},e),{title:u.Z.Messages.SERVER_MUTED_DIALOG_TITLE,body:u.Z.Messages.SERVER_MUTED_DIALOG_BODY}))})):o.Z.toggleSelfMute()}},176369:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(785893),o=(n(667294),n(830395)),i=n(912224),a=n(702234),l=n(959797);function u(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function c(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){
n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function s(e){var t=e.type,n=e.onConfirm,s=c(e,["type","onConfirm"]),f=t===a.K.STREAM?l.Z.Messages.HIDE_SELF_STREAM_CONFIRMATION_HEADER:l.Z.Messages.HIDE_SELF_VIDEO_CONFIRMATION_HEADER,d=t===a.K.STREAM?l.Z.Messages.HIDE_SELF_STREAM_CONFIRMATION_BODY:l.Z.Messages.HIDE_SELF_VIDEO_CONFIRMATION_BODY;return(0,r.jsx)(i.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){u(e,t,n[t])}))}return e}({confirmText:l.Z.Messages.CONFIRM,secondaryConfirmText:l.Z.Messages.DONT_ASK_AGAIN,title:f,
cancelText:l.Z.Messages.CANCEL,onConfirm:n,onConfirmSecondary:function(){o.Z.updatedUnsyncedSettings({disableHideSelfStreamAndVideoConfirmationAlert:!0});n()},body:d},s))}},829038:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(785893),o=(n(667294),n(791462)),i=n(825524),a=n(186121),l=n(67874),u=n(959797);function c(e){var t=(0,o.e7)([l.Z],(function(){return l.Z.getVoiceParticipantsHidden(e)}));return(0,r.jsx)(a.S8,{id:"no-video-hide",label:u.Z.Messages.STREAM_SHOW_NON_VIDEO,checked:!t,action:function(){return i.Z.toggleVoiceParticipantsHidden(e,!t)}})}},110553:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(785893),o=(n(667294),n(791462)),i=n(186121),a=n(661623),l=n(897576),u=n(370442),c=n(18416),s=n(631134);var f=n(176369),d=n(702234),p=n(959797);function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}
function b(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){var n=v(function(e,t){var n=(0,o.e7)([s.default],(function(){return s.default.getId()})),r=(0,o.e7)([c.Z],(function(){var t=c.Z.getStreamForUser(n);return null!=t&&t.channelId===e}),[e,n]),i=(0,o.e7)([c.Z],(function(){return c.Z.isSelfStreamHidden(e)}),[e]);return[(null==t||t===n)&&r,i,function(t){(0,u.pR)(e,t)}]}(e,t),3),h=n[0],m=n[1],g=n[2],O=(0,o.e7)([a.ZP],(function(){return a.ZP.disableHideSelfStreamAndVideoConfirmationAlert}));return h?(0,r.jsx)(i.S8,{id:"self-stream-hide",label:p.Z.Messages.SHOW_SELF_STREAM,checked:!m,action:function(){if(O||m)return g(!m);(0,l.h7)((function(e){return(0,
r.jsx)(f.Z,b(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){y(e,t,n[t])}))}return e}({},e),{type:d.K.STREAM,onConfirm:function(){return g(!m)}}))}))}}):null}},974902:(e,t,n)=>{"use strict";n.d(t,{Z:()=>E});var r=n(785893),o=(n(667294),n(791462)),i=n(186121),a=n(661623),l=n(897576),u=n(600341),c=n(631134),s=n(934714),f=n(866452);function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f.Yn.DEFAULT,n=(0,o.e7)([c.default],(function(){return c.default.getId()})),r=(0,o.e7)([s.Z],(function(){return s.Z.supports(f.AN.DISABLE_VIDEO)&&s.Z.isVideoEnabled()})),i=(0,o.e7)([s.Z],(function(){return s.Z.isLocalVideoDisabled(n,t)}),[n,t]),a=function(e){u.Z.setDisableLocalVideo(n,e,t)},l=null==e||e===n,d=l&&(r||i);return[d,i,a]}
var p=n(176369),h=n(702234),y=n(959797);function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){v(e,t,n[t])}))}return e}function g(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){
Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e){
var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f.Yn.DEFAULT,n=O(d(e,t),3),u=n[0],c=n[1],s=n[2],b=(0,o.e7)([a.ZP],(function(){return a.ZP.disableHideSelfStreamAndVideoConfirmationAlert})),v=function(){if(b||c)return s(!c);(0,l.h7)((function(e){return(0,r.jsx)(p.Z,g(m({},e),{type:h.K.VIDEO,onConfirm:function(){return s(!c)}}))}))};return u?(0,r.jsx)(i.S8,{id:"self-video-hide",label:y.Z.Messages.SHOW_SELF_VIDEO,checked:!c,action:v}):null}},642258:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var r=n(785893),o=(n(667294),n(791462)),i=n(266559),a=n(972271),l=n(631134),u=n(934714),c=n(897576),s=n(88414),f=n(959797),d=n(352062),p=n.n(d);function h(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function y(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){h(i,r,o,a,l,"next",e)}function l(e){h(i,r,o,a,l,"throw",e)}a(void 0)}))}}function b(e,t,n){
t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function v(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var m=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),
0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function g(e){var t=(0,s.v)(),d=(0,o.e7)([u.Z],(function(){return u.Z.isVideoEnabled()})),h=(0,o.e7)([l.default],(function(){return l.default.getId()===e})),g=(0,a.Z)();return d&&!g||!h?null:(0,r.jsx)(i.sN,{id:"change-video-background",label:(0,r.jsx)("div",{className:p().item,
children:d?f.Z.Messages.CAMERA_CHANGE_VIDEO_BACKGROUND_MENU_ITEM:f.Z.Messages.CAMERA_PREVIEW_MENU_ITEM}),action:function(){(0,c.ZD)(y((function(){var e,t;return m(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(35666),n.e(35560),n.e(65296),n.e(40721),n.e(90066),n.e(76748),n.e(64229),n.e(73613),n.e(38946),n.e(71439),n.e(97967),n.e(33646),n.e(86860),n.e(42311),n.e(86121),n.e(80911),n.e(39052),n.e(76948),n.e(61434),n.e(21021),n.e(17126),n.e(66936),n.e(21495),n.e(45337),n.e(67895),n.e(51796),n.e(55426),n.e(26492),n.e(95774),n.e(23816),n.e(73298),n.e(42334),n.e(745),n.e(65926),n.e(33934)]).then(n.bind(n,952199))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,v(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))))
;r.forEach((function(t){b(e,t,n[t])}))}return e}({},e),{videoEnabled:d}))}]}}))})),{modalKey:"camera-preview",contextKey:t})}})}},674606:(e,t,n)=>{"use strict";n.d(t,{Z:()=>b});var r=n(785893),o=(n(667294),n(791462)),i=n(573643),a=n(186121),l=n(631134),u=n(962564),c=n(74922),s=n(897576),f=n(959797);function d(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function p(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){d(i,r,o,a,l,"next",e)}function l(e){d(i,r,o,a,l,"throw",e)}a(void 0)}))}}function h(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var y=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){
return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function b(e,t,d){var b=(0,o.e7)([u.Z],(function(){return(0,i.L2)(e,u.Z)}),[e]),v=(0,o.e7)([l.default],(function(){return l.default.getId()})),m={
media_session_id:c.Z.getActiveMediaSessionId(),rtc_connection_id:c.Z.getActiveRTCConnectionId()};return null==e?null:(0,r.jsx)(a.sN,{id:"report-stream-problem",label:f.Z.Messages.STREAM_REPORT_PROBLEM_MENU_ITEM,action:function(){null==d||d();null!=e&&(0,s.ZD)(p((function(){var t,o;return y(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(58216)]).then(n.bind(n,258216))];case 1:t=i.sent(),o=t.default;return[2,function(t){return(0,r.jsx)(o,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){h(e,t,n[t])}))}return e}({stream:e,streamApplication:b,isStreamer:v===(null==e?void 0:e.ownerId),analyticsData:m},t))}]}}))})))}})}},534830:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(785893),o=(n(667294),
n(791462)),i=n(186121),a=n(322928),l=n(182376),u=n(356004),c=n(173436);const s=function(e,t){c.Z.dispatch({type:"CALL_CHAT_TOASTS_SET_ENABLED",channelId:e,toastsEnabled:t})};var f=n(959797);function d(e){var t=(0,o.e7)([u.Z],(function(){return u.Z.getChannel(e)})),n=(0,a.Vy)(null==t?void 0:t.guild_id),c=(0,o.e7)([l.Z],(function(){return l.Z.getToastsEnabled(e)}));return(null==t?void 0:t.isGuildStageVoice())&&!n?null:(0,r.jsx)(i.S8,{id:"show-call-chat-toasts",label:f.Z.Messages.SHOW_NEW_MESSAGE_PREVIEWS,checked:c,action:function(){return s(e,!c)}})}},175045:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(53551),o=n(105405),i=n(859023),a=n(53211),l=n(461061),u=n(959797);function c(e){var t=e.isSubscriptionGated,n=e.needSubscriptionToAccess;if(t)return n?u.Z.Messages.GUILD_SIDEBAR_CHANNEL_A11Y_LABEL_PREMIUM_LOCKED:u.Z.Messages.GUILD_SIDEBAR_CHANNEL_A11Y_LABEL_PREMIUM_UNLOCKED}function s(e){
var t,n=e.channel,s=e.unread,f=void 0!==s&&s,d=e.mentionCount,p=void 0===d?0:d,h=e.userCount,y=e.embeddedActivitiesCount,b=e.isSubscriptionGated,v=e.needSubscriptionToAccess,m=(0,a.F)(n,i.default,o.Z);switch(n.type){case l.d4z.DM:t=f?u.Z.Messages.DIRECT_MESSAGE_A11Y_LABEL_WITH_UNREADS:u.Z.Messages.DIRECT_MESSAGE_A11Y_LABEL;break;case l.d4z.GROUP_DM:t=f?u.Z.Messages.GROUP_MESSAGE_A11Y_LABEL_WITH_UNREADS:u.Z.Messages.GROUP_MESSAGE_A11Y_LABEL;break;case l.d4z.GUILD_STORE:t=u.Z.Messages.GUILD_SIDEBAR_STORE_CHANNEL_A11Y_LABEL;break;case l.d4z.GUILD_DIRECTORY:t=u.Z.Messages.GUILD_SIDEBAR_DIRECTORY_CHANNEL_A11Y_LABEL;break;case l.d4z.GUILD_ANNOUNCEMENT:t=p>0?u.Z.Messages.GUILD_SIDEBAR_ANNOUNCEMENT_CHANNEL_A11Y_LABEL_WITH_MENTIONS:f?u.Z.Messages.GUILD_SIDEBAR_ANNOUNCEMENT_CHANNEL_A11Y_LABEL_WITH_UNREADS:u.Z.Messages.GUILD_SIDEBAR_ANNOUNCEMENT_CHANNEL_A11Y_LABEL;break;case l.d4z.GUILD_VOICE:var g=[u.Z.Messages.GUILD_SIDEBAR_VOICE_CHANNEL_A11Y_LABEL.format({channelName:n.name})]
;p>0&&g.push(u.Z.Messages.GUILD_SIDEBAR_CHANNEL_A11Y_LABEL_MENTIONS.format({mentionCount:p}));f&&g.push(u.Z.Messages.GUILD_SIDEBAR_CHANNEL_A11Y_LABEL_UNREAD);if(null!=h){var O=n.userLimit;null!=O&&O>0?g.push(u.Z.Messages.GUILD_SIDEBAR_CHANNEL_A11Y_LABEL_LIMIT.format({userCount:h,limit:O})):g.push(u.Z.Messages.GUILD_SIDEBAR_VOICE_CHANNEL_A11Y_LABEL_USERS.format({userCount:h}))}null!=y&&y>0&&g.push(u.Z.Messages.GUILD_SIDEBAR_CHANNEL_A11Y_LABEL_ACTIVITIES.format({activitiesCount:y}));var E=c({isSubscriptionGated:b,needSubscriptionToAccess:v});null!=E&&g.push(E);return g.join(", ");case l.d4z.GUILD_STAGE_VOICE:t=u.Z.Messages.GUILD_SIDEBAR_STAGE_CHANNEL_A11Y_LABEL;break;default:
t=r.Ec.has(n.type)?p>0?u.Z.Messages.GUILD_SIDEBAR_THREAD_A11Y_LABEL_WITH_MENTIONS:f?u.Z.Messages.GUILD_SIDEBAR_THREAD_A11Y_LABEL_WITH_UNREADS:u.Z.Messages.GUILD_SIDEBAR_THREAD_A11Y_LABEL:p>0?u.Z.Messages.GUILD_SIDEBAR_DEFAULT_CHANNEL_A11Y_LABEL_WITH_MENTIONS:f?u.Z.Messages.GUILD_SIDEBAR_DEFAULT_CHANNEL_A11Y_LABEL_WITH_UNREADS:u.Z.Messages.GUILD_SIDEBAR_DEFAULT_CHANNEL_A11Y_LABEL}var j=[t.format({channelName:m,mentionCount:p})],S=c({isSubscriptionGated:b,needSubscriptionToAccess:v});null!=S&&j.push(S);return j.join(", ")}},99719:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(53211),o=n(461061),i=n(959797);function a(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=(0,r.Z)(e,!0),a=(0,r.Z)(e,!1);return null==e||null==n?{placeholder:"",accessibilityLabel:""}:t?{placeholder:i.Z.Messages.READ_ONLY_CHANNEL,accessibilityLabel:i.Z.Messages.READ_ONLY_CHANNEL}:e.isForumPost()?{placeholder:i.Z.Messages.FORUM_POST_TEXTAREA_PLACEHOLDER.format({channel:n}),
accessibilityLabel:i.Z.Messages.TEXTAREA_FORUM_POST_A11Y_LABEL.format({channel:a})}:o.TPd.THREADS.has(e.type)?{placeholder:i.Z.Messages.TEXTAREA_PLACEHOLDER.format({channel:n}),accessibilityLabel:i.Z.Messages.TEXTAREA_THREAD_A11Y_LABEL.format({channel:a})}:e.type===o.d4z.DM?{placeholder:i.Z.Messages.DM_TEXTAREA_PLACEHOLDER.format({channel:n}),accessibilityLabel:i.Z.Messages.TEXTAREA_TEXT_DM_A11Y_LABEL.format({channel:a})}:{placeholder:i.Z.Messages.TEXTAREA_PLACEHOLDER.format({channel:n}),accessibilityLabel:i.Z.Messages.TEXTAREA_TEXT_CHANNEL_A11Y_LABEL.format({channel:a})}}},836303:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(785893),o=(n(667294),n(804626)),i=n(430923),a=n(655695),l=n(661623),u=n(631134),c=n(653772),s=n(379822),f=n(882687),d=n(897576),p=n(461061);function h(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function y(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n)
;function a(e){h(i,r,o,a,l,"next",e)}function l(e){h(i,r,o,a,l,"throw",e)}a(void 0)}))}}function b(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var v=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){
a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};const m={handleVoiceConnect:function(e){var t=e.channel,h=e.connected,m=e.needSubscriptionToAccess,g=e.locked,O=void 0!==g&&g,E=e.routeDirectlyToChannel,j=void 0!==E&&E,S=e.bypassChangeModal,C=i.Z.getRemoteSessionId(),P=f.Z.getVoiceStateForSession(u.default.getId(),C),I=(null==P?void 0:P.channelId)===t.id||s.Z.getChannelId()===f.Z.getCurrentClientVoiceChannelId(t.guild_id),_=l.ZP.disableVoiceChannelChangeAlert;if(function(){if(_||S||O||null!=P)return!1;if(!f.Z.isCurrentClientInVoiceChannel()||f.Z.isInChannel(t.id))return!1;var e=c.Z.getGuild(t.getGuildId());return null==(null==e?void 0:e.afkChannelId)||!f.Z.isInChannel(e.afkChannelId)}()){var w=this;(0,d.ZD)(y((function(){var e,o;return v(this,(function(i){
switch(i.label){case 0:return[4,n.e(19067).then(n.bind(n,519067))];case 1:e=i.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){b(e,t,n[t])}))}return e}({channel:t,onConfirm:function(){return w.handleVoiceConnect({channel:t,connected:h,needSubscriptionToAccess:m,routeDirectlyToChannel:j,locked:O,bypassChangeModal:!0})}},e))}]}}))})))}else{O||h||o.default.selectVoiceChannel(t.id);!__OVERLAY__&&(h||I||m||j)&&function(e){var t=e.getGuildId();if(null==t)throw new Error("VoiceChannel, transitionTo: Channel does not have a guildId");(0,a.uL)(p.Z5c.CHANNEL(t,e.id))}(t)}}}},850202:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(785893),o=(n(667294),
n(186121)),i=n(682684),a=n(551821),l=n(959797);function u(e){var t,n,u=(0,a.C7)(e),c=(0,a.tc)(e),s=(0,a.Xb)(e);if(!0===(null===(t=e.threadMetadata)||void 0===t?void 0:t.archived)?c:u)return(null===(n=e.threadMetadata)||void 0===n?void 0:n.archived)?(0,r.jsx)(o.sN,{id:"unarchive-thread",label:e.isForumPost()?l.Z.Messages.UNARCHIVE_FORUM_POST:l.Z.Messages.UNARCHIVE_THREAD,action:function(){return i.Z.unarchiveThread(e,s)}}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.sN,{id:"archive-thread",label:e.isForumPost()?l.Z.Messages.ARCHIVE_FORUM_POST:l.Z.Messages.ARCHIVE_THREAD,action:function(){return i.Z.archiveThread(e,!1)}}),s?(0,r.jsx)(o.sN,{id:"archive-lock-thread",label:e.isForumPost()?l.Z.Messages.ARCHIVE_LOCK_FORUM_POST:l.Z.Messages.ARCHIVE_LOCK_THREAD,action:function(){return i.Z.archiveThread(e,!0)}}):null]})}},539404:(e,t,n)=>{"use strict";n.d(t,{Z:()=>E});var r=n(785893),o=(n(667294),
n(791462)),i=n(483562),a=n(549425),l=n(829568),u=n(186121),c=n(3056),s=n(631134),f=n(940712),d=n(897576),p=n(461061),h=n(423845),y=n(959797);function b(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function v(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){b(i,r,o,a,l,"next",e)}function l(e){b(i,r,o,a,l,"throw",e)}a(void 0)}))}}function m(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function g(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){
Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var O=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}
o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function E(e){var t,b=e.isForumPost(),E=(0,o.e7)([s.default],(function(){return e.isOwner(s.default.getId())}),[e]),j=(0,o.cj)([f.Z],(function(){return{canAccessChannel:f.Z.can(e.accessPermissions,e),canManageChannel:f.Z.can(e.isThread()?p.Plq.MANAGE_THREADS:p.Plq.MANAGE_CHANNELS,e)}}),[e]),S=j.canManageChannel,C=j.canAccessChannel,P=(0,o.e7)([c.Z],(function(){return null!==(t=c.Z.getCount(e.id))&&void 0!==t?t:0}),[e.id]),I=(0,o.e7)([l.Z],(function(){return l.Z.getMessage(e.id)}),[e.id]).firstMessage,_=b&&(S||E&&P<1),w=b&&E&&!S&&P>0&&null!=I;if(!C)return null;if(!S&&!_&&!w)return null;return(0,r.jsx)(u.sN,{id:"delete-channel",
label:e.type===p.d4z.GUILD_CATEGORY?y.Z.Messages.DELETE_CATEGORY:e.isForumPost()?_?y.Z.Messages.DELETE_FORUM_POST:y.Z.Messages.DELETE_MESSAGE:e.isThread()?y.Z.Messages.DELETE_THREAD:y.Z.Messages.DELETE_CHANNEL,color:h.g.DANGER,action:function(){return(0,d.ZD)(v((function(){var t,o;return O(this,(function(l){switch(l.label){case 0:return[4,Promise.all([n.e(40532),n.e(40709)]).then(n.bind(n,440709))];case 1:t=l.sent(),o=t.default;return[2,function(t){return(0,r.jsx)(o,g(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){m(e,t,n[t])}))}return e}({},t),{onConfirm:function(){t.onClose();w?a.Z.deleteMessage(e.id,e.id):i.ZP.deleteChannel(e.id)},channel:e}))}]}}))})))}})}},555448:(e,t,n)=>{"use strict";n.d(t,{Z:()=>b})
;var r=n(785893),o=(n(667294),n(791462)),i=n(291035),a=n(743175),l=n(186121),u=n(682684),c=n(551821),s=n(356004),f=n(35236),d=n(959797);function p(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function h(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){p(i,r,o,a,l,"next",e)}function l(e){p(i,r,o,a,l,"throw",e)}a(void 0)}))}}var y=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++
;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function b(e){var t=(0,o.e7)([s.Z],(function(){return s.Z.getChannel(e.parent_id)})),n=(0,c.Xb)(e),p=(0,a.kF)(e),b=(0,c.$R)(e);return(null==t?void 0:t.isForumChannel())&&n&&b?e.hasFlag(f.zZ.PINNED)?(0,r.jsx)(l.sN,{id:"unpin-thread",label:d.Z.Messages.UNPIN_POST,action:function(){return u.Z.unpin(e)}}):(0,r.jsx)(l.sN,{id:"pin-thread",label:d.Z.Messages.PIN_POST,action:function(){null!=p?i.Z.show({title:d.Z.Messages.FORUM_PIN_CONFIRM_TITLE,
body:d.Z.Messages.FORUM_PIN_CONFIRM_BODY,onConfirm:h((function(){return y(this,(function(t){switch(t.label){case 0:return[4,u.Z.unpin(p)];case 1:t.sent();u.Z.pin(e);return[2]}}))}))}):u.Z.pin(e)}}):null}},532835:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(785893),o=(n(667294),n(483562)),i=n(186121),a=n(551821),l=n(897576),u=n(959797);function c(e){var t=(0,a.C7)(e),n=(0,a.$R)(e);return t&&n?__OVERLAY__?null:(0,r.jsx)(i.sN,{id:"edit-thread",label:e.isForumPost()?u.Z.Messages.EDIT_FORUM_POST:u.Z.Messages.EDIT_THREAD,action:function(){(0,l.pT)();o.ZP.open(e.id)}}):null}},592587:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(785893),o=(n(667294),n(791462)),i=n(281081),a=n(152163),l=n(103686),u=n(743175),c=n(186121),s=n(551821),f=n(356004),d=n(721777),p=n(809633),h=n(959797),y=n(179537),b=n.n(y);function v(e){var t=e.tag,n=t.name,i=t.emojiId,l=t.emojiName,u=(0,o.e7)([d.Z],(function(){return null!=i?d.Z.getUsableCustomEmojiById(i):null}));return(0,r.jsxs)(r.Fragment,{children:[(0,
r.jsx)(a.Z,{className:b().emoji,emojiId:i,emojiName:l,animated:Boolean(null==u?void 0:u.animated)}),n]})}function m(e){var t,n=(0,o.e7)([f.Z],(function(){return f.Z.getChannel(e)}),[e]),a=(0,s.C7)(n),d=(0,o.Wu)([f.Z],(function(){var e;return null!==(t=null===(e=f.Z.getChannel(null==n?void 0:n.parent_id))||void 0===e?void 0:e.availableTags)&&void 0!==t?t:[]}),[null==n?void 0:n.parent_id]),y=(0,u.eV)(n),b=y.length>=p.Cn,m=(0,s.$R)(n);if(null==n){(0,i.Zy)();return null}if(!a)return null;if(__OVERLAY__)return null;if(!n.isForumPost())return null;if(0===d.length)return null;if(!m)return null;var g=d.map((function(e){var t=y.includes(e);return(0,r.jsx)(c.S8,{id:e.id,label:(0,r.jsx)(v,{tag:e}),disabled:b&&!t,action:function(){return function(e){var t=new Set(y);if(t.has(e))t.delete(e);else{if(b)return;t.add(e)}var r=Array.from(t).map((function(e){return e.id}));l.Z.updateForumPostTags(n.id,r)}(e)},checked:t},e.id)}));return(0,r.jsx)(c.sN,{id:"edit-tags",label:h.Z.Messages.FORUM_TAG_POST_EDIT,
children:g})}},677893:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(785893),o=(n(667294),n(186121)),i=n(682684),a=n(527815),l=n(504003),u=n(959797);function c(e){var t=(0,a.B)(e);return(0,r.jsx)(o.sN,{id:"thread-notifications",label:u.Z.Messages.NOTIFICATION_SETTINGS,children:(0,l.zb)().map((function(n){var a=n.setting,l=n.label;return(0,r.jsx)(o.k5,{group:"thread-notifications",id:"".concat(a),label:l,action:function(){return i.Z.setNotificationSettings(e,{flags:a})},checked:a===t},a)}))})}},366295:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(785893),o=(n(667294),n(186121)),i=n(682684),a=n(551821),l=n(461061),u=n(959797);function c(e){var t,n;if(!(0,a.Xb)(e)||e.type!==l.d4z.PRIVATE_THREAD)return null;var c=null===(n=null===(t=e.threadMetadata)||void 0===t?void 0:t.invitable)||void 0===n||n;return(0,r.jsx)(o.S8,{id:"toggle-thread-invitable",label:u.Z.Messages.THREAD_INVITABLE_TOGGLE_LABEL,checked:c,action:function(){return i.Z.setInvitable(e,!c)}})}},100364:(e,t,n)=>{"use strict"
;n.d(t,{A:()=>a});var r=n(952013),o=n(832010),i=n(461061);function a(){var e=(0,r.ZP)();return(0,o.Lq)(e===i.BRd.DARK?i.Ilk.BRAND_330:i.Ilk.BRAND_530)}},966275:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(785893),o=(n(667294),n(240243)),i=n(100364);function a(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function l(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function u(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}
return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function c(e){var t=e.width,n=void 0===t?16:t,c=e.height,s=void 0===c?16:c,f=u(e,["width","height"]),d=(0,i.A)();return(0,r.jsxs)("svg",l(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){a(e,t,n[t])}))}return e}({},(0,o.Z)(f)),{width:n,height:s,viewBox:"0 0 16 16",children:[(0,r.jsx)("path",{
d:"M11.7791 8.47509L9.24568 7.08859C9.10351 7.00927 8.98757 6.89018 8.91209 6.74591L7.52592 4.22089C7.49677 4.16776 7.45388 4.12344 7.40174 4.09257C7.3496 4.0617 7.29012 4.04541 7.22953 4.04541C7.16893 4.04541 7.10946 4.0617 7.05731 4.09257C7.00517 4.12344 6.96228 4.16776 6.93313 4.22089L5.5447 6.74591C5.46783 6.88684 5.35203 7.00268 5.21112 7.07957L2.67544 8.47509C2.62232 8.50425 2.57801 8.54715 2.54715 8.5993C2.51628 8.65146 2.5 8.71095 2.5 8.77156C2.5 8.83216 2.51628 8.89165 2.54715 8.94381C2.57801 8.99596 2.62232 9.03886 2.67544 9.06802L5.21112 10.4545C5.35187 10.5316 5.46763 10.6474 5.5447 10.7882L6.93088 13.3245C6.96003 13.3776 7.00292 13.4219 7.05506 13.4528C7.1072 13.4837 7.16668 13.5 7.22727 13.5C7.28786 13.5 7.34734 13.4837 7.39948 13.4528C7.45163 13.4219 7.49452 13.3776 7.52367 13.3245L8.90984 10.7882C8.98682 10.6473 9.10259 10.5315 9.24342 10.4545L11.7791 9.06802C11.8322 9.03886 11.8765 8.99596 11.9074 8.94381C11.9383 8.89165 11.9545 8.83216 11.9545 8.77156C11.9545 8.71095 11.9383 8.65146 11.9074 8.5993C11.8765 8.54715 11.8322 8.50425 11.7791 8.47509Z",
fill:d}),(0,r.jsx)("path",{
d:"M15.3186 2.57078L14.1492 1.92939C14.1147 1.90911 14.0863 1.87988 14.067 1.84477L13.4267 0.673342C13.398 0.620858 13.3557 0.577078 13.3042 0.546584C13.2528 0.516089 13.1941 0.5 13.1344 0.5C13.0746 0.5 13.0159 0.516089 12.9645 0.546584C12.9131 0.577078 12.8708 0.620858 12.842 0.673342L12.1996 1.84699C12.1796 1.88239 12.1504 1.91166 12.1151 1.93162L10.9457 2.57301C10.8933 2.60181 10.8496 2.64419 10.8192 2.69571C10.7888 2.74723 10.7727 2.80599 10.7727 2.86586C10.7727 2.92573 10.7888 2.9845 10.8192 3.03602C10.8496 3.08754 10.8933 3.12992 10.9457 3.15872L12.1173 3.80011C12.152 3.81912 12.1806 3.84772 12.1996 3.88251L12.8398 5.05393C12.8686 5.10641 12.9109 5.15019 12.9623 5.18069C13.0137 5.21118 13.0724 5.22727 13.1322 5.22727C13.1919 5.22727 13.2506 5.21118 13.302 5.18069C13.3534 5.15019 13.3957 5.10641 13.4245 5.05393L14.0647 3.88251C14.0841 3.84666 14.1134 3.81725 14.1492 3.79788L15.3186 3.1654C15.3732 3.13737 15.419 3.09478 15.451 3.04232C15.483 2.98986 15.5 2.92957 15.5 2.86809C15.5 2.80661 15.483 2.74632 15.451 2.69386C15.419 2.6414 15.3732 2.59881 15.3186 2.57078Z",
fill:d})]}))}},600445:(e,t,n)=>{"use strict";n.d(t,{Z:()=>he});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),l=n(791462),u=n(678081),c=n(665733),s=n(887380),f=n(460408),d=n(551821),p=n(409271),h=n(940712),y=n(979662),b=n(191940),v=n(420202),m=n(761434),g=n(855550),O=n(562435),E=n(882699),j=n(742269),S=n(56133),C=n(64833),P=n(186121),I=n(665357),_=n(897576),w=n(932847),x=n(337823),N=n(172458),T=n(53211),A=n(105405),Z=n(859023),R=n(377899),M=n(679755),D=n(298407),L=n(97831),k=n(240243);function U(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function G(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){
Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function H(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function B(e){var t=e.width,n=void 0===t?24:t,o=e.height,i=void 0===o?22:o,a=e.color,l=void 0===a?"currentColor":a,u=e.foreground,c=H(e,["width","height","color","foreground"]);return(0,r.jsxs)("svg",G(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){U(e,t,n[t])}))}return e}({},(0,k.Z)(c)),{
width:n,height:i,viewBox:"0 0 24 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{className:u,d:"M18.7004 11.0733V4.20411L14.4456 0H3.8556C3.36366 0.000630619 2.89205 0.193989 2.5442 0.537669C2.19635 0.881349 2.00064 1.3473 2 1.83333V18.3333C2.00056 18.8194 2.19625 19.2854 2.54412 19.6291C2.89199 19.9728 3.36364 20.1661 3.8556 20.1667H13.7669C13.3284 19.2602 13.112 18.2644 13.1355 17.26C13.159 16.2555 13.4215 15.2707 13.902 14.3851C14.3824 13.4996 15.0672 12.7384 15.9008 12.163C16.7345 11.5876 17.6936 11.2143 18.7004 11.0733V11.0733ZM10.3502 13.75H4.7834V11.9167H10.3502V13.75ZM13.1336 10.0833H4.7834V8.25H13.1336V10.0833ZM13.1336 0.916667L17.7726 5.5H13.1336V0.916667Z",fill:l}),(0,r.jsx)("path",{className:u,d:"M19.6303 13.3696L15.2632 17.6844L16.5751 18.9805L18.7025 16.8786V22H20.5581V16.8786L22.6856 18.9805L23.9975 17.6844L19.6303 13.3696Z",fill:l})]}))}var V,F=n(151843),W=n(497195),Y=n(461061),z=n(959797);!function(e){e.UPLOAD_A_FILE="UPLOAD_A_FILE"
;e.UPLOAD_TEXT_AS_FILE="UPLOAD_TEXT_AS_FILE";e.INVITE_TO_PLAY_GAME="INVITE_TO_GAME";e.INVITE_TO_LISTEN="INVITE_TO_LISTEN";e.INVITE_TO_WATCH="INVITE_TO_WATCH";e.CREATE_THREAD="CREATE_THREAD";e.SLASH_COMMAND="SLASH_COMMAND"}(V||(V={}));var K=n(529875),q=n.n(K);function X(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function Q(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){X(i,r,o,a,l,"next",e)}function l(e){X(i,r,o,a,l,"throw",e)}a(void 0)}))}}function J(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function $(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){
return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var ee=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break
}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function te(e,t,o,i){(0,_.ZD)(Q((function(){var a,l;return ee(this,(function(u){switch(u.label){case 0:return[4,Promise.all([n.e(40532),n.e(88782)]).then(n.bind(n,688782))];case 1:a=u.sent(),l=a.default;return[2,function(n){return(0,r.jsx)(l,$(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){J(e,t,n[t])}))}return e}({},n),{activity:e,channel:t,activityActionType:o,analyticsLocations:i}))}]}}))})))}var ne=RegExp("(.*)```(\\w+)\\n(.*)```(.*)","s");function re(e){var t=function(){
(0,I.R6)(a,void 0,"Plus Button")},n=function(){p("/",(0,N.JM)("/"))},i=function(){var e=d,t="txt",n="",r=d.match(ne);if(null!=r){n=r[1];t=r[2];e=r[3];n+=r[4]}(0,S.d)([(0,x.dp)(new Blob([e],{type:"text/plain"}),"message.".concat(t))],a,f);E.S.dispatchToLastSubscribed(Y.CkL.CLEAR_TEXT);""!==n&&E.S.dispatchToLastSubscribed(Y.CkL.INSERT_TEXT,{plainText:n})},a=e.channel,l=e.options,u=e.onFileUpload,c=e.onClose,s=e.onSelect,f=e.draftType,d=e.editorTextContent,p=e.setValue,h=e.resetHideTooltip,y=(0,C.Z)().analyticsLocations;o.useEffect((function(){w.default.track(Y.rMx.OPEN_POPOUT,{type:"Send Attachment"})}),[]);o.useEffect((function(){return function(){h(!1)}}),[h]);return(0,r.jsx)(P.ZP,{onSelect:s,navId:"channel-attach",onClose:c,"aria-label":z.Z.Messages.CHANNEL_ACTIONS_MENU_LABEL,className:q().menu,children:l.map((function(e){var o=(0,r.jsxs)("div",{className:q().optionLabel,children:[(0,r.jsx)(e.icon,{className:q().optionIcon}),(0,r.jsx)("div",{className:q().optionName,children:e.display
})]});switch(e.type){case V.UPLOAD_A_FILE:return(0,r.jsx)(P.sN,{id:"upload-file",label:o,subtext:(0,r.jsx)("span",{className:q().tipSubtext,children:z.Z.Messages.UPLOAD_FILE_SUBTEXT.format({icon:function(e,t){return(0,r.jsx)(g.Z,{className:q().tipIcon},t)}})}),action:u},"upload-file");case V.UPLOAD_TEXT_AS_FILE:return""===d?null:(0,r.jsx)(P.sN,{id:"upload-text-as-file",label:o,action:i},"upload-text-as-file");case V.INVITE_TO_PLAY_GAME:return(0,r.jsx)(P.sN,{id:"play",label:o,action:function(){return function(e){w.default.track(Y.rMx.OPEN_MODAL,{type:"Send Join Invite",application_id:e.application_id,location:Y.jXE.CHANNEL_TEXT_AREA});te(e,a,Y.mFx.JOIN,y)}(e.activity)}},"play");case V.INVITE_TO_LISTEN:return(0,r.jsx)(P.sN,{id:"listen",label:o,action:function(){return function(e){w.default.track(Y.rMx.OPEN_MODAL,{type:"Send Listen Invite",location:Y.jXE.CHANNEL_TEXT_AREA});te(e,a,Y.mFx.LISTEN,y)}(e.activity)}},"listen");case V.INVITE_TO_WATCH:return(0,r.jsx)(P.sN,{id:"watch",label:o,
action:function(){return function(e){w.default.track(Y.rMx.OPEN_MODAL,{type:"Send Watch Invite",location:Y.jXE.CHANNEL_TEXT_AREA});te(e,a,Y.mFx.WATCH,y)}(e.activity)}},"watch");case V.CREATE_THREAD:return(0,r.jsx)(P.sN,{id:"THREAD",label:o,action:t},"THREAD");case V.SLASH_COMMAND:return(0,r.jsx)(P.sN,{id:"SLASH_COMMAND",label:o,action:n},"SLASH_COMMAND");default:return null}}))})}var oe=n(298716),ie=n(305770),ae=n.n(ie);function le(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ue(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){ue(e,t,n[t])}))}return e}function se(e,t){
t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function fe(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function de(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){
var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return le(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return le(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pe(e){var t=e.className,n=e.channel,i=e.draftType,C=e.editorTextContent,P=e.setValue,I=e.canShowPremiumTrialTutorial,_=o.useRef(null),w=(0,l.e7)([y.Z],(function(){return y.Z.getActivities()})),x=n.isPrivate(),N=(0,l.e7)([h.Z],(function(){
return x||h.Z.can(Y.Plq.ATTACH_FILES,n)&&h.Z.can(Y.Plq.SEND_MESSAGES,n)}));o.useEffect((function(){var e=function(){var e;return null===(e=_.current)||void 0===e?void 0:e.activateUploadDialogue()};E.S.subscribe(Y.CkL.UPLOAD_FILE,e);return function(){E.S.unsubscribe(Y.CkL.UPLOAD_FILE,e)}}));var k=(0,d.NE)(n),U=(0,d.Xu)(n),G=k||U,H=!p.dN.useSetting()&&!(0,j.eL)()&&null!=window.ResizeObserver,K=h.Z.can(Y.Plq.USE_APPLICATION_COMMANDS,n),q=function(e){var t=e.canAttachFiles,n=e.canStartThreads,r=e.useSlate,o=e.canUseApplicationCommands,i=e.channel,a=e.activities,l=[];if(t){l.push({type:V.UPLOAD_A_FILE,icon:W.Z,display:z.Z.Messages.CHAT_ATTACH_UPLOAD_A_FILE});l.push({type:V.UPLOAD_TEXT_AS_FILE,icon:B,display:z.Z.Messages.CHAT_ATTACH_UPLOAD_TEXT_AS_FILE})}n&&l.push({type:V.CREATE_THREAD,icon:F.Z,display:z.Z.Messages.CREATE_THREAD});r&&o&&l.push({type:V.SLASH_COMMAND,icon:R.Z,display:z.Z.Messages.CHAT_ATTACH_USE_SLASH_COMMAND});a.forEach((function(e){if(!(0,c.Z)(e,Y.xjy.EMBEDDED)){
e.type===Y.IIU.PLAYING&&(0,c.Z)(e,Y.xjy.JOIN)&&l.push({type:V.INVITE_TO_PLAY_GAME,icon:D.Z,display:z.Z.Messages.CHAT_ATTACH_INVITE_TO_PLAY_GAME.format({channel:(0,T.F)(i,Z.default,A.Z,!0),game:null!=e?e.name:""}),activity:e});e.type===Y.IIU.LISTENING&&(0,c.Z)(e,Y.xjy.SYNC)&&l.push({type:V.INVITE_TO_LISTEN,icon:L.Z,display:z.Z.Messages.CHAT_ATTACH_INVITE_TO_LISTEN.format({channel:(0,T.F)(i,Z.default,A.Z,!0),name:null!=e?e.name:""}),activity:e});e.type===Y.IIU.WATCHING&&(0,c.Z)(e,Y.xjy.SYNC)&&l.push({type:V.INVITE_TO_WATCH,icon:M.Z,display:z.Z.Messages.CHAT_ATTACH_INVITE_TO_WATCH.format({channel:(0,T.F)(i,Z.default,A.Z,!0),name:null!=e?e.name:""}),activity:e})}}));return l}({canAttachFiles:N,canStartThreads:G,useSlate:H,canUseApplicationCommands:K,channel:n,activities:w}),X=(0,s.A)(0!==q.length&&I)&&I,Q=de(o.useState(!1),2),J=Q[0],$=Q[1];if(0===q.length)return null;var ee=w.some((function(e){return(0,c.Z)(e,Y.xjy.SYNC)})),te=w.some((function(e){return(0,c.Z)(e,Y.xjy.JOIN)&&!(0,
c.Z)(e,Y.xjy.EMBEDDED)}))||ee?(0,r.jsx)(O.Z,{className:ae().attachButtonIcon,foreground:ae().attachButtonPlay,background:X?ae().attachButtonPlusGradient:ae().attachButtonPlus,width:24,height:24,color:X?v.JX.PREMIUM_TRIAL_TUTORIAL:"currentColor"}):(0,r.jsx)(g.Z,{className:ae().attachButtonIcon,foreground:X?ae().attachButtonPlusNoFill:ae().attachButtonPlus,width:24,height:24,color:X?v.JX.PREMIUM_TRIAL_TUTORIAL:"currentColor"}),ne=(0,r.jsx)(m.ZP,{renderPopout:function(e){var t=e.closePopout,o=fe(e,["closePopout"]);$(!0);return(0,r.jsx)(re,se(ce({},o),{onClose:t,options:q,channel:n,onFileUpload:function(){var e;return null===(e=_.current)||void 0===e?void 0:e.activateUploadDialogue()},draftType:i,editorTextContent:C,setValue:P,resetHideTooltip:$}))},position:m.ZP.Positions.TOP,align:m.ZP.Align.LEFT,animation:m.ZP.Animation.NONE,children:function(e){return(0,r.jsx)(b.Co,se(ce({look:b.Co.Looks.BLANK,size:b.Co.Sizes.NONE,className:a()(ae().attachButton,t),
innerClassName:ae().attachButtonInner,"aria-label":z.Z.Messages.CHAT_ATTACH_UPLOAD_OR_INVITE,onDoubleClick:N?function(){var e;return null===(e=_.current)||void 0===e?void 0:e.activateUploadDialogue()}:void 0},e),{children:X?(0,r.jsx)(f.Z,{tutorialHighlight:oe.f8.FILE_UPLOAD,text:z.Z.Messages.PREMIUM_TRIAL_TUTORIAL_FILE_UPLOAD_TOOLTIP,children:te,hideTooltip:J}):te}))}});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:ae().uploadInput,children:(0,r.jsx)(u.Z,{ref:_,onChange:function(e){!function(e,t){(0,S.d)(e,n,i,{requireConfirm:!0,showLargeMessageDialog:t});E.S.dispatchToLastSubscribed(Y.CkL.TEXTAREA_FOCUS)}(e.currentTarget.files);e.currentTarget.value=""},multiple:n.rateLimitPerUser<=0,tabIndex:-1,"aria-hidden":!0})}),(0,r.jsx)("div",{className:ae().attachWrapper,children:ne})]})}const he=o.memo(pe)},476215:(e,t,n)=>{"use strict";n.d(t,{Z:()=>b});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),l=n(948861),u=n(992735),c=n(629858),s=n(706594),f=n(851719),d=n.n(f)
;function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){
var n=e.disabled,i=e.type,f=e.className,p=e.onClick,y=h((0,u.Iu)((function(e){return[e.activeView,e.activeViewType]}),l.Z),2),b=y[0],v=y[1],m=o.useCallback((function(){(0,u.j9)(i);null==p||p()}),[i,p]);return n?null:(0,r.jsx)("div",{className:a()(s.CT,d().buttonContainer),ref:t,children:(0,r.jsx)(c.Z,{className:a()(d().emojiButton,f),onClick:m,active:(b===s.X1.GIF||b===s.X1.EMOJI||b===s.X1.STICKER)&&v===i,tabIndex:0,focusProps:{offset:{top:4,bottom:4,left:-4,right:-4}}})})}const b=o.memo(o.forwardRef(y))},85451:(e,t,n)=>{"use strict";n.d(t,{Z:()=>jy});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),l=n(717187),u=n.n(l),c=n(441143),s=n.n(c),f=n(647446),d=n(948861),p=n(368365),h=n(791462),y=n(741655),b=n(730189),v=n(859169),m=n(64833),g=n(408247),O=n(496486),E=n.n(O),j=n(82834),S=n(780921),C=n(23816),P=n(185253),I=Object.freeze({id:null,activeDescendant:null}),_=(0,P.Z)((function(){return I}));function w(e,t,n){(0,o.useEffect)((function(){t?_.setState({id:e,activeDescendant:n
}):_.setState({id:null,activeDescendant:null})}),[e,t,n])}var x=n(770599),N=n(659390),T=n(125447),A=n(807322),Z=n(685351),R=n(468139),M=n.n(R),D=function(e){var t=e.children,n=e.className;return(0,r.jsx)("div",{className:a()(M().autocompleteRowContent,n),children:t})},L=function(e){var t=e.children,n=e.className;return(0,r.jsx)("div",{className:a()(M().autocompleteRowContentPrimary,n),children:t})},k=function(e){var t=e.children,n=e.className;return(0,r.jsx)("div",{className:a()(M().autocompleteRowIcon,n),children:t})},U=function(e){var t=e.children,n=e.className;return(0,r.jsx)(Z.x,{className:n,color:"interactive-active",variant:"text-md/normal",children:t})},G=function(e){var t=e.children,n=e.className;return(0,r.jsx)(Z.x,{className:a()(n,M().autocompleteRowSubheading),color:"interactive-normal",variant:"text-xs/normal",children:t})},H=function(e){var t=e.children,n=e.className;return(0,r.jsx)(Z.x,{className:a()(n,M().autocompleteRowContentSecondary),color:"interactive-normal",
variant:"text-xs/normal",children:t})},B=n(48843),V=n(757987),F=n(462428),W=n(629590),Y=n(557025),z=n.n(Y);function K(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function q(e){var t,n=e.name,o=e.className,i=e.state,l=e.isInline,u=e.onClick,c=n+(l?":":""),s=null,f=F.Z.Colors.HEADER_PRIMARY;(null==i?void 0:i.isActive)&&!l?s=z().active:!1===(null==i||null===(t=i.lastValidationResult)||void 0===t?void 0:t.success)?s=z().error:(null==i?void 0:i.hasValue)&&!l&&(s=z().set);var d=(0,r.jsx)(F.Z,{size:l?F.Z.Sizes.SIZE_16:F.Z.Sizes.SIZE_14,color:f,className:a()(z().option,K({},z().inline,l),s,o),children:c});return null==u?d:(0,r.jsx)(W.Z,{className:z().clickable,onClick:function(){return u(n)},children:d})}var X=n(865289),Q=n(111190),J=n(959797),$=n(582072),ee=n.n($);function te(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function ne(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function re(e,t,n){return(0,r.jsx)(q,{className:ee().option,name:e.displayName,state:t,onClick:n},e.name)}function oe(e){var t=e.command,n=e.optionStates,i=e.onOptionClick,a=o.useMemo((function(){var e,r,o,i,a=null!==(o=null===(e=t.options)||void 0===e?void 0:e.filter((function(e){return e.required})))&&void 0!==o?o:[],l=null!==(i=null===(r=t.options)||void 0===r?void 0:r.filter((function(e){return!e.required})))&&void 0!==i?i:[],u=l.filter((function(e){var t;return null==n||null===(t=n[e.name])||void 0===t?void 0:t.hasValue})),c=l.filter((function(e){var t
;return!(null==n||null===(t=n[e.name])||void 0===t?void 0:t.hasValue)}));return{requiredOptions:a,setOptionalOptions:u,unsetOptionalOptions:c}}),[t.options,n]),l=a.requiredOptions,u=a.setOptionalOptions,c=a.unsetOptionalOptions,s=(0,r.jsx)("div",{className:ee().optionalNames,children:c.map((function(e){return(0,r.jsx)(Z.x,{variant:"text-sm/normal",children:e.displayName},e.name)}))}),f=l.map((function(e){return re(e,null==n?void 0:n[e.name],i)})),d=u.length>0?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(B.X,{className:ee().optionalHeader,variant:"heading-deprecated-12/medium",children:J.Z.Messages.COMMANDS_OPTIONAL_HEADER}),u.map((function(e){return re(e,null==n?void 0:n[e.name],i)}))]}):null,p=c.length>0?(0,r.jsx)(V.ZP,{text:s,"aria-label":!1,delay:200,children:function(e){return(0,r.jsx)(F.Z,ne(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){te(e,t,n[t])}))}return e}({className:ee().optionalCount,color:F.Z.Colors.MUTED},e),{children:0===u.length?J.Z.Messages.COMMANDS_OPTIONAL_COUNT.format({count:c.length}):J.Z.Messages.COMMANDS_OPTIONAL_COUNT_REMAINING.format({count:c.length})}))}}):null;return(0,r.jsxs)(r.Fragment,{children:[f,null!=d||null!=p?(0,r.jsxs)("div",{className:ee().optionals,children:[d,p]}):null]})}function ie(e){var t,n,i=e.command,l=e.activeOptionName,u=e.channel,c=e.showOptions,s=e.showImage,f=e.optionStates,d=e.onOptionClick,p=e.section,h=e.isSelectable,y=void 0===h||h,b=o.useMemo((function(){var e;return null==i||null===(e=i.options)||void 0===e?void 0:e.find((function(e){return e.name===l}))}),[l,i]),v=null!=l?null==f?void 0:f[l]:null
;if(null!=v&&!1===(null===(t=v.lastValidationResult)||void 0===t?void 0:t.success)){var m;n=null!==(m=v.lastValidationResult.error)&&void 0!==m?m:""}else n=null;var g,O=s&&null!=p?(0,X.ky)(p):null;return(0,r.jsxs)("div",{className:a()(ee().wrapper,y?null:ee().disabled),children:[null!=O?(0,r.jsx)(O,{className:ee().image,channel:u,section:p,width:32,height:32}):null,(0,r.jsxs)("div",{className:ee().infoWrapper,children:[(0,r.jsxs)("div",{className:ee().usageWrapper,children:[(0,r.jsx)(U,{className:ee().title,children:Q.GI+i.displayName}),c?(0,r.jsx)(oe,{command:i,optionStates:f,onOptionClick:d}):null]}),(0,r.jsx)(G,{className:a()(ee().description,null!=n?ee().error:null),children:null!==(g=null!=n?n:null==b?void 0:b.displayDescription)&&void 0!==g?g:i.displayDescription})]}),(0,r.jsx)(H,{className:ee().source,children:null==p?void 0:p.name})]})}var ae=n(30521),le=n.n(ae);const ue=function(e){var t=e.showImage,n=o.useMemo((function(){return{usageWidth:E().random(60,120),
descriptionWidth:E().random(200,600),sourceWidth:E().random(45,90)}}),[]),i=n.usageWidth,a=n.descriptionWidth,l=n.sourceWidth;return(0,r.jsxs)("div",{className:le().wrapper,children:[t?(0,r.jsx)("div",{className:le().image}):null,(0,r.jsxs)("div",{className:le().infoWrapper,children:[(0,r.jsx)("div",{style:{maxWidth:(0,X.Q1)(i)},className:le().usageWrapper}),(0,r.jsx)("div",{style:{maxWidth:(0,X.Q1)(a)},className:le().description})]}),(0,r.jsx)("div",{style:{width:(0,X.Q1)(l)},className:le().source})]})};var ce=n(53211),se=n(394803),fe=n(440455),de=n(932847),pe=n(461061),he=n(298716),ye=n(481930),be=n.n(ye);const ve=function(e){var t=e.emojis,n=(0,m.Z)().analyticsLocations;o.useEffect((function(){de.default.track(pe.rMx.PREMIUM_UPSELL_VIEWED,{type:he.cd.EMOJI_AUTOCOMPLETE_INLINE,location_stack:n})}),[n]);var i=(0,r.jsx)("div",{className:be().emojis,children:t.slice(0,3).map((function(e,n){if(""===e.url)return null;var o=n===t.length-1,i=(0,r.jsx)("div",{className:be().emojiBackground,
children:(0,r.jsx)("img",{alt:e.name,className:be().emoji,src:e.url})},e.id);return o?i:(0,r.jsx)(fe.ZP,{className:be().emojiMask,mask:fe.ZP.Masks.AUTOCOMPLETE_EMOJI_UPSELL_EMOJI,children:i},e.id)}))});return(0,r.jsxs)(D,{className:be().upsell,children:[(0,r.jsx)(L,{children:(0,r.jsx)(U,{children:J.Z.Messages.AUTOCOMPLETE_EMOJI_UPSELL.format({count:t.length})})}),(0,r.jsx)(H,{children:i})]})};var me=n(876679),ge=n(673973),Oe=n(653772),Ee=n(105405),je=n(859023),Se=n(892994),Ce=n(930264),Pe=n(766936);function Ie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _e(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function we(e){we=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return we(e)}function xe(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function")
;e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Re(e,t)}function Ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){_e(e,t,n[t])}))}return e}function Te(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Ae(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{}
;var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function Ze(e,t){return!t||"object"!==Me(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Re(e,t){Re=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Re(e,t)}var Me=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function De(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=we(e);if(t){
var o=we(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ze(this,n)}}function Le(e){return null!=e?"autocomplete-".concat(e):null}function ke(e){return"autocomplete-".concat(e,"-title")}var Ue=o.createContext(null),Ge=function(e){xe(n,e);var t=De(n);function n(e){Ie(this,n);var r;(r=t.call(this,e)).selectable=!0;r.layoutClass=M().autocompleteRowVertical;r.handleMouseEnter=function(){var e=r.props,t=e.onHover,n=e.index,o=e.selected;null!=t&&!o&&"number"==typeof n&&t(n)};r.handleClick=function(e){var t=r.props,n=t.onClick,o=t.index;null!=n&&"number"==typeof o&&n(o,e)};r.state={hovered:!1};return r}var o=n.prototype;o.isSelectable=function(){return this.selectable};o.renderContent=function(){throw new Error("AutocompleteRow: renderContent must be extended")};o.renderClickable=function(e){var t,n=this,o=this.layoutClass,i=this.props,l=i.className,u=i.index,c=i.selected,s=this.isSelectable();return(0,r.jsx)(W.Z,Te(Ne({},e),{
className:a()(M().clickable,l,o),id:null!==(t=Le(u))&&void 0!==t?t:void 0,onClick:s?this.handleClick:void 0,onMouseMove:s?function(){n.setState({hovered:!0});n.handleMouseEnter()}:void 0,onMouseLeave:s?function(){return n.setState({hovered:!1})}:void 0,role:"option","aria-disabled":!s,"aria-selected":s&&c,children:(0,r.jsx)("div",{className:M().base,children:this.renderContent()})}))};o.render=function(){var e=this,t=this.props.index;return this.isSelectable()?(0,r.jsx)(T.mh,{id:"".concat(t),children:function(t){return e.renderClickable(t)}}):this.renderClickable()};return n}(o.PureComponent),He=function(e){xe(n,e);var t=De(n);function n(){Ie(this,n);return t.apply(this,arguments)}n.prototype.renderContent=function(){var e=this.props,t=e.text,n=e.description;return(0,r.jsxs)(D,{children:[(0,r.jsx)(L,{children:(0,r.jsx)(U,{children:t})}),null!=n?(0,r.jsx)(H,{children:n}):null]})};return n}(Ge);var Be=function(e){xe(n,e);var t=De(n);function n(){Ie(this,n);var e
;(e=t.apply(this,arguments)).layoutClass=M().dividerContainer;e.selectable=!1;return e}n.prototype.renderContent=function(){var e=this.props.className;return(0,r.jsx)("div",{className:a()(e,M().divider)})};return n}(Ge),Ve=function(e){xe(n,e);var t=De(n);function n(){Ie(this,n);return t.apply(this,arguments)}n.prototype.renderContent=function(){var e=this.props,t=e.user,n=e.nick,o=e.status,i=e.hidePersonalInformation,a=e.guildId;return(0,r.jsxs)(D,{children:[(0,r.jsx)(k,{children:(0,r.jsx)(Pe.ZP,{size:Pe.ZP.Sizes.SIZE_24,src:t.getAvatarURL(a,24),"aria-hidden":!0,status:o})}),(0,r.jsx)(L,{children:(0,r.jsx)(U,{children:null!=n?n:t.username})}),(0,r.jsxs)(H,{children:[(0,r.jsx)("span",{className:M().descriptionUsername,children:t.username}),i?null:(0,r.jsxs)("span",{className:M().descriptionDiscriminator,children:["#",t.discriminator]})]})]})};return n}(Ge),Fe=function(e){xe(n,e);var t=De(n);function n(){Ie(this,n);return t.apply(this,arguments)}n.prototype.renderContent=function(){
var e,t=this.props,n=t.role,o=t.hideDescription;return(0,r.jsxs)(D,{children:[(0,r.jsx)(L,{children:(0,r.jsx)(U,{children:(0,r.jsxs)("span",{style:{color:null!==(e=n.colorString)&&void 0!==e?e:void 0},children:["@",n.name]})})}),o?null:(0,r.jsx)(H,{children:J.Z.Messages.MENTION_USERS_WITH_ROLE})]})};return n}(Ge),We=function(e){xe(n,e);var t=De(n);function n(){Ie(this,n);return t.apply(this,arguments)}n.prototype.renderContent=function(){var e=this.props,t=e.channel,n=e.category,o=t.type===pe.d4z.GUILD_CATEGORY?Se.Z:(0,se.KS)(t);return(0,r.jsxs)(D,{children:[null!=o&&(0,r.jsx)(k,{children:(0,r.jsx)(o,{className:M().icon})}),(0,r.jsx)(L,{children:(0,r.jsx)(U,{children:(0,ce.F)(t,je.default,Ee.Z)})}),null!=n?(0,r.jsx)(H,{children:n.name}):null]})};return n}(Ge),Ye=function(e){xe(n,e);var t=De(n);function n(){Ie(this,n);return t.apply(this,arguments)}n.prototype.renderContent=function(){var e=this.props.command;return(0,r.jsxs)(D,{children:[(0,r.jsx)(k,{children:(0,r.jsx)(Ce.Z,{
className:M().icon,foreground:M().iconForeground})}),(0,r.jsx)(L,{children:(0,r.jsx)(U,{children:e.name})}),(0,r.jsx)(H,{children:e.description})]})};return n}(Ge),ze=function(e){xe(n,e);var t=De(n);function n(){Ie(this,n);return t.apply(this,arguments)}var o=n.prototype;o.isSelectable=function(){return this.props.command.inputType!==A.iw.PLACEHOLDER};o.renderContent=function(){var e=this.props,t=e.command,n=e.channel,o=e.showImage,i=e.section,a=e.selected,l=this.state.hovered,u=this.isSelectable();return t.inputType===A.iw.PLACEHOLDER?(0,r.jsx)(ue,{}):(0,r.jsx)(ie,{command:t,channel:n,showImage:o,showOptions:l||u&&a,section:i,isSelectable:u})};return n}(Ge),Ke=function(e){xe(n,e);var t=De(n);function n(){Ie(this,n);var e;(e=t.apply(this,arguments)).layoutClass=a()(M().autocompleteRowVertical,M().autocompleteRowVerticalSmall);return e}n.prototype.renderContent=function(){var e=this.props,t=e.emoji,n=e.sentinel,o=e.guild,i=null!=t.url&&""!==t.url?(0,r.jsx)("img",{alt:"",
className:M().emojiImage,src:t.url}):(0,r.jsx)("span",{className:M().emojiRaw,children:t.surrogates}),a=null!=o?(0,r.jsx)(H,{children:o.name}):null;return(0,r.jsxs)(D,{children:[(0,r.jsx)(k,{children:i}),(0,r.jsx)(L,{children:(0,r.jsxs)(U,{children:[n,t.name,n]})}),a]})};return n}(Ge),qe=function(e){xe(n,e);var t=De(n);function n(){Ie(this,n);var e;(e=t.apply(this,arguments)).layoutClass=a()(M().autocompleteRowVertical,M().autocompleteRowVerticalSmall);return e}n.prototype.renderContent=function(){var e,t=this.props,n=t.queryMatch,o=t.renderSticker,i=t.selected,a=t.sticker,l=this.state.hovered;if((0,ge.jl)(a)){var u;e=null===(u=me.Z.getStickerPack(a.pack_id))||void 0===u?void 0:u.name}else if((0,ge.J8)(a)){var c;e=null===(c=Oe.Z.getGuild(a.guild_id))||void 0===c?void 0:c.name}return(0,r.jsxs)(D,{children:[(0,r.jsx)(k,{children:o(a,l||!0===i)}),(0,r.jsxs)(L,{children:[(0,r.jsx)(U,{className:M().stickerName,children:a.name}),null!=n&&(0,r.jsx)(G,{
children:J.Z.Messages.AUTOCOMPLETE_STICKERS_QUERY_MATCH.format({queryMatch:n})})]}),null!=e&&(0,r.jsx)(H,{children:e})]})};return n}(Ge),Xe=function(e){xe(n,e);var t=De(n);function n(){Ie(this,n);var e;(e=t.apply(this,arguments)).layoutClass=M().autocompleteRowHorizontal;return e}n.prototype.renderContent=function(){var e=this.props,t=e.width,n=e.height,o=e.src;return(0,r.jsx)("img",{alt:"",src:o,width:t,height:n})};return n}(Ge),Qe=function(e){xe(n,e);var t=De(n);function n(){Ie(this,n);var e;(e=t.apply(this,arguments)).selectable=!1;return e}n.prototype.renderContent=function(){return(0,r.jsx)(ve,{emojis:this.props.emojis})};return n}(Ge),Je=function(e){xe(n,e);var t=De(n);function n(){Ie(this,n);return t.apply(this,arguments)}n.prototype.render=function(){var e=this.props,t=e.children,n=e.className,i=e.innerClassName,l=e.id,u=Ae(e,["children","className","innerClassName","id"]);return o.Children.count(t)>0?(0,r.jsx)(Ue.Provider,{value:{id:null!=l?l:""},children:(0,r.jsx)("div",{
className:a()(M().autocomplete,n),children:(0,r.jsx)("div",Te(Ne({className:a()(M().autocompleteInner,i)},u),{children:t}))})}):null};return n}(o.PureComponent);Je.Generic=He;Je.Loading=function(e){var t=o.useMemo((function(){return E().random(60,120)}),[]);return(0,r.jsx)("div",{className:M().base,"aria-busy":!0,children:(0,r.jsx)(D,{children:(0,r.jsx)(L,{children:(0,r.jsx)(U,{children:(0,r.jsx)("div",{className:M().autocompletePlaceholder,style:{width:t}})})})})})};Je.Title=function(e){var t=e.title,n=e.className,i=o.useContext(Ue);return(0,r.jsx)("div",{className:M().base,children:(0,r.jsx)(B.X,{id:ke(i.id),className:a()(M().contentTitle,n),variant:"heading-deprecated-12/medium",children:t})})};Je.Divider=Be;Je.User=Ve;Je.Role=Fe;Je.Channel=We;Je.Command=Ye;Je.NewCommand=ze;Je.Emoji=Ke;Je.GIFIntegration=Xe;Je.Sticker=qe;Je.EmojiUpsell=Qe;const $e=Je;var et=n(941724),tt=n(272729),nt=n(361138),rt=n(307914),ot=n(573942),it=n(810873),at=n(141526),lt=n.n(at);function ut(e,t,n){
t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function ct(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function st(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}var ft=[16,12,8,12];function dt(e){
var t=e.className,n=e.channel,i=e.sections,l=e.activeSectionIndex,u=e.filteredSectionId,c=e.onSectionClick,s=o.useCallback((function(e){var t,n=8;(null===(t=i[e+1])||void 0===t?void 0:t.type)===A.Qi.BUILT_IN&&(n+=8);return 32+n}),[i]),f=o.useCallback((function(e,t){var n;return t?(null===(n=i[e+1])||void 0===n?void 0:n.type)===A.Qi.BUILT_IN?0:8:0===e?0:8}),[i]),d=o.useCallback((function(e){var t=i[e];if(null!=t){var o=(0,X.ky)(t),a=t.type===A.Qi.BUILT_IN?4:0,s=32-2*a,f=(0,r.jsx)(o,{channel:n,section:t,isSelected:null!=u?t.id===u:l===e,padding:a,width:s,height:s,selectable:!0}),d=t.type!==A.Qi.BUILT_IN&&e<i.length-1&&i[e+1].type===A.Qi.BUILT_IN;return(0,r.jsxs)("div",{className:lt().section,children:[(0,r.jsx)(V.ZP,{text:t.name,position:it.v.RIGHT,children:function(e){var n=e.onClick,o=st(e,["onClick"]);return(0,r.jsx)(W.Z,ct(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){ut(e,t,n[t])}))}return e}({"aria-label":t.name,onClick:function(){c(t);null==n||n()}},o),{children:f}))}}),d?(0,r.jsx)("hr",{className:lt().builtInSeparator}):null]},t.id)}}),[l,n,c,i,u]);return 0===i.length?null:(0,r.jsx)("div",{className:a()(t,lt().wrapper),children:(0,r.jsx)(ot.Z,{activeIndex:l,className:lt().list,renderCategoryListItem:d,rowCount:i.length,rowHeight:s,listPadding:ft,getScrollOffsetForIndex:f})})}var pt=n(544934),ht=n(180315),yt=n.n(ht),bt=n(576884),vt=n.n(bt);function mt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function gt(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Ot(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){
var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return mt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Et=[8,8,0,8],jt=E().debounce((function(){de.default.track(pe.rMx.APPLICATION_COMMAND_BROWSER_SCROLLED)}),300);const St=o.forwardRef((function(e,t){
var n=e.channel,i=e.canOnlyUseTextCommands,l=o.useRef(!1),u=o.useRef(0),c=Ot(o.useState(0),2),s=c[0],f=c[1],d=Ot(o.useState(0),2),p=d[0],h=d[1],y=o.useRef(null),b=Ot(o.useState(!1),2),v=b[0],m=b[1];o.useEffect((function(){(0,C.yw)(pe.rMx.APPLICATION_COMMAND_BROWSER_OPENED)}),[]);var g=(0,rt.A3)(n,S.yU.CHAT,7,pt.tn,{canOnlyUseTextCommands:i,canUseFrecency:!0}),O=g.sectionDescriptors,E=g.activeSections,P=g.commandsByActiveSection,T=g.hasMoreAfter,Z=g.commands,R=g.filteredSectionId,M=g.scrollDown,D=g.filterSection,L=(0,x.Qs)({activeCategoryIndex:p,isScrolling:l,listRef:y,onActiveCategoryIndexChange:function(e){var t=E[e],n=O.findIndex((function(e){return e.id===t.id}));h(n)},scrollOffset:20,searchQuery:""}),k=function(e){var t=E.length,n=P.reduce((function(e,t){return e+t.data.length}),0)-(T?7:0);T&&e+420>48*t+56*n-512&&M();L(e);jt();u.current=e};o.useEffect((function(){k(u.current)}),[Z]);var U=o.useCallback((function(e){return e===E.length-1&&!T?0:16
}),[E.length,T]),G=P.map((function(e){return e.data.length}));o.useEffect((function(){null!=y.current&&v&&null!=s&&y.current.scrollRowIntoView(s)}),[v,s]);o.useLayoutEffect((function(){if(null!=R){var e;null===(e=y.current)||void 0===e||e.scrollToSectionTop(0)}}),[Z,R]);var H=o.useCallback((function(e){if(e.id===R||e.id===pt.bi.FRECENCY){var t;D(null);null===(t=y.current)||void 0===t||t.scrollToSectionTop(0)}else D(e.id)}),[D,R]),B=o.useCallback((function(e,t){nt.Po(n.id,e,t,A.Vh.DISCOVERY)}),[n.id]);o.useImperativeHandle(t,(function(){return{onTabOrEnter:function(e){if(null==s){if(e)return!1;f(0);return!0}if(null==s)return!1;var t=0,n=0,r=!0,o=!1,i=void 0;try{for(var a,l=P[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){var u=a.value;t=n;n+=u.data.length;if(s<n){B(u.data[s-t],u.section);break}}}catch(e){o=!0;i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return!0},onMoveSelection:function(e){if(0===Z.length)return!0;var t=T?7:0,n=Z.length+t,r=null==s?0:s+e
;r>=n?r=n-1:r<0&&(r=0);f(r);m(!0);return!0}}}),[Z.length,P,T,B,s]);var V=o.useCallback((function(e){var t=E[e];if(null==t)return null;var o=(0,X.ky)(t),i=(0,r.jsx)(o,{channel:n,section:t,width:16,height:16,padding:0});return(0,r.jsx)(N.Z,{className:yt().categoryHeader,icon:i,children:t.name},e)}),[n,E]),F=o.useCallback((function(e,t){var n=e===E.length-1,o=E[e],i=P[e].data;return(0,r.jsxs)("ul",{role:"group","aria-label":o.name,className:a()(yt().categorySection,gt({},yt().categorySectionLast,n)),children:[t,0===i.length&&(0,r.jsx)(j.Z,{message:J.Z.Messages.APPLICATION_COMMAND_NO_PERMISSIONS.format({applicationName:o.name}),noResultsImageURL:vt(),className:yt().noSearchResults})]},e)}),[E,P]),W=o.useCallback((function(e,t){var o,i=P[t.sectionIndex],a=i.data[t.sectionRowIndex],l="".concat(i.section.id,":").concat(null!==(o=null==a?void 0:a.id)&&void 0!==o?o:e);if(null==a||i.section.id!==a.applicationId&&i.section.id!==pt.bi.FRECENCY||a.inputType===A.iw.PLACEHOLDER)return(0,
r.jsx)(ue,{},l);var u=O.find((function(e){return e.id===a.applicationId}));return(0,r.jsx)($e.NewCommand,{index:e,command:a,channel:n,className:yt().itemWrapper,selected:s===e,showImage:i.section.id!==a.applicationId,section:u,onClick:function(){return B(a,u)},onHover:function(){f(null);m(!1)}},l)}),[n,P,B,O,s]),Y=(0,tt.Dt)();w(Y,!0,Le(s));o.useEffect((function(){return function(){_.setState((function(){return I}))}}),[]);return(0,r.jsxs)($e,{id:Y,className:yt().outerWrapper,innerClassName:yt().wrapper,onMouseDown:Ct,children:[(0,r.jsx)(dt,{className:yt().rail,channel:n,sections:O,filteredSectionId:R,activeSectionIndex:p,onSectionClick:H}),(0,r.jsx)(et.Z,{role:"listbox",className:yt().list,listPadding:Et,onScroll:k,renderRow:W,renderSection:F,renderSectionHeader:V,rowCount:E.length,rowCountBySection:G,rowHeight:56,sectionHeaderHeight:32,sectionMarginBottom:U,ref:y,stickyHeaders:!0})]})}));function Ct(e){e.preventDefault()}
var Pt=n(173436),It=n(356004),_t=n(212218),wt=n(379822),xt=n(523283),Nt=n(215315),Tt=n.n(Nt);function At(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Zt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rt(e){Rt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Rt(e)}function Mt(e,t){return!t||"object"!==kt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Dt(e,t){Dt=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Dt(e,t)}function Lt(e){return function(e){if(Array.isArray(e))return At(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return At(e,t)
;var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return At(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var kt=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Ut(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Rt(e);if(t){var o=Rt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Mt(this,n)}}var Gt=new Set,Ht=function(e){!function(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Dt(e,t)}(n,e);var t=Ut(n);function n(){Zt(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(e){null!=e&&(Gt=new Set(e))};r.hasId=function(e){return Gt.has(e)};r.getState=function(){return Lt(Gt)};r.__getLocalVars=function(){return{storeState:Gt,Store:Bt}};return n}(h.ZP.PersistedStore);Ht.displayName="PTOStore";Ht.persistKey="PTOStore";var Bt=new Ht(Pt.Z,{}),Vt=function(e){return(0,h.e7)([_t.ZP,je.default,Bt],(function(){var t=je.default.getCurrentUser();if(null==t||!t.isStaff()||!e.isDM())return!1;var n=je.default.getUser(e.getRecipientId());if(!(null==n?void 0:n.isStaff()))return!1;var r=_t.ZP.getNicknames(n.id).some((function(e){return e.endsWith("[PTO]")}));if(!r){Gt.delete(n.id)&&Bt.emitChange();return!1}return!Bt.hasId(n.id)&&r}))},Ft=function(){
return(0,r.jsxs)("div",{className:Tt().bar,children:[J.Z.Messages.STAFF_PTO_NOTICE,(0,r.jsx)(W.Z,{className:Tt().closeButton,onClick:function(){var e=wt.Z.getChannelId();if(null!=e){var t=It.Z.getChannel(e);if(null!=t&&!Gt.has(t.getRecipientId())){Gt.add(t.getRecipientId());Bt.emitChange()}}},children:(0,r.jsx)(xt.Z,{className:Tt().closeIcon})})]})},Wt=n(409830),Yt=n(577990),zt=n(444766),Kt=n(318937),qt=n(553494);const Xt=(0,qt.B)({kind:"user",id:"2021-07_popout_autocomplete",label:"Popout Autocomplete experiment",defaultConfig:{usePopoutAutocomplete:!1},treatments:[{id:1,label:"New autocomplete style",config:{usePopoutAutocomplete:!0}}]});var Qt,Jt,$t,en,tn,nn,rn,on,an;!function(e){e[e.DENY=0]="DENY";e[e.ALLOW_EVERYONE=1]="ALLOW_EVERYONE";e[e.ALLOW_EVERYONE_OR_HERE=2]="ALLOW_EVERYONE_OR_HERE"}(Qt||(Qt={}));!function(e){e[e.DENY=0]="DENY";e[e.ALLOW_CHANNEL=1]="ALLOW_CHANNEL";e[e.ALLOW_GUILD=2]="ALLOW_GUILD"}(Jt||(Jt={}));!function(e){e[e.DENY=0]="DENY"
;e[e.ALLOW_MENTIONABLE=1]="ALLOW_MENTIONABLE";e[e.ALLOW_ALL=2]="ALLOW_ALL"}($t||($t={}));!function(e){e[e.DENY=0]="DENY";e[e.ALLOW_SELECTABLE=1]="ALLOW_SELECTABLE"}(en||(en={}));!function(e){e[e.DISABLED=0]="DISABLED";e[e.OLD_BUILT_INS=1]="OLD_BUILT_INS";e[e.NEW_TEXT_ONLY=2]="NEW_TEXT_ONLY";e[e.NEW=3]="NEW"}(tn||(tn={}));!function(e){e[e.INSERT=0]="INSERT";e[e.SEND=1]="SEND"}(nn||(nn={}));!function(e){e.MENTIONS="MENTIONS";e.CHANNELS="CHANNELS";e.EMOJIS_AND_STICKERS="EMOJIS_AND_STICKERS";e.REACTIONS="REACTIONS";e.GIFS="GIFS";e.LEGACY_COMMANDS="LEGACY_COMMANDS";e.COMMANDS="COMMANDS";e.COMMAND_OPTIONS="COMMAND_OPTIONS";e.CHOICES="CHOICES"}(rn||(rn={}));!function(e){e.MENTION="MENTION";e.CHANNEL="CHANNEL";e.EMOJI="EMOJI";e.STICKER="STICKER";e.REACTION="REACTION";e.GIF="GIF";e.COMMAND="COMMAND";e.COMMAND_OPTION="COMMAND_OPTION";e.COMMAND_SUGGESTION="COMMAND_SUGGESTION";e.CHOICE="CHOICE";e.EMOJI_UPSELL="EMOJI_UPSELL"}(on||(on={}));!function(e){e[e.AUTO=0]="AUTO"
;e[e.AUTO_WHEN_FILTERED=1]="AUTO_WHEN_FILTERED";e[e.MANUAL=2]="MANUAL"}(an||(an={}));var ln=n(35599);function un(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function cn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return un(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return un(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sn(e){var t=e.editorHeight,n=e.type,r=e.state,i=e.isInPopoutExperiment,a=void 0!==i&&i,l=cn(o.useState(void 0),2),u=l[0],c=l[1],s=null==r?void 0:r.query,f=null==r?void 0:r.isVisible,d=o.useContext(ln.ZP).renderWindow,p=o.useCallback((function(){var e;if(null==r||null!=s&&f)if((null==s?void 0:s.type)!==rn.GIFS&&(null==n||a||(null===(e=n.autocomplete)||void 0===e?void 0:e.alwaysUseLayer))){var t=d.document.getSelection(),o=null!=t&&t.rangeCount>0?t.getRangeAt(0):null;if(null!=o){for(var i=o.startContainer,l=o.startOffset;null!=i;){var u,p,h;if(i.nodeType!==Node.TEXT_NODE||null==i.nodeValue){c(null);return}if(0!==(null===(u=i.nodeValue)||void 0===u?void 0:u.length)){null!=s&&(l>=s.queryText.length?l-=s.queryText.length:l=0);break}
l=null!==(h=null==(i=i.previousSibling)||null===(p=i.nodeValue)||void 0===p?void 0:p.length)&&void 0!==h?h:0}if(null!=i){var y=d.document.createRange();y.setStart(i,l);y.setEnd(i,l);var b=y.getBoundingClientRect();0!==(null==b?void 0:b.height)&&c(null!=b?b:null)}}}else c(null);else c(void 0)}),[a,d.document,r,f,s,n]);o.useEffect((function(){d.document.addEventListener("selectionchange",p);return function(){return d.document.removeEventListener("selectionchange",p)}}),[d.document,p]);o.useEffect((function(){p()}),[p,t]);return u}var fn,dn=n(434959),pn=n(888403),hn=n(691869),yn=n(940712),bn=n(893321),vn=n(893264);function mn(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function gn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){
return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){mn(e,t,n[t])}))}return e}function On(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function En(e,t,n){var r,o;de.default.track(pe.rMx.CHANNEL_AUTOCOMPLETE_OPEN,On(gn({},(0,C.v_)(t),(0,C.hH)(t.guild_id)),{autocomplete_type:e,num_emoji_results:null!==(r=null==n?void 0:n.numEmojiResults)&&void 0!==r?r:0,num_sticker_results:null!==(o=null==n?void 0:n.numStickerResults)&&void 0!==o?o:0}))}!function(e){e.AUTOCOMPLETE="autocomplete";e.AUTOSUGGEST="autosuggest";e.STICKER_PICKER="picker"}(fn||(fn={}));function jn(e){
switch(e){case vn.V0.AUTOCOMPLETE:return fn.AUTOCOMPLETE;case vn.V0.EXPRESSION_SUGGESTIONS:return fn.AUTOSUGGEST;case vn.V0.STICKER_PICKER:return fn.STICKER_PICKER;default:return null}}var Sn=n(99298),Cn=n(172458),Pn=n(404168),In=n(1812),_n=n(774581),wn=n(493266);function xn(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Nn(e,t,n,o,i){var a=n.length>0?e.format({prefix:o(n)}):t;return(0,r.jsx)($e.Title,{className:i,title:a},"autocomplete-title-".concat(a))}function Tn(e){var t=e.query,n=e.selectedIndex,i=e.autocompletes,a=e.onHover,l=e.onClick,u=e.titleWithQuery,c=e.titleWithoutQuery,s=e.Component,f=e.getProps,d=e.getQuery,p=e.key,h=e.indexOffset,y=void 0===h?0:h,b=e.headerClassName,v=e.footer;if(null==v&&(null==i||0===i.length))return null;var m=null==i?void 0:i.map((function(e,t){var o=t+y;return(0,r.jsx)(s,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){xn(e,t,n[t])}))}return e}({onClick:l,onHover:a,selected:n===o,index:o},f(e,o)))}));return(0,r.jsxs)(o.Fragment,{children:[null!=u&&null!=c?Nn(u,c,t,d,b):null,m,v]},p)}const An=function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}({sentinel:Q.zy,matches:function(e,t,n,r,o){return o.mentions.channel!==en.DENY&&!e.isPrivate()},queryResults:function(e,t,n,r,o){var i=In.sH;if(n.charAt(0)===Pn.xQ.VOICE_CHANNEL){i=In.Zb;n=n.substring(1)}return{results:r.forNonStringCommandOption?_n.ZP.queryApplicationCommandChannelResults({query:n,channel:e,channelTypes:r.allowedChannelTypes}):_n.ZP.queryChannelResults({query:n,channel:e,type:i})}},renderResults:function(e){
var t,n,r=e.results.channels,o=e.selectedIndex,i=e.query,a=e.options,l=e.onHover,u=e.onClick,c=i.charAt(0)===Pn.xQ.VOICE_CHANNEL;if(c){t=J.Z.Messages.VOICE_CHANNELS_MATCHING;n=J.Z.Messages.VOICE_CHANNELS;i=i.substring(1)}else if(a.forNonStringCommandOption){t=J.Z.Messages.CHANNELS_MATCHING;n=J.Z.Messages.CHANNELS}else{t=J.Z.Messages.TEXT_CHANNELS_MATCHING;n=J.Z.Messages.TEXT_CHANNELS}return Tn({query:i,selectedIndex:o,autocompletes:r,onHover:l,onClick:u,titleWithQuery:t,titleWithoutQuery:n,Component:$e.Channel,getProps:function(e){return{channel:e,key:e.id,category:It.Z.getChannel(e.parent_id)}},getQuery:function(e){return c?"".concat(Q.zy).concat(Pn.xQ.VOICE_CHANNEL).concat(e):"".concat(Q.zy).concat(e)},key:"channels"})}},"onSelect",(function(e){var t=e.results.channels,n=e.index,r=e.options,o=t[n];r.insertText(function(e){var t=In.ZP.getTextChannelNameDisambiguations(e.guild_id)[e.id];return"#".concat(null!=t?t.name:e.name)}(o),function(e){return"<#".concat(e.id,">")}(o));return{
type:on.CHANNEL}}));var Zn=n(542206);const Rn=(0,qt.B)({kind:"user",id:"2022-11_command_query_pagination",label:"Command Query Pagination",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Enabled",config:{enabled:!0}}]});var Mn=n(763611);var Dn={results:{commands:[]}};function Ln(){(0,rt.nM)();return null}function kn(e){var t,n,i=e.query,a=e.onHover,l=e.onClick,u=e.channel,c=e.selectedIndex,s=o.useRef(null),f=o.useRef(!1);(0,rt.nM)();var d=rt.ZP.getQueryCommands(u.id,S.yU.CHAT,i),p=null!=(null===(n=null===(t=rt.ZP.channelStates.get(u.id))||void 0===t?void 0:t[S.yU.CHAT].queries.get(i))||void 0===n?void 0:n.scrollDownCursor);o.useEffect((function(){f.current=!1}),[d]);var h=rt.ZP.getApplicationSections(u.id,S.yU.CHAT),y=o.useCallback((function(e){var t,n=d[e],o=null!==(t=null==n?void 0:n.id)&&void 0!==t?t:e;if(null==n||n.inputType===A.iw.PLACEHOLDER)return(0,r.jsx)(ue,{},o);var i=h.find((function(e){return e.id===n.applicationId}));return(0,r.jsx)($e.NewCommand,{index:e,command:n,
channel:u,className:yt().itemWrapper,selected:c===e,showImage:!0,section:i,onClick:l,onHover:a},o)}),[u,d,h,l,a,c]);return(0,r.jsxs)(r.Fragment,{children:[Nn(J.Z.Messages.COMMANDS_MATCHING,J.Z.Messages.COMMANDS,i,(function(e){return"".concat(Q.GI).concat(e)})),(0,r.jsx)(et.Z,{ref:s,role:"listbox",className:yt().list,listPadding:[0,8,0,8],onScroll:function(e){if(!f.current&&p){if(56*d.length-e-s.current.getListDimensions().height<504){f.current=!0;(0,rt.nV)({commandType:S.yU.CHAT,context:{channel:u},query:i,limit:7})}}},renderRow:y,rowCount:d.length,rowHeight:56})]})}const Un=function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}({sentinel:Q.GI,stores:[g.Z,rt.ZP,yn.Z],matches:function(e,t,n,r,o){return o.commands!==tn.DISABLED&&null==g.Z.getActiveCommand(e.id)},queryResults:function(e,t,n,r,o){if(0===n.length&&r.commands!==tn.OLD_BUILT_INS)return Dn;var i={channel:e,guild:t};if(r.commands===tn.OLD_BUILT_INS){var a=(0,
Zn.Kh)(S.yU.CHAT,!1,!1),l=new RegExp("^".concat(Mn.Z.escape(n)),"i"),u=(0,Sn.Dd)(a,l,i,7);return 0===u.length?Dn:{results:{commands:u}}}var c=(0,X.hV)(e,n);o&&nt.YU(i,c.text,7,S.yU.CHAT);var s=rt.ZP.getQueryCommands(e.id,S.yU.CHAT,c.text);if(null==s)return Dn;if(s.length>0){if(c.hasSpaceTerminator){var f=c.text.trim(),d=f+" ";s=s.filter((function(e){return e.name===f||e.name.startsWith(d)}))}return{results:{commands:s}}}return Dn},renderResults:function(e){var t=e.results.commands,n=e.selectedIndex,o=e.channel,i=e.query,a=e.options,l=e.onHover,u=e.onClick,c=(0,X.hV)(o,i);if(Rn.getCurrentConfig({}).enabled)return(0,r.jsx)(kn,{channel:o,query:c.text,selectedIndex:n,onHover:l,onClick:u});var s=rt.ZP.getApplicationSections(o.id,S.yU.CHAT);return Tn({query:c.text,selectedIndex:n,autocompletes:t,onHover:l,onClick:u,titleWithQuery:J.Z.Messages.COMMANDS_MATCHING,titleWithoutQuery:J.Z.Messages.COMMANDS,getQuery:function(e){return"".concat(Q.GI).concat(e)},
Component:a.commands===tn.OLD_BUILT_INS?$e.Command:$e.NewCommand,getProps:function(e){return{key:e.id,command:e,channel:o,guildId:o.guild_id,showImage:!0,section:null==s?void 0:s.find((function(t){return t.id===e.applicationId}))}},key:"commands",footer:(0,r.jsx)(Ln,{})})}},"onSelect",(function(e){var t=e.results.commands,n=e.index,r=e.options,o=e.channel,i=e.location,a=t[n];if(a.inputType===A.iw.PLACEHOLDER)return null;if(r.commands===tn.OLD_BUILT_INS)r.insertText(function(e){return"".concat(Q.GI).concat(e.name)}(a));else{var l,u,c=null!==(u=null===(l=rt.ZP.getApplicationSections(o.id,S.yU.CHAT))||void 0===l?void 0:l.find((function(e){return e.id===a.applicationId})))&&void 0!==u?u:null;nt.Po(o.id,a,c,i)}return{type:on.COMMAND}}));var Gn=n(820294),Hn=n(448450),Bn=n(158111),Vn=n.n(Bn);var Fn={results:{choices:[]}},Wn={results:{choices:[],isLoading:!0}},Yn=Array.from({length:5},(function(){return{name:"",displayName:"",value:""}})),zn={results:{choices:[],isError:!0}
},Kn=E().debounce(Hn.Z,500,{leading:!0,trailing:!0}),qn=function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}({stores:[g.Z,Gn.Z],showEmpty:!0,matches:function(e,t,n,r,o){var i=g.Z.getActiveOption(e.id);return null!=i&&(i.type===S.jw.BOOLEAN||!!(null==i?void 0:i.autocomplete)||null!=(null==i?void 0:i.choices)&&i.choices.length>0)},queryResults:function(e,t,n,r,o){var i,a=g.Z.getActiveOption(e.id);if(null==a)return Fn;if(a.autocomplete){if(o){var l=g.Z.getActiveCommand(e.id),u=r.getCommandOptionValues();Kn(l,u,{channel:e,guild:t,autocomplete:{name:a.name,query:n}})}if(Gn.Z.getLastErrored(e.id))return zn;var c=Gn.Z.getAutocompleteChoices(e.id,a.name,n);return null==c?Wn:{results:{choices:c}}}return{results:_n.ZP.queryChoiceResults({query:n,choices:a.type===S.jw.BOOLEAN?pt.ak:null!==(i=a.choices)&&void 0!==i?i:[]})}},renderResults:function(e){
var t=e.results,n=t.choices,o=t.isLoading,i=t.isError,a=e.selectedIndex,l=e.query,u=e.onHover,c=e.onClick;return i?(0,r.jsx)(j.Z,{message:J.Z.Messages.APPLICATION_COMMAND_AUTOCOMPLETE_FAILED,noResultsImageURL:vt(),className:Vn().noAutocompleteResults}):0!==n.length||o?Tn({query:l,selectedIndex:a,autocompletes:o?Yn:n,onHover:u,onClick:c,titleWithQuery:J.Z.Messages.OPTIONS_MATCHING,titleWithoutQuery:J.Z.Messages.OPTIONS,Component:o?$e.Loading:$e.Generic,getProps:function(e,t){return{key:t.toString(),text:e.displayName}},getQuery:function(e){return e},key:"choice"}):(0,r.jsx)(j.Z,{message:J.Z.Messages.APPLICATION_COMMAND_AUTOCOMPLETE_NO_OPTIONS,noResultsImageURL:vt(),className:Vn().noAutocompleteResults})}},"onSelect",(function(e){var t=e.results.choices,n=e.index,r=e.options,o=t[n];r.insertText(function(e){return e.displayName}(o));return{type:on.CHOICE}}));const Xn=qn;var Qn={results:{commandOptions:[]}};const Jn=function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,
configurable:!0,writable:!0}):e[t]=n;return e}({stores:[g.Z],focusMode:an.AUTO_WHEN_FILTERED,matches:function(e,t,n,r,o){return!(r||null==g.Z.getActiveCommand(e.id)||null!=g.Z.getActiveOption(e.id))},queryResults:function(e,t,n,r,o){var i=g.Z.getActiveCommand(e.id);if(null==(null==i?void 0:i.options))return Qn;var a=g.Z.getOptionStates(e.id),l=i.options.filter((function(e){var t;return e.displayName.startsWith(n)&&!(null===(t=a[e.name])||void 0===t?void 0:t.hasValue)}));return 0===l.length?Qn:{results:{commandOptions:l}}},renderResults:function(e){var t=e.results.commandOptions,n=e.selectedIndex,o=e.query,i=e.onHover,a=e.onClick,l=[],u=[];t.forEach((function(e){(e.required?l:u).push(e)}));var c=l.length>0?Tn({query:o,selectedIndex:n,autocompletes:l,onHover:i,onClick:a,titleWithQuery:J.Z.Messages.REQUIRED_OPTIONS_MATCHING,titleWithoutQuery:J.Z.Messages.REQUIRED_OPTIONS,Component:$e.Generic,getProps:function(e,t){return{key:t.toString(),text:e.displayName,description:e.displayDescription
}},getQuery:function(e){return e},key:"required-options"}):null,s=u.length>0?Tn({query:o,selectedIndex:n,autocompletes:u,onHover:i,onClick:a,titleWithQuery:J.Z.Messages.OPTIONS_MATCHING,titleWithoutQuery:l.length>0?J.Z.Messages.OTHER_OPTIONS:J.Z.Messages.OPTIONS,Component:$e.Generic,getProps:function(e,t){return{key:t.toString(),text:e.displayName,description:e.displayDescription}},getQuery:function(e){return e},key:"optional-options",indexOffset:l.length}):null;return(0,r.jsxs)(r.Fragment,{children:[c,s]})}},"onSelect",(function(e){var t=e.results.commandOptions,n=e.index,r=e.options,o=t[n];r.insertText("".concat(o.displayName,":"));return{type:on.COMMAND_OPTION}}));var $n=n(661311),er=n(942604),tr=(0,qt.B)({kind:"user",id:"2021-03_nitro_emoji_autocomplete_upsell",label:"Emoji Autocomplete Upsell",defaultConfig:{emojiAutocompleteUpsellEnabled:!1},treatments:[{id:1,label:"Show emoji autocomplete upsell",config:{emojiAutocompleteUpsellEnabled:!0}}]});const nr=tr;(0,qt.B)({kind:"user",
id:"2021-04_nitro_emoji_autocomplete_upsell_ios",label:"Emoji Autocomplete Upsell iOS",defaultConfig:{emojiAutocompleteUpsellEnabled:!1},treatments:[{id:1,label:"Show emoji autocomplete upsell",config:{emojiAutocompleteUpsellEnabled:!0}}]});var rr=n(517485),or=n.n(rr);function ir(e,t){return(0,r.jsx)(wn.ZP,{sticker:e,isInteracting:t,size:40})}const ar=function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}({sentinel:Q.Iv,stores:[me.Z],matches:function(e,t,n,r,o){return n.length>1},queryResults:function(e,t,n,r,o){var i=nr.getCurrentConfig({}).emojiAutocompleteUpsellEnabled,a=_n.ZP.queryEmojiResults({query:n,channel:e,intention:r.emojiIntention}).emojis,l=a.locked,u=a.unlocked;if("-"===n[0]){var c=function(e){var t;return null===(t=e.names)||void 0===t?void 0:t.includes(n)};l=l.filter(c);u=u.filter(c)}var s=[];if(r.allowStickers){(0,er.$p)();var f=_n.ZP.queryStickers([n],!0,[e,function(e,t){return t===$n.eb.SENDABLE
}]),d=Math.max(4,8-u.length);s=f.slice(0,d);"-"===n[0]&&(s=f.filter((function(e){return e.sticker.name===n})))}var p=u.slice(0,pe.rnv-s.length),h=p.length+s.length<pe.rnv&&l.length>0?[{emojis:l}]:[];h.length>0&&nr.trackExposure({});return{results:{emojis:p,emojisLocked:i?h:[],stickers:s},metadata:{numEmojiResults:p.length,numStickerResults:s.length}}},renderResults:function(e){var t=e.results,n=t.emojis,o=t.stickers,i=t.emojisLocked,a=e.selectedIndex,l=e.query,u=e.onHover,c=e.onClick;return(0,r.jsxs)(r.Fragment,{children:[Tn({query:l,selectedIndex:a,autocompletes:n,onHover:u,onClick:c,titleWithQuery:J.Z.Messages.EMOJI_MATCHING,titleWithoutQuery:J.Z.Messages.EMOJI,Component:$e.Emoji,getProps:function(e){return{emoji:e,key:e.id||e.uniqueName||e.name,sentinel:Q.Iv,guild:null!=e.guildId?Oe.Z.getGuild(e.guildId):null}},getQuery:function(e){return"".concat(Q.Iv).concat(e)},key:"emoji"}),i.length>0?Tn({query:l,selectedIndex:a,autocompletes:i,onHover:u,onClick:c,
titleWithQuery:0===n.length?J.Z.Messages.EMOJI_MATCHING:null,titleWithoutQuery:0===n.length?J.Z.Messages.EMOJI:null,Component:$e.EmojiUpsell,getProps:function(e){return{key:"emoji-upsell",emojis:e.emojis}},getQuery:function(e){return"".concat(Q.Iv).concat(e)},key:"emoji-upsell",indexOffset:n.length}):null,(n.length>0||i.length>0)&&o.length>0&&(0,r.jsx)($e.Divider,{className:or().emojiStickersDivider}),Tn({query:l,selectedIndex:a,autocompletes:o,onHover:u,onClick:c,titleWithQuery:J.Z.Messages.STICKERS_MATCHING,titleWithoutQuery:J.Z.Messages.STICKER,Component:$e.Sticker,getProps:function(e){var t=e.comparator,n=e.sticker;return{renderSticker:ir,queryMatch:t!==n.name.toLocaleLowerCase()?t:void 0,sticker:n,key:n.id}},getQuery:function(e){return e},key:"stickers",indexOffset:n.length+i.length,headerClassName:n.length>0?or().stickersHeaderWithEmojiResults:void 0})]})}},"onSelect",(function(e){var t=e.results,n=t.emojis,r=t.emojisLocked,o=t.stickers,i=e.index,a=e.options;if(i<n.length){
var l=n[i];a.insertText(function(e){return"".concat(Q.Iv).concat(e.name).concat(Q.Iv)}(l),function(e){var t,n=e.animated?"a":"";return e.managed||null==e.id?"".concat(Q.Iv).concat(e.name).concat(Q.Iv):"<".concat(n,":").concat(null!==(t=e.originalName)&&void 0!==t?t:e.name,":").concat(e.id,">")}(l));return{type:on.EMOJI,metadata:{emojiId:l.id,numEmojiResults:n.length,numStickerResults:o.length,expressionName:l.name,isCustom:null!=l.id,isAnimated:l.animated}}}if((i-=n.length)<r.length)return{type:null};if((i-=r.length)<o.length){var u=o[i];a.insertText("");a.sendSticker(u.sticker,vn.V0.AUTOCOMPLETE);return{type:on.STICKER,metadata:{numEmojiResults:n.length,numStickerResults:o.length,stickerId:u.sticker.id}}}return{type:null}}));var lr=n(675860);function ur(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cr(e){cr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return cr(e)}function sr(e,t){
return!t||"object"!==dr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function fr(e,t){fr=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return fr(e,t)}var dr=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function pr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=cr(e);if(t){var o=cr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return sr(this,n)}}var hr={},yr={integration:"",query:""};var br=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function")
;e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&fr(e,t)}(n,e);var t=pr(n);function n(){ur(this,n);return t.apply(this,arguments)}var r=n.prototype;r.getResults=function(e,t){if(null==e||null==t)return null;var n=hr[e];return null!=n&&null!=n[t]?n[t]:null};r.getQuery=function(){return yr};r.__getLocalVars=function(){return{results:hr,lastQuery:yr}};return n}(h.ZP.Store);br.displayName="IntegrationQueryStore";const vr=new br(Pt.Z,{INTEGRATION_QUERY:function(e){var t,n=e.integration,r=e.query;hr[n]=null!==(t=hr[n])&&void 0!==t?t:{};hr[n][r]={loading:!0,results:[]}},INTEGRATION_QUERY_SUCCESS:function(e){var t=e.integration,n=e.query,r=e.results;hr[t][n]={loading:!1,results:r.map((function(e){return{type:pe.nkL[t].type,meta:e}}))};yr={query:n,integration:t}},INTEGRATION_QUERY_FAILURE:function(e){var t=e.integration,n=e.query;delete hr[t][n]}}),mr=function(e,t){if(null==vr.getResults(e,t)){Pt.Z.dispatch({type:"INTEGRATION_QUERY",
integration:e,query:t});lr.Z.get({url:pe.ANM.INTEGRATION_SEARCH(pe.nkL[e].command),query:{q:t},oldFormErrors:!0}).then((function(n){Pt.Z.dispatch({type:"INTEGRATION_QUERY_SUCCESS",integration:e,query:t,results:n.body})}),(function(){return Pt.Z.dispatch({type:"INTEGRATION_QUERY_FAILURE",integration:e,query:t})}))}};var gr=n(487502),Or=n(82961),Er=n(624015),jr=n.n(Er);function Sr(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var Cr,Pr={results:{command:null,integrations:[],isLoading:!1}};function Ir(e,t,n){var r;if(n.commands===tn.OLD_BUILT_INS){r=t.split(" ")[0].substring(Q.GI.length);var o;t=t.substring((null!==(o=r.length)&&void 0!==o?o:0)+Q.GI.length)}else{var i;r=null===(i=g.Z.getActiveCommand(e.id))||void 0===i?void 0:i.name}return{command:r,query:t.trim()}}function _r(e){return e.meta.url}const wr=(Sr(Cr={stores:[g.Z,vr],matches:function(e,t,n,r,o){var i
;return o.commands!==tn.DISABLED&&(o.commands===tn.OLD_BUILT_INS?n.startsWith(Q.GI+"giphy")||n.startsWith(Q.GI+"tenor"):(null===(i=g.Z.getActiveCommand(e.id))||void 0===i?void 0:i.integrationType)===pe.q9n.GIF&&g.Z.getOptionStates(e.id).query.hasValue)},queryResults:function(e,t,n,r,o){var i=Ir(e,n,r),a=i.command,l=i.query;if(null==a)return Pr;var u=E().findKey(pe.nkL,(function(e){return e.command===a}));o&&null!=u&&l.length>0&&mr(u,l);var c=vr.getResults(u,l);return null==c?Pr:{results:{command:a,integrations:c.results,isLoading:c.loading}}}},"renderResults",(function(e){var t=e.results,n=t.integrations,i=t.isLoading,a=e.selectedIndex,l=e.channel,u=e.query,c=e.options,s=e.onHover,f=e.onClick,d=Ir(l,u,c),p=d.command,h=d.query;if(null==p||0===h.length)return null;if(i)return(0,r.jsx)(Or.Z,{className:jr().spinner,type:Or.Z.Type.SPINNING_CIRCLE});if(null!=n){var y,b,v=!1,m=n.map((function(e,t){if(e.type===pe.q9n.GIF){v=!0;var n,o,i;return(0,r.jsx)($e.GIFIntegration,{
className:jr().horizontalAutocomplete,onClick:f,onHover:s,selected:a===t,index:t,width:null!==(n=e.meta.width)&&void 0!==n?n:0,height:null!==(o=e.meta.height)&&void 0!==o?o:0,src:null!==(i=e.meta.src)&&void 0!==i?i:"",url:e.meta.url},"".concat(e.meta.url).concat(e.meta.src))}})),O=c.commands===tn.OLD_BUILT_INS?p:null!==(b=null===(y=g.Z.getActiveCommand(l.id))||void 0===y?void 0:y.integrationTitle)&&void 0!==b?b:p,E=h.length>0&&null!=O?J.Z.Messages.CONTENT_MATCHING.format({query:h,command:O}):null!=O?O:p;return(0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)($e.Title,{title:E}),v?(0,r.jsx)(gr.Z,{className:jr().horizontalAutocompletes,children:m}):m]},"gifs")}})),Sr(Cr,"onSelect",(function(e){var t=e.results,n=t.command,r=t.integrations,o=e.index,i=e.type,a=e.options,l=e.channel;if(null==n)return{type:null};var u=r[o];i===nn.INSERT?a.replaceText(_r(u)):a.sendMessage(_r(u));C.ZP.trackWithMetadata(pe.rMx.SEARCH_RESULT_SELECTED,{search_type:pe.aib.GIF,index_num:o,source_object:"/".concat(n)})
;if(a.commands!==tn.OLD_BUILT_INS){var c=g.Z.getActiveCommand(l.id);(null==c?void 0:c.inputType)===A.iw.BUILT_IN_INTEGRATION&&C.ZP.trackWithMetadata(pe.rMx.APPLICATION_COMMAND_USED,{command_id:c.id,application_id:c.applicationId,command_type:c.type})}return{type:on.GIF}})),Cr);var xr=n(106392),Nr=n(409271),Tr=n(570992),Ar=RegExp("^(?:(?:(?:[A-Za-z!$%?;+.=\\-~]{1,2})[@#>]{1,3})|(?:(?:[A-Za-z]{1,2})?(?:~|[!$%?;+.=-]{1,3})))[A-Za-z]","u"),Zr=RegExp("^<@!?(\\d+)>","u");function Rr(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Mr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Rr(e,t,n[t])}))}return e}function Dr(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Lr(e){var t=Ar.exec(e);if(null!=t)return{type:"prefix",cleanedQuery:e.substring(t[0].length).trim()};var n=Zr.exec(e);if(null!=n){var r=n[1],o=je.default.getUser(r);return null!=o&&o.bot?{type:"mention",cleanedQuery:e.substring(n[0].length).trim(),user:o}:null}return null}function kr(){(0,rt.nM)();return null}var Ur={results:{commands:[]}},Gr=Dr(Mr({},Un),{sentinel:void 0,focusMode:an.MANUAL,matches:function(e,t,n,r,o){if(o.commands===tn.DISABLED||o.commands===tn.OLD_BUILT_INS||n.length<2)return!1;var i=Lr(n);return null!=i&&i.cleanedQuery.length>0},
queryResults:function(e,t,n,r,o){var i=Lr(n);if(null==i)return Ur;var a={channel:e,guild:t},l=(0,X.hV)(e,i.cleanedQuery);o&&nt.YU(a,l.text,7,S.yU.CHAT,"mention"===i.type?i.user.id:void 0);var u=rt.ZP.getQueryCommands(e.id,S.yU.CHAT,l.text);if(null==u)return Ur;if(u.length>0&&l.hasSpaceTerminator){var c=l.text.trim(),s=c+" ";u=u.filter((function(e){return e.name===c||e.name.startsWith(s)}))}return 0===(u=u.filter((function(e){return e.inputType===A.iw.BOT}))).length?Ur:xr.Z.getCurrentConfig({},{autoTrackExposure:!0}).showApplicationCommandSuggestions&&Nr.Xk.getSetting()?{results:{commands:u}}:Ur},renderResults:function(e){var t=e.results.commands,n=e.selectedIndex,o=e.guild,i=e.channel,a=e.query,l=e.options,u=e.onHover,c=e.onClick,s=rt.ZP.getApplicationSections(i.id,S.yU.CHAT);return Tn({query:a,selectedIndex:n,autocompletes:t,onHover:u,onClick:c,titleWithQuery:J.Z.Messages.COMMANDS_MATCHING,titleWithoutQuery:J.Z.Messages.COMMANDS,
Component:l.commands===tn.OLD_BUILT_INS?$e.Command:$e.NewCommand,getProps:function(e){return{key:e.id,command:e,channel:i,guildId:i.guild_id,showImage:!0,section:null==s?void 0:s.find((function(t){return t.id===e.applicationId}))}},getQuery:function(e){var t=Lr(e);if("mention"!==t.type)return e;var n=Tr.Z.getName(null==o?void 0:o.id,i.id,t.user);return e.replace(Zr,"@".concat(n))},key:"commands",footer:(0,r.jsx)(kr,{})})},onSelect:function(e){var t=e.results,n=e.index,r=e.type,o=e.options,i=e.channel,a=Un.onSelect({results:t,index:n,type:r,options:o,channel:i,location:A.Vh.SUGGESTION});return null==a?null:Dr(Mr({},a),{type:on.COMMAND_SUGGESTION})}});const Hr=Gr;const Br=function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}({sentinel:Q.ME,matches:function(e,t,n,r,o){return o.mentions.user!==Jt.DENY||o.mentions.role!==$t.DENY||o.mentions.global!==Qt.DENY},queryResults:function(e,t,n,r,o){
var i=r.mentions.global===Qt.ALLOW_EVERYONE||r.mentions.global===Qt.ALLOW_EVERYONE_OR_HERE,a=r.mentions.global===Qt.ALLOW_EVERYONE_OR_HERE,l=r.mentions.user!==Jt.DENY,u=r.mentions.role!==$t.DENY,c=r.mentions.user===Jt.ALLOW_GUILD,s=r.mentions.role===$t.ALLOW_ALL;return{results:_n.ZP.queryMentionResults({query:n,channel:e,canMentionEveryone:i,canMentionHere:a,canMentionUsers:l,canMentionRoles:u,includeAllGuildUsers:c,includeNonMentionableRoles:s})}},renderResults:function(e){var t,n,i=e.results,a=i.users,l=i.globals,u=i.roles,c=e.selectedIndex,s=e.channel,f=e.query,d=e.options,p=e.onHover,h=e.onClick,y=a.map((function(e,t){return(0,r.jsx)($e.User,{guildId:s.guild_id,onClick:h,onHover:p,selected:c===t,index:t,user:e.user,nick:e.nick,status:e.status,hidePersonalInformation:d.hidePersonalInformation},e.user.id)})),b=l.map((function(e,t){return(0,r.jsx)($e.Generic,{onClick:h,onHover:p,selected:c===t+a.length,index:a.length+t,text:e.text,
description:d.hideMentionDescription?null:e.description,"aria-label":e.text},e.text)})),v=u.map((function(e,t){return(0,r.jsx)($e.Role,{onClick:h,onHover:p,selected:c===t+a.length+l.length,index:a.length+l.length+t,role:e,hideDescription:d.hideMentionDescription},e.id)}));if(d.mentions.user===Jt.DENY){t=J.Z.Messages.ROLES_MATCHING;n=J.Z.Messages.ROLES}else{t=J.Z.Messages.MEMBERS_MATCHING;n=J.Z.Messages.MEMBERS}return(0,r.jsxs)(o.Fragment,{children:[Nn(t,n,f,(function(e){return"".concat(Q.ME).concat(e)})),y,a.length>0&&l.length>0?(0,r.jsx)($e.Divider,{}):null,b,a.length>0&&u.length>0||l.length>0&&u.length>0?(0,r.jsx)($e.Divider,{}):null,v]},"mentions")}},"onSelect",(function(e){var t=e.results,n=t.users,r=t.globals,o=t.roles,i=e.index,a=e.options,l=n[i],u=r[i-n.length],c=o[i-n.length-r.length];null!=l?a.insertText(function(e,t){return t?"".concat(Q.ME).concat(e.username):"".concat(Q.ME).concat(e.tag)}(l.user,a.hidePersonalInformation),function(e){return"<@".concat(e.id,">")
}(l.user)):null!=u?a.insertText(function(e){return e.text}(u)):null!=c&&a.insertText(function(e){return"".concat(Q.ME).concat(e.name)}(c),function(e){return"<@&".concat(e.id,">")}(c));return{type:on.MENTION}}));const Vr=function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}({sentinel:Q.a4,matches:function(e,t,n,r,o){var i,a;return r&&null!==(a=null===(i=o.chatInputType.autocomplete)||void 0===i?void 0:i.addReactionShortcut)&&void 0!==a&&a&&(yn.Z.can(pe.Plq.ADD_REACTIONS,e)||e.isPrivate())},queryResults:function(e,t,n,r,o){return{results:{emojis:_n.ZP.queryEmojiResults({query:n,channel:e,intention:pe.HzX.REACTION}).emojis.unlocked}}},renderResults:function(e){var t=e.results.emojis,n=e.selectedIndex;return Tn({query:e.query,selectedIndex:n,autocompletes:t,onHover:e.onHover,onClick:e.onClick,titleWithQuery:J.Z.Messages.REACTIONS_MATCHING,titleWithoutQuery:J.Z.Messages.EMOJI,Component:$e.Emoji,getProps:function(e){return{
emoji:e,key:e.id||e.uniqueName||e.name,sentinel:Q.Iv}},getQuery:function(e){return"".concat(Q.a4).concat(e)},key:"reactions"})}},"onSelect",(function(e){var t=e.results.emojis,n=e.index,r=e.options,o=t[n];r.sendMessage(function(e){return"".concat(Q.a4).concat(e.name).concat(Q.jp)}(o));return{type:on.REACTION}}));function Fr(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var Wr,Yr=[rn.CHOICES,rn.GIFS,rn.COMMAND_OPTIONS,rn.EMOJIS_AND_STICKERS,rn.REACTIONS,rn.CHANNELS,rn.MENTIONS,rn.COMMANDS,rn.LEGACY_COMMANDS],zr=(Fr(Wr={},rn.CHANNELS,An),Fr(Wr,rn.COMMANDS,Un),Fr(Wr,rn.COMMAND_OPTIONS,Jn),Fr(Wr,rn.CHOICES,Xn),Fr(Wr,rn.EMOJIS_AND_STICKERS,ar),Fr(Wr,rn.GIFS,wr),Fr(Wr,rn.LEGACY_COMMANDS,Hr),Fr(Wr,rn.MENTIONS,Br),Fr(Wr,rn.REACTIONS,Vr),Wr);function Kr(e){
var t,n=e.activeCommandOption,r=e.canMentionUsers,o=void 0===r||r,i=e.canMentionRoles,a=void 0===i||i,l=e.canMentionChannels,u=void 0===l||l,c=e.canMentionEveryone,s=e.useNewSlashCommands,f=e.canOnlyUseTextCommands,d=e.canSendStickers,p=e.hideMentionDescription,h=e.hidePersonalInformation,y=e.type,b=e.emojiIntention,v=e.editorRef,m=e.onSendMessage,g=e.onSendSticker,O=e.setValue,E={mentions:{channel:en.DENY,global:Qt.DENY,role:$t.DENY,user:Jt.DENY},commands:tn.DISABLED,allowStickers:!0===d,forNonStringCommandOption:null!=n&&n.type!==S.jw.STRING,hideMentionDescription:!0===p,hidePersonalInformation:!0===h,chatInputType:y,emojiIntention:b,sendMessage:m,sendSticker:g,insertText:function(e,t){var n;null===(n=v.current)||void 0===n||n.insertAutocomplete(e,null!=t?t:e)},replaceText:function(e,t){O(e,null!=t?t:(0,Cn.JM)(e))},getCommandOptionValues:function(){var e;return null===(e=v.current)||void 0===e?void 0:e.getCommandOptionValues()}};if(null!=n){var j=(0,Sn.$z)(n)
;j.canMentionChannels&&(E.mentions.channel=en.ALLOW_SELECTABLE);j.canMentionEveryone&&(E.mentions.global=j.canMentionHere?Qt.ALLOW_EVERYONE_OR_HERE:Qt.ALLOW_EVERYONE);j.canMentionRoles&&(E.mentions.role=j.canMentionNonMentionableRoles?$t.ALLOW_ALL:$t.ALLOW_MENTIONABLE);j.canMentionUsers&&(E.mentions.user=j.canMentionAnyGuildUser?Jt.ALLOW_GUILD:Jt.ALLOW_CHANNEL);E.hideMentionDescription=!0}else{u&&(E.mentions.channel=en.ALLOW_SELECTABLE);a&&(E.mentions.role=$t.ALLOW_MENTIONABLE);o&&(E.mentions.user=Jt.ALLOW_CHANNEL);c&&(E.mentions.global=Qt.ALLOW_EVERYONE_OR_HERE)}(null===(t=y.commands)||void 0===t?void 0:t.enabled)&&(E.commands=s?f?tn.NEW_TEXT_ONLY:tn.NEW:tn.OLD_BUILT_INS);null!=n&&null!=n.channelTypes&&(E.allowedChannelTypes=n.channelTypes);return E}function qr(e){var t=e.type,n=e.channel,r=e.guild,o=e.query,i=e.isAtStart,a=e.options,l=zr[t];if(null!=l.sentinel){if(!o.startsWith(l.sentinel))return!1;o=o.substring(l.sentinel.length)}return!(null!=l.matches&&!l.matches(n,r,o,i,a))}
function Xr(e){var t=e.channel,n=e.guild,r=e.options,o=e.currentWord,i=e.currentWordIsAtStart,a=e.textValue,l=e.optionText,u=null,c=!0,s=!1,f=void 0;try{for(var d,p=Yr[Symbol.iterator]();!(c=(d=p.next()).done);c=!0){var h=d.value,y=zr[h];if(h===rn.GIFS||h===rn.CHOICES){if(r.commands===tn.OLD_BUILT_INS){if(qr({type:h,channel:t,guild:n,query:a,isAtStart:!1,options:r})){u={type:h,typeInfo:y,query:a};break}}else if(qr({type:h,channel:t,guild:n,query:l,isAtStart:!1,options:r})){u={type:h,typeInfo:y,query:l};break}}else if(h===rn.COMMANDS&&r.commands!==tn.OLD_BUILT_INS){if(qr({type:h,channel:t,guild:n,query:a,isAtStart:!0,options:r})){var b,v;u={type:h,typeInfo:y,query:a.substring(null!==(v=null===(b=y.sentinel)||void 0===b?void 0:b.length)&&void 0!==v?v:0)};break}}else if(h===rn.LEGACY_COMMANDS){if(qr({type:h,channel:t,guild:n,query:a,isAtStart:i,options:r})){u={type:h,typeInfo:y,query:a};break}}else if(null!=o&&qr({type:h,channel:t,guild:n,query:o,isAtStart:i,options:r})){var m,g;u={
type:h,typeInfo:y,query:o.substring(null!==(g=null===(m=y.sentinel)||void 0===m?void 0:m.length)&&void 0!==g?g:0)};break}}}catch(e){s=!0;f=e}finally{try{c||null==p.return||p.return()}finally{if(s)throw f}}if(null==u)return null;u.query=u.query.toLocaleLowerCase();return u}function Qr(e,t){if(null==t||null==e)return null;var n;if(null!=e.choices||e.autocomplete)n=rn.CHOICES;else switch(e.type){case S.jw.BOOLEAN:n=rn.CHOICES;break;case S.jw.CHANNEL:n=rn.CHANNELS;break;case S.jw.ROLE:case S.jw.USER:case S.jw.MENTIONABLE:n=rn.MENTIONS;break;default:return null}return{type:n,typeInfo:zr[n],query:t}}function Jr(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function $r(e){$r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return $r(e)}function eo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Jr(e,t,n[t])}))}return e}function to(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function no(e,t){return!t||"object"!==oo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ro(e,t){ro=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return ro(e,t)}var oo=function(e){
return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function io(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=$r(e);if(t){var o=$r(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return no(this,n)}}var ao=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&ro(e,t)}(n,e);var t=io(n);function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var r;(r=t.call(this)).props=e;r.state={query:null,selectedIndex:null,isVisible:!1,didInitialQuery:!1};return r}
var r=n.prototype;r.updateProps=function(e){var t=this.props.focused!==e.focused,n=this.props.channel.id!==e.channel.id||this.props.activeCommandOption!==e.activeCommandOption,r=!this.state.didInitialQuery||this.props.currentWord!==e.currentWord||this.props.currentWordIsAtStart!==e.currentWordIsAtStart||this.props.textValue!==e.textValue||this.props.optionText!==e.optionText;this.props=e;if(n||r){this.updateResults(r,n);this.state.didInitialQuery||(this.state=to(eo({},this.state),{didInitialQuery:!0}))}else if(t){var o=this.state.query;this.setState({isVisible:null!=o&&this.shouldShow(o.resultCount,o.isLoading,o.typeInfo)})}};r.setSelectedIndex=function(e){this.setState({selectedIndex:e})};r.onTabOrEnter=function(e){if(!this.state.isVisible)return!1;if(null==this.state.selectedIndex){var t,n=null===(t=this.state.query)||void 0===t?void 0:t.typeInfo.focusMode;if(!e&&(n===an.MANUAL||n===an.AUTO_WHEN_FILTERED)){this.setSelectedIndex(0);return!0}return!1}
return this.selectResult(this.state.selectedIndex,e)};r.onMoveSelection=function(e){var t;if(!this.state.isVisible)return!1;e<0?this.props.navigator.focusPreviousItem():e>0&&this.props.navigator.focusNextItem();if(null!=this.state.selectedIndex&&(null===(t=this.state.query)||void 0===t?void 0:t.type)===rn.COMMANDS){var n,r=null===(n=this.state.query.results.commands)||void 0===n?void 0:n[this.state.selectedIndex];null!=r&&nt.Sg(this.props.channel.id,r.id)}return!0};r.onMaybeShowAutocomplete=function(){this.emit("update")};r.onHideAutocomplete=function(){null!=this.state.query&&this.setState({isVisible:!1})};r.onResultHover=function(e){this.props.navigator.setFocus(null);this.setSelectedIndex(null)};r.onResultClick=function(e){this.selectResult(e,!0)};r.clearQuery=function(){this.setState({query:null,isVisible:!1,selectedIndex:null})};r.queryResults=function(){this.updateResults()};r.isVisible=function(){return this.state.isVisible};r.updateResults=function(){
var e,t,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null!=this.props.editorRef.current){var o=Kr(this.props),i=Xr({channel:this.props.channel,guild:this.props.guild,options:o,currentWord:this.props.currentWord,currentWordIsAtStart:this.props.currentWordIsAtStart,textValue:this.props.textValue,optionText:this.props.optionText}),a=o.commands!==tn.DISABLED?Qr(this.props.activeCommandOption,this.props.currentWord):null;if(null==i&&null!=a)i=a;else if(null==i||null!=a&&i.type!==a.type){this.clearQuery();return}var l=i.type,u=i.typeInfo,c=i.query,s=r||n&&((null===(e=this.state.query)||void 0===e?void 0:e.queryText)!==c||(null===(t=this.state.query)||void 0===t?void 0:t.typeInfo)!==u),f=u.queryResults(this.props.channel,this.props.guild,c,o,s),d=f.results,p=f.metadata,h=0,y=!0,b=!1,v=void 0;try{for(var m,g=Object.values(d)[Symbol.iterator]();!(y=(m=g.next()).done);y=!0){var O=m.value;Array.isArray(O)&&(h+=O.length)}
}catch(e){b=!0;v=e}finally{try{y||null==g.return||g.return()}finally{if(b)throw v}}var E=!0===d.isLoading,j=this.shouldShow(h,E,u),S=this.state.selectedIndex;!j||E?S=null:null!=S&&S>=h&&(S=h-1);j&&!this.state.isVisible&&En(l,this.props.channel,p);this.setState({query:{type:l,typeInfo:u,queryText:c,results:d,resultCount:h,options:o,isLoading:E},isVisible:j,selectedIndex:S})}};r.shouldShow=function(e,t,n){return this.props.focused&&null==this.props.expressionPickerView&&(e>0||t||n.showEmpty)};r.selectResult=function(e,t){var n;if(!this.state.isVisible)return!1;var r=this.state.query,o=r.type,i=r.typeInfo,a=r.results,l=r.resultCount,u=r.options;if(e>=l)return!1;var c=null===(n=i.onSelect)||void 0===n?void 0:n.call(i,{results:a,index:e,type:t?nn.SEND:nn.INSERT,options:u,channel:this.props.channel});if(null!=c){var s;!function(e,t,n,r){var o,i,a,l,u;de.default.track(pe.rMx.CHANNEL_AUTOCOMPLETE_SELECTED,On(gn({},(0,C.v_)(n),(0,C.hH)(n.guild_id)),{autocomplete_type:e,selection_type:t,
emoji_id:null==r?void 0:r.emojiId,sticker_id:null==r?void 0:r.stickerId,num_emoji_results:null!==(o=null==r?void 0:r.numEmojiResults)&&void 0!==o?o:0,num_sticker_results:null!==(i=null==r?void 0:r.numStickerResults)&&void 0!==i?i:0,emoji_name:null!==(a=null==r?void 0:r.expressionName)&&void 0!==a?a:"",is_custom:null!==(l=null==r?void 0:r.isCustom)&&void 0!==l&&l,is_animated:null!==(u=null==r?void 0:r.isAnimated)&&void 0!==u&&u}))}(o,null!==(s=c.type)&&void 0!==s?s:null,this.props.channel,c.metadata);this.clearQuery()}return!0};r.setState=function(e){for(var t in e)if(e[t]!==this.state[t]){this.state=eo({},this.state,e);this.emit("change",this.state);return}};return n}(u()),lo=n(666164),uo=n(705475);function co(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function so(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function fo(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function po(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return co(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return co(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ho(e,t,n){var r,i,a,l,u,c=e.channel,s=e.type,f=po(o.useState((function(){return{query:null,selectedIndex:null,isVisible:!1,didInitialQuery:!1}})),2),d=f[0],p=f[1],y=(0,dn.Z)(),b=(0,h.e7)([_t.ZP,je.default],(function(){var e,t,n=je.default.getCurrentUser();return null!==(t=null!=c.guild_id&&null!=n?null===(e=_t.ZP.getMember(c.guild_id,n.id))||void 0===e?void 0:e.isPending:null)&&void 0!==t&&t})),v=(0,h.cj)([yn.Z,bn.Z],(function(){return{canMentionEveryone:c.isPrivate()||b||s===hn.I.RULES_INPUT||yn.Z.can(pe.Plq.MENTION_EVERYONE,c),hidePersonalInformation:bn.Z.hidePersonalInformation}}),[c,s,b]),m=v.canMentionEveryone,O=v.hidePersonalInformation,E=(0,
h.cj)([g.Z],(function(){return{activeCommand:g.Z.getActiveCommand(c.id),activeCommandOption:g.Z.getActiveOption(c.id)}})),j=E.activeCommand,S=E.activeCommandOption,C=function(e){var t,n,r,i=e.navId,a=e.scrollerRef,l=e.state,u=e.onFocus,c=o.useContext(ln.ZP).renderWindow,s=function(e,t){var n;null===(n=a.current)||void 0===n||n.scrollToTop();if(e&&null!=l.query){var r=l.query.typeInfo.focusMode,o=!(r===an.MANUAL||r===an.AUTO_WHEN_FILTERED&&0===l.query.queryText.length);if(!l.isVisible||!0===t&&!1===o){d.setFocus(null);null==u||u(null)}else{d.setFocus("0");null==u||u(0)}}},f=function(e){var t;null===(t=a.current)||void 0===t||t.scrollToBottom();if(e&&null!=l.query&&l.query.resultCount>0){var n=l.query.resultCount-1;d.setFocus(n.toString());null==u||u(n)}},d=(0,lo.ZP)({id:i,isEnabled:l.isVisible,orientation:uo.hy.VERTICAL,useVirtualFocus:!0,setFocus:function(e,t){var n=c.document.querySelector(e);if(null!=n){var r;null===(r=a.current)||void 0===r||r.scrollIntoViewNode({node:n})}
null==u||u(+t)},onNavigateNextAtEnd:function(){return s(!0)},onNavigatePreviousAtStart:function(){return f(!0)},scrollToStart:function(){s(!1,!1);return Promise.resolve()},scrollToEnd:function(){f(!1);return Promise.resolve()}});o.useEffect((function(){s(!0,!0)}),[null===(t=l.query)||void 0===t?void 0:t.type,null===(n=l.query)||void 0===n?void 0:n.queryText,null===(r=l.query)||void 0===r?void 0:r.isLoading,l.isVisible]);return d}({navId:"channel-autocomplete",scrollerRef:n,state:d,onFocus:function(e){return _.setSelectedIndex(e)}}),P=null===(r=e.editorRef.current)||void 0===r?void 0:r.getCurrentWord(),I=fo(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){so(e,t,n[t])}))}return e}({},e),{navigator:C,activeCommand:j,activeCommandOption:S,
canMentionUsers:s!==hn.I.RULES_INPUT,canMentionEveryone:m,hidePersonalInformation:O,hideMentionDescription:s===hn.I.RULES_INPUT,emojiIntention:s===hn.I.RULES_INPUT?pe.HzX.COMMUNITY_CONTENT:pe.HzX.CHAT,currentWord:null!==(l=null==P?void 0:P.word)&&void 0!==l?l:"",currentWordIsAtStart:!0===(null==P?void 0:P.isAtStart),optionText:null!=S?(0,pn.KF)(so({},S.name,null!==(u=null===(i=e.editorRef.current)||void 0===i?void 0:i.getCurrentCommandOptionValue())&&void 0!==u?u:[]),S.name):""}),_=po(o.useState((function(){return new ao(I)})),1)[0];o.useEffect((function(){_.updateProps(I)}));o.useImperativeHandle(t,(function(){return _}),[_]);o.useEffect((function(){var e=function(e){return p(e)};_.on("change",e);_.on("update",y);return function(){_.off("change",e);_.off("update",y)}}),[y,_]);o.useEffect((function(){var e,t=null===(e=d.query)||void 0===e?void 0:e.typeInfo.stores;if(null!=t){var n=function(){return _.queryResults()},r=!0,o=!1,i=void 0;try{
for(var a,l=t[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){a.value.addChangeListener(n)}}catch(e){o=!0;i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return function(){var e=!0,r=!1,o=void 0;try{for(var i,a=t[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){i.value.removeChangeListener(n)}}catch(e){r=!0;o=e}finally{try{e||null==a.return||a.return()}finally{if(r)throw o}}}}}),[_,null===(a=d.query)||void 0===a?void 0:a.typeInfo]);return[d,_,C]}var yo=n(907149),bo=n.n(yo);function vo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function mo(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function go(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){
return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){mo(e,t,n[t])}))}return e}function Oo(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Eo(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function jo(e,t){return function(e){
if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return vo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vo(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const So=o.forwardRef((function(e,t){var n,i,l=e.channel,u=e.type,c=e.editorHeight,s=e.onVisibilityChange,f=(0,tt.Dt)(),d=(0,h.e7)([Oe.Z],(function(){
return null!==(i=Oe.Z.getGuild(l.guild_id))&&void 0!==i?i:null}),[l.guild_id]),p=o.useRef(),y=jo(ho(Oo(go({},e),{guild:d}),t,p),3),b=y[0],v=y[1],m=y[2],g=(null===(n=u.autocomplete)||void 0===n?void 0:n.forceChatLayer)?zt.ZP:Yt.ZP,O=Le(b.selectedIndex);w(f,b.isVisible,O);Xt.trackExposure({});var E,j=Xt.useExperiment({}).usePopoutAutocomplete,S=sn({editorHeight:c,type:u,state:b,isInPopoutExperiment:j}),C=o.useMemo((function(){return null==S?"":String(Date.now())}),[null==S?void 0:S.top,null==S?void 0:S.left,null==S?void 0:S.bottom,null==S?void 0:S.right]);o.useEffect((function(){s(b.isVisible)}),[s,b.isVisible]);if(!b.isVisible||null==b.query||void 0===S)return null;var P,I=null!==(E=b.query.typeInfo.renderResults({results:b.query.results,selectedIndex:b.selectedIndex,channel:l,guild:d,query:b.query.queryText,options:b.query.options,onHover:function(e){return v.onResultHover(e)},onClick:function(e){return v.onResultClick(e)}}))&&void 0!==E?E:null;if(null==I)return null
;var _=(mo(P={},bo().autocompleteAttached,null==S),mo(P,bo().autocompletePopout,null!=S),mo(P,bo().bottom,null==S&&e.position===Wt.vK.BOTTOM),P),x=490;if(null!=S){var N,A;x=(null===(N=u.autocomplete)||void 0===N?void 0:N.small)?200:(null===(A=b.query)||void 0===A?void 0:A.type)===rn.EMOJIS_AND_STICKERS?490:245}var Z=(0,r.jsx)($e,{id:f,className:a()(bo().autocomplete,_),innerClassName:bo().autocompleteInner,onMouseDown:function(e){return e.preventDefault()},children:(0,r.jsx)(T.bG,{navigator:m,children:(0,r.jsx)(T.SJ,{children:function(e){var t=e.ref,n=Eo(e,["ref"]);return(0,r.jsx)(Kt.ZP,Oo(go({id:f,ref:function(e){var n;t.current=null!==(n=null==e?void 0:e.getScrollerNode())&&void 0!==n?n:null;p.current=e}},n),{className:bo().scroller,style:{maxHeight:x},role:"listbox","aria-labelledby":ke(f),children:I}))}})})});if(null!=S){var R;return(0,r.jsx)(g,{children:(0,r.jsx)(Wt.ZP,{reference:function(){return S},positionKey:C,position:null!==(R=e.position)&&void 0!==R?R:Wt.vK.TOP,
align:Wt.xM.LEFT,spacing:8,autoInvert:!0,nudgeAlignIntoViewport:!0,children:function(){return Z}})})}return Z}));function Co(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Po(e){Po=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Po(e)}function Io(e,t){return!t||"object"!==wo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _o(e,t){_o=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return _o(e,t)}var wo=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function xo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1
}}();return function(){var n,r=Po(e);if(t){var o=Po(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Io(this,n)}}var No=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&_o(e,t)}(n,e);var t=xo(n);function n(){Co(this,n);return t.apply(this,arguments)}var r=n.prototype;r.on=function(){0;return this};r.once=function(){0;return this};r.addListener=function(){0;return this};r.removeListener=function(){0;return this};r.emit=function(){0;return!1};return n}(u()),To=o.createContext(new No),Ao=To.Provider;To.Consumer;const Zo=To
;var Ro=n(606076),Mo=n(388721),Do=n(830395),Lo=n(239396),ko=n(980306),Uo=n(536989),Go=n(775718),Ho=n(543532),Bo=n(23279),Vo=n.n(Bo),Fo=n(842592),Wo=n(992735),Yo=n(324920),zo=n(897576),Ko=n(912551),qo=n(832893),Xo=n(214012),Qo=n(587520),Jo=n(796165),$o=n(115675),ei=n(559675),ti=n(732031),ni=n(415397),ri=n(706594),oi=n(80660),ii=n.n(oi),ai=n(718076),li=n.n(ai);function ui(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ci(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function si(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){ci(e,t,n[t])}))}return e}function fi(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function di(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ui(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ui(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var pi=(0,Ko.Mg)(li().stickerCategoryListPadding),hi=(0,Ko.Mg)(li().stickerCategoryIconSize),yi=(0,Ko.Mg)(li().stickerCategoryIconMargin),bi=(0,Ko.Mg)(li().stickerCategoryUnicodeIconSize),vi=(0,Ko.Mg)(li().categorySeparatorSize),mi=(0,Ko.Mg)(li().categorySeparatorMarginVertical),gi=[pi,pi,pi,pi],Oi=2*(hi+yi)+pi,Ei=vi+2*mi;const ji=function(e){var t=e.stickersListRef,n=e.channel,i=o.useRef(null),l=di(o.useState(!0),2),u=l[0],c=l[1],s=(0,qo.oH)((function(e){return e.activeCategoryIndex})),f=o.useCallback((function(e){var n=Wo.Iu.getState().searchQuery;(0,qo.oi)(e);if(""!==n)(0,Wo.ql)("");else{var r;null===(r=t.current)||void 0===r||r.scrollToSectionTop(e)}}),[t]),d=(0,
Ho.Sd)(n),p=o.useMemo((function(){var e,t=d.filter((function(e){return e.type===vn.Ih.GUILD})).length,n=t+((null===(e=d[0])||void 0===e?void 0:e.type)===vn.Ih.RECENT?1:0);return{firstStandardStickerCategoryIndex:n+1,firstStandardStickerCategoryOffsetTop:n*(hi+yi)-yi+Ei,guildCategoryCount:t,hasPremiumStickerPacks:null!=d.find((function(e){return e.type===vn.Ih.PACK}))}}),[d]),h=p.firstStandardStickerCategoryIndex,y=p.firstStandardStickerCategoryOffsetTop,b=p.guildCategoryCount,v=p.hasPremiumStickerPacks;o.useLayoutEffect((function(){c(b>=7)}),[b]);var m=function(e){var t=e.activeIndex,n=e.handleCategorySelect,i=e.stickerPickerCategories,l=e.categoryListRef,u=e.firstStandardStickerCategoryOffsetTop,c=e.setShouldRenderShortcut,s=(0,Fo.O)(),f=(0,Wo.Iu)((function(e){return""!==e.searchQuery})),d=o.useCallback((function(e){var l,u,c=(null===(l=i[0])||void 0===l?void 0:l.type)===vn.Ih.FAVORITE,d=c?1:0,p=(null===(u=i[d])||void 0===u?void 0:u.type)===vn.Ih.RECENT,h=i.length>0,y=i.length
;if(0===e&&c){var b;return(0,r.jsx)("div",{role:"listitem","aria-setsize":y,"aria-posinset":e,children:(0,r.jsx)(W.Z,{"aria-label":J.Z.Messages.CATEGORY_FAVORITE,className:a()(ii().stickerCategory,ii().stickerCategoryGeneric,(b={},ci(b,ii().stickerCategoryGenericDisabled,h&&!c),ci(b,ii().stickerCategoryGenericSelected,!f&&c&&0===t),b)),onClick:function(){n(0)},children:(0,r.jsx)(ni.Z,{className:ii().stickerCategoryGenericIcon,height:bi,width:bi})})},"favorites")}if(e===d&&p){var v;return(0,r.jsx)("div",{role:"listitem","aria-setsize":y,"aria-posinset":e,children:(0,r.jsx)(W.Z,{"aria-label":J.Z.Messages.STICKER_PICKER_CATEGORIES_RECENT,className:a()(ii().stickerCategory,ii().stickerCategoryGeneric,(v={},ci(v,ii().stickerCategoryGenericDisabled,h&&!p),ci(v,ii().stickerCategoryGenericSelected,!f&&p&&t===d),v)),onClick:function(){n(d)},children:(0,r.jsx)(ei.Z,{className:ii().stickerCategoryGenericIcon,height:bi,width:bi})})},"recent")}
var m,g=t===e,O=i[e],E=i[e+1],j=null!=E&&O.type===vn.Ih.GUILD&&E.type!==vn.Ih.GUILD,S=O.type===vn.Ih.PACK,C="",P=null;if(O.type===vn.Ih.GUILD||O.type===vn.Ih.EMPTY_GUILD_UPSELL){var I=Oe.Z.getGuild(O.id);if(null!=I){m=I.id;C=I.name;P=(0,r.jsx)($o.Z,{guild:I,isSelected:g})}}else if(S){var _=me.Z.getStickerPack(O.id);if(null!=_){C=_.name;P=(0,r.jsx)(wn.ZP,{disableAnimation:!g||f,size:hi,sticker:(0,ge.Zt)(_)})}}return(0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)(V.ZP,{position:V.ZP.Positions.RIGHT,text:C,tooltipContentClassName:ii().tooltip,children:function(t){var o;return(0,r.jsx)("div",{role:"listitem","aria-setsize":y,"aria-posinset":e,children:(0,r.jsx)(W.Z,fi(si({},t),{"aria-label":C,className:a()(ii().stickerCategory,(o={},ci(o,ii().premiumCategory,S),ci(o,ii().premiumCategorySelected,!f&&g&&S),o)),onClick:function(){O.type===vn.Ih.PACK&&de.default.track(pe.rMx.EXPRESSION_PICKER_CATEGORY_SELECTED,{location:null==s?void 0:s.location,tab:ri.X1.STICKER,sticker_pack_id:O.id,guild_id:m})
;n(e)},children:P}))})}}),j?(0,r.jsx)("hr",{className:ii().guildCategorySeparator},"separator"):null]},O.id)}),[t,s,n,f,i]);return{getScrollOffsetForIndex:o.useCallback((function(e,t){return t?Oi:0}),[]),renderCategoryListItem:d,rowHeight:o.useCallback((function(e){var t=i[e],n=i[e+1],r=null!=n&&t.type===vn.Ih.GUILD&&n.type!==vn.Ih.GUILD;return hi+(r?Ei:yi)}),[i]),onScroll:o.useCallback((function(e){var t,n=null===(t=l.current)||void 0===t?void 0:t.getListDimensions();if(null!=n){var r=e+n.height;c(r-vi<u)}}),[u])}}({activeIndex:s,stickerPickerCategories:d,categoryListRef:i,firstStandardStickerCategoryOffsetTop:y,handleCategorySelect:f,setShouldRenderShortcut:c}),g=m.renderCategoryListItem,O=m.rowHeight,E=m.onScroll,j=o.useCallback((function(){var e;f(h);null===(e=i.current)||void 0===e||e.scrollTo(y)}),[f,h,y]);return(0,r.jsx)(ot.Z,{activeIndex:s,className:ii().categoryListWithSearch,listPadding:gi,onScroll:E,ref:i,renderCategoryListItem:g,rowCount:d.length,rowHeight:O,
children:v&&u&&(0,r.jsx)(W.Z,{"aria-hidden":!u,className:a()(ii().standardStickerShortcut,ci({},ii().invisibleShortcut,!u)),onClick:j,children:(0,r.jsx)(ti.Z,{height:24,width:24})})})};var Si=n(511515),Ci=n(404244),Pi=n(191940),Ii=n(889373),_i=n(6163),wi=n(403433),xi=n.n(wi);function Ni(e){var t=e.analyticsSection,n=e.buttonText;return(0,r.jsxs)(Ii.C,{className:xi().premiumButton,innerClassName:xi().premiumButtonInner,color:Pi.Co.Colors.GREEN,size:Pi.Co.Sizes.SMALL,onClick:function(){return(0,_i.Z)({section:t})},children:[(0,r.jsx)(ti.Z,{className:xi().premiumButtonNitroWheel}),null!=n?n:J.Z.Messages.STICKER_PICKER_PREMIUM_EMPTY_STATE_CTA]})}var Ti=n(621671),Ai=n.n(Ti);function Zi(e){var t=e.className;(0,Ho.fP)();var n=(0,m.Z)(v.Z.EMPTY_STATE).analyticsLocations,i=(0,h.Wu)([me.Z],(function(){return Jo.Wt.map((function(e){return me.Z.getStickerById(e)}))}));o.useEffect((function(){de.default.track(pe.rMx.PREMIUM_UPSELL_VIEWED,{type:he.cd.EMPTY_STICKER_PICKER_UPSELL,source:{
section:pe.jXE.EMPTY_STICKER_PICKER_UPSELL},location_stack:n})}),[n]);var l=null!=(0,Si.N)();return(0,r.jsxs)("div",{className:a()(Ai().emptyState,t),children:[l?(0,r.jsx)(Ci.ZP,{type:Ci.As.STICKERS_IN_HOUSE}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(B.X,{className:Ai().header,variant:"heading-xl/medium",children:J.Z.Messages.STICKER_PICKER_PREMIUM_EMPTY_STATE_TITLE}),(0,r.jsx)(Z.x,{className:Ai().subtitle,color:"header-secondary",variant:"text-md/normal",children:J.Z.Messages.STICKER_PICKER_PREMIUM_EMPTY_STATE_SUBTITLE}),(0,r.jsx)("div",{className:Ai().stickersRow,children:i.filter((function(e){return null!=e})).map((function(e){return(0,r.jsx)(wn.ZP,{sticker:e,className:Ai().sticker,size:80},null==e?void 0:e.id)}))})]}),(0,r.jsx)(Ni,{analyticsSection:pe.jXE.EXPRESSION_PICKER,buttonText:l?J.Z.Messages.PREMIUM_TRIAL_CTA_BUTTON_VARIANT:void 0})]})}var Ri=n(562181),Mi=n(714523),Di=n(7046),Li=n(542657),ki=n(297881),Ui=n(75141),Gi=n(830504),Hi=n(678135),Bi=n.n(Hi);const Vi=function(e){
var t=e.className,n=e.guildId,i=e.channel,l=e.shouldTrackUpsellViewed,u=e.setTrackedUpsellViewed,c=(0,Fo.O)().location,s=(0,m.Z)().analyticsLocations,f=(0,h.e7)([Oe.Z],(function(){return Oe.Z.getGuild(n)})),d=null!=f&&0===(0,Ui.A3)(f.premiumTier)&&!f.hasFeature(pe.oNc.MORE_STICKERS);o.useEffect((function(){if(yn.Z.can(pe.Plq.MANAGE_GUILD_EXPRESSIONS,f)&&d&&l){(0,C.yw)(pe.rMx.PREMIUM_GUILD_UPSELL_VIEWED,{location:c,guild_id:null==f?void 0:f.id,channel_id:null==i?void 0:i.id,type:"Expression Picker Inline Sticker Upsell",location_stack:s});u(!0)}}),[d,f,i,c,l,u,s]);if(null==f||!yn.Z.can(pe.Plq.MANAGE_GUILD_EXPRESSIONS,f))return null;if(d){return(0,r.jsxs)("div",{className:a()(Bi().upsell,t),children:[(0,r.jsx)(Li.Z,{className:Bi().icon,width:24,height:24}),(0,r.jsx)(Z.x,{color:"interactive-normal",className:Bi().body,variant:"text-sm/normal",children:J.Z.Messages.STICKER_PICKER_EMPTY_GUILD_UPSELL_NO_PREMIUM_SUBSCRIPTIONS_DESCRIPTION.format({count:(0,Ui.A3)(pe.Eu4.TIER_1)})}),(0,
r.jsx)(Pi.Co,{look:Pi.Co.Looks.LINK,color:Pi.Co.Colors.LINK,onClick:function(){(0,Mi.Z)({analyticsLocations:s,analyticsSourceLocation:c,guild:f,perks:(0,Gi.hC)()})},children:J.Z.Messages.STICKER_PICKER_EMPTY_GUILD_UPSELL_NO_PREMIUM_SUBSCRIPTIONS_CTA})]})}return(0,r.jsxs)("div",{className:a()(Bi().upsell,t),children:[(0,r.jsx)(ki.Z,{className:Bi().icon,width:20,height:20}),(0,r.jsx)(Z.x,{color:"interactive-normal",className:Bi().body,variant:"text-sm/normal",children:J.Z.Messages.STICKER_PICKER_EMPTY_GUILD_UPSELL_NO_STICKERS_DESCRIPTION}),(0,r.jsx)(Pi.Co,{look:Pi.Co.Looks.LINK,color:Pi.Co.Colors.LINK,onClick:function(){(0,Wo._Q)();Di.Z.open(n,pe.pNK.STICKERS,c)},children:J.Z.Messages.STICKER_PICKER_EMPTY_GUILD_UPSELL_NO_STICKERS_CTA})]})};var Fi=n(944651),Wi=n(542448),Yi=n(868916),zi=n.n(Yi),Ki=n(129101),qi=n.n(Ki),Xi=(0,Ko.Mg)(qi().expressionPickerInspectorBarGraphicPrimaryDimensions),Qi=(0,Ko.Mg)(qi().expressionPickerInspectorBarGraphicSecondaryDimensions)
;const Ji=o.memo((function(e){var t=e.stickersGrid,n=(0,qo.oH)((function(e){return e.inspectedStickerPosition})),i=o.useMemo((function(){var e,r=n.rowIndex,o=n.columnIndex,i=null===(e=t[r])||void 0===e?void 0:e[o];return(null==i?void 0:i.type)===vn.al.CREATE_STICKER?{guild_id:i.guild_id,name:i.name}:(null==i?void 0:i.type)!==vn.al.STICKER?null:i.sticker}),[t,n]);if(null==i)return null;var a=function(e){var t=null,n=null;if(!(0,ge.jl)(e)&&!(0,ge.J8)(e)||(0,ge.J8)(e)){var o=Oe.Z.getGuild(e.guild_id);if(null!=o){t=J.Z.Messages.STICKER_FROM_SOURCE.format({source:o.name});n=(0,r.jsx)($o.Z,{guild:o})}}else if((0,ge.jl)(e)){var i=me.Z.getStickerPack(e.pack_id);if(null!=i){t=J.Z.Messages.STICKER_FROM_SOURCE.format({source:i.name});n=(0,r.jsx)(wn.ZP,{size:Qi,sticker:(0,ge.Zt)(i),disableAnimation:!0})}}return{title:t,graphic:n}}(i),l=a.graphic,u=a.title,c=(0,ge.jl)(i)||(0,ge.J8)(i)?(0,r.jsx)(wn.ZP,{isInteracting:!0,size:Xi,sticker:i,disableAnimation:!0}):(0,r.jsx)("div",{
className:zi().iconWrapper,children:(0,r.jsx)(Wi.Z,{className:zi().icon})});return(0,r.jsx)(Fi.Z,{graphicPrimary:c,graphicSecondary:l,titlePrimary:i.name,titleSecondary:(0,ge.jl)(i)||(0,ge.J8)(i)?u:null})}));var $i=n(735084),ea=n(20648),ta=n(376890),na=n.n(ta);function ra(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function oa(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function ia(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function aa(e,t){return function(e){
if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||ua(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function la(e){return function(e){if(Array.isArray(e))return ra(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ua(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ua(e,t){if(e){if("string"==typeof e)return ra(e,t)
;var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ra(e,t):void 0}}var ca=(0,Ko.Mg)(li().stickerPickerBreakpointSmall),sa=(0,Ko.Mg)(li().stickerPickerBreakpointMedium),fa=(0,Ko.Mg)(li().stickersListPaddingTop),da=(0,Ko.Mg)(li().stickersListPaddingTopSearchResults),pa=(0,Ko.Mg)(li().stickersListPaddingRight),ha=(0,Ko.Mg)(li().stickersListPaddingBottom),ya=(0,Ko.Mg)(li().stickersListPaddingLeft),ba=(0,Ko.Mg)(li().stickersListDividerHeight),va=(0,Ko.Mg)(qi().expressionPickerListSectionHeadingHeight),ma=(0,Ko.Mg)(li().stickerPickerPreviewDimensions),ga=(0,Ko.Mg)(li().stickerPickerPreviewDimensionsSmall),Oa=(0,Ko.Mg)(li().stickerPickerPreviewPadding),Ea=(0,Ko.Mg)(li().stickerPickerPreviewMargin),ja=ma+2*Oa+Ea,Sa=ga+2*Oa+Ea,Ca=[fa,pa,ha,ya],Pa=[da,pa,ha,ya],Ia=(0,
Ko.Mg)(li().stickersListEmptyGuildUpsellHeight),_a=["laugh","wave","yes","dance","sad","no","hi","bye","cry","ok"],wa=function(e){var t=e.onSuggestionClick;return(0,r.jsx)("div",{className:na().searchSuggestions,children:_a.map((function(e){return(0,r.jsx)(W.Z,{className:na().searchSuggestion,onClick:function(){return t(e)},children:(0,r.jsx)(Z.x,{variant:"text-sm/normal",color:"text-normal",children:e})},e)}))})},xa=function(e){var t=e.onSelectSticker,n=e.channel,r=e.currentUser,i=(0,Fo.O)(),a=(0,m.Z)().analyticsLocations,l=(0,Wo.Iu)((function(e){return e.searchQuery})),u=o.useCallback((function(e){var t=e.visibleRowIndex,n=e.columnIndex,r=e.gridSectionIndex;(0,qo.oi)(r);(0,qo.Mf)(n,t,Jo.RF.MOUSE_EVENT);e.type===vn.al.STICKER&&(0,Wo.$2)(e.sticker.name)}),[]),c=o.useCallback((function(e){if(e.type===vn.al.STICKER){var o=e.packId,u=e.sticker,c=e.type,s=ia(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){oa(e,t,n[t])}))}return e}({},i.location),{object:""===l?pe.qAy.STICKER_PICKER_VIEW_ALL:pe.qAy.STICKER_SEARCH_VIEW_ALL});if(null==u||(0,$n.kl)(u,r,n))c===vn.al.STICKER&&null!=u&&t(e);else{var f=me.Z.getStickerPack(o);if(null!=f){de.default.track(pe.rMx.STICKER_PACK_VIEW_ALL,{sticker_id:u.id,sticker_pack_id:o,location:s,location_stack:a});(0,ea.Z)({stickerPack:f,analyticsLocations:a})}var d=(0,ge.J8)(u),p=(0,$n.cO)(u,r,n);p===$n.eb.SENDABLE_WITH_PREMIUM&&(0,qo.fd)(!0);d&&$n.eb.SENDABLE_WITH_BOOSTED_GUILD}}}),[i.location,l,r,n,a,t]);return{handleStickerInspect:u,handleSelect:c}};const Na=o.forwardRef((function(e,t){
var n=e.collapsedStickersCategories,i=e.gridWidth,a=e.filteredStickers,l=e.getStickerItemProps,u=e.getStickerRowProps,c=e.gutterWidth,s=e.isUsingKeyboardNavigation,f=e.onSelectSticker,p=e.rowCount,y=e.rowCountBySection,b=e.stickersCategories,g=e.stickersGrid,O=e.channel,E=o.useRef(!1),S=o.useRef(null),C=aa((0,qo.oH)((function(e){return[e.activeCategoryIndex,e.inspectedStickerPosition]}),d.Z),2),P=C[0],I=C[1],_=(0,m.Z)(v.Z.STICKER_PICKER).AnalyticsLocationProvider,w=(0,Wo.Iu)((function(e){return e.searchQuery})),T=(0,h.e7)([me.Z],(function(){return me.Z.getPremiumPacks()})),A=function(e){var t=e.collapsedStickersCategories,n=e.gridWidth,i=e.onSelectSticker,a=e.getStickerItemProps,l=e.getStickerRowProps,u=e.gutterWidth,c=e.inspectedStickerPosition,s=e.isScrolling,f=e.isUsingKeyboardNavigation,d=e.stickersGrid,p=e.stickersCategories,y=e.filteredStickers,b=e.ownedStickerPacks,v=e.channel,m=(0,Fo.O)(),g=(0,h.e7)([je.default],(function(){return je.default.getCurrentUser()})),O=xa({
onSelectSticker:i,channel:v,currentUser:g}),E=O.handleStickerInspect,j=O.handleSelect,S=aa(o.useState(!1),2),C=S[0],P=S[1],I=o.useCallback((function(e){Nr._O.updateSetting(Array.from(e))}),[]),_=o.useCallback((function(e){var t=d[e];return null!=t?(0,r.jsx)($i.Z,{getStickerItemProps:a,getStickerRowProps:l,gutterWidth:u,inspectedStickerPosition:c,isScrolling:s,isUsingKeyboardNavigation:f,onInspect:E,onSelect:j,rowIndex:e,stickerClassName:na().sticker,stickerDescriptors:t,stickerSize:n>ca?ma:ga,preferAnimation:n<=sa,ownedStickerPacks:b,isDisplayingIndividualStickers:!0,channel:v,currentUser:g},e):null}),[d,a,l,u,c,s,f,E,j,n,b,v,g]),w=o.useCallback((function(e,t){return(0,r.jsx)("div",{children:t},e)}),[]),x=o.useCallback((function(e){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).isStickerPack,r=void 0===n||n,o=new Set(t),i=t.has(e);i?o.delete(e):o.add(e);de.default.track(pe.rMx.EXPRESSION_PICKER_CATEGORY_COLLAPSE_TOGGLED,{location:null==m?void 0:m.location,
tab:ri.X1.STICKER,collapsed:!i,sticker_pack_id:r?e:null});I(o)}),[m,t,I]);return{renderRow:_,renderSection:w,renderSectionHeader:o.useCallback((function(e){var n=p[e];if(null!=y){var o=y.sendable,i=y.sendableWithPremium;if(0===e&&o.length>0)return null;var a=o.length>0&&i.length>0;return(0,r.jsxs)(r.Fragment,{children:[a?(0,r.jsx)("div",{className:na().divider,children:(0,r.jsx)(Ri.$i,{})}):null,(0,r.jsx)(N.Z,{className:na().packHeader,"aria-label":J.Z.Messages.STICKERS_YOU_MIGHT_LIKE_A11Y,children:J.Z.Messages.STICKERS_YOU_MIGHT_LIKE},"stickers-you-might-like-header")]})}switch(n.type){case vn.Ih.FAVORITE:return(0,r.jsx)(N.Z,{className:na().packHeader,"aria-label":J.Z.Messages.STICKER_CATEGORY_A11Y_LABEL.format({categoryName:n.name}),icon:(0,r.jsx)(ni.Z,{height:16,width:16}),isCollapsed:t.has(n.id),onClick:function(){return x(n.id,{isStickerPack:!1})},children:n.name},"header-".concat(n.id));case vn.Ih.RECENT:return(0,r.jsx)(N.Z,{className:na().packHeader,
"aria-label":J.Z.Messages.STICKER_CATEGORY_A11Y_LABEL.format({categoryName:n.name}),icon:(0,r.jsx)(ei.Z,{}),isCollapsed:t.has(n.id),onClick:function(){return x(n.id,{isStickerPack:!1})},children:n.name},"header-".concat(n.id));case vn.Ih.GUILD:case vn.Ih.EMPTY_GUILD_UPSELL:var l=Oe.Z.getGuild(n.id);return null==l?null:(0,r.jsx)(N.Z,{className:na().packHeader,"aria-label":J.Z.Messages.STICKER_CATEGORY_A11Y_LABEL.format({categoryName:l.name}),icon:(0,r.jsx)($o.Z,{guild:l,height:16,width:16}),isCollapsed:t.has(l.id),onClick:function(){return x(l.id)},children:l.name},"h".concat(l.id));case vn.Ih.PACK:var u=me.Z.getStickerPack(n.id);return null==u?null:(0,r.jsx)(N.Z,{className:na().packHeader,"aria-label":J.Z.Messages.STICKER_CATEGORY_A11Y_LABEL.format({categoryName:u.name}),icon:(0,r.jsx)(wn.ZP,{disableAnimation:!0,size:12,sticker:(0,ge.Zt)(u)}),isCollapsed:t.has(u.id),onClick:function(){return x(u.id)},children:u.name},"h".concat(u.id))}}),[t,p,x,y]),
sectionHeaderHeight:o.useCallback((function(e){if(null!=y){var t=y.sendable,n=y.sendableWithPremium;if(0===e&&t.length>0)return 0;var r=t.length>0&&n.length>0?ba:0;return va+r}return va}),[y]),renderSectionFooter:o.useCallback((function(e){var n=p[e],o=t.has(n.id);return n.type!==vn.Ih.EMPTY_GUILD_UPSELL||null!=y||o?null:(0,r.jsx)(Vi,{className:na().emptyGuildUpsell,guildId:n.id,channel:v,shouldTrackUpsellViewed:!C,setTrackedUpsellViewed:P},"sticker-picker-empty-guild-inline-upsell-".concat(n.id))}),[p,t,y,v,C]),sectionFooterHeight:o.useCallback((function(e){var n=p[e],r=t.has(n.id);return n.type!==vn.Ih.EMPTY_GUILD_UPSELL||r?0:Ia}),[p,t])}}({collapsedStickersCategories:n,gridWidth:i,stickersCategories:b,stickersGrid:g,isScrolling:E,isUsingKeyboardNavigation:s,onSelectSticker:f,getStickerItemProps:l,getStickerRowProps:u,gutterWidth:c,inspectedStickerPosition:I,filteredStickers:a,ownedStickerPacks:o.useMemo((function(){return new Set(T.map((function(e){return e.id})))}),[T]),channel:O
}),Z=A.renderRow,R=A.renderSection,M=A.renderSectionFooter,D=A.sectionFooterHeight,L=A.renderSectionHeader,k=A.sectionHeaderHeight,U=(0,x.Qs)({activeCategoryIndex:P,isScrolling:E,listRef:S,onActiveCategoryIndexChange:qo.oi,scrollOffset:20,searchQuery:w});(0,x.Xs)({searchQuery:w,activeCategoryIndex:P,listRef:S});o.useImperativeHandle(t,(function(){var e,t,n;return{scrollTo:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,o;return null===(o=S.current)||void 0===o?void 0:(r=o).scrollTo.apply(r,la(t))},getRowDescriptors:function(){var t;return null!==(e=null===(t=S.current)||void 0===t?void 0:t.getRowDescriptors())&&void 0!==e?e:[]},getSectionDescriptors:function(){var e;return null!==(t=null===(e=S.current)||void 0===e?void 0:e.getSectionDescriptors())&&void 0!==t?t:[]},scrollToSectionTop:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,o
;return null===(o=S.current)||void 0===o?void 0:(r=o).scrollToSectionTop.apply(r,la(t))},scrollRowIntoView:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,o;return null===(o=S.current)||void 0===o?void 0:(r=o).scrollRowIntoView.apply(r,la(t))},getScrollerNode:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,o;return null===(o=S.current)||void 0===o?void 0:(r=o).getScrollerNode.apply(r,la(t))},scrollIntoViewNode:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,o;return null===(o=S.current)||void 0===o?void 0:(r=o).scrollIntoViewNode.apply(r,la(t))},getListDimensions:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var o,i;return null!==(n=null===(i=S.current)||void 0===i?void 0:(o=i).getListDimensions.apply(o,la(t)))&&void 0!==n?n:{height:-1,totalHeight:-1}}}}),[]);return(0,r.jsx)(_,{children:(0,r.jsxs)("div",{className:na().wrapper,
children:[null!=a&&0===a.sendable.length&&0===a.sendableWithPremium.length?(0,r.jsx)(j.Z,{message:J.Z.Messages.NO_STICKER_SEARCH_RESULTS_WITH_SUGGESTIONS,className:na().noSearchResultsContainer,noResultsImageURL:vt(),suggestions:(0,r.jsx)(wa,{onSuggestionClick:function(e){return(0,Wo.ql)(e,!0)}})}):(0,r.jsx)(et.Z,{role:"none presentation",listPadding:null!=a?Pa:Ca,onScroll:U,renderRow:Z,renderSection:null==a?R:void 0,renderSectionHeader:L,renderSectionFooter:M,rowCount:p,rowCountBySection:y,rowHeight:i>ca?ja:Sa,sectionHeaderHeight:k,sectionFooterHeight:D,stickyHeaders:!0,ref:S}),(0,r.jsx)(Ji,{stickersGrid:g})]})})}));var Ta=n(920574),Aa=n(97638),Za=n(153854),Ra=n.n(Za);const Ma=o.forwardRef((function(e,t){var n=e.onKeyDown,i=e.stickersListRef,a=e.channel,l=(0,Ho.fQ)(a),u=o.useRef(null),c=(0,Wo.Iu)((function(e){return{searchQuery:e.searchQuery,searchPlaceholder:e.searchPlaceholder,isSearchSuggestion:e.isSearchSuggestion}
}),d.Z),s=c.searchQuery,f=c.searchPlaceholder,p=c.isSearchSuggestion,h=(0,qo.oH)((function(e){return e.inspectedStickerPosition}),d.Z),y=o.useCallback((function(e){var t;(0,qo.oi)(""===e?0:Jo.c);(0,qo.Mf)(0,0);(0,Wo.$2)(null);(0,Wo.ql)(e);null===(t=i.current)||void 0===t||t.scrollTo(0)}),[i]),b=o.useCallback((function(){(0,Wo.ql)("")}),[]);o.useImperativeHandle(t,(function(){return{focus:function(){var e;return null===(e=u.current)||void 0===e?void 0:e.focus()}}}));o.useLayoutEffect((function(){if(p){var e;null===(e=u.current)||void 0===e||e.focus()}}),[p]);return(0,r.jsx)("div",{className:Ra().wrapper,children:(0,r.jsx)(Aa.ZP,{autoFocus:l,disabled:!l,query:s,ref:u,size:Aa.ZP.Sizes.MEDIUM,placeholder:null!=f?f:l?J.Z.Messages.SEARCH_FOR_STICKERS:J.Z.Messages.NO_STICKERS_TO_SEARCH_THROUGH,onClear:b,onKeyDown:n,onQueryChange:y,className:Ra().searchBar,preventEscapePropagation:!1,useKeyboardNavigation:!1,inputProps:{"aria-haspopup":"grid","aria-controls":Jo.Vr,"aria-expanded":!0,
"aria-activedescendant":(0,Ta.NE)(Jo.Vr,h.columnIndex,h.rowIndex)}})})}));var Da=n(719455),La=n(326623),ka=n.n(La),Ua=n(5064),Ga=n.n(Ua);function Ha(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var Ba=function(){return(0,qo.fd)(!1)},Va=function(e){var t=e.onLearnMore,n=(0,m.Z)(v.Z.PREMIUM_UPSELL).analyticsLocations;o.useEffect((function(){de.default.track(pe.rMx.PREMIUM_UPSELL_VIEWED,{location_section:pe.jXE.STICKER_PICKER_UPSELL,type:he.cd.STICKER_PICKER_UPSELL,location_stack:n})}),[n]);var i=null!=(0,Si.N)();return(0,r.jsxs)("div",{className:ka().upsellWrapper,children:[(0,r.jsx)("div",{className:ka().upsellBackground}),(0,r.jsxs)("div",{className:ka().upsellContent,children:[(0,r.jsx)("img",{className:a()(ka().upsellImage,Ha({},ka().upsellImageSmaller,i)),src:Ga(),alt:J.Z.Messages.STICKER_PICKER_PREMIUM_UPSELL_ALT}),i?(0,r.jsx)(Ci.ZP,{type:Ci.As.STICKERS_CUSTOM,
children:J.Z.Messages.STICKER_PICKER_PREMIUM_UPSELL_DESCRIPTION.format({onClick:t})}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Z.x,{className:ka().upsellTitle,color:"header-primary",variant:"text-lg/semibold",children:J.Z.Messages.STICKER_PICKER_PREMIUM_UPSELL_TITLE}),(0,r.jsx)(Z.x,{className:ka().upsellDescription,variant:"text-md/normal",children:J.Z.Messages.STICKER_PICKER_PREMIUM_UPSELL_DESCRIPTION.format({onClick:t})})]}),(0,r.jsx)(Ni,{analyticsSection:pe.jXE.EXPRESSION_PICKER,buttonText:i?J.Z.Messages.PREMIUM_TRIAL_CTA_BUTTON_VARIANT:void 0})]}),(0,r.jsx)(W.Z,{className:ka().upsellClose,onClick:Ba,children:(0,r.jsx)(Da.Z,{})})]})},Fa=function(e,t,n){if(""===e)return null;var r=[],o=[];(function(e){return _n.ZP.queryStickers([e],!0).map((function(e){return e.sticker}))})(e).forEach((function(e){var i=(0,$n.cO)(e,t,n);i===$n.eb.SENDABLE?r.push(e):i===$n.eb.SENDABLE_WITH_PREMIUM&&o.push(e)}));return{sendable:r,sendableWithPremium:o}},Wa=n(588982),Ya=n.n(Wa);function za(e,t){
(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ka(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function qa(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Ka(i,r,o,a,l,"next",e)}function l(e){Ka(i,r,o,a,l,"throw",e)}a(void 0)}))}}function Xa(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Qa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Xa(e,t,n[t])}))}return e}function Ja(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){
var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function $a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||tl(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function el(e){return function(e){if(Array.isArray(e))return za(e)}(e)||function(e){
if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||tl(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tl(e,t){if(e){if("string"==typeof e)return za(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?za(e,t):void 0}}var nl=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),
0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},rl=(0,Ko.Mg)(li().stickerPickerBreakpointSmall),ol=(0,Ko.Mg)(li().stickersListPaddingLeft),il=(0,Ko.Mg)(li().stickersListPaddingRight),al=(0,Ko.Mg)(li().stickerPickerPreviewMargin),ll=(0,Ko.Mg)(li().stickerPickerPreviewMarginSmall),ul=(0,Ko.Mg)(li().stickerPickerPreviewDimensions),cl=(0,Ko.Mg)(li().stickerPickerPreviewDimensionsSmall),sl=(0,
Ko.Mg)(li().stickerPickerPreviewPadding),fl=ul+2*sl,dl=cl+2*sl,pl=Vo()(Xo.Iw,200),hl=Vo()(Xo.m1,200),yl=o.forwardRef((function(e,t){var i=e.containerWidth,a=e.channel,l=e.onSelectSticker,u=e.closePopout,c=(0,Fo.O)().location,s=(0,m.Z)(v.Z.STICKER_PICKER).AnalyticsLocationProvider,f=o.useRef(null),p=o.useRef(null),y=o.useRef(null),b=(0,qo.oH)((function(e){return e.showPremiumUpsell})),g=$a((0,Wo.Iu)((function(e){return[e.searchQuery,e.isSearchSuggestion]}),d.Z),2),O=g[0],E=g[1],j=o.useRef("");o.useImperativeHandle(t,(function(){return{onPickerOpen:te}}));var S=(0,Ho.Sd)(a),C=0===S.filter((function(e){return e.type!==vn.Ih.EMPTY_GUILD_UPSELL})).length,P=(0,x.ep)({gridWrapperRef:f,containerWidth:i,showingEmptyState:C,listPaddingLeft:ol,listScrollbarWidth:8}),I=Nr._O.useSetting(),_=o.useMemo((function(){return new Set(I)}),[I]),w=(0,h.e7)([je.default],(function(){return je.default.getCurrentUser()})),N=o.useMemo((function(){return Fa(O,w,a)}),[O,w,a]),T=(0,Ho.RJ)(),A=(0,Ho.LZ)(),Z=(0,
h.cj)([me.Z],(function(){return me.Z.getAllGuildStickers()})),R=null!=N?N:{},M=R.sendable,D=void 0===M?[]:M,L=R.sendableWithPremium,k=void 0===L?[]:L,U=D.length+k.length,G=o.useCallback((function(e){""===O?(0,Xo.On)(e):(0,Xo.Yk)(e,O,U);l(e.sticker,vn.V0.STICKER_PICKER)}),[l,O,U]),H=null!=P&&P>rl,B=(0,Ho.el)({filteredStickers:N,stickersCategories:S,collapsedStickersCategories:_,listWidth:P,listPaddingRight:il,stickerNodeMargin:H?al:ll,stickerNodeWidth:H?fl:dl}),V=B.rowCount,F=B.rowCountBySection,W=B.stickersGrid,Y=B.gutterWidth,z=B.columnCounts,K=o.useCallback((function(e,t){t.location;switch(e.type){case vn.al.CREATE_STICKER:de.default.track(pe.rMx.OPEN_MODAL,{type:pe.jXE.CREATE_STICKER_MODAL,location:c});(0,zo.ZD)(qa((function(){var t,o;return nl(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(87562),n.e(37959)]).then(n.bind(n,687562))];case 1:t=i.sent(),o=t.default;return[2,function(t){return(0,r.jsx)(o,Qa({guildId:e.guild_id},t))}]}}))})));break
;case vn.al.STICKER:null!=e.sticker&&(0,$n.kl)(e.sticker,w,a)&&G(e)}}),[c,w,a,G]),q=function(e){var t=e.columnCounts,n=e.stickersGrid,r=e.stickersListRef,i=e.store,a=e.gridNavigatorId,l=e.setInspectedStickerPosition,u=e.onGridItemSelect,c=(0,Fo.O)(),s=o.useCallback((function(e){u(e,c)}),[u,c]),f=o.useCallback((function(e,t){l(e,t,Jo.RF.GRID_NAVIGATOR_EVENT)}),[l]),d=(0,x.VO)({columnCounts:t,gridNavigatorId:a,itemGrid:n,itemList:r,onGridNavigatorItemSelect:s,onGridNavigatorPositionChange:f}),p=d.gridDispatch,h=d.getItemProps,y=d.getRowProps,b=d.gridContainerProps,v=d.handleGridContainerKeyDown,m=d.isUsingKeyboardNavigation;o.useEffect((function(){return i.subscribe((function(e){if(null!=e){var t=e.columnIndex,n=e.rowIndex;e.source!==Jo.RF.GRID_NAVIGATOR_EVENT&&p({type:Qo.s.SET_FOCUSED_POSITION,x:t,y:n})}}),(function(e){return e.inspectedStickerPosition}))}),[p,i]);return{getItemProps:h,getRowProps:y,gridContainerProps:b,handleGridContainerKeyDown:v,isUsingKeyboardNavigation:m}}({
columnCounts:z,stickersListRef:p,stickersGrid:W,onGridItemSelect:K,store:qo.oH,setInspectedStickerPosition:qo.Mf,gridNavigatorId:Jo.Vr}),X=q.getItemProps,Q=q.getRowProps,J=q.gridContainerProps,$=q.handleGridContainerKeyDown,ee=q.isUsingKeyboardNavigation;o.useEffect((function(){return qo.yJ}),[]);var te=function(){var e=a.getGuildId(),t=[];if(null!==e){var n;t=null!==(n=me.Z.getStickersByGuildId(e))&&void 0!==n?n:[]}var r=0;null!=Z&&el(Z.values()).forEach((function(e){r+=e.length}));(0,Xo.ev)({containerWidth:i,favoriteStickers:T,frequentlyUsedStickers:A,guildStickers:t,stickersTotal:r})};o.useEffect((function(){""===j.current&&""!==O&&(0,Xo.n8)();j.current=O}),[O]);o.useEffect((function(){0===U?pl(O):hl(O,U,E)}),[O,U,E]);o.useLayoutEffect((function(){var e;null===(e=y.current)||void 0===e||e.focus()}),[]);var ne=o.useCallback((function(){u();de.default.track(pe.rMx.PREMIUM_PROMOTION_OPENED,{location_section:pe.jXE.STICKER_PICKER_UPSELL});(0,Yo.z)()}),[u]);return(0,r.jsxs)(s,{
children:[(0,r.jsx)("div",{className:Ya().header,children:(0,r.jsx)(Ma,{ref:y,onKeyDown:$,stickersListRef:p,channel:a})}),C?(0,r.jsx)(Zi,{className:Ya().emptyState}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",Ja(Qa({ref:f,className:Ya().listWrapper,id:Jo.Vr},J),{children:null!=P?(0,r.jsx)(Na,{ref:p,collapsedStickersCategories:_,filteredStickers:N,getStickerItemProps:X,getStickerRowProps:Q,gridWidth:P,gutterWidth:Y,isUsingKeyboardNavigation:ee,onSelectSticker:G,rowCount:V,rowCountBySection:F,stickersCategories:S,stickersGrid:W,channel:a}):null})),(0,r.jsx)(ji,{stickersListRef:p,channel:a})]}),b&&(0,r.jsx)(Va,{onLearnMore:ne})]})})),bl=function(e,t){(0,Ho.fP)();return(0,r.jsx)("div",{className:Ya().wrapper,id:Jo.nZ,"aria-labelledby":Jo.ED,role:"tabpanel",children:e.isLoading?(0,r.jsx)(Or.Z,{className:Ya().loadingIndicator}):(0,r.jsx)(yl,Ja(Qa({},e),{ref:t}))})};const vl=o.forwardRef(bl);var ml=n(661623),gl=n(100166),Ol=n(882699),El=n(876941),jl=n(175453),Sl=n(139424),Cl=n.n(Sl)
;function Pl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Il(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function _l(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function wl(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r]
;t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function xl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Pl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pl(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}
var Nl=ri.Om+jl.Su.MEDIUM,Tl=o.memo((function(e){var t=e.isActive,n=e.className,o=e.viewType,i=e.autoFocus,l=void 0!==i&&i,u=e["aria-controls"],c=wl(e,["isActive","className","viewType","autoFocus","aria-controls"]);return(0,r.jsx)(Pi.Co,_l(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Il(e,t,n[t])}))}return e}({role:"tab",autoFocus:l,"aria-controls":t?u:void 0},c),{onClick:function(){C.ZP.trackWithMetadata(pe.rMx.EXPRESSION_PICKER_TAB_CLICKED,{tab:o,badged:!1});(0,Wo.hr)(o)},"aria-current":t?"page":void 0,className:a()(n,Cl().navButton,Cl().navItem,Il({},Cl().navButtonActive,t)),look:Pi.Co.Looks.BLANK,size:Pi.Co.Sizes.NONE}))}));function Al(e){
var t,n,i,l=e.positionTargetRef,u=e.onSelectGIF,c=e.onSelectEmoji,s=e.onSelectSticker,f=e.channel,d=e.type,p=o.useRef(null),y=o.useRef(!1),b=o.useRef(),v=o.useRef(null),m=function(e){var t=e.positionContainerRef,n=e.drawerRef,r=(0,h.e7)([ml.ZP],(function(){return ml.ZP.expressionPickerWidth})),i=xl(o.useState(window.innerWidth),2),a=i[0],l=i[1],u=xl(o.useState(null!=r?r:ri._j.MIN),2),c=u[0],s=u[1],f=o.useMemo((function(){switch(c){case ri._j.MIN:return ri.Om;case ri._j.MAX:return null;default:return c}}),[c]),d=o.useCallback((function(e){var t=e>=a?ri._j.MAX:e<=ri.Om?ri._j.MIN:e;null==t&&null!=n.current&&(n.current.style.width="");Do.Z.updatedUnsyncedSettings({expressionPickerWidth:t});s(t)}),[n,a]),p=(0,ko.Z)({initialElementDimension:f,maxDimension:a,minDimension:ri.Om,resizableDomNodeRef:n,onElementResize:d,orientation:ko.y.HORIZONTAL_LEFT});o.useEffect((function(){var e=E().debounce((function(){null!=t.current&&l(t.current.offsetWidth)}),500);window.addEventListener("resize",e)
;return function(){window.removeEventListener("resize",e)}}),[t]);o.useLayoutEffect((function(){null!=t.current&&l(t.current.offsetWidth)}),[t]);return{drawerWidth:f,handleDrawerResizeHandleMouseDown:o.useCallback((function(e){e.stopPropagation();null!=t.current&&l(t.current.offsetWidth);p(e)}),[t,p])}}({positionContainerRef:p,drawerRef:v}),g=m.drawerWidth,O=m.handleDrawerResizeHandleMouseDown,j=(0,Wo.Iu)((function(e){return e.activeView})),S=(0,Ho.fQ)(f),P=o.useContext(ln.ZP),I=P.renderWindow,_=P.windowDispatch,w=(0,h.e7)([me.Z],(function(){return!me.Z.hasLoadedStickerPacks})),x=o.useCallback((function(e){var t;if(!(0,zo.$s)()){var n=e.target;if(!(0,Mo.k)(n)||null==n.closest("."+ri.CT)){for(;(0,Mo.k)(n);){if(n===v.current)return;if("true"===n.getAttribute("data-menu-item"))return;if("true"===n.getAttribute("data-nitroduction-expression-picker-tooltip"))return;if("true"===n.getAttribute("data-nitroduction-persistent-coachmark-emoji-step"))return;n=n.parentNode}(0,Wo._Q)()
;var r=null===(t=(0,El.uB)(e))||void 0===t?void 0:t.activeElement;null!=r&&"BODY"!==r.tagName||Ol.S.dispatchToLastSubscribed(pe.CkL.TEXTAREA_FOCUS)}}}),[]),N=o.useCallback((function(){(0,Wo._Q)()}),[]);o.useLayoutEffect((function(){var e=function(){j===ri.X1.GIF&&(0,Wo._Q)()};I.addEventListener("mousedown",x);I.addEventListener("contextmenu",x);_.subscribe(pe.CkL.POPOUT_CLOSE,N);Ol.S.subscribe(pe.CkL.CLOSE_GIF_PICKER,e);return function(){I.removeEventListener("mousedown",x);I.removeEventListener("contextmenu",x);_.unsubscribe(pe.CkL.POPOUT_CLOSE,N);Ol.S.unsubscribe(pe.CkL.CLOSE_GIF_PICKER,e)}}),[j,N,x,I,_]);(0,gl.T)(p);o.useEffect((function(){(0,Wo.ql)("")}),[]);o.useEffect((function(){if(null!=v.current&&!y.current)if(j===ri.X1.EMOJI){var e;if(null!=(null==b||null===(e=b.current)||void 0===e?void 0:e.onPickerOpen)){var t;null==b||null===(t=b.current)||void 0===t||t.onPickerOpen();y.current=!0}}else if(j===ri.X1.STICKER){var n
;if(null!=(null==b||null===(n=b.current)||void 0===n?void 0:n.onPickerOpen)&&!w){var r;null==b||null===(r=b.current)||void 0===r||r.onPickerOpen();y.current=!0}}else{C.ZP.trackWithMetadata(pe.rMx.EXPRESSION_PICKER_OPENED,{width:v.current.offsetWidth,tab:j,badged:!1});y.current=!0}}));var T=(null===(t=d.gifs)||void 0===t?void 0:t.allowSending)&&!Ro.tq,A=null===(n=d.stickers)||void 0===n?void 0:n.allowSending,Z=!(null===(i=d.expressionPicker)||void 0===i?void 0:i.onlyEmojis)&&(T||A);return(0,r.jsx)(Lo.Z,{section:pe.jXE.EXPRESSION_PICKER,children:(0,r.jsx)(Yt.W5,{className:Cl().positionLayer,reference:l,position:Wt.vK.TOP,align:Wt.xM.RIGHT,spacing:8,autoInvert:!0,children:function(e){var t=e.isPositioned;return(0,r.jsx)("section",{className:a()(Cl().positionContainer,Il({},Cl().positionContainerOnlyEmoji,!Z)),ref:p,role:"dialog","aria-label":J.Z.Messages.EXPRESSION_PICKER,children:t?(0,r.jsxs)("div",{className:Cl().drawerSizingWrapper,style:{width:null==g?void 0:g},ref:v,children:[(0,
r.jsx)("div",{className:Cl().resizeHandle,onMouseDown:O}),(0,r.jsxs)("div",{className:Cl().contentWrapper,children:[Z?(0,r.jsx)("nav",{className:Cl().nav,children:(0,r.jsxs)("div",{className:Cl().navList,role:"tablist","aria-label":J.Z.Messages.EXPRESSION_PICKER_CATEGORIES_A11Y_LABEL,children:[T&&(0,r.jsx)(Tl,{id:jl._3,"aria-controls":jl.vO,"aria-selected":j===ri.X1.GIF,isActive:j===ri.X1.GIF,viewType:ri.X1.GIF,children:J.Z.Messages.EXPRESSION_PICKER_GIF}),A?(0,r.jsx)(Tl,{id:Jo.ED,"aria-controls":Jo.nZ,"aria-selected":j===ri.X1.STICKER,isActive:j===ri.X1.STICKER,autoFocus:!S,viewType:ri.X1.STICKER,children:(0,r.jsx)("div",{className:Cl().stickersNavItem,children:J.Z.Messages.EXPRESSION_PICKER_STICKER})}):null,(0,r.jsx)(Tl,{id:jl.td,"aria-controls":jl.cZ,"aria-selected":j===ri.X1.EMOJI,isActive:j===ri.X1.EMOJI,viewType:ri.X1.EMOJI,children:J.Z.Messages.EXPRESSION_PICKER_EMOJI})]})}):null,j===ri.X1.STICKER&&Z?(0,r.jsx)(vl,{isLoading:w,channel:f,containerWidth:g,onSelectSticker:s,
closePopout:N,ref:function(e){b.current=e}}):null,j===ri.X1.GIF&&Z?(0,r.jsx)(Go.Z,{onSelectGIF:u,persistSearch:!0}):null,j===ri.X1.EMOJI?(0,r.jsx)(Uo.Z,{inExpressionPicker:!0,persistSearch:!0,channel:f,containerWidth:g,emojiSize:null!=g&&g<Nl?jl.Su.MEDIUM:jl.Su.LARGE,pickerIntention:pe.HzX.CHAT,closePopout:N,onSelectEmoji:c,ref:function(e){b.current=e},disableEmojiTutorialFlow:d===hn.I.PROFILE_BIO_INPUT}):null]})]}):null})}})})}const Zl=o.memo(Al);var Rl=n(829207),Ml=n(848828),Dl=n(772669),Ll=n(604860),kl=n(937650),Ul=n(97555);function Gl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Hl(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function Bl(e){return function(e){if(Array.isArray(e))return Gl(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return
;if("string"==typeof e)return Gl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Gl(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Vl=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++
;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},Fl=(0,Ll.ad)(er.$p,Ul.J7),Wl=function(e){var t,n,r=e.setTextInputValue,i=e.setHasDismissed,a=e.setHasSelection,l=e.setFocusedSuggestionType,u=e.delayBeforeSuggestions,c=o.useRef(null),s=o.useRef(!1),f=o.useRef(!1),d=o.useMemo((function(){return Vo()(r,null!=u?u:Ul.gf)}),[r,u]),p=(n=(t=function(e){var t;return Vl(this,(function(n){switch(n.label){case 0:if(null!=e&&""!==e)return[3,1];d.cancel();null==r||r("");null==i||i(!1);null==a||a(!1);null==l||l(null);c.current=null
;s.current=!1;return[3,4];case 1:if(s.current||e.trim()===(null===(t=c.current)||void 0===t?void 0:t.trim()))return[3,4];c.current=e;if((0,kl.wN)(e).length>Ul.t7){s.current=!0;d.cancel();r("");return[2]}if(!0===f.current)return[2];if(me.Z.hasLoadedStickerPacks)return[3,3];f.current=!0;return[4,Fl()];case 2:n.sent();f.current=!1;n.label=3;case 3:d(c.current);n.label=4;case 4:return[2]}}))},function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(e){Hl(i,r,o,a,l,"next",e)}function l(e){Hl(i,r,o,a,l,"throw",e)}a(void 0)}))}),function(e){return n.apply(this,arguments)});return{handleTextChange:p,debouncedSetTextInputValue:d}},Yl=n(730157),zl=n.n(Yl);function Kl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ql(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Xl(e){for(var t=1;t<arguments.length;t++){
var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){ql(e,t,n[t])}))}return e}function Ql(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Jl(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e)
;for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function $l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Kl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Kl(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}
var eu,tu=(0,Rl.Mg)(zl().containerPadding),nu=(0,Rl.Mg)(zl().stickerSuggestionSize),ru=(0,Rl.Mg)(zl().stickerSuggestionMargin),ou=2*nu+ru+2*tu,iu=function(){return Promise.resolve()};!function(e){e[e.STICKER=0]="STICKER"}(eu||(eu={}));function au(e){var t=e.isFocused,n=e.isHidden,o=e.sendability,i=e.listIndex,l=e.sticker,u=e.onMouseOver,c=e.onSelectSticker,s=(0,T.JA)("".concat(i)),f=s.tabIndex,d=Jl(s,["tabIndex"]);return(0,r.jsxs)(W.Z,Ql(Xl({},d),{tabIndex:n?-1:f,className:a()(zl().suggestedExpression,ql({},zl().suggestedExpressionFocused,t)),focusProps:{enabled:!1},onClick:function(){return c(l,o)},onMouseOver:u,children:[(0,r.jsx)(fe.ZP,{mask:fe.ZP.Masks.STICKER_ROUNDED_RECT,width:nu+4,height:nu+4,className:zl().mask,children:(0,r.jsx)("div",{className:zl().maskBackground})}),(0,r.jsx)(wn.ZP,{maskAsset:!0,size:nu,sticker:l,className:zl().sticker}),o!==$n.eb.SENDABLE&&(0,r.jsx)(Dl.Z,{size:14})]}))}const lu=o.memo((function(e){
var t,n=e.editorRef,i=e.channel,l=e.isEditorFocused,u=e.onSelectSticker,c=e.stickerIconVisible,s=void 0!==c&&c,f=e.submitButtonVisible,d=void 0!==f&&f,p=o.useContext(Zo),y=$l(o.useState(null),2),b=y[0],g=y[1],O=$l(o.useState(!1),2),E=O[0],j=O[1],S=$l(o.useState(null),2),C=S[0],P=S[1],I=(0,Wo.Iu)((function(e){return null!=e.activeView})),_=o.useRef(null),w=$l(o.useState(""),2),x=w[0],N=w[1],A=$l(o.useState(""),2),R=A[0],M=A[1],D=$l(o.useState(!1),2),L=D[0],k=D[1],U=$l(o.useState(!1),2),G=U[0],H=U[1],B=function(e,t,n){var r=(0,Ho.fQ)(n),i=(0,h.e7)([je.default],(function(){return je.default.getCurrentUser()}));return o.useMemo((function(){var o=(0,kl.wN)(e);if(t||null==e||""===e||o.length>Ul.t7||!r)return[];var a=[],l=[],u=(0,kl.kT)(e),c=u===o[0]?o:[u].concat(Bl(o));_n.ZP.queryStickers(c,!1).forEach((function(e){var t=e.sticker,r=(0,$n.cO)(t,i,n),o={sticker:t,sendability:r};r===$n.eb.SENDABLE?a.push(o):r===$n.eb.SENDABLE_WITH_PREMIUM&&l.push(o)}));var s=[];if(a.length>0){
s=a.slice(0,Ul.qm);if(0!==l.length){s.length===Ul.qm&&s.pop();s.push(l[0])}}return s}),[e,n,r,t,i])}(x,E,i),V=(0,m.Z)(v.Z.EXPRESSION_SUGGESTIONS),F=V.analyticsLocations,Y=V.AnalyticsLocationProvider,z=Wl({setTextInputValue:N,setHasDismissed:j,setHasSelection:H,setFocusedSuggestionType:g}),K=z.handleTextChange,q=z.debouncedSetTextInputValue;o.useEffect((function(){var e=function(e){k(e)},t=function(e){var t=""!==e&&null!=e;H(t);if(t){var r;g(null);null===(r=n.current)||void 0===r||r.focus()}};p.addListener("text-changed",K);p.addListener("autocomplete-visibility-change",e);p.addListener("selection-changed",t);return function(){p.removeListener("text-changed",K);p.removeListener("autocomplete-visibility-change",e);p.removeListener("selection-changed",t)}}),[K,n,p]);o.useLayoutEffect((function(){null==b&&P(null)}),[b]);var X=$l(o.useState(!1),2),Q=X[0],$=X[1];o.useLayoutEffect((function(){requestAnimationFrame((function(){var e=_.current
;$(l||!0===(null==e?void 0:e.contains(null==e?void 0:e.ownerDocument.activeElement)))}))}),[l]);var ee=B.length>0,te=Q&&!I&&!L&&!E&&!G&&ee,ne=function(e){var t=e.editorRef,n=e.hasStickerResults,r=e.shouldRenderSuggestions,i=e.focusedSuggestionType,a=e.setFocusedStickerListItem,l=e.setFocusedSuggestionType,u=e.setHasDismissed,c=e.setTextInputValue,s=o.useCallback((function(e,t){a(t)}),[a]),f=(0,lo.ZP)({id:"expression-suggestions-stickers",isEnabled:!0,scrollToStart:iu,scrollToEnd:iu,orientation:uo.hy.HORIZONTAL,setFocus:s,useVirtualFocus:!0});o.useEffect((function(){var e=function(e){if(!(!r||e.shiftKey||e.ctrlKey||e.altKey||e.metaKey)){switch(e.key){case"ArrowUp":e.preventDefault();if(null==i&&n){f.focusFirstVisibleItem();l(eu.STICKER)}break;case"ArrowDown":var o;l(null);null===(o=t.current)||void 0===o||o.focus();break;case"Escape":var a;l(null);u(!0);c("");null===(a=t.current)||void 0===a||a.focus()}i===eu.STICKER&&f.containerProps.onKeyDown(e)}};window.addEventListener("keydown",e,{
capture:!0});return function(){return window.removeEventListener("keydown",e,{capture:!0})}}),[f,r,i,l,n,t,u,a,c]);return{stickersNavigator:f}}({editorRef:n,hasStickerResults:ee,shouldRenderSuggestions:te,focusedSuggestionType:b,setFocusedSuggestionType:g,setHasDismissed:j,setFocusedStickerListItem:P,setTextInputValue:N}).stickersNavigator,re=function(e,t){if(te){de.default.track(pe.rMx.AUTO_SUGGEST_EXPRESSION_SELECTED,{sticker_id:e.id,suggestion_trigger:R});if(t===$n.eb.SENDABLE){j(!0);u(e,vn.V0.EXPRESSION_SUGGESTIONS);q.cancel();N("")}else if((0,ge.jl)(e)){var n=me.Z.getStickerPack(e.pack_id);null!=n&&(0,ea.Z)({stickerPack:n,analyticsLocations:F})}p.emit("sticker-suggestions-hidden")}},oe=o.useRef([]),ie=o.useRef(!1);o.useEffect((function(){te&&(oe.current=B);if(te!==ie.current){p.emit(te?"sticker-suggestions-shown":"sticker-suggestions-hidden");if(te){(0,kl.Tk)(x);M(x)}}ie.current=te}),[p,te,B,x]);var ae,le=!te,ue=te?B:oe.current;return(0,r.jsx)(Y,{children:(0,r.jsxs)(W.Z,{
tabIndex:le?-1:0,"aria-hidden":le,className:a()(zl().container,(ae={},ql(ae,zl().hidden,le),ql(ae,zl().submitButtonOffset,d),ql(ae,zl().stickerIconOffset,s),ae)),innerRef:_,style:{minWidth:ou},onClick:function(){var e;return null===(e=n.current)||void 0===e?void 0:e.focus()},children:[(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(T.bG,{navigator:ne,children:(0,r.jsx)(T.SJ,{children:function(e){var t=e.ref,n=e.tabIndex,o=Jl(e,["ref","tabIndex"]);return(0,r.jsx)("div",Ql(Xl({className:zl().stickerResults,ref:function(e){t.current=e},onMouseLeave:function(){null==b&&P(null)},tabIndex:le?-1:n},o),{children:ue.map((function(e,t){var n=e.sticker,o=e.sendability;return(0,r.jsx)(au,{isFocused:C==="".concat(t),isHidden:le,sendability:o,listIndex:t,onMouseOver:function(){ne.setFocus("".concat(t));P("".concat(t))},onSelectSticker:re,sticker:n},n.id)}))}))}})}),(0,r.jsxs)("div",{className:zl().bottomInformationTextContainer,children:[(0,r.jsx)("div",{className:zl().textDivider}),(0,r.jsx)(Z.x,{
className:zl().descriptionText,style:{maxWidth:ou},variant:"text-sm/normal",children:null!=C?J.Z.Messages.EXPRESSION_SUGGESTIONS_STICKER_NAME.format({stickerName:null===(t=B[+C])||void 0===t?void 0:t.sticker.name}):J.Z.Messages.EXPRESSION_SUGGESTIONS_STICKER_SHORT_NAV_PROMPT.format({upHook:function(e,t){return(0,r.jsx)(Ml.Z,{shortcut:"up",className:zl().keybind},t)}})})]})]}),(0,r.jsx)("div",{className:zl().containerBackground})]})})}));var uu=n(674455),cu=n(630695),su=n(381139),fu=n(631134),du=n(959154),pu=n(549867),hu=n(264115),yu=n(409112),bu=n(452689);function vu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function mu(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function gu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){mu(e,t,n[t])}))}return e}function Ou(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return vu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vu(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Eu(e){var t,n=e.editorHeight,i=e.textValue,a=o.useRef(i),l=sn({editorHeight:n}),u=Ou(o.useState(!1),2),c=u[0],s=u[1],f=(0,h.e7)([du.ZP,fu.default,wt.Z],(function(){var e;return du.ZP.isComboing(fu.default.getId(),null!==(e=wt.Z.getChannelId())&&void 0!==e?e:"")}));o.useEffect((function(){if(0!==i.length&&i!==a.current&&f){s(!0);a.current=i}else c&&setTimeout((function(){return s(!1)}),yu.z)}),[i,c,f]);var d,p=null!==(t=null==l?void 0:l.left)&&void 0!==t?t:0,y=(null!==(d=null==l?void 0:l.top)&&void 0!==d?d:0)-16;return(0,r.jsx)(pu.Z,{position:{x:p,y},firing:c})}function ju(e){return(0,r.jsx)(hu.Z,{confettiLocation:bu.Hn.CHAT_INPUT,children:(0,r.jsx)(Eu,gu({},e))})}
var Su=n(825989),Cu=n(551821),Pu=n(273192),Iu=n(861842),_u=n(238585),wu=n(108580),xu=n(742269),Nu=n(326470),Tu=n.n(Nu),Au=n(608575),Zu=n(159500),Ru=n(251356),Mu=n(337823),Du=n(281081),Lu=n(629620),ku=n(877389);function Uu(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Gu(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function Hu(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Gu(i,r,o,a,l,"next",e)}function l(e){Gu(i,r,o,a,l,"throw",e)}a(void 0)}))}}function Bu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vu(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Fu(e){Fu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Fu(e)}
function Wu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Vu(e,t,n[t])}))}return e}function Yu(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function zu(e,t){return!t||"object"!==qu(t)&&"function"!=typeof t?Uu(e):t}function Ku(e,t){Ku=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Ku(e,t)}var qu=function(e){
return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Xu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Fu(e);if(t){var o=Fu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return zu(this,n)}}var Qu=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,
o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},Ju=/(\t|\s)/,$u=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Ku(e,t)}(o,e);var t=Xu(o);function o(){Bu(this,o);var e;(e=t.apply(this,arguments)).state={nextSelection:-1};e.focus=function(){var t=Uu(e)._ref
;null!=t&&t.focus()};e.handleSetRef=function(t){e._ref=t};e.handleKeyPress=function(t){if(t.which===pe.yXg.ENTER)if(!t.shiftKey&&!e.hasOpenCodeBlock()&&(!e.props.disableEnterToSubmit||t.ctrlKey)){t.preventDefault();return e.props.onSubmit(e.props.value)}};e.handleKeyDown=function(t){switch(t.which){case pe.yXg.ARROW_DOWN:e.props.moveSelection(1)&&t.preventDefault();break;case pe.yXg.N:t.ctrlKey&&e.props.moveSelection(1)&&t.preventDefault();break;case pe.yXg.ARROW_UP:e.props.moveSelection(-1)&&t.preventDefault();break;case pe.yXg.P:t.ctrlKey&&e.props.moveSelection(-1)&&t.preventDefault();break;case pe.yXg.TAB:case pe.yXg.ENTER:e.handleTabOrEnterDown(t)}var n=e.props.onKeyDown;null==n||n(t)};e.handleKeyUp=function(t){switch(t.which){case pe.yXg.ARROW_RIGHT:case pe.yXg.ARROW_LEFT:case pe.yXg.HOME:case pe.yXg.END:e.props.maybeShowAutocomplete()}var n=e.props.onKeyUp;null==n||n(t)};e.handleGlobalPaste=function(t){var n=t.event;e.handlePaste(n)||e.focus()};e.handlePaste=function(t){
var n=e.props.onPaste(t);n&&t.preventDefault();return n};e.handleClick=function(){e.props.maybeShowAutocomplete()};e.handleContextMenu=function(e){xu.FB&&(0,Du.jW)(e,Hu((function(){var e,t;return Qu(this,(function(o){switch(o.label){case 0:return[4,n.e(30822).then(n.bind(n,430822))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,Yu(Wu({},e),{isChannelTextArea:!0,text:(0,ku.getSelectionText)()}))}]}}))})),{align:Wt.xM.BOTTOM,enableSpellCheck:!0})};e.handleOnChange=function(t){var n=e.props.onChange,r=t.currentTarget.value;null==n||n(t,r,(0,Cn.JM)(r))};return e}var i=o.prototype;i.componentDidMount=function(){var e=this;if(!this.props.disableAutoFocus){Promise.resolve().then((function(){var t,n=e.props.value;null===(t=e._ref)||void 0===t||t.setSelection(n.length,n.length)}));this.focus()}null!=g.Z.getActiveCommand(this.props.channel.id)&&nt.Po(this.props.channel.id,null,null)};i.componentDidUpdate=function(e,t){
this.state.nextSelection!==t.nextSelection&&null!=this._ref&&this._ref.setSelection(this.state.nextSelection,this.state.nextSelection)};i.getCurrentWord=function(){var e=this._ref;if(null==e)return{word:null,isAtStart:!1};var t=this.props.value;if(0===t.trim().length)return{word:null,isAtStart:!1};for(var n=e.selectionStart,r=e.selectionEnd;n>0;){if(Ju.test(t[n-1]))break;n--}return{word:t.slice(n,r),isAtStart:0===n}};i.blur=function(){var e=this._ref;null!=e&&e.blur()};i.submit=function(e){e.preventDefault();return this.props.onSubmit(this.props.value)};i.insertAutocomplete=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=this.getCurrentWord().word;if(null==r)this.insertText(e,t,n);else{var o=this._ref;if(null==o)return;var i=o.value.slice(0,o.selectionStart-r.length),a=o.value.slice(o.selectionEnd);this._insertText(e,i,a,n)}};i.insertText=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=this._ref;if(null!=r){
var o=r.value.slice(0,r.selectionStart),i=r.value.slice(r.selectionEnd);this._insertText(e,o,i,n)}};i._insertText=function(e,t,n,r){var o=this;if(null!=this._ref){r&&(e+=" ");var i=t+e+n,a=this.props.onChange;null==a||a(null,i,(0,Cn.JM)(i));var l=t.length+e.length;this.setState({nextSelection:l},(function(){o.props.maybeShowAutocomplete()}))}};i.hasOpenCodeBlock=function(){var e=this._ref;if(null==e)return!1;var t=this.props.value.slice(0,e.selectionStart).match(/```/g);return null!=t&&t.length>0&&t.length%2!=0};i.render=function(){var e=this.props,t=e.value,n=e.disabled,o=e.placeholder,i=e.onResize,l=e.className,u=e.submitting,c=e.textAreaPaddingClassName,s=e.spellcheckEnabled,f=e["aria-controls"],d=e["aria-expanded"],p=e["aria-activedescendant"];return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(_u.d9,{event:pe.CkL.GLOBAL_CLIPBOARD_PASTE,handler:this.handleGlobalPaste}),(0,r.jsx)(Lu.Z,{ref:this.handleSetRef,className:a()(l,c),rows:1,fontWidthEstimate:6,placeholder:o,disabled:n||u,
onChange:this.handleOnChange,onResize:i,onKeyPress:this.handleKeyPress,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,onFocus:this.props.onFocus,onBlur:this.props.onBlur,onPaste:this.handlePaste,onClick:this.handleClick,onContextMenu:this.handleContextMenu,value:n?"":t,tabIndex:0,spellCheck:s,"aria-controls":f,"aria-expanded":d,"aria-activedescendant":p,"aria-haspopup":"listbox","aria-autocomplete":"list","aria-multiline":!0})]})};i.handleTabOrEnterDown=function(e){if(e.which===pe.yXg.TAB&&this.props.onTab()){e.preventDefault();e.stopPropagation()}else if(e.which===pe.yXg.ENTER&&this.props.onEnter(e)){e.preventDefault();e.stopPropagation()}else if(e.which===pe.yXg.ESCAPE){e.preventDefault();e.stopPropagation();this.props.hideAutocomplete()}else if(e.which===pe.yXg.TAB&&this.hasOpenCodeBlock()){e.preventDefault();e.stopPropagation();this.insertText("\t",void 0,!1)}};i.insertEmoji=function(e,t){this.insertText("".concat(":").concat(e.name).concat(":"),void 0,t)}
;i.getFirstText=function(){return this.props.value};return o}(o.PureComponent);const ec=$u;var tc=n(212563),nc=n(81724),rc=new WeakMap,oc=new WeakMap,ic={isMerging:function(e){var t;return null===(t=oc.get(e))||void 0===t||t},isSaving:function(e){var t;return null===(t=rc.get(e))||void 0===t||t},withoutMerging:function(e,t){var n=this.isMerging(e);oc.set(e,!1);try{t()}finally{oc.set(e,n)}},withoutSaving:function(e,t){var n=this.isSaving(e);rc.set(e,!1);try{t()}finally{rc.set(e,n)}},withSingleEntry:function(e,t){return ac(e,"other",!1,t)},withMergedEntry:function(e,t){return ac(e,"other",!0,t)},currentEntry:function(e){return e.history.stack.length>0?e.history.stack[e.history.index]:null},insertOrMergeEntry:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=ic.currentEntry(e);ic.isMerging(e)&&(null==r?void 0:r.mergeable)?this.mergeEntry(e,n):this.insertEntry(e,t,n)},insertEntry:function(e,t){
var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;o=null!=o?o:e.selection;r=null!=r?r:nc.bN.richValue(e);var i=e.history,a=ic.currentEntry(e);null!=a&&(a.mergeable=!1);i.stack.length>0&&(i.stack.length=i.index+1);for(;i.stack.length>=250;)i.stack.shift();i.stack.push({type:t,mergeable:n,createdAt:Date.now(),value:r,selection:o});i.index=i.stack.length-1},mergeEntry:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=e.selection,r=nc.bN.richValue(e),o=ic.currentEntry(e);if(null!=o){o.value=r;o.selection=n;t||(o.mergeable=!1)}}};function ac(e,t,n,r){var o=e.children,i=e.selection,a=ic.isSaving(e);rc.set(e,!1);try{var l=r();a&&(n?ic.mergeEntry(e):e.children!==o?ic.insertEntry(e,t,!1):!ic.isMerging(e)||null==e.selection||null!=i&&nc.M8.equals(e.selection,i)||ic.mergeEntry(e));return l}finally{rc.set(e,a)}}var lc=n(178872),uc=n(761434),cc=n(937026),sc=n(251140)
;function fc(e,t,n,r){for(var o,i=0,a=0;a<n.length;a++){var l=n[a];if(null!=l){var u=i+l.length;if(r<=u){var c=nc.C0.child(t,a),s=nc.bN.node(e,c)[0];if(nc.LC.isText(s))return{path:c,offset:Math.min(Math.max(r-i,0),s.text.length)}}i=u}}var f,d=n.length-1;return{path:nc.C0.child(t,d),offset:null!==(f=null===(o=n[d])||void 0===o?void 0:o.length)&&void 0!==f?f:0}}function dc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return dc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dc(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function yc(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function bc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){yc(e,t,n[t])}))}return e}function vc(e,t){return function(e){if(Array.isArray(e))return e
}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return hc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hc(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var mc=new Set(["line","blockQuote"]),gc=[];var Oc=n(152163),Ec=n(688087),jc=n(447387),Sc=n(268333),Cc=n(851588),Pc=n.n(Cc);function Ic(e,t,n){t in e?Object.defineProperty(e,t,{value:n,
enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function _c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Ic(e,t,n[t])}))}return e}function wc(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function xc(e){var t=e.emoji;return(0,r.jsx)(V.ZP,{text:t.name,delay:750,position:V.ZP.Positions.TOP,children:function(e){return(0,r.jsx)(Oc.Z,_c({
src:t.src,emojiName:t.name,animated:!1},e))}})}function Nc(e){var t=e.emoji;return(0,r.jsx)(V.ZP,{text:t.name,delay:750,position:V.ZP.Positions.TOP,children:function(e){return(0,r.jsx)(Oc.Z,_c({emojiId:t.emojiId,emojiName:t.name,animated:t.animated},e))}})}function Tc(e){var t=e.text;return(0,r.jsx)(jc.Z,{children:t})}function Ac(e){var t=e.id,n=e.guildId,o=e.channelId,i=(0,h.e7)([je.default],(function(){return je.default.getUser(t)})),a=(0,h.e7)([bn.Z],(function(){return bn.Z.hidePersonalInformation})),l=Tr.Z.useName(n,o,i),u=(0,r.jsx)(jc.Z,{children:null==l?"<@".concat(t,">"):"@".concat(l)});if(null!=i){var c=a?null:"#".concat(i.discriminator);return(0,r.jsx)(V.ZP,{text:(0,r.jsxs)("div",{className:Pc().userTooltip,children:[(0,r.jsx)(Ec.Z,{user:i,animate:!0,size:Ec.u.SIZE_16,className:Pc().avatar}),i.username,(0,r.jsx)("span",{className:Pc().discriminator,children:c})]}),delay:750,position:V.ZP.Positions.TOP,"aria-label":i.tag,children:function(e){return(0,r.jsx)(W.Z,wc(_c({
tag:"span"},e),{children:u}))}})}return u}function Zc(e){var t=e.id,n=e.guildId,o=(0,h.e7)([Oe.Z],(function(){var e=Oe.Z.getGuild(n);return null==e?null:e.roles[t]}));return null==o?(0,r.jsx)("span",{children:"@deleted-role"}):(0,r.jsxs)(jc.Z,{color:0===o.color?null:o.color,children:["@",o.name]})}function Rc(e){var t=e.id,n=(0,h.e7)([It.Z],(function(){return It.Z.getChannel(t)}));return(0,r.jsx)(jc.Z,{iconType:(0,Sc.wl)(n),children:null!=n?n.name:J.Z.Messages.DELETED_CHANNEL_PLACEHOLDER})}function Mc(e){var t=e.text,n=e.id;return(0,r.jsxs)(jc.Z,{children:[t,"(",n,")"]})}var Dc=n(956902),Lc=n.n(Dc),kc=n(522491),Uc=n.n(kc),Gc=n(169595),Hc=n.n(Gc);function Bc(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Vc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){
return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Bc(e,t,n[t])}))}return e}function Fc(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var Wc=function(e){var t=e.className,n=e.attributes,o=e.children,i=a()(Uc().inlineElement,Uc().inlineVoid,t);return(0,r.jsx)("span",Fc(Vc({},n),{className:i,contentEditable:!1,children:o}))},Yc=n(615222),zc=n.n(Yc);function Kc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function qc(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n
;return e}function Xc(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Qc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Kc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Kc(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Jc={strong:Lc().bold,em:Lc().italics,u:Lc().underline,s:Lc().strikethrough,inlineCode:Lc().inlineCode,link:Lc().fakeLink,url:Lc().fakeLink,autolink:Lc().fakeLink,spoiler:a()(zc().spoilerText,Lc().spoiler),staticRouteLink:Lc().fakeLink,syntaxBefore:Lc().syntaxBefore,syntaxAfter:Lc().syntaxAfter,codeBlockText:Lc().codeBlockText,codeBlockSyntax:Lc().codeBlockSyntax,codeBlockLang:Lc().codeBlockLang};function $c(e,t){var n,o=t.attributes,i=t.children,l=t.leaf,u=t.text,c=!1,s=Qc(nc.bN.node(e,nc.C0.parent(nc.bN.findPath(e,u))),1)[0];switch(nc.bN.isEditor(s)?"editor":s.type){case"line":case"blockQuote":c=void 0
;var f=Object.entries(l).filter((function(e){return"text"!==Qc(e,1)[0]})).flatMap((function(e){var t=Qc(e,2),n=t[0],r=t[1];if("hljsTypes"===n)return r;if(!0===r){"codeBlockLang"!==n&&"codeBlockSyntax"!==n||(c=!1);if(n.startsWith("before_")||n.startsWith("after_"))return[Lc()[n]];if(n in Jc)return[Jc[n]];throw new Error("Slate: Unknown decoration attribute: ".concat(n))}})).filter((function(e){return null!=e})).join(" ");n=a()(f,qc({},Lc().syntaxOverride,"||"===l.text||"\\"===l.text))}n=a()(n,qc({},Uc().emptyText,""===u.text));return(0,r.jsx)("span",Xc(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){qc(e,t,n[t])}))}return e}({},o),{className:n,spellCheck:c,children:i}))}var es=n(200754),ts=n.n(es);function ns(e,t){
(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function rs(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function os(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function is(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){os(i,r,o,a,l,"next",e)}function l(e){os(i,r,o,a,l,"throw",e)}a(void 0)}))}}function as(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function ls(e){ls=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return ls(e)}function us(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){as(e,t,n[t])}))}return e}function cs(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function ss(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r]
;t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function fs(e,t){return!t||"object"!==hs(t)&&"function"!=typeof t?rs(e):t}function ds(e,t){ds=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return ds(e,t)}function ps(e){return function(e){if(Array.isArray(e))return ns(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return ns(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ns(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var hs=function(e){
return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function ys(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=ls(e);if(t){var o=ls(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return fs(this,n)}}var bs=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,
o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},vs=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&ds(e,t)}(i,e);var t=ys(i);function i(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);var n
;(n=t.call(this,e)).containerRef=o.createRef();n.state={showPlaceholder:!0,initialValue:(0,Cn.H2)().richValue};n.decorate=n.decorate.bind(rs(n));n.renderElement=n.renderElement.bind(rs(n));n.renderLeaf=n.renderLeaf.bind(rs(n));n.handleOnChange=n.handleOnChange.bind(rs(n));n.handleKeyDown=n.handleKeyDown.bind(rs(n));n.handleKeyUp=n.handleKeyUp.bind(rs(n));n.handleBeforeInput=n.handleBeforeInput.bind(rs(n));n.handleCompositionStart=n.handleCompositionStart.bind(rs(n));n.handleCompositionEnd=n.handleCompositionEnd.bind(rs(n));n.handleFocusCapture=n.handleFocusCapture.bind(rs(n));n.handleBlurCapture=n.handleBlurCapture.bind(rs(n));n.handleContextMenu=n.handleContextMenu.bind(rs(n));return n}var l=i.prototype;l.componentDidCatch=function(e,t){cc.Z.captureException(e,{extra:t});this.setState({initialValue:ps(this.props.editor.children)})};l.decorate=function(e){var t,n=this.props,r=n.editor,o=n.guildId,i=n.decorateExtra;return ps(function(e,t,n){if(nc.bN.areStylesDisabled(e))return[]
;var r=vc(t,2),o=r[0],i=r[1];if(1!==i.length||!nc.bN.isBlock(e,o)||!nc.aj.isInTypes(o,mc))return gc;for(var a=nc.q.markdown(o,n,!0),l=a.entries,u=a.serializedChildren,c=[],s=0;s<l.length;s++){var f=l[s];if(f.attributes.length>0&&f.text.length>0){var d=l[s-1],p=l[s+1],h={anchor:fc(e,i,u,f.start),focus:fc(e,i,u,f.start+f.text.length)},y=nc.bN.nodes(e,{at:h,mode:"lowest",voids:!1}),b={},v=!0,m=!1,g=void 0;try{for(var O,E=f.attributes[Symbol.iterator]();!(v=(O=E.next()).done);v=!0){var j=O.value;b[j]=!0;if("syntaxBefore"===j&&null!=p){var S=!0,C=!1,P=void 0;try{for(var I,_=p.attributes[Symbol.iterator]();!(S=(I=_.next()).done);S=!0){var w=I.value;b["before_".concat(w)]=!0}}catch(e){C=!0;P=e}finally{try{S||null==_.return||_.return()}finally{if(C)throw P}}}else if("syntaxAfter"===j&&null!=d){var x=!0,N=!1,T=void 0;try{for(var A,Z=d.attributes[Symbol.iterator]();!(x=(A=Z.next()).done);x=!0){var R=A.value;b["after_".concat(R)]=!0}}catch(e){N=!0;T=e}finally{try{x||null==Z.return||Z.return()
}finally{if(N)throw T}}}}}catch(e){m=!0;g=e}finally{try{v||null==E.return||E.return()}finally{if(m)throw g}}var M=!0,D=!1,L=void 0;try{for(var k,U=y[Symbol.iterator]();!(M=(k=U.next()).done);M=!0){var G=vc(k.value,2),H=G[0],B=G[1];if(!nc.bN.isVoid(e,H)){var V={anchor:nc.bN.start(e,B),focus:nc.bN.end(e,B)};nc.Jz.isBefore(V.anchor,h.anchor)&&(V.anchor=h.anchor);nc.Jz.isAfter(V.focus,h.focus)&&(V.focus=h.focus);c.push(bc({},b,V))}}}catch(e){D=!0;L=e}finally{try{M||null==U.return||U.return()}finally{if(D)throw L}}}}return c}(r,e,o)).concat(ps(function(e,t){if(nc.bN.areStylesDisabled(e))return[];var n=pc(t,2),r=n[0],o=n[1],i=[];if(!nc.aj.isType(r,"line")||null==r.codeBlockState)return i;var a=r.codeBlockState,l=a.hljsTypes,u=a.isStyledCodeBlockLine;if(null==l||0===l.length||!u)return[];var c=!0,s=!1,f=void 0;try{for(var d,p=l[Symbol.iterator]();!(c=(d=p.next()).done);c=!0){var h=d.value,y=r.children.map((function(e){return nc.LC.isText(e)?e.text:null}));i.push({hljsTypes:h.types,
anchor:fc(e,o,y,h.start),focus:fc(e,o,y,h.end)})}}catch(e){s=!0;f=e}finally{try{c||null==p.return||p.return()}finally{if(s)throw f}}return i}(r,e)),ps(null!==(t=null==i?void 0:i(r,e))&&void 0!==t?t:[]))};l.renderElement=function(e){var t,n=this.props,o=n.guildId,i=n.channelId,l=n.renderExtraElement,u=e.attributes,c=e.children,s=null!==(t=null==l?void 0:l(e))&&void 0!==t?t:function(e,t,n){var o=e.attributes,i=e.children,l=e.element;switch(l.type){case"line":var u,c=l.children[l.children.length-1],s=nc.LC.isText(c)&&c.text.length>0;return(null===(u=l.codeBlockState)||void 0===u?void 0:u.isInCodeBlock)?(0,r.jsxs)("div",Fc(Vc({className:Lc().codeLine,spellCheck:null==l.codeBlockState||null==l.codeBlockState.lang},o),{children:[i,s?(0,r.jsx)("br",{}):null]})):(0,r.jsxs)("div",Fc(Vc({},o),{children:[i,s?(0,r.jsx)("br",{}):null]}));case"blockQuote":var f=a()(Hc().blockquoteContainer,Hc().slateBlockquoteContainer);return(0,r.jsxs)("div",Fc(Vc({},o),{className:f,children:[(0,r.jsx)("span",{
contentEditable:!1,className:Hc().blockquoteDivider}),(0,r.jsx)("blockquote",{children:i})]}));case"emoji":return(0,r.jsxs)(Wc,{attributes:o,children:[(0,r.jsx)(xc,{emoji:l.emoji}),i]});case"customEmoji":return(0,r.jsxs)(Wc,{attributes:o,children:[(0,r.jsx)(Nc,{emoji:l.emoji}),i]});case"textMention":return(0,r.jsxs)(Wc,{attributes:o,children:[(0,r.jsx)(Tc,{text:l.name}),i]});case"userMention":return(0,r.jsxs)(Wc,{attributes:o,children:[(0,r.jsx)(Ac,{id:l.userId,channelId:n,guildId:t}),i]});case"roleMention":return(0,r.jsxs)(Wc,{attributes:o,children:[(0,r.jsx)(Zc,{id:l.roleId,guildId:t}),i]});case"channelMention":return(0,r.jsxs)(Wc,{attributes:o,children:[(0,r.jsx)(Rc,{id:l.channelId}),i]});case"commandMention":return(0,r.jsxs)(Wc,{attributes:o,children:[(0,r.jsx)(Mc,{text:l.commandName,id:l.commandId}),i]});default:return null}}(e,o,i);return null!=s?s:(0,r.jsx)("div",cs(us({},u),{children:c}))};l.renderLeaf=function(e){
var t,n=this.props,o=n.editor,i=n.renderExtraLeaf,a=e.attributes,l=e.children,u=null!==(t=null==i?void 0:i(e))&&void 0!==t?t:$c(o,e);return null!=u?u:(0,r.jsx)("span",cs(us({},a),{children:l}))};l.handleOnChange=function(e){var t,n,r=this.props.editor,o=nc.bN.isEditorEmpty(r)&&null==r.composition;o!==this.state.showPlaceholder&&this.setState({showPlaceholder:o});null===(n=(t=this.props).onChange)||void 0===n||n.call(t,e)};l.handleKeyDown=function(e){var t,n;if(null==this.props.editor.composition)null===(n=(t=this.props).onKeyDown)||void 0===n||n.call(t,e);else{e.preventDefault();e.stopPropagation()}};l.handleKeyUp=function(e){var t,n;if(null==this.props.editor.composition)null===(n=(t=this.props).onKeyUp)||void 0===n||n.call(t,e);else{e.preventDefault();e.stopPropagation()}};l.handleBeforeInput=function(e){
var t,n=this.props.editor,r=lc.F3.findDocumentOrShadowRoot(n).getSelection(),o=(null!==(t=null==r?void 0:r.rangeCount)&&void 0!==t?t:0)>0?null==r?void 0:r.getRangeAt(0):null,i=null!=o?nc.bN.toSlateRange(n,o,{exactMatch:!0,suppressThrow:!0}):null,a=e.getTargetRanges()[0],l=null!=a?nc.bN.toSlateRange(n,a,{exactMatch:!0,suppressThrow:!0}):null;0;if(null==n.composition){if("insertText"===e.inputType&&null!=a&&null==l){var u=nc.bN.toSlatePoint(n,[a.startContainer,a.startOffset],{exactMatch:!0,suppressThrow:!0}),c=nc.bN.toSlatePoint(n,[a.endContainer,a.endOffset],{exactMatch:!0,suppressThrow:!0});if(null!=u&&null==c){var s={anchor:u,focus:c=nc.bN.end(n,u.path)};sc.Q.select(n,s);nc.M8.isExpanded(s)&&n.deleteFragment();null!=e.data&&n.insertText(e.data)}e.preventDefault()}if(e.inputType.startsWith("deleteContent")&&null!=i&&nc.M8.isExpanded(i)){n.selection=i;n.deleteFragment(e.inputType.endsWith("Backward")?"backward":"forward");e.preventDefault()}}};l.handleCompositionStart=function(){
var e=this.props.editor;0;var t={insertedPrefix:!1,startedInsideInline:!1};this.state.showPlaceholder&&this.setState({showPlaceholder:!1});var n=null!=e.selection&&nc.M8.isCollapsed(e.selection)?nc.bN.leaf(e,e.selection.anchor.path):null;if(null!=n){null!=(null!=e.selection&&nc.M8.isCollapsed(e.selection)?nc.bN.above(e,{at:n[1],match:function(t){return nc.bN.isInline(e,t)},mode:"lowest"}):null)&&(t.startedInsideInline=!0);if(nc.bN.isEditorEmpty(e)){sc.Q.insertNodes(e,{text:"\ufeff"},{select:!0});t.insertedPrefix=!0;e.composition=t}else{var r,o=lc.F3.findDocumentOrShadowRoot(this.props.editor).getSelection(),i=(null!==(r=null==o?void 0:o.rangeCount)&&void 0!==r?r:0)>0?null==o?void 0:o.getRangeAt(0):null;if(null==(null!=i?nc.bN.toSlateRange(e,i,{exactMatch:!0,suppressThrow:!0}):null)&&null!=i){var a=nc.bN.toSlateRange(e,i,{exactMatch:!1,suppressThrow:!0});e.selection=null;if(null!=a)sc.Q.select(e,a);else{var l;sc.Q.select(e,null!==(l=e.selection)&&void 0!==l?l:nc.bN.end(e,[]))}}
e.composition=t}}else e.composition=t};l.handleCompositionEnd=function(e){var t=this.props.editor;0;if(null!=t.composition){if(t.composition.insertedPrefix&&null!=t.selection&&nc.M8.isCollapsed(t.selection)){var n=t.selection.anchor.path,r=nc.aj.leaf(t,n);nc.bN.withoutNormalizing(t,(function(){var e=r.text.replace(/^\uFEFF/,"");sc.Q.delete(t,{unit:"offset",distance:r.text.length,reverse:!0});nc.bN.insertText(t,e)}))}t.composition=null}};l.handleFocusCapture=function(e){var t=this.props.onFocus;null==t||t(e)};l.handleBlurCapture=function(e){var t=this.props,n=t.editor,r=t.onBlur,o=e.relatedTarget,i=lc.F3.findDocumentOrShadowRoot(this.props.editor),a=i.getElementById("textarea-context"),l=i.getElementById("slate-toolbar");if(null!=o&&!ms(o,a)&&!ms(o,l)){var u=lc.F3.findDocumentOrShadowRoot(n).getSelection();if(null!=u){for(var c=!1,s=u.rangeCount-1;s>=0;s--){var f=u.getRangeAt(s);if(null!=this.containerRef.current&&ms(f.commonAncestorContainer,this.containerRef.current)){c=!0;break}}
c&&u.removeAllRanges()}}null==r||r(e)};l.handleContextMenu=function(e){var t=this.props.editor;xu.FB?(0,Du.jW)(e,is((function(){var e,o;return bs(this,(function(i){switch(i.label){case 0:return[4,n.e(16377).then(n.bind(n,516377))];case 1:e=i.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,cs(us({},e),{editor:t,text:nc.bN.getSelectedText(t,!0)}))}]}}))})),{align:uc.xM.BOTTOM,enableSpellCheck:!0}):blur()};l.render=function(){var e=this.props,t=e.editor,n=e.className,o=e.containerClassName,i=e.canFocus,l=e.autoFocus,u=e.placeholder,c=e.onPaste,s=(e.channelId,e.guildId,e.onChange,e.onFocus,e.onBlur,e.onKeyDown,e.onKeyUp,e.decorateExtra,e.renderExtraElement,e.renderExtraLeaf,ss(e,["editor","className","containerClassName","canFocus","autoFocus","placeholder","onPaste","channelId","guildId","onChange","onFocus","onBlur","onKeyDown","onKeyUp","decorateExtra","renderExtraElement","renderExtraLeaf"]));return(0,r.jsxs)("div",{ref:this.containerRef,className:o,
children:[this.state.showPlaceholder?(0,r.jsx)("div",{className:a()(ts().placeholder,n),"aria-hidden":!0,children:u}):null,(0,r.jsx)(lc.mH,{editor:t,value:this.state.initialValue,onChange:this.handleOnChange,children:(0,r.jsx)(lc.CX,cs(us({},s),{className:a()(Hc().markup,ts().editor,n),decorate:this.decorate,renderElement:this.renderElement,renderLeaf:this.renderLeaf,onFocusCapture:this.handleFocusCapture,onBlurCapture:this.handleBlurCapture,onContextMenu:this.handleContextMenu,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,onDOMBeforeInput:this.handleBeforeInput,onCompositionStart:this.handleCompositionStart,onCompositionEnd:this.handleCompositionEnd,onPasteCapture:c,autoFocus:l&&!1!==i,autoCorrect:"off","data-can-focus":!1!==i,"aria-label":u,"aria-multiline":!0}))})]})};return i}(o.PureComponent);function ms(e,t){if(null==t)return!1;for(;null!=e;){if(e===t)return!0;e=e.parentNode}return!1}const gs=vs;var Os=n(375832);function Es(e,t){(null==t||t>e.length)&&(t=e.length)
;for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function js(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Es(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Es(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Ss=n(104182),Cs=n(421749),Ps=n(902788),Is=n(691781)
;function _s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ws(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return _s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _s(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}
var xs=new Set(["applicationCommandOption"]),Ns=new Set([S.jw.ATTACHMENT]),Ts=new Set(["line","applicationCommand"]);function As(e,t,n,r){var o=e.insertData,i=e.isInline,a=e.isVoid,l=e.onChange,u=e.deleteBackward,c=e.deleteForward,s=e.deleteFragment;e.insertData=function(n){if(null!=t&&nc.bN.isEditorEmpty(e)&&n.types.includes("application/x-discord-interaction-data")){var r=JSON.parse(n.getData("application/x-discord-interaction-data")),i=Cs.Z.getCommandFromInteractionData(r),a=Cs.Z.getApplication(null==i?void 0:i.applicationId);if(null!=i){var l,u,c=null!=a?{type:A.Qi.APPLICATION,id:a.id,icon:a.icon,name:null!==(u=null===(l=a.bot)||void 0===l?void 0:l.username)&&void 0!==u?u:a.name,application:a}:null;nt.Po(t.id,i,c,A.Vh.PASTE,(0,pn.Fi)(i,r));return null}}return o(n)};e.isInline=function(e){return!!xs.has(e.type)||i(e)};e.isVoid=function(e){return!("applicationCommandOption"!==e.type||!Ns.has(e.optionType))||a(e)};e.deleteBackward=function(t){Ls(e,(function(){return u(t)}))}
;e.deleteForward=function(t){Ls(e,(function(){return c(t)}))};e.deleteFragment=function(t){Ls(e,(function(){return s(t)}))};var f=null,d=null,p=null,h=null,y=null;e.onChange=function(){if(null!=t){var o,i,a=g.Z.getState(t.id),u=nc.bN.getFirstText(e),c=(0,X.hV)(t,null!==(o=null==u?void 0:u.text)&&void 0!==o?o:""),s=null!==(i=rt.ZP.getQueryCommands(t.id,S.yU.CHAT,c.text))&&void 0!==i?i:null;if(nc.bN.richValue(e)!==f||!nc.Ew.equals(e.selection,d)||a.activeCommand!==p||s!==h){var b=ic.withMergedEntry(e,(function(){var o;return function(e){var t=e.editor,n=e.storeCommandState,r=e.channel,o=e.canUseCommands,i=e.canOnlyUseTextCommands,a=e.commandChanged,l=e.previousOptionValues,u=Ds(t),c=u.command,s=u.commandText,f=n.activeCommand;if(!o||i&&(null==f?void 0:f.inputType)!==A.iw.BUILT_IN_TEXT&&(null==f?void 0:f.inputType)!==A.iw.BUILT_IN_INTEGRATION){null!=c&&Zs(t,r.id,f,!0);return null}if(null!=c){if(nc.bN.isEditorEmpty(t)){Zs(t,r.id,f,!1);return null}if(null==f){Zs(t,r.id,f,!1);return null}
var d="".concat(Q.GI).concat(c.displayName);if(null==s||!s.startsWith(d)||0===tc.cu(t).length&&(s.length<d.length+1||" "!==s[d.length])){Zs(t,r.id,f,!0);return null}}else{if(null!=f&&a){var p=function(e,t,n){var r,o,i,a=n.initialValues,l=n.activeCommand;if(null==l)return null;var u,c=(null!==(i=null===(r=l.options)||void 0===r?void 0:r.length)&&void 0!==i?i:0)>0?tc.zb(e,l):null,s=(0,Os.sk)(nc.bN.richValue(e),{mode:"raw",range:{anchor:nc.bN.start(e,[]),focus:null!==(u=null==c||null===(o=c[0])||void 0===o?void 0:o.keyRange.anchor)&&void 0!==u?u:nc.bN.end(e,[])}}),f="",d=s.toLocaleLowerCase();if(xr.Z.getCurrentConfig({}).showApplicationCommandSuggestions){var p=Ar.exec(d);null!=p&&(d=Q.GI+d.substring(p.length))}var h="".concat(Q.GI).concat(l.displayName).toLocaleLowerCase(),y="".concat(Q.GI).concat(l.name).toLocaleLowerCase();d.startsWith(h)&&d.length>h.length?f=s.substring(h.length).trim():d.startsWith(y)&&d.length>y.length&&(f=s.substring(y.length).trim());var b,v=[],m=null,g=null
;if(null!=l.options){var O=new Set;if(null!=c){var E=!0,j=!1,S=void 0;try{for(var C,P=c[Symbol.iterator]();!(E=(C=P.next()).done);E=!0){var I,_=C.value;O.add(_.name);var w=null!==(I=ks(n,t,_.name))&&void 0!==I?I:_.text,x={type:"applicationCommandOption",optionName:_.name,optionDisplayName:_.displayName,optionType:_.type,children:[{text:w}]};v.push(x);0===_.text.length&&null==m&&(m=x)}}catch(e){j=!0;S=e}finally{try{E||null==P.return||P.return()}finally{if(j)throw S}}}var N=!0,T=!1,A=void 0;try{for(var Z,R=l.options[Symbol.iterator]();!(N=(Z=R.next()).done);N=!0){var M=Z.value;if(!O.has(M.name)&&(M.required||null!=a[M.name])){var D=void 0,L=void 0;if(f.length>0&&!Ns.has(M.type)){D=f;f=""}else D=null!=(L=ks(n,t,M.name))?L:"";var k={type:"applicationCommandOption",optionName:M.name,optionDisplayName:M.displayName,optionType:M.type,children:[{text:D}]};v.push(k);0===D.length&&null==m&&(m=k);null==L&&(g=k)}}}catch(e){T=!0;A=e}finally{try{N||null==R.return||R.return()}finally{if(T)throw A}}}
b=f.length>0?"".concat(Q.GI).concat(l.displayName," ").concat(f.replace(/\r|\n/g," ")):0===v.length?"".concat(Q.GI).concat(l.displayName," "):"".concat(Q.GI).concat(l.displayName);v.unshift({text:b});var U={type:"applicationCommand",children:v,command:{id:l.id,name:l.name,displayName:l.displayName}};nc.bN.withoutNormalizing(e,(function(){sc.Q.insertNodes(e,[U],{at:Is.YD});var t=!0,n=!1,r=void 0;try{for(var o,i=nc.bN.blocks(e).reverse()[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=ws(o.value,2)[1];nc.C0.isAfter(a,Is.YD)&&sc.Q.removeNodes(e,{at:a,voids:!0})}}catch(e){n=!0;r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}}));var G=null;if(null!=m){sc.Q.selectCommandOption(e,m.optionName);G=m.optionName}else if(null!=g){sc.Q.selectCommandOption(e,g.optionName,!1);G=g.optionName}else sc.Q.resetSelectionToEnd(e);null==g&&Rs(e,l);return G}(t,r,n),h=tc.tM(t,f);Ms({guildId:r.guild_id,channelId:r.id,command:f,activeOption:p,currentOptionValues:h,
previousOptionValues:null,validateAll:!0,allowEmpty:!0});return{commandId:f.id,optionValues:h}}if(null!=f&&!a){nt.Po(r.id,null,null);return null}var y=nc.bN.richValue(t)[0],b=y.children[0];if(Ts.has(y.type)&&nc.LC.isText(b)){var v=function(e,t){if(!e.startsWith("/"))return null;var n=(0,X.hV)(t,e.substring(1));if(!n.hasSpaceTerminator)return null;var r=rt.ZP.getQueryCommands(t.id,S.yU.CHAT,n.text);if(null==r)return null;var o=n.text.trim(),i=o+" ";r=r.filter((function(e){return e.inputType!==A.iw.PLACEHOLDER&&(e.displayName===o||e.displayName.startsWith(i))}));if(1===r.length&&r[0].displayName===o){var a,l=r[0],u=null===(a=rt.ZP.getApplicationSections(t.id,S.yU.CHAT))||void 0===a?void 0:a.find((function(e){return e.id===l.applicationId}));return{command:l,section:u}}return null}(b.text,r);if(null!=v){nt.Po(r.id,v.command,v.section);return null}}}if(null!=f&&null!=c){(function(e,t){if(null==t.options||0===t.options.length)return!1;var n=tc.zb(e,t);if(0===n.length)return!1
;nc.bN.withoutNormalizing(e,(function(){for(var t=n.length-1;t>=0;t--){var r=n[t];sc.Q.textToInline(e,{type:"applicationCommandOption",optionName:r.name,optionDisplayName:r.displayName,optionType:r.type,children:[{text:r.text}]},{anchor:r.keyRange.anchor,focus:r.valueRange.focus})}var o=nc.bN.getFirstText(e);if(null==o)return!1;var i=o.text.trim();o.text!==i&&sc.Q.textToText(e,i,{anchor:{path:Is.u9,offset:0},focus:{path:Is.u9,offset:o.text.length}})}));return!0})(t,f)||Rs(t,f);var m,g=tc.tM(t,f),O=nc.bN.above(t,{match:function(e){return nc.bN.isInline(t,e)&&"applicationCommandOption"===e.type},mode:"lowest"}),E=null!==(m=null==O?void 0:O[0].optionName)&&void 0!==m?m:null;Ms({guildId:r.guild_id,channelId:r.id,command:f,activeOption:E,currentOptionValues:g,previousOptionValues:l,validateAll:!1,allowEmpty:!1});return{commandId:c.id,optionValues:g}}return null}({editor:e,storeCommandState:a,channel:t,canUseCommands:n,canOnlyUseTextCommands:r,
commandChanged:(null===(o=a.activeCommand)||void 0===o?void 0:o.id)!==(null==p?void 0:p.id),previousOptionValues:y})}));if(null!=b){var v=ic.currentEntry(e);null!=v&&(v.commandId=b.commandId);y=b.optionValues}else y=null;f=nc.bN.richValue(e);d=e.selection;p=a.activeCommand;h=s}}l()};return e}function Zs(e,t,n,r){var o=ws(nc.bN.blocks(e)[0],1)[0],i=(r?(0,Os.sg)(o,{mode:"plain"}).trimEnd():"").split("\n").map((function(e){return{type:"line",children:[{text:e}]}})),a=[i.length-1];sc.Q.insertNodes(e,i,{at:Is.YD});var l=!0,u=!1,c=void 0;try{for(var s,f=nc.bN.blocks(e).reverse()[Symbol.iterator]();!(l=(s=f.next()).done);l=!0){var d=ws(s.value,2)[1];nc.C0.isAfter(d,a)&&sc.Q.removeNodes(e,{at:d,voids:!0})}}catch(e){u=!0;c=e}finally{try{l||null==f.return||f.return()}finally{if(u)throw c}}null!=n&&nt.Po(t,null,null)}function Rs(e,t){if(null==t.options||1!==t.options.length||!0===t.options[0].required||Ns.has(t.options[0].type)||tc.cu(e).length>0)return!1;if(null==tc.cr(e))return!1
;var n=nc.bN.getFirstText(e);if(null==n)return!1;var r=t.options[0],o={path:Is.u9,offset:t.displayName.length+2},i={path:Is.u9,offset:n.text.length};if(!n.text.startsWith("".concat(Q.GI).concat(t.displayName," ").toLocaleLowerCase())||nc.Jz.equals(o,i))return!1;sc.Q.textToInline(e,{type:"applicationCommandOption",optionName:r.name,optionDisplayName:r.displayName,optionType:r.type,children:[{text:n.text.substring(t.displayName.length+2)}]},{anchor:o,focus:i});return!0}function Ms(e){var t=e.guildId,n=e.channelId,r=e.command,o=e.activeOption,i=e.currentOptionValues,a=e.previousOptionValues,l=e.validateAll,u=e.allowEmpty;if(null==r.options)return!1;var c=l?null:g.Z.getActiveOptionName(n),s={},f=g.Z.getOptionStates(n),d=!1,p=!0,h=!1,y=void 0;try{for(var b,v=r.options[Symbol.iterator]();!(p=(b=v.next()).done);p=!0){
var m,O,E,j=b.value,S=f[j.name],C=l||j.name===c&&c!==o||!1===(null==S||null===(m=S.lastValidationResult)||void 0===m?void 0:m.success)&&(null==i?void 0:i[j.name])!==(null==a?void 0:a[j.name]),P={hasValue:null!=i&&j.name in i,isActive:j.name===o,lastValidationResult:C?(0,Ps.f)(j,null!==(E=null==i?void 0:i[j.name])&&void 0!==E?E:null,t,n,u):null==S?void 0:S.lastValidationResult};if(null==S||S.hasValue!==P.hasValue||S.isActive!==P.isActive||C&&!1===(null===(O=S.lastValidationResult)||void 0===O?void 0:O.success)){s[j.name]=P;d=!0}}}catch(e){h=!0;y=e}finally{try{p||null==v.return||v.return()}finally{if(h)throw y}}d&&nt.g7(n,s)}function Ds(e){var t=tc.cr(e);if(null==t)return{command:null,commandText:null};var n=ws(t,1)[0],r=n.children[0];return nc.LC.isText(r)?{command:n.command,commandText:r.text}:{command:n.command,commandText:null}}function Ls(e,t){var n=tc.cu(e)[0];t();var r=nc.M8.toPoint(e.selection);if(null!=r&&n!==tc.cu(e)[0]){var o=Ds(e),i=o.command,a=o.commandText
;null!=i&&null!=a&&!a.endsWith(" ")&&nc.Jz.equals(r,{path:Is.u9,offset:i.displayName.length+1})&&sc.Q.insertText(e," ")}}function ks(e,t,n){var r,o,i,a,l=null===(r=e.activeCommand)||void 0===r||null===(o=r.options)||void 0===o?void 0:o.find((function(e){return e.name===n})),u=e.initialValues[n];if(null==l||null==u)return null;if(null!=l.choices){var c;return null===(c=l.choices.find((function(e){return e.value===u.value})))||void 0===c?void 0:c.displayName}var s=null===(i=u.value)||void 0===i?void 0:i.toString();return l.type===S.jw.CHANNEL||l.type===S.jw.MENTIONABLE&&null!=It.Z.getChannel(s)?"<#".concat(s,">\t"):l.type===S.jw.USER||l.type===S.jw.MENTIONABLE&&null!=je.default.getUser(s)?"<@".concat(s,">"):l.type===S.jw.ROLE||l.type===S.jw.MENTIONABLE&&null!=(null===(a=Oe.Z.getGuild(t.guild_id))||void 0===a?void 0:a.getRole(null!=s?s:""))?"<@&".concat(s,">"):s}var Us=n(577869),Gs=n.n(Us),Hs=n(5387),Bs=n.n(Hs),Vs=n(909844);function Fs(e,t){(null==t||t>e.length)&&(t=e.length)
;for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ws(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||zs(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ys(e){return function(e){if(Array.isArray(e))return Fs(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||zs(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}
function zs(e,t){if(e){if("string"==typeof e)return Fs(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Fs(e,t):void 0}}var Ks=new Set(["line"]),qs=Gs().listLanguages(),Xs={},Qs=!0,Js=!1,$s=void 0;try{for(var ef,tf=qs[Symbol.iterator]();!(Qs=(ef=tf.next()).done);Qs=!0){var nf=ef.value;nf=nf.toLowerCase();var rf=Gs().getLanguage(nf);if(null!=rf){var of=rf.aliases;Xs[nf]=nf;if(null!=of){var af=!0,lf=!1,uf=void 0;try{for(var cf,sf=of[Symbol.iterator]();!(af=(cf=sf.next()).done);af=!0){var ff=cf.value;Xs[ff.toLowerCase()]=nf}}catch(e){lf=!0;uf=e}finally{try{af||null==sf.return||sf.return()}finally{if(lf)throw uf}}}}}}catch(e){Js=!0;$s=e}finally{try{Qs||null==tf.return||tf.return()}finally{if(Js)throw $s}}var df=/^[a-z0-9_+\-.#]+$/,pf=/^[a-z0-9_+\-.#]+$/i
;for(var hf in Xs)if(null==hf.match(df))throw new Error("Language name does not match regex: ".concat(hf));function yf(e){var t=e.onChange,n=null;e.onChange=function(){if(nc.bN.richValue(e)!==n){ic.withMergedEntry(e,(function(){nc.bN.withoutNormalizing(e,(function(){return function(e){var t=function(e){var t=[],n=null,r=!0,o=!1,i=void 0;try{for(var a,l=nc.bN.blocks(e)[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){n=vf(e,a.value,null!=n&&(n.isInCodeBlock||n.opensCodeBlock),null!=n&&(n.isStyledCodeBlockLine||n.opensCodeBlockOnOwnLine),null==n||!n.opensCodeBlock&&n.closesCodeBlock?null:n.lang);t.push(n)}}catch(e){o=!0;i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}!function(e){var t=[],n=!1,r=!0,o=!1,i=void 0;try{for(var a,l=function(){var r=a.value,o=r===e[e.length-1];if(r.closesCodeBlock||o){n&&o&&!r.closesCodeBlock&&t.push(r);n=!1;if(t.length>0){var i=t.map((function(e){return(0,Os.sg)(e.blockEntry[0])})).join("\n"),l=t[0].lang
;if(null!=l&&null!=Gs().getLanguage(l)){var u=function(e,t){var n="".concat(e,"-").concat(t),r=Of.get(n);if(null!=r)return r;var o=Vs.default.highlight(t,e);if(null==o)return null;var i=o.value.split("\n");Of.set(n,i);return i}(i,l);if(null!=u)for(var c=[],s=0;s<t.length;s++){for(var f=u[s].replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#x27;/g,"'"),d=[],p=void 0,h=0,y=0;null!=(p=bf.exec(f));){var b=p.index+p[0].length,v=p.index-y;if(p.index>y){c.length>0&&d.push({types:Ys(c),start:h,end:h+v});h+=v}"</span>"===p[0]?c.pop():c.push(p[1]);y=b}if(c.length>0){var m=f.length-y;d.push({types:Ys(c),start:h,end:h+m})}t[s].hljsTypes=d}}t=[]}}n&&t.push(r);r.opensCodeBlock&&(n=!0)},u=e[Symbol.iterator]();!(r=(a=u.next()).done);r=!0)l()}catch(e){o=!0;i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}}(t);return t}(e);!function(e,t){var n=!0,r=!1,o=void 0;try{for(var i,a=t[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){
var l=i.value,u=Ws(l.blockEntry,2),c=u[0],s=u[1],f=mf(l);(null==c?void 0:c.codeBlockState)!=f&&sc.Q.setNodes(e,{codeBlockState:f},{at:s})}}catch(e){r=!0;o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}}(e,t)}(e)}))}));n=nc.bN.richValue(e)}t()};return e}var bf=/(?:<span class="([^"]*)">)|(?:<\/span>)/g;function vf(e,t,n,r,o){var i=function(e){var t=Ws(e,2),n=t[0],r=t[1];if(!Ks.has(n.type))return[];for(var o,i=[],a=/\\|```/g,l=0;l<n.children.length;l++){var u=n.children[l];if(nc.LC.isText(u)){a.lastIndex=0;for(;null!=(o=a.exec(u.text));)"\\"!==o[0]?i.push({path:nc.C0.child(r,l),offset:o.index}):a.lastIndex+=1}}return i}(t),a=i[0],l=i[i.length-1],u=null;if(null!=l){u=Ws(nc.bN.node(e,l.path),1)[0].text.substring(l.offset+3)}var c,s=n&&null!=a,f=n&&0===i.length,d=r&&0===i.length,p=(s?i.slice(1):i).length%2==1,h=p&&(null==u||""===u||null!=u.match(pf)),y=h&&null!=u&&null!==(c=Xs[u.toLowerCase()])&&void 0!==c?c:null;return{blockEntry:t,wasInCodeBlock:n,isInCodeBlock:f,
isStyledCodeBlockLine:d,lang:p||s?y:o,hljsTypes:null,closesCodeBlock:s,opensCodeBlock:p,opensCodeBlockOnOwnLine:h}}function mf(e){return e.isStyledCodeBlockLine||e.wasInCodeBlock?{lang:e.lang,wasInCodeBlock:e.wasInCodeBlock,isInCodeBlock:e.isInCodeBlock,isStyledCodeBlockLine:e.isStyledCodeBlockLine,hljsTypes:e.hljsTypes}:null}var gf={max:1/0,maxAge:6e4,updateAgeOnGet:!0},Of=new(Bs())(gf);function Ef(e,t){var n=0,r=!0,o=!1,i=void 0;try{for(var a,l=nc.bN.nodes(e,{at:{anchor:{path:Is.u9,offset:0},focus:t},mode:"lowest",match:function(e){return nc.LC.isText(e)}})[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){var u=a.value,c=u[0].text;nc.C0.equals(u[1],t.path)&&(c=c.substring(0,t.offset));var s,f=c.match(/```/g);n+=null!==(s=null==f?void 0:f.length)&&void 0!==s?s:0}}catch(e){o=!0;i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n%2!=0}function jf(e){return null!=e.selection&&Ef(e,nc.M8.start(e.selection))}function Sf(e,t){(null==t||t>e.length)&&(t=e.length)
;for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Cf(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Sf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Sf(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Pf=new Set(["line","blockQuote"]);function If(e){
var t=e.deleteBackward,n=e.deleteFragment,r=e.insertBreak,o=e.onChange;e.deleteBackward=function(n){var r=nc.bN.getCurrentBlock(e);if("blockQuote"===(null==r?void 0:r[0].type)){var o=nc.M8.toPoint(e.selection);if(null!=o&&nc.C0.isFirstChild(r[1],o.path)&&0===o.offset){sc.Q.setNodes(e,{type:"line"},{at:r[1]});return}}t(n)};e.deleteFragment=function(t){if(null==e.selection)n(t);else{var r=Cf(nc.M8.edges(e.selection),2),o=r[0],i=r[1],a=[o.path[0]],l=nc.bN.node(e,a),u=[i.path[0]],c=nc.C0.equals(a,u)?null:nc.bN.node(e,u);ic.withSingleEntry(e,(function(){"blockQuote"===(null==l?void 0:l[0].type)&&nc.Jz.isAtStart(o,l)&&sc.Q.setNodes(e,{type:"line"},{at:a});"blockQuote"===(null==c?void 0:c[0].type)&&nc.Jz.isAtEnd(i,c)&&sc.Q.setNodes(e,{type:"line"},{at:u});n(t)}))}};e.insertBreak=function(){var t=nc.bN.getCurrentBlock(e);if("blockQuote"!==(null==t?void 0:t[0].type))r();else{var n=nc.M8.toPoint(e.selection);if(null==n)return;(function(e,t,n){if(!nc.bN.isEmpty(e,t[0]))return!1
;var r=nc.bN.previous(e,{at:t[1]});if(null==r||!nc.bN.isBlock(e,r[0])||"blockQuote"!==r[0].type||!nc.bN.isEmpty(e,r[0]))return!1;if(!nc.Jz.isAtStart(n,t))return!1;sc.Q.setNodes(e,{type:"line"},{at:t[1]});sc.Q.removeNodes(e,{at:r[1]});return!0})(e,t,n)||sc.Q.splitNodes(e,{at:n,always:!0})}};var i=null;e.onChange=function(){if(nc.bN.richValue(e)!==i){ic.withMergedEntry(e,(function(){nc.bN.withoutNormalizing(e,(function(){return function(e){var t=!1,n=!0,r=!1,o=void 0;try{for(var i,a=nc.bN.blocks(e)[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var l=Cf(i.value,2),u=l[0],c=l[1];if(Pf.has(u.type)){var s={path:nc.C0.child(c,0),offset:0};if(Ef(e,s)){if("blockQuote"===u.type){sc.Q.setNodes(e,{type:"line"},{at:c});sc.Q.insertText(e,"> ",{at:s})}}else if("blockQuote"!==u.type){var f=u.children[0];if(nc.LC.isText(f)){var d=f.text.match(/^\s*>>> /),p=f.text.match(/^\s*> /);if(null!=p||null!=d||t){sc.Q.setNodes(e,{type:"blockQuote"},{at:c});if(!t){
var h,y,b=null!==(y=null!==(h=null==p?void 0:p[0].length)&&void 0!==h?h:null==d?void 0:d[0].length)&&void 0!==y?y:0,v=nc.C0.child(c,0);sc.Q.delete(e,{at:{anchor:{path:v,offset:0},focus:{path:v,offset:b}}});t=null!=d}}}}}}}catch(e){r=!0;o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}}(e)}))}));i=nc.bN.richValue(e)}o()};return e}function _f(e,t){var n=function(n){var r=ic.currentEntry(e);null!=r&&(r.mergeable=!1);if(!(n>=e.history.stack.length)){e.history.index=n;var o=ic.currentEntry(e);t({newValue:o.value,newSelection:o.selection})}},r=e.apply,o=e.deleteBackward,i=e.deleteForward,a=e.deleteFragment,l=e.insertData,u=e.insertText,c=e.onChange;e.history={index:0,stack:[]};e.onChange=function(){var t=e.history;if(0===t.stack.length){t.stack=[wf(e)];t.index=0}null!=e.selection&&(ic.currentEntry(e).selection=e.selection);f=null;c()};e.undo=function(){e.history.index>0&&n(e.history.index-1)};e.redo=function(){e.history.index<e.history.stack.length-1&&n(e.history.index+1)}
;var s=null,f=null,d=null;e.apply=function(t){var n=e.history;r(t);var o=nc.bN.richValue(e);if(o!==d){if(0===n.stack.length){n.stack=[wf(e)];n.index=0}if(ic.isSaving(e)){!function(e,t,n){var r,o=e.selection,i=ic.currentEntry(e),a=!0,l=!0;if("insert_text"===t.type&&1===t.text.length){r="insert";l=!((""===t.text||t.text.endsWith(" "))&&"insert_text"===(null==n?void 0:n.type)&&(""!==n.text||!n.text.endsWith(" ")))}else if("split_node"===t.type)r="insert";else if("remove_text"===t.type&&1===t.text.length)r="delete";else{r="other";a=!1;l=!1}if("set_selection"===t.type&&null!=i){i.selection=o;return}!a||(u=i,c=r,(null==u?void 0:u.type)!==c||Date.now()-u.createdAt>=4e3)?ic.insertEntry(e,r,l):ic.insertOrMergeEntry(e,r,l);var u,c}(e,t,s);s=t}f=t;d=o}};e.deleteBackward=function(t){ic.withSingleEntry(e,(function(){return o(t)}))};e.deleteForward=function(t){ic.withSingleEntry(e,(function(){return i(t)}))};e.deleteFragment=function(t){ic.withSingleEntry(e,(function(){return a(t)}))}
;e.insertText=function(t){1===t.length&&"remove_text"===(null==f?void 0:f.type)?ic.withMergedEntry(e,(function(){return u(t)})):null!=e.selection&&nc.M8.isExpanded(e.selection)?ic.withSingleEntry(e,(function(){return u(t)})):u(t)};e.insertData=function(t){"remove_text"===(null==f?void 0:f.type)?ic.withMergedEntry(e,(function(){return l(t)})):ic.withSingleEntry(e,(function(){return l(t)}))};return e}function wf(e){return{type:"other",mergeable:!1,createdAt:Date.now(),value:nc.bN.richValue(e),selection:e.selection}}var xf=n(555581);function Nf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Tf(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()
}finally{if(l)throw o}}return i}}(e,t)||Zf(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Af(e){return function(e){if(Array.isArray(e))return Nf(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Zf(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zf(e,t){if(e){if("string"==typeof e)return Nf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Nf(e,t):void 0}}
var Rf=/(@[^@#]+(?:#\d{4}))|(@[^\s\t@#]+)(?=[\s\t@#:])|(:[a-zA-Z0-9_~]+:)|(#[^\s\t@#:]+(?=[\s\t@#:]))/g,Mf=new Set(["emoji","customEmoji","textMention","userMention","roleMention","channelMention"]),Df=new Set(["line","blockQuote"]),Lf=new Set(["applicationCommandOption"]);function kf(e,t,n){var r=nc.bN.areStylesDisabled(e),o=nc.bN.blocks(e),i=!0,a=!1,l=void 0;try{for(var u,c=o[Symbol.iterator]();!(i=(u=c.next()).done);i=!0){var s=u.value;if(Df.has(s[0].type))r?Gf(e,s,!0,null):Uf(e,s,t,n);else for(var f=Tf(s,2),d=f[0],p=f[1],h=d.children.length-1;h>=0;h--){var y=d.children[h];if(Lf.has(y.type)){var b=[y,nc.C0.child(p,h)];r?Gf(e,b,!0,null):Uf(e,b,t,n)}}}}catch(e){a=!0;l=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw l}}}function Uf(e,t,n,r){var o,i="line"===t[0].type&&!0===(null===(o=t[0].codeBlockState)||void 0===o?void 0:o.isInCodeBlock),a=nc.q.markdown(t[0],n);if(Gf(e,t,i,a)){t=nc.q.updateElement(e,t);a=nc.q.markdown(t[0],n)}if(!i){if(Hf(e,t,r,a)){
t=nc.q.updateElement(e,t);a=nc.q.markdown(t[0],n)}!function(e,t,n,r,o){for(var i=Tf(t,2),a=i[0],l=i[1],u=!1,c=a.children.length-1;c>=0;c--){var s=a.children[c];if(nc.LC.isText(s)){var f=nc.C0.child(l,c),d=[];Rf.lastIndex=0;for(var p=void 0;null!=(p=Rf.exec(s.text));)if(0===p.index||null!=s.text.charAt(p.index-1).match(/(\t|\s)/)){if(!Vf(e,l,{path:f,offset:p.index},o)){var h=(0,xf.i)(p[0],n,r);null!=h&&Ff(r,t[0],h)?d.push({index:p.index,length:p[0].length,node:h}):Rf.lastIndex=p.index+1}}else Rf.lastIndex=p.index+1;var y=!0,b=!1,v=void 0;try{for(var m,g=d.reverse()[Symbol.iterator]();!(y=(m=g.next()).done);y=!0){var O=m.value;Bf(e,[s,nc.C0.child(l,c)],O.index,O.length,O.node);u=!0}}catch(e){b=!0;v=e}finally{try{y||null==g.return||g.return()}finally{if(b)throw v}}}}}(e,t,n,r,a)}}function Gf(e,t,n,r){for(var o=Tf(t,2),i=o[0],a=o[1],l=!1,u=i.children.length-1;u>=0;u--){var c=i.children[u],s=u<i.children.length-1?i.children[u+1]:null;if(nc.LC.isText(c)&&!n){if(null==s||!e.isVoid(s))continue
;for(var f=!1,d=0;;){var p=c.text.indexOf("\\",d);if(-1===p)break;if(p===c.text.length-1){f=!0;break}d=p+2}if(f){var h=nc.C0.child(a,u+1);sc.Q.voidToText(e,(0,Os.sg)(s,{mode:"plain",preventEmojiSurrogates:!0}),h);l=!0}}else if(e.isVoid(c)){var y=nc.C0.child(a,u),b={path:nc.C0.child(y,0),offset:0};if(n||null!=r&&Vf(e,a,b,r)){sc.Q.voidToText(e,(0,Os.sg)(c,{mode:"plain",preventEmojiSurrogates:!0}),y);l=!0}}}return l}function Hf(e,t,n,r){var o=t[1],i=!1,a=Af(r.entries).reverse(),l=!0,u=!1,c=void 0;try{for(var s,f=a[Symbol.iterator]();!(l=(s=f.next()).done);l=!0){var d=s.value,p=void 0;switch(d.attributes[0]){case"emoji":p={type:"emoji",emoji:{name:d.data.name,src:d.data.src,surrogate:d.data.surrogate,jumboable:!0===d.data.jumboable},children:[{text:""}]};break;case"customEmoji":p={type:"customEmoji",emoji:{emojiId:d.data.emojiId,name:d.data.name,animated:d.data.animated,jumboable:!0===d.data.jumboable},children:[{text:""}]};break;case"textMention":p={type:"textMention",name:d.data.text,
children:[{text:""}]};break;case"mention":p={type:"userMention",userId:d.data.id,children:[{text:""}]};break;case"roleMention":p={type:"roleMention",roleId:d.data.id,children:[{text:""}]};break;case"channel":p={type:"channelMention",channelId:d.data.id,children:[{text:""}]};break;default:continue}if(Ff(n,t[0],p)){var h=fc(e,o,r.serializedChildren,d.start),y=fc(e,o,r.serializedChildren,d.start+d.text.length);sc.Q.textToVoid(e,p,{anchor:h,focus:y});i=!0}}}catch(e){u=!0;c=e}finally{try{l||null==f.return||f.return()}finally{if(u)throw c}}return i}function Bf(e,t,n,r,o){var i=Tf(t,2),a=i[0],l=i[1],u={path:l,offset:n},c={path:l,offset:n+r};s()(u.offset>=0&&u.offset<=a.text.length,"Failed to find valid start position for raw mention replace");s()(c.offset>=0&&c.offset<=a.text.length,"Failed to find valid end position for raw mention replace");sc.Q.textToVoid(e,o,{anchor:u,focus:c})}function Vf(e,t,n,r){var o=0,i=!0,a=!1,l=void 0;try{for(var u,c=nc.bN.nodes(e,{at:{anchor:nc.bN.start(e,t),
focus:n},mode:"lowest"})[Symbol.iterator]();!(i=(u=c.next()).done);i=!0){var s=Tf(u.value,2),f=s[0],d=s[1];nc.LC.isText(f)?nc.C0.equals(d,n.path)?o+=n.offset:o+=f.text.length:o+=1}}catch(e){a=!0;l=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw l}}var p=!0,h=!1,y=void 0;try{for(var b,v=r.entries[Symbol.iterator]();!(p=(b=v.next()).done);p=!0){var m=b.value;if(m.attributes.includes("codeBlockText")||m.attributes.includes("inlineCode")){var g=m.start,O=m.start+m.text.length;if(g<=o&&O>=o)return!0}}}catch(e){h=!0;y=e}finally{try{p||null==v.return||v.return()}finally{if(h)throw y}}return!1}function Ff(e,t,n){if("applicationCommandOption"!==t.type)return!0;switch(t.optionType){case S.jw.CHANNEL:return"channelMention"===n.type;case S.jw.ROLE:return"roleMention"===n.type||"textMention"===n.type&&"@everyone"===n.name;case S.jw.USER:return"userMention"===n.type;case S.jw.MENTIONABLE:return"roleMention"===n.type||"userMention"===n.type||"textMention"===n.type&&"@everyone"===n.name
;case S.jw.STRING:var r=null!=e?g.Z.getOption(e,t.optionName):null;return null==(null==r?void 0:r.choices)&&!0!==(null==r?void 0:r.autocomplete);default:return!1}}function Wf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Yf(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function zf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Yf(e,t,n[t])}))}return e}function Kf(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){
return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function qf(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Wf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Wf(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Xf=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){
a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function Qf(e,t,n){var r=nc.bN.getCurrentInline(e),o=nc.bN.getCurrentBlock(e),i=nc.M8.toPoint(e.selection);if(null==i||null==o)return!0;if("block"===t)return!0;if("line"===t&&null==r)return!1;var a=r;if(null==a){var l=(n?nc.bN.before:nc.bN.after)(e,i);null!=l&&null!=(a=nc.bN.getParentInline(e,l))&&(i=l)}if(null!=a){var u=qf(a,2),c=u[0],s=u[1];if(nc.bN.isEmpty(e,c)||nc.bN.isVoid(e,c))sc.Q.removeInline(e,s);else{var f=qf(nc.bN.edges(e,s),2),d=f[0],p=f[1];sc.Q.delete(e,{at:i,unit:t,reverse:n,select:!0,bounds:{anchor:d,focus:p}})}return!0}var h=!1;if(null!=o){var y=qf(o,2)[1],b=qf(nc.bN.edges(e,y),2),v=b[0],m=b[1];h=n&&nc.Jz.equals(i,v)||!n&&nc.Jz.equals(i,m)}if("word"===t&&!h){var g=nc.bN.getCurrentText(e);if(null!=g){
var O=qf(g,2)[1],E=qf(nc.bN.edges(e,O),2),j=E[0],S=E[1];sc.Q.delete(e,{at:i,unit:t,reverse:n,select:!0,bounds:{anchor:j,focus:S}});return!0}}sc.Q.delete(e,{at:i,unit:t,reverse:n,select:!0});return!0}var Jf=Ss.ML.positions;function $f(e){var t,n,r,o,i,a,l,u,c,s,f,d,p,h,y,b,v,m,g,O,E,j,S,C,P,I,_,w,x,N,T,A,Z,R,M,D,L,k,U,G,H,B,V,F,W,Y,z,K,q,X,Q,J=arguments;return Xf(this,(function($){switch($.label){case 0:t=J.length>1&&void 0!==J[1]?J[1]:{};i=(o=null!=t?t:{}).at,a=void 0===i?e.selection:i,l=o.unit,u=void 0===l?"offset":l,c=o.reverse,s=void 0!==c&&c,f=o.voids,d=void 0!==f&&f;if("word"===u)return[3,9];p=!0,h=!1,y=void 0;$.label=1;case 1:$.trys.push([1,6,7,8]);b=Jf(e,Kf(zf({},t),{voids:d||"block"===u}))[Symbol.iterator]();$.label=2;case 2:return(p=(v=b.next()).done)?[3,5]:[4,v.value];case 3:$.sent();$.label=4;case 4:p=!0;return[3,2];case 5:return[3,8];case 6:Q=$.sent();h=!0;y=Q;return[3,8];case 7:try{p||null==b.return||b.return()}finally{if(h)throw y}return[7];case 8:return[2];case 9:
if(null==a)return[2];m=nc.bN.range(e,a);g=qf(nc.M8.edges(m),2),O=g[0],E=g[1];j=nc.bN.richValue(e);S=s?-1:1;P=null!==(C=null===(n=O.path)||void 0===n?void 0:n[0])&&void 0!==C?C:0;_=null!==(I=null===(r=E.path)||void 0===r?void 0:r[0])&&void 0!==I?I:j.length-1;w=s?P:_;x=s?_:P;$.label=10;case 10:0;A=j[x];R=null!==(Z=x===P?null===(N=O.path)||void 0===N?void 0:N[1]:null)&&void 0!==Z?Z:0;D=null!==(M=x===_?null===(T=E.path)||void 0===T?void 0:T[1]:null)&&void 0!==M?M:A.children.length-1;L=s?R:D;k=s?D:R;$.label=11;case 11:0;U=A.children[k];G=[x,k];H=nc.C0.equals(G,O.path)||nc.C0.isAncestor(G,O.path)?!s&&nc.bN.isEnd(e,O,G)?null:O:nc.bN.start(e,G);B=nc.C0.equals(G,E.path)||nc.C0.isAncestor(G,E.path)?s&&nc.bN.isStart(e,E,G)?null:E:nc.bN.end(e,G);return null==H||null==B?[3,25]:nc.LC.isText(U)&&0===U.text.length?[4,V={path:G,offset:0}]:[3,14];case 12:$.sent();return[4,V];case 13:$.sent();return[3,25];case 14:
return nc.bN.isInline(e,U)&&nc.LC.isText(U.children[0])&&0===U.children[0].text.length?[4,F={path:nc.C0.child(G,0),offset:0}]:[3,17];case 15:$.sent();return[4,F];case 16:$.sent();return[3,25];case 17:W={anchor:H,focus:B};Y=!0,z=!1,K=void 0;$.label=18;case 18:$.trys.push([18,23,24,25]);q=Jf(e,Kf(zf({},t),{at:W}))[Symbol.iterator]();$.label=19;case 19:return(Y=(X=q.next()).done)?[3,22]:[4,X.value];case 20:$.sent();$.label=21;case 21:Y=!0;return[3,19];case 22:return[3,25];case 23:Q=$.sent();z=!0;K=Q;return[3,25];case 24:try{Y||null==q.return||q.return()}finally{if(z)throw K}return[7];case 25:if(k===L)return[3,26];k+=S;return[3,11];case 26:if(x===w)return[3,27];x+=S;return[3,10];case 27:return[2]}}))}var ed,td=["applicationCommand"];!function(e){e[e.None=0]="None";e[e.Character=1]="Character";e[e.Split=2]="Split"}(ed||(ed={}));function nd(e){var t=nc.bN.getCurrentBlock(e);return null==t||td.includes(t[0].type)?ed.None:ed.Split}function rd(e,t){(null==t||t>e.length)&&(t=e.length)
;for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function od(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return rd(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rd(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function id(e,t){(null==t||t>e.length)&&(t=e.length)
;for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ad(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function ld(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function ud(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{
if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return id(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return id(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cd(e){var t=o.useContext(ln.ZP),n=Nr.R$.useSetting(),r=ud(o.useState((function(){var r=(0,Ss.Jh)();!function(e){var t,n,r,o=e.editor,i=e.chatInputType,a=e.channel,l=e.canUseCommands,u=e.canOnlyUseTextCommands,c=e.windowContext,s=e.previewMarkdown,f=e.forTests,d=e.updateState,p=o;p.chatInputType=i;p.windowContext=c;p.previewMarkdown=s;p.composition=null;f||(p=function(e){e.deleteBackward=function(t){if("line"===t){var n=nc.lP.getLineActionRange(e,!0);null!=n&&sc.Q.delete(e,{
at:n})}else e.deleteBackward(t)};e.deleteForward=function(t){if("line"===t){var n=nc.lP.getLineActionRange(e,!1);null!=n&&sc.Q.delete(e,{at:n})}else e.deleteForward(t)};return e}(p=(0,lc.BU)(p)));p=function(e){var t=e.insertText;e.setFragmentData=function(t){if(null!=e.selection){var n=(0,Os.sk)(nc.bN.richValue(e),{mode:"plain",range:e.selection,preventEmojiSurrogates:!0});t.setData("text/plain",n)}};e.insertData=function(n){var r=n.getData("text/plain");if(0!==r.length){null!=e.selection&&nc.M8.isExpanded(e.selection)&&sc.Q.delete(e,{at:e.selection});t(r)}};return e}(p=function(e){var t=e.insertBreak,n=e.insertText;e.insertBreak=function(){switch(nd(e)){case ed.None:break;case ed.Split:t()}};e.insertSoftBreak=function(){e.insertBreak()};e.insertText=function(t){if(t.indexOf("\r")<0&&t.indexOf("\n")<0)n(t);else{var r=t.split(/\r\n|\r|\n/);switch(nd(e)){case ed.None:n(r.join(" "));break;case ed.Split:ic.withSingleEntry(e,(function(){var t=!1,o=!0,i=!1,a=void 0;try{
for(var l,u=r[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value;t&&sc.Q.splitNodes(e,{always:!0});n(c);t=!0}}catch(e){i=!0;a=e}finally{try{o||null==u.return||u.return()}finally{if(i)throw a}}}))}}};return e}(p=function(e){var t=e.apply,n=e.deleteBackward,r=e.deleteForward,o=e.deleteFragment,i=e.insertText;e.apply=function(n){var r;if("set_selection"===n.type&&(null===(r=e.composition)||void 0===r?void 0:r.startedInsideInline)&&nc.M8.isRange(n.properties)&&nc.M8.isRange(n.newProperties)&&nc.M8.isCollapsed(n.newProperties)){var o=nc.bN.getParentInline(e,n.properties),i=nc.bN.getParentInline(e,n.newProperties);if(null!=o&&(null==i||!nc.C0.equals(o[1],i[1])))return}t(n)};e.insertText=function(t){null==e.selection||null==nc.bN.getCurrentInline(e)?i(t):sc.Q.insertText(e,t)};e.deleteBackward=function(t){Qf(e,t,!0)||n(t)};e.deleteForward=function(t){Qf(e,t,!1)||r(t)};e.deleteFragment=function(t){if(null!=e.selection&&nc.M8.isExpanded(e.selection)){
var n=e.selection.anchor,r=e.selection.focus,i=nc.bN.getParentInline(e,n),a=nc.bN.getParentInline(e,r);if(null!=i&&null!=a&&nc.C0.equals(i[1],a[1])){o(t);return}var l=nc.M8.isForward(e.selection);if(null!=i){var u=qf(i,2)[1],c=qf(nc.bN.edges(e,u),2),s=c[0],f=c[1];if(l&&nc.Jz.equals(n,s)){var d;n=null!==(d=nc.bN.before(e,s))&&void 0!==d?d:nc.bN.start(e,[])}else if(!l&&nc.Jz.equals(n,f)){var p;n=null!==(p=nc.bN.after(e,f))&&void 0!==p?p:nc.bN.end(e,[])}}if(null!=a){var h=qf(a,2)[1],y=qf(nc.bN.edges(e,h),2),b=y[0],v=y[1];if(!l&&nc.Jz.equals(r,b)){var m;r=null!==(m=nc.bN.before(e,b))&&void 0!==m?m:nc.bN.start(e,[])}else if(l&&nc.Jz.equals(r,v)){var g;r=null!==(g=nc.bN.after(e,v))&&void 0!==g?g:nc.bN.end(e,[])}}sc.Q.delete(e,{at:{anchor:n,focus:r},reverse:"backward"===t,select:!0})}else o(t)};Ss.ML.positions=$f;return e}(p)));(null===(t=i.commands)||void 0===t?void 0:t.enabled)&&(p=As(p,a,!0===l,!0===u));p=function(e,t,n){var r=e.isInline,o=e.isVoid,i=e.onChange;e.isVoid=function(e){
return!!Mf.has(e.type)||o(e)};e.isInline=function(e){return!!Mf.has(e.type)||r(e)};var a=null,l=!0;e.onChange=function(){var r=nc.bN.richValue(e);if(r!==a||e.previewMarkdown!==l){ic.withMergedEntry(e,(function(){nc.bN.withoutNormalizing(e,(function(){return kf(e,t,n)}))}));a=r;l=e.previewMarkdown}i()};return e}(p,a.guild_id,a.id);(null===(n=i.markdown)||void 0===n?void 0:n.disableBlockQuotes)||(p=If(p));(null===(r=i.markdown)||void 0===r?void 0:r.disableCodeBlocks)||(p=yf(p));f&&(p=function(e){var t=e.isInline,n=e.isVoid;e.isInline=function(e){return"testInline"===e.type||"testInlineVoid"===e.type||t(e)};e.isVoid=function(e){return"testInlineVoid"===e.type||n(e)};return e}(p));p=_f(p=function(e){var t=e.onChange,n=!1,r=!1;e.onChange=function(){if(n)r=!0;else{n=!0;try{var e=0;do{r=!1;if(e++>=5)break;t()}while(r)}finally{n=!1}}};return e}(p=function(e){var t=e.apply,n=e.onChange;e.apply=function(n){t(n);nc.Ew.isValid(e,e.selection)&&(e.lastGoodSelection=e.selection)}
;e.onChange=function(){if(!nc.Ew.isValid(e,e.selection)){var t;if(nc.Ew.isValid(e,e.lastGoodSelection))t=e.lastGoodSelection;else{var r=nc.bN.end(e,[]);t={anchor:r,focus:r}}e.selection=t}if(null!=e.selection){for(var o,i,a=od(nc.M8.edges(e.selection),2),l=a[0],u=a[1],c=!1;null!=l&&null!=(o=nc.bN.getParentVoid(e,l))&&!Is.On.includes(o[0].type);){l=nc.bN.before(e,l,{unit:"offset"});c=!0}for(;null!=u&&null!=(i=nc.bN.getParentVoid(e,u))&&!Is.On.includes(i[0].type);){u=nc.bN.after(e,u,{unit:"offset"});c=!0}c&&null!=l&&null!=u&&(nc.M8.isForward(e.selection)?sc.Q.select(e,{anchor:l,focus:u}):sc.Q.select(e,{anchor:u,focus:l}))}n()};return e}(p)),(function(e){var t=e.newValue,n=e.newSelection;return d(p,"undo",{value:t,selection:n})}));0}(ld(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){
return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){ad(e,t,n[t])}))}return e}({},e),{editor:r,windowContext:t,previewMarkdown:n}));return r})),1),i=r[0];o.useEffect((function(){var e=function(){return i.onChange()};g.Z.addChangeListener(e);rt.ZP.addChangeListener(e);return function(){g.Z.removeChangeListener(e);rt.ZP.removeChangeListener(e)}}),[i]);o.useEffect((function(){if(i.previewMarkdown!==n){i.previewMarkdown=n;i.onChange()}}),[i,n]);return i}function sd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function fd(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){
if(!e)return;if("string"==typeof e)return sd(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sd(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dd(e,t){var n,r=g.Z.getActiveCommand(e.id),o=null==r||null===(n=r.options)||void 0===n?void 0:n.find((function(e){return e.name===t.optionName}));return null!=o&&(o.type!==S.jw.STRING||null!=(null==o?void 0:o.choices)||(null==o?void 0:o.autocomplete))}function pd(e,t,n,r){var o=nc.bN.areStylesDisabled(e)||null==n?t:n;ic.withSingleEntry(e,(function(){sc.Q.insertText(e,r?o+" ":o)}))}function hd(e,t,n,r){o.useImperativeHandle(e,(function(){return function(e,t,n){return{getSlateEditor:function(){return e},
submit:function(e){e.preventDefault();n()},focus:function(){nc.bN.focus(e)},blur:function(){lc.F3.blur(e)},getCurrentWord:function(){var t=e.selection;if(null==t||!nc.Ew.isValid(e,t)||nc.M8.isExpanded(t))return{word:null,isAtStart:!1};if(jf(e))return{word:null,isAtStart:!1};for(var n="",r=!1,o=t.anchor.offset,i=fd(nc.bN.node(e,nc.C0.parent(t.anchor.path)),2),a=i[0],l=i[1],u=fd(nc.bN.node(e,t.anchor.path),2),c=u[0],s=u[1];;){if(--o<0){if(!nc.C0.hasPrevious(s)){r=!0;break}var f;c=(f=fd(nc.bN.node(e,nc.C0.previous(s)),2))[0],s=f[1]}if(!nc.LC.isText(c))break;var d=c.text[o];if(Is.i$.test(d))break;n=d+n}return r&&nc.bN.isBlock(e,a)&&"applicationCommand"===a.type&&o<a.command.name.length+2?{word:null,isAtStart:!1}:{word:n,isAtStart:r&&nc.C0.isFirstEditorBlock(l)}},getFirstText:function(){var t,n;return null!==(n=null===(t=nc.bN.getFirstText(e))||void 0===t?void 0:t.text)&&void 0!==n?n:""},getCurrentCommandOption:function(){var t=tc.HZ(e);return null==t?null:t[0].optionName},
getCurrentCommandOptionValue:function(){var n,r=tc.HZ(e);if(null==r)return[];var o=g.Z.getActiveCommand(t.id),i=null==o||null===(n=o.options)||void 0===n?void 0:n.find((function(e){return e.name===r[0].optionName}));return null==i?[]:tc.IB(e,i,r[0])},getCommandOptionValues:function(){var n=g.Z.getActiveCommand(t.id);return null==n?{}:tc.tM(e,n)},insertText:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];ic.withSingleEntry(e,(function(){var i=tc.HZ(e),a=null!=i&&dd(t,i[0]);if(null!=r&&a){sc.Q.removeInlineChildren(e,i);o=!1}pd(e,n,r,o);if(null!=r&&a){var l=tc.cr(e);i=nc.q.updateElement(e,i);if(null!=l){var u=nc.q.markdown(l[0],t.id);Hf(e,i,t.id,u)&&(i=nc.q.updateElement(e,i))}tc.xi(e,t.guild_id,t.id,nc.q.updateElement(e,i),!1);sc.Q.selectNextCommandOption(e)}}))},insertAutocomplete:function(n){
var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=this;ic.withSingleEntry(e,(function(){var a=tc.HZ(e),l=null!=a&&dd(t,a[0]);if(l){sc.Q.removeInlineChildren(e,a);o=!1}else{var u=i.getCurrentWord().word;null!=u&&u.length>0&&sc.Q.delete(e,{distance:u.length,unit:"character",reverse:!0})}pd(e,n,r,o);l&&sc.Q.selectNextCommandOption(e)}))},insertEmoji:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];ic.withSingleEntry(e,(function(){var r,o,i=t.animated?"a":"",a=null!==(o=null!==(r=t.originalName)&&void 0!==r?r:t.name)&&void 0!==o?o:"",l=":".concat(t.name,":"),u=null!=t.id?"<".concat(i,":").concat(a.replace(/:/g,""),":").concat(t.id,">"):null;pd(e,l,u,n)}))}}}(t,n,r)}),[t,n,r])}var yd=n(506907),bd=n.n(yd);function vd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function md(e,t){return function(e){if(Array.isArray(e))return e
}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return vd(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vd(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var gd=new Set(["*","_","~","`","|"]),Od={bold:"**",italics:"*",underline:"__",strikethrough:"~~",inlineCode:"`",spoiler:"||"};function Ed(e,t,n){if(null==e.selection)return{before:{},
after:{}};var r=jd(e,t),o=jd(e,n);for(var i in r)i in o||delete r[i];for(var a in o)a in r||delete o[a];return{before:r,after:o}}function jd(e,t){var n=md(nc.bN.node(e,t.path),1)[0];if(!nc.LC.isText(n))return{};for(var r=n.text,o=t.offset,i=o-1;i>=0&&gd.has(r.charAt(i));i--)o--;for(var a=t.offset,l=a;l<r.length&&gd.has(r.charAt(l));l++)a++;var u=r.substring(o,a),c={};Cd({result:c,text:u,startIndex:o,syntax:"***",type1:"italics",type2:"bold"});Cd({result:c,text:u,startIndex:o,syntax:"___",type1:"italics",type2:"underline"});Sd(c,u,o,"**","bold");Sd(c,u,o,"*","italics");Sd(c,u,o,"_","italics");Sd(c,u,o,"__","underline");Sd(c,u,o,"`","inlineCode");Sd(c,u,o,"~~","strikethrough");Sd(c,u,o,"||","spoiler");return c}function Sd(e,t,n,r,o){var i=Pd(t,r);i>=0&&(e[o]={chars:r,location:n+i})}function Cd(e){var t=e.result,n=e.text,r=e.startIndex,o=e.syntax,i=e.type1,a=e.type2,l=Pd(n,o);if(l>=0){t[i]={chars:o.substring(0,1),location:l+r};t[a]={chars:o.substring(1),location:l+r+1}}}function Pd(e,t){
var n=e.indexOf(t);if(n>=0){var r=t.charAt(0);if(n>0&&e.charAt(n-1)===r)return-1;if(n<e.length-1&&e.charAt(n+t.length)===r)return-1}return n}function Id(e,t){ic.withSingleEntry(e,(function(){nc.bN.withoutNormalizing(e,(function(){s()(null!=e.selection,"Editor has no selection");var n=md(nc.M8.edges(e.selection),2),r=n[0],o=n[1],i=Ed(e,r,o),a=i.before[t],l=i.after[t],u=nc.bN.node(e,r.path),c=nc.bN.node(e,o.path);if(null!=u&&null!=c&&nc.LC.isText(u[0])&&nc.LC.isText(c[0])){var f=nc.C0.equals(u[1],c[1]);if(null!=a&&null!=l){var d={path:r.path,offset:a.location},p={path:o.path,offset:l.location};sc.Q.delete(e,{at:p,distance:l.chars.length});sc.Q.delete(e,{at:d,distance:a.chars.length});var h=r.offset,y=o.offset;nc.Jz.isBefore(r,d)||(h-=a.chars.length);f&&!nc.Jz.isBefore(o,d)&&(y-=a.chars.length);nc.Jz.isAfter(o,p)&&(y-=l.chars.length);sc.Q.select(e,{anchor:{path:r.path,offset:Math.max(0,h)},focus:{path:o.path,offset:Math.max(0,y)}})}else{var b=Od[t];sc.Q.insertText(e,b,{at:o})
;sc.Q.insertText(e,b,{at:r});var v=u[0].text.length+b.length,m=c[0].text.length+(f?2*b.length:b.length);sc.Q.select(e,{anchor:{path:r.path,offset:Math.min(v,r.offset+b.length)},focus:{path:o.path,offset:Math.min(m,o.offset+(f?b.length:0))}})}}}))}));nc.bN.focus(e)}function _d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function wd(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return _d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xd(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Nd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){xd(e,t,n[t])}))}return e}function Td(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){
return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var Ad=function(e){var t,n,i=e.channelId,l=e.element,u=e.attributes,c=e.children,s=(0,lc.vt)(),f=(0,lc.UE)(),d=(0,lc._7)(),p=(0,h.cj)([g.Z],(function(){var e,t,n;return{optionType:null===(e=g.Z.getOption(i,l.optionName))||void 0===e?void 0:e.type,errored:!0!==(null===(t=g.Z.getOptionState(i,l.optionName))||void 0===t||null===(n=t.lastValidationResult)||void 0===n?void 0:n.success)}}),[i,l.optionName]),y=p.optionType,b=p.errored,v=(0,h.e7)([Iu.Z],(function(){return Iu.Z.getUpload(i,l.optionName,d.chatInputType.drafts.type)}),[i,d.chatInputType.drafts.type,l.optionName]),m=l.children[l.children.length-1],O=null!=m&&nc.LC.isText(m)&&m.text.endsWith("\n"),E=a()(Uc().inlineElement,Uc().optionPill,(xd(t={},Uc().selectedPill,f&&s),xd(t,Uc().erroredPill,(!f||!s)&&b),t)),j=o.useCallback((function(){
nc.bN.isVoid(d,l)||sc.Q.selectCommandOption(d,l.optionName,!0)}),[d,l]);n=y===S.jw.ATTACHMENT?null!=(null==v?void 0:v.filename)?(0,r.jsxs)("span",{className:a()(Uc().optionPillValue,Uc().attachmentFilename),contentEditable:!1,children:[v.filename,c]}):(0,r.jsxs)("span",{className:a()(Uc().optionPillValue,Uc().readonlyPillValue),contentEditable:!1,children:[J.Z.Messages.APPLICATION_COMMAND_FILE_ATTACHMENT,c]}):(0,r.jsxs)("span",{className:Uc().optionPillValue,children:[c,O?(0,r.jsx)("span",{className:Uc().newLine,contentEditable:!1}):null]});return(0,r.jsxs)("span",Td(Nd({},u),{className:E,children:[(0,r.jsxs)("span",{className:Uc().optionPillKey,contentEditable:!1,onClick:j,children:[l.optionDisplayName,""]}),n,(0,r.jsx)("span",{contentEditable:!1,children:""})]}))};function Zd(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Rd(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Md(e){var t=e.attributes,n=e.children,o=e.leaf,i=e.text;if(!o.commandName)return null;var l=a()(Uc().commandName,Zd({},Uc().emptyText,""===i.text));return(0,r.jsx)("span",Rd(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Zd(e,t,n[t])}))}return e}({},t),{className:l,spellCheck:!1,children:n}))}
var Dd=n(715250),Ld=n.n(Dd);const kd=o.forwardRef((function(e,t){var n=e.value,i=e.type,l=e.channel,u=e.className,c=e.disabled,f=e.submitting,d=e.placeholder,p=e.textAreaPaddingClassName,h=e.onChange,y=e.onPaste,b=e.onResize,v=e.onFocus,m=e.onBlur,O=e.onKeyDown,E=e.onKeyUp,j=e.onTab,C=e.onEnter,P=e.onSubmit,I=e.maybeShowAutocomplete,_=e.hideAutocomplete,w=e.moveSelection,x=e.spellcheckEnabled,N=e.canUseCommands,T=e.canOnlyUseTextCommands,A=e.disableAutoFocus,Z=e.disableEnterToSubmit,R=e["aria-owns"],M=e["aria-expanded"],D=e["aria-haspopup"],L=e["aria-activedescendant"],k=e["aria-controls"],U=e["aria-invalid"],G=e["aria-describedby"],H=e["aria-labelledby"],B=e["aria-autocomplete"],V=o.useRef(null),F=o.useRef(null),W=o.useRef(!0),Y=o.useCallback((function(e,t,n){var r,o=n.value,i=n.selection,a=nc.bN.richValue(e),u=e.selection,c=!1;if(void 0!==o&&o!==a){e.children=o;if("parent"===t&&!e.previewMarkdown){try{e.previewMarkdown=!0;kf(e,l.guild_id,l.id)}finally{e.previewMarkdown=!1}
kf(e,l.guild_id,l.id);i=void 0}"undo"!==t&&void 0!==o&&o!==a&&ic.insertEntry(e,"other",!1,a,u);c=!0}null==i||nc.Ew.isValid(e,i)||(i=void 0);if((c||!nc.Ew.isValid(e,u))&&void 0===i){var s=nc.bN.end(e,[]);i={anchor:s,focus:s}}if(null!=i&&!nc.Ew.equals(i,u)){e.selection=i;var f=ic.currentEntry(e);null!=f&&(f.selection=i);c=!0}var d=tc.cr(e);null!=d&&d[0].command.id!==(null===(r=g.Z.getActiveCommand(l.id))||void 0===r?void 0:r.id)&&ic.withMergedEntry(e,(function(){Zs(e,l.id,null,!0)}));if(c){A||nc.bN.focus(e);if("parent"===t)try{W.current=!1;e.onChange()}finally{W.current=!0}else e.onChange()}}),[l.id,l.guild_id,A]),z=cd({channel:l,chatInputType:i,canUseCommands:N,canOnlyUseTextCommands:T,updateState:Y}),K=o.useCallback((function(e,t){var n=tc.tM(z,e);return{values:n,results:tc.lk(e,l.guild_id,l.id,n,t)}}),[l.guild_id,l.id,z]),q=o.useCallback((function(){var e,t,n=null!==(e=g.Z.getActiveCommand(l.id))&&void 0!==e?e:null;if(null!=n&&null!=n.options){var r=K(n,!1);t=r.values
;var o,i=tc.cu(z).filter((function(e){return!r.results[e].success})).map((function(e){return(null!==(o=n.options)&&void 0!==o?o:[]).find((function(t){return t.name===e}))})),a=!0,u=!1,c=void 0;try{for(var s,f=n.options[Symbol.iterator]();!(a=(s=f.next()).done);a=!0){var d=s.value;if(d.required&&!(d.name in r.values)){sc.Q.insertCommandOption(z,d);i.push(d)}}}catch(e){u=!0;c=e}finally{try{a||null==f.return||f.return()}finally{if(u)throw c}}if(i.length>0){var p,h,y=i[0];sc.Q.selectCommandOption(z,y.name);Ol.S.dispatch(pe.CkL.SHAKE_APP,{duration:200,intensity:2});de.default.track(pe.rMx.APPLICATION_COMMAND_VALIDATION_FAILED,{application_id:null==n?void 0:n.applicationId,command_id:null==n||null===(p=n.rootCommand)||void 0===p?void 0:p.id,argument_type:S.jw[null!==(h=null==y?void 0:y.type)&&void 0!==h?h:3],is_required:null==y?void 0:y.required});return}}null==P||P((0,Os.sk)(nc.bN.richValue(z),{mode:"raw",ignoreTrailingEmptyNodes:!0}),n,t)}),[l.id,z,P,K]);hd(t,z,l,q);!function(e,t,n){
o.useEffect((function(){var r=lc.F3.findDocumentOrShadowRoot(e).defaultView;if(null!=(null==r?void 0:r.ResizeObserver)){var o=nc.bN.toDOMNode(e,e),i=o.offsetHeight,a=new r.ResizeObserver((function(){var r=nc.bN.toDOMNode(e,e).offsetHeight;if(i!==r){null!=t.current&&(t.current.style.height="".concat(r,"px"));i=r;null==n||n(r)}}));a.observe(o);return function(){return a.disconnect()}}}),[t,e,n])}(z,V,b);var X=function(e){var t=e.editor,n=e.channel,r=e.disableEnterToSubmit,i=e.onKeyDown,a=e.onKeyUp,l=e.onTab,u=e.onEnter,c=e.submit,f=e.hideAutocomplete,d=e.moveSelection,p=o.useCallback((function(e){if(e.shiftKey||!(null==u?void 0:u(e))){if(!e.altKey&&!e.shiftKey&&(!r||e.ctrlKey)&&!jf(t)){e.preventDefault();e.stopPropagation();c()}}else{e.preventDefault();e.stopPropagation()}}),[t,r,u,c]),h=o.useCallback((function(e){if(e.shiftKey||!(null==l?void 0:l())){var r;if(null!=(null!==(r=g.Z.getActiveCommand(n.id))&&void 0!==r?r:null)){e.preventDefault();e.stopPropagation()
;e.shiftKey?sc.Q.selectPreviousCommandOption(t):sc.Q.selectNextCommandOption(t)}if(jf(t)){e.preventDefault();e.stopPropagation();sc.Q.insertText(t,"  ")}}else{e.preventDefault();e.stopPropagation()}}),[n,t,l]);return{handleKeyDown:o.useCallback((function(e){var n="MacIntel"===navigator.platform,r=n?e.metaKey:e.ctrlKey;switch(e.which){case pe.yXg.ARROW_LEFT:case pe.yXg.ARROW_RIGHT:var o,a,l,u=t.children[null!==(l=null===(o=t.selection)||void 0===o||null===(a=o.focus)||void 0===a?void 0:a.path[0])&&void 0!==l?l:0],c="rtl"===bd()(nc.aj.string(u)),y=e.which===pe.yXg.ARROW_LEFT==!c,b=e.shiftKey?"focus":void 0,v="offset";if(n){if(e.altKey)v="word";else if(e.metaKey)return}else e.ctrlKey&&(v="word");e.preventDefault();sc.Q.keyboardMove(t,{reverse:y,unit:v,edge:b});break;case pe.yXg.ARROW_UP:d(-1)&&e.preventDefault();break;case pe.yXg.ARROW_DOWN:d(1)&&e.preventDefault();break;case pe.yXg.P:e.ctrlKey&&!e.altKey&&d(-1)&&e.preventDefault();break;case pe.yXg.N:
e.ctrlKey&&!e.altKey&&d(1)&&e.preventDefault();break;case pe.yXg.TAB:h(e);break;case pe.yXg.ENTER:p(e);break;case pe.yXg.ESCAPE:null==f||f();break;case pe.yXg.BACKSPACE:case pe.yXg.DELETE:case pe.yXg.K:var m=e.which===pe.yXg.BACKSPACE;if(!n&&e.ctrlKey&&!e.altKey&&e.shiftKey&&e.which!==pe.yXg.K||n&&e.metaKey&&e.which!==pe.yXg.K||n&&e.ctrlKey&&!e.altKey&&e.which===pe.yXg.K){e.preventDefault();if(null!=t.selection){var g=wd(nc.M8.edges(t.selection),2),O=g[0],E=g[1],j=wd(nc.bN.node(t,[m?O.path[0]:E.path[0]]),2),S=j[0],C=j[1];s()(nc.bN.isBlock(t,S),"Top-most node of selection is not a block");(m&&!nc.Jz.isAtStart(O,[S,C])||!m&&!nc.Jz.isAtEnd(E,[S,C]))&&(m?t.deleteBackward("line"):t.deleteForward("line"))}}break;case pe.yXg.A:if(n&&e.ctrlKey&&!e.altKey){var P=nc.bN.getCurrentBlock(t);if(null!=P){var I=wd(P,2)[1],_={path:nc.C0.child(I,0),offset:0};sc.Q.select(t,{anchor:_,focus:_})}}break;case pe.yXg.E:if(n&&e.ctrlKey&&!e.altKey){var w=nc.bN.getCurrentBlock(t);if(null!=w){
var x=wd(w,2),N=x[0],T=x[1],A=nc.C0.child(T,N.children.length-1),Z={path:A,offset:wd(nc.bN.node(t,A),1)[0].text.length};sc.Q.select(t,{anchor:Z,focus:Z})}}break;case pe.yXg.B:if(r&&!e.shiftKey&&!e.altKey&&!nc.bN.isEditorEmpty(t)){Id(t,"bold");e.stopPropagation()}break;case pe.yXg.I:if(r&&!e.shiftKey&&!e.altKey&&!nc.bN.isEditorEmpty(t)){Id(t,"italics");e.stopPropagation()}break;case pe.yXg.U:if(r&&!e.shiftKey&&!e.altKey&&!nc.bN.isEditorEmpty(t)){Id(t,"underline");e.stopPropagation()}break;case pe.yXg.S:if(r&&e.shiftKey&&!e.altKey&&!nc.bN.isEditorEmpty(t)){Id(t,"strikethrough");e.stopPropagation()}}null==i||i(e)}),[t,p,h,f,d,i]),handleKeyUp:o.useCallback((function(e){null==a||a(e)}),[a])}}({editor:z,channel:l,disableEnterToSubmit:Z,onKeyDown:O,onKeyUp:E,onTab:j,onEnter:C,submit:q,hideAutocomplete:_,moveSelection:w}),Q=X.handleKeyDown,$=X.handleKeyUp,ee=function(e,t){var n=o.useCallback((function(e){if(!0!==e.defaultPrevented){var n=t(e);n&&e.preventDefault();return n}
}),[t]),r=o.useCallback((function(t){var r=t.event;if(!n(r)){r.preventDefault();if(null!=r.clipboardData){e.insertData(r.clipboardData);nc.bN.focus(e)}}}),[e,n]);return{handlePaste:n,handleGlobalPaste:r}}(z,y),te=ee.handlePaste,ne=ee.handleGlobalPaste,re=o.useCallback((function(e){null==I||I()}),[I]),oe=o.useCallback((function(e){e!==F.current?W.current&&(null==h||h(null,(0,Os.sk)(e,{mode:"raw"}),e)):W.current&&I()}),[I,h]);o.useLayoutEffect((function(){F.current=n;Y(z,"parent",{value:n})}),[z,n,Y]);o.useEffect((function(){var e=function(){var e,t=null!==(e=g.Z.getActiveCommand(l.id))&&void 0!==e?e:null;null!==t&&null!=t.options&&K(t,!0)};Iu.Z.addChangeListener(e);return function(){return Iu.Z.removeChangeListener(e)}}),[l,z,K]);var ie=o.useCallback((function(e,t){return function(e,t){if(nc.bN.areStylesDisabled(e))return[];var n=js(t,2),r=n[0],o=n[1],i=[];if(!nc.LC.isText(r))return i;var a=js(nc.bN.node(e,nc.C0.parent(o)),1)[0];if(!nc.aj.isType(a,"applicationCommand"))return i
;r===a.children[0]&&i.push({anchor:{path:o,offset:0},focus:{path:o,offset:0+a.command.displayName.length+1},commandName:!0});return i}(e,t)}),[]),ae=o.useCallback((function(e){return function(e,t){var n=e.attributes,o=e.children,i=e.element;switch(i.type){case"applicationCommand":var a=g.Z.getActiveCommand(t),l=0,u=0;if(null!=a&&a.id===i.command.id){var c,s=g.Z.getOptionStates(t),f=!0,d=!1,p=void 0;try{for(var h,y=(null!==(c=a.options)&&void 0!==c?c:[])[Symbol.iterator]();!(f=(h=y.next()).done);f=!0)s[h.value.name].hasValue?u++:l++}catch(e){d=!0;p=e}finally{try{f||null==y.return||y.return()}finally{if(d)throw p}}}return(0,r.jsxs)("div",Td(Nd({className:Uc().applicationCommand},n),{children:[o,l>0?(0,r.jsx)("span",{className:Uc().remainingOptions,contentEditable:!1,children:u>0?J.Z.Messages.COMMANDS_OPTIONAL_COUNT_REMAINING.format({count:l}):J.Z.Messages.COMMANDS_OPTION_COUNT.format({count:l})}):null]}));case"applicationCommandOption":return(0,r.jsx)(Ad,{attributes:n,channelId:t,
element:i,children:o});default:return null}}(e,l.id)}),[l.id]),le=o.useCallback((function(e){return Md(e)}),[]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(_u.d9,{event:pe.CkL.GLOBAL_CLIPBOARD_PASTE,handler:ne}),(0,r.jsx)("div",{ref:V,className:a()(u,Ld().slateContainer),children:(0,r.jsx)(gs,{editor:z,channelId:l.id,guildId:l.guild_id,className:a()(Ld().slateTextArea,p),placeholder:d,readOnly:c||f,spellCheck:x,autoFocus:!A,canFocus:!c,onChange:oe,onFocus:v,onBlur:m,onClick:re,onPaste:te,onKeyDown:Q,onKeyUp:$,decorateExtra:ie,renderExtraElement:ae,renderExtraLeaf:le,"aria-owns":R,"aria-haspopup":D,"aria-expanded":M,"aria-activedescendant":L,"aria-controls":k,"aria-labelledby":H,"aria-describedby":G,"aria-invalid":U,"aria-autocomplete":B})})]})}));var Ud=n(851719),Gd=n.n(Ud);function Hd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Bd(e){
if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vd(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Fd(e){Fd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Fd(e)}function Wd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Vd(e,t,n[t])}))}return e}function Yd(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){
return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function zd(e,t){return!t||"object"!==Xd(t)&&"function"!=typeof t?Bd(e):t}function Kd(e,t){Kd=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Kd(e,t)}function qd(e){return function(e){if(Array.isArray(e))return Hd(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Hd(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Hd(e,t)}(e)||function(){
throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Xd=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Qd(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Fd(e);if(t){var o=Fd(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return zd(this,n)}}var Jd={12:Gd().fontSize12Padding,14:Gd().fontSize14Padding,15:Gd().fontSize15Padding,16:Gd().fontSize16Padding,18:Gd().fontSize18Padding,20:Gd().fontSize20Padding,24:Gd().fontSize24Padding},$d=function(e){!function(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Kd(e,t)}(n,e);var t=Qd(n);function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var r;(r=t.call(this,e)).ref=o.createRef();r._focusBlurQueue=Promise.resolve();r.handleSelectionChange=function(){if(r.props.focused){var e,t;r.props.onSelectionChanged(null===(e=document.getSelection)||void 0===e||null===(t=e.call(document))||void 0===t?void 0:t.toString())}};r.focus=function(){var e;null===(e=r._focusBlurQueue)||void 0===e||e.then((function(){r.setState({focused:!0},(function(){var e=r.ref.current;null!=e&&e.focus()}))}))};r.saveCurrentText=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=r.props,n=t.type,o=t.channel;if(n.drafts.autoSave){e&&r.saveCurrentTextThrottled.cancel()
;r.handleSaveCurrentText(o.id)}};r.handleBeforeUnload=function(){return r.saveCurrentText()};r.saveCurrentTextThrottled=E().throttle(r.saveCurrentText.bind(Bd(r),!1),500);r.handleEnter=function(e){var t,n;return null===(n=(t=r.props).onEnter)||void 0===n?void 0:n.call(t,e)};r.handleTab=function(){var e,t;return null===(t=(e=r.props).onTab)||void 0===t?void 0:t.call(e)};r.handleMoveSelection=function(e){var t,n;return null===(n=(t=r.props).onMoveSelection)||void 0===n?void 0:n.call(t,e)};r.maybeShowAutocomplete=function(){var e,t;return null===(t=(e=r.props).onMaybeShowAutocomplete)||void 0===t?void 0:t.call(e)};r.hideAutocomplete=function(){var e,t;return null===(t=(e=r.props).onHideAutocomplete)||void 0===t?void 0:t.call(e)};r.handleSaveCurrentText=function(e){y.Z.saveDraft(e,r.props.textValue,r.props.type.drafts.type)};r.handleClearText=function(){var e,t;null===(t=(e=r.props).onChange)||void 0===t||t.call(e,null,"",(0,Cn.JM)(""))};r.handleInsertText=function(e){
var t=e.plainText,n=e.rawText,o=e.addSpace,i=void 0!==o&&o;r.appendText(t,n,i);r.focus()};r.handleFocus=function(e){var t=r.props.onFocus,n=r.state.focused;null==t||t(e);n||r.setState({focused:!0})};r.handleBlur=function(e){var t=r.props.onBlur,n=r.state.focused;null==t||t(e);n&&r.setState({focused:!1})};r.handlePaste=function(e){var t=r.props,n=t.channel,o=t.canPasteFiles,i=t.uploadPromptCharacterCount,a=t.promptToUpload,l=t.maxCharacterCount,u=t.type;if(null==a||!n.isPrivate()&&!o||n.isPrivate()&&n.isManaged())return!1;var c=function(e,t){var r,o=g.Z.getActiveCommand(n.id);if(null==o)return a(e,n,u.drafts.type,{requireConfirm:!0,showLargeMessageDialog:t});var i=null===(r=o.options)||void 0===r?void 0:r.find((function(e){return e.type===S.jw.ATTACHMENT&&null==Iu.Z.getUpload(n.id,e.name,u.drafts.type)}));null!=i&&Zu.Z.setFile({channelId:n.id,id:i.name,draftType:u.drafts.type,file:{id:i.name,platform:Ru.o.WEB,file:e[0]}})},s=qd(e.clipboardData.items).sort((function(e,t){
var n="text/html"===e.type,r="text/html"===t.type;return n===r?0:n?1:r?-1:0}));if(0===s.length)return!1;if("text/plain"===s[0].type){if(u.uploadLongMessages){var f=e.clipboardData.getData("text/plain");if(f.length>(null!=i?i:l)){e.preventDefault();var d=new Blob([f],{type:"text/plain"});c([(0,Mu.dp)(d,"message.txt")],!0);r.focus();return!0}}return!1}e.preventDefault();r.saveCurrentText();if(2===s.length&&"text/html"===s[1].type){var p=s[0].getAsFile();if(null==p)return!1;s[1].getAsString((function(e){c([(0,Mu.dp)(p,r.extractFileName(e))])}))}else{var h=s.map((function(e){return e.getAsFile()})).filter((function(e){return null!=e}));if(0===h.length)return!1;c(h)}r.focus();return!0};r._unsubscribe=_.subscribe((function(e){requestAnimationFrame((function(){r.setState({popup:e})}))}));r.state={focused:!1,submitting:!1,popup:_.getState()};return r}var i=n.prototype;i.componentDidMount=function(){var e=this;this.props.focused&&requestAnimationFrame((function(){return e.focus()}))
;document.addEventListener("selectionchange",this.handleSelectionChange);window.addEventListener("beforeunload",this.handleBeforeUnload)};i.componentDidUpdate=function(e){this.fixFocus(e);if(this.props.useSlate!==e.useSlate){var t,n,r;r=this.props.useSlate?this.props.textValue:(0,Os.sk)(this.props.richValue,{mode:"plain"});null===(n=(t=this.props).onChange)||void 0===n||n.call(t,null,r,(0,Cn.JM)(r))}else this.props.textValue!==e.textValue&&this.saveCurrentTextThrottled()};i.componentWillUnmount=function(){var e;this.saveCurrentText();null===(e=this._unsubscribe)||void 0===e||e.call(this);window.removeEventListener("beforeunload",this.handleBeforeUnload);document.removeEventListener("selectionchange",this.handleSelectionChange);this._focusBlurQueue=null;this._unsubscribe=null};i.blur=function(){var e=this.ref.current;null!=e&&e.blur()};i.submit=function(e){var t;null===(t=this.ref.current)||void 0===t||t.submit(e)};i.insertEmoji=function(e,t){
var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this.props.textValue,o=this.ref.current;if(null!=e&&null!=o){n&&!r.endsWith(" ")&&o.insertText(" ",void 0,!1);o.insertEmoji(e,t);t&&this.focus()}};i.insertGIF=function(e){var t=this.props.textValue,n=this.ref.current;if(null!=e&&null!=n){t.endsWith(" ")||n.insertText(" ",void 0,!1);n.insertText(e.url)}};i.handleOuterClick=function(){this.focus()};i.clearValue=function(){var e=this.props,t=e.channel,n=e.type;this.setState({focused:!0,submitting:!1});y.Z.saveDraft(t.id,"",n.drafts.type)};i.getCurrentWord=function(){var e,t=this.ref.current;return null!==(e=null==t?void 0:t.getCurrentWord())&&void 0!==e?e:{word:null,isAtStart:!1}};i.insertAutocomplete=function(e,t,n){var r=this.ref.current;return null==r?void 0:r.insertAutocomplete(e,t,n)};i.getCurrentCommandOption=function(){var e,t,n=this.ref.current;return null!==(t=null==n||null===(e=n.getCurrentCommandOption)||void 0===e?void 0:e.call(n))&&void 0!==t?t:null}
;i.getCurrentCommandOptionValue=function(){var e,t,n=this.ref.current;return null!==(t=null==n||null===(e=n.getCurrentCommandOptionValue)||void 0===e?void 0:e.call(n))&&void 0!==t?t:[]};i.getCommandOptionValues=function(){var e,t,n=this.ref.current;return null!==(t=null==n||null===(e=n.getCommandOptionValues)||void 0===e?void 0:e.call(n))&&void 0!==t?t:{}};i.getFirstText=function(){var e,t=this.ref.current;return null!==(e=null==t?void 0:t.getFirstText())&&void 0!==e?e:null};i.getSlateEditor=function(){var e,t,n=this.ref.current;return null!==(t=null==n||null===(e=n.getSlateEditor)||void 0===e?void 0:e.call(n))&&void 0!==t?t:null};i.fixFocus=function(e){e.focused&&!this.props.focused?this.blur():!e.focused&&this.props.focused&&this.focus()};i.appendText=function(e,t){var n,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];null===(n=this.ref.current)||void 0===n||n.insertText(e,t,r)};i.getPlaceholder=function(){var e=this.props,t=e.disabled,n=e.placeholder,r=e.isPreviewing
;return t&&!r?J.Z.Messages.NO_SEND_MESSAGES_PERMISSION_PLACEHOLDER:n};i.render=function(){var e,t,n,o,i,l,u,c,s=this.props,f=s.textValue,d=s.richValue,p=s.disabled,h=s.onChange,y=s.onKeyDown,b=s.onResize,v=s.onSubmit,m=s.channel,g=s.type,O=s.fontSize,E=s.useSlate,j=s.spellcheckEnabled,S=s.useNewSlashCommands,C=s.canOnlyUseTextCommands,P=s.className,I=s.maxCharacterCount,_=s["aria-describedby"],w=s["aria-labelledby"],x=s.accessibilityLabel,N=this.state,T=N.submitting,A=N.popup,Z={channel:m,className:a()(P,Gd().textArea,(u={},Vd(u,Gd().textAreaSlate,E),Vd(u,Gd().textAreaDisabled,p||T),u)),placeholder:this.getPlaceholder(),accessibilityLabel:x,disabled:p||!1,submitting:T,isEdit:g===hn.I.EDIT,onFocus:this.handleFocus,onBlur:this.handleBlur,onPaste:this.handlePaste,onTab:this.handleTab,onEnter:this.handleEnter,moveSelection:this.handleMoveSelection,maybeShowAutocomplete:this.maybeShowAutocomplete,hideAutocomplete:this.hideAutocomplete,onChange:h,onResize:b,onKeyDown:y,onSubmit:v,
textAreaPaddingClassName:a()(Jd[O],(c={},Vd(c,Gd().textAreaWithoutAttachmentButton,g!==hn.I.NORMAL&&g!==hn.I.OVERLAY&&g!==hn.I.THREAD_CREATION&&g!==hn.I.SIDEBAR),Vd(c,Gd().textAreaForPostCreation,g===hn.I.CREATE_FORUM_POST),c)),spellcheckEnabled:j,useNewSlashCommands:S,disableAutoFocus:Ro.tq||null!==(n=g.disableAutoFocus)&&void 0!==n&&n,disableEnterToSubmit:null!==(o=null===(e=g.submit)||void 0===e?void 0:e.disableEnterToSubmit)&&void 0!==o&&o,"aria-controls":null!==(i=A.id)&&void 0!==i?i:void 0,"aria-haspopup":"listbox","aria-expanded":null!==A.id||void 0,"aria-activedescendant":null!==(l=A.activeDescendant)&&void 0!==l?l:void 0,"aria-invalid":f.length>I,"aria-describedby":_,"aria-labelledby":w,"aria-autocomplete":"list"},R=E?(0,r.jsx)(kd,Yd(Wd({ref:this.ref},Z),{type:g,value:p?(0,Cn.JM)(""):d,canUseCommands:null===(t=g.commands)||void 0===t?void 0:t.enabled,canOnlyUseTextCommands:C})):(0,r.jsx)(ec,Yd(Wd({ref:this.ref},Z),{value:p?"":f}));return(0,r.jsxs)(r.Fragment,{children:[(0,
r.jsx)(_u.d9,{event:pe.CkL.INSERT_TEXT,handler:this.handleInsertText}),(0,r.jsx)(_u.d9,{event:pe.CkL.CLEAR_TEXT,handler:this.handleClearText}),R]})};i.extractFileName=function(e){var t=(new DOMParser).parseFromString(e,"text/html").querySelector("img");if((0,Mo.k)(t,HTMLImageElement)){var n;try{var r=Au.parse(t.src).pathname;null!=r&&r.length>0&&(n=Tu().basename(r).split(".")[0])}catch(e){}if(null!=n&&n.length>0)return"".concat(n,".png")}};return n}(o.Component),ep=n(395590),tp=n(940508),np=n.n(tp);function rp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function op(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}
}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return rp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rp(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ip(e){var t,n=e.channelId,i=e.chatInputType,a=op(o.useState(null),2),l=a[0],u=a[1],c=(0,h.e7)([Su.Z],(function(){return Su.Z.getStickerPreview(n,i.drafts.type)}));return(null===(t=i.stickers)||void 0===t?void 0:t.allowSending)&&null!=c&&0!==c.length?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:np().stickerPreviews,children:c.map((function(e){return(0,r.jsxs)("div",{className:np().stickerPreviewContainer,children:[(0,r.jsx)(W.Z,{onFocus:function(){return u(e.id)},onBlur:function(){
return u(null)},className:np().closeButton,onClick:function(){return(0,er.qB)(n,i.drafts.type)},children:(0,r.jsx)("div",{className:np().closeIconContainer,children:(0,r.jsx)(xt.Z,{className:np().closeIcon})})}),(0,r.jsx)(wn.ZP,{isInteracting:l===e.id,className:np().stickerPreview,size:48,sticker:e})]},e.id)}))}),(0,r.jsx)(ep.Z,{className:np().stickerPreviewDivider})]}):null}const ap=o.memo(ip);var lp=n(11384),up=n.n(lp);function cp(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function sp(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){cp(i,r,o,a,l,"next",e)}function l(e){cp(i,r,o,a,l,"throw",e)}a(void 0)}))}}function fp(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function dp(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var pp=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],
done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function hp(e){var t,i,l,u,c=e.className,s=e.activeCommand,f=e.activeOption,d=e.optionStates,p=o.useCallback((function(e){var t,o=null==s||null===(t=s.rootCommand)||void 0===t?void 0:t.id;null!=o?(0,Du.jW)(e,sp((function(){var e,t;return pp(this,(function(i){switch(i.label){case 0:return[4,n.e(9334).then(n.bind(n,555427))];case 1:e=i.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,dp(function(e){for(var t=1;t<arguments.length;t++){
var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){fp(e,t,n[t])}))}return e}({},e),{id:o}))}]}}))}))):e.preventDefault()}),[null==s||null===(t=s.rootCommand)||void 0===t?void 0:t.id]);if(null==s)return null;if(null!=f){var h=d[f.name].lastValidationResult;i=f.displayName;l=f.displayDescription;u=(null==h?void 0:h.success)?null:null==h?void 0:h.error}else{i="".concat(Q.GI).concat(s.displayName);l=s.displayDescription;u=null}return(0,r.jsxs)("div",{className:a()(c,up().bar),onContextMenu:p,children:[(0,r.jsx)("span",{className:up().name,children:i}),null!=u?(0,r.jsx)("span",{className:up().error,children:u}):(0,r.jsx)("span",{className:up().description,children:l})]})}var yp=n(60890),bp=n(302561),vp=n(655695),mp=n(665357),gp=n(171447),Op=n(220033),Ep=n(226135),jp=n(907538),Sp=n.n(jp)
;function Cp(e){var t=e.channel,n=e.message,i=e.replyChainLength;o.useEffect((function(){(0,C.yw)(pe.rMx.THREAD_NUDGE_SHOWN,{type:"Reply Chain (".concat(3,")"),reply_chain_length:i+1,channel_id:t.id,guild_id:t.guild_id})}),[t]);return(0,r.jsxs)(W.Z,{onClick:function(){(0,bp.A6)(t.id);(0,mp.R6)(t,n,"Reply Chain Nudge")},className:Sp().threadSuggestionBar,focusProps:{offset:{right:-4,left:-4}},children:[(0,r.jsx)(Z.x,{color:"header-secondary",className:Sp().text,variant:"text-sm/normal",children:J.Z.Messages.THREAD_REPLY_SUGGESTION.format({count:Math.min(10,i+1)})}),(0,r.jsx)(Z.x,{color:"text-link",className:Sp().createThreadButton,variant:"text-sm/semibold",children:J.Z.Messages.CREATE_THREAD})]})}function Pp(e){var t=e.reply,n=e.chatInputType,o=function(e){e.stopPropagation();(0,bp.qx)(i.id,!u)},i=t.channel,l=t.message,u=t.shouldMention,c=t.showMentionToggle,s=(0,yp.ZP)(l),f=s.nick,d=s.colorString,p=s.colorRoleName,y=function(e,t){var n=e.id,r=t.id;return(0,h.e7)([gp.Z],(function(){
for(var e=r,t=0;t<10;t++){var o=gp.Z.getMessage(n,e);if((null==o?void 0:o.type)!==pe.uaV.REPLY||null==o.messageReference)return t;e=o.messageReference.message_id}return 10}),[n,r])}(i,l),b=(0,Cu.NE)(i,l),v=n.showThreadPromptOnReply&&y>=2&&b;return(0,r.jsx)("div",{className:Sp().clipContainer,children:(0,r.jsxs)("div",{className:Sp().container,children:[(0,r.jsxs)("div",{className:Sp().replyBar,children:[(0,r.jsx)(W.Z,{onClick:function(){return(0,vp.uL)(pe.Z5c.CHANNEL(i.getGuildId(),i.id,l.id))},focusProps:{offset:{top:-8,right:-4,bottom:-8,left:-4}},children:(0,r.jsx)(Z.x,{color:"header-secondary",className:a()(Sp().text,Sp().replyLabel),variant:"text-sm/normal",children:J.Z.Messages.REPLYING_TO.format({userHook:function(e,t){return(0,r.jsx)(Op.Z,{className:Sp().name,name:f,color:d,roleName:p},t)}})})}),(0,r.jsxs)("div",{className:Sp().actions,children:[c&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(V.ZP,{
text:u?J.Z.Messages.REPLY_MENTION_ON_TOOLTIP:J.Z.Messages.REPLY_MENTION_OFF_TOOLTIP,children:function(e){var t=e.onMouseEnter,n=e.onMouseLeave,i=e.onFocus,a=e.onBlur;return(0,r.jsx)(W.Z,{role:"switch","aria-checked":u,onClick:o,onMouseEnter:t,onMouseLeave:n,onFocus:i,onBlur:a,children:(0,r.jsxs)(Z.x,{variant:"text-sm/bold",color:u?"text-link":"text-muted",className:Sp().mentionButton,children:[(0,r.jsx)(Ep.Z,{"aria-label":J.Z.Messages.MENTION,className:Sp().mentionIcon}),u?J.Z.Messages.REPLY_MENTION_ON:J.Z.Messages.REPLY_MENTION_OFF]})})}}),(0,r.jsx)("div",{className:Sp().separator,"aria-hidden":!0})]}),(0,r.jsx)(W.Z,{className:Sp().closeButton,onClick:function(e){e.stopPropagation();(0,bp.A6)(i.id)},children:(0,r.jsx)(xt.Z,{className:Sp().closeIcon})})]})]}),v&&(0,r.jsx)(Cp,{channel:i,message:l,replyChainLength:y})]})})}function Ip(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var _p=function(e){
var t=e.channel,n=e.type,o=e.activeCommand,i=e.pendingReply,l=(0,h.cj)([g.Z],(function(){return{activeCommandOption:g.Z.getActiveOption(t.id),activeCommandOptionStates:g.Z.getOptionStates(t.id)}})),u=l.activeCommandOption,c=l.activeCommandOptionStates,s=Vt(t),f=[];null!=o&&f.push((0,r.jsx)(hp,{activeCommand:o,activeOption:null!=u?u:null,optionStates:c}));null!=i&&f.push((0,r.jsx)(Pp,{reply:i,chatInputType:n}));s&&f.push((0,r.jsx)(Ft,{}));return 0===(f=f.map((function(e,t){var n=t===f.length-1;return(0,r.jsx)("div",{className:a()(Ip({},Gd().stackedAttachedBar,!n)),children:e},t)}))).length?null:(0,r.jsx)("div",{className:Gd().attachedBars,children:f})};const wp=o.memo(_p);var xp=n(887380),Np=n(460408),Tp=n(629858),Ap=n(399298),Zp=n.n(Ap);function Rp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Mp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){
var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Rp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Rp(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dp(e,t){var n=e.disabled,i=e.type,l=Mp((0,Wo.Iu)((function(e){return[e.activeView,e.activeViewType,e.pickerId]}),d.Z),3),u=l[0],c=l[1],s=l[2],f=i===hn.I.NORMAL,p=(0,
xp.A)(f)&&f,h=Mp(o.useState(!1),2),y=h[0],b=h[1];o.useEffect((function(){b(u===ri.X1.EMOJI&&c===hn.I.NORMAL)}),[b,u,c]);var v=o.useCallback((function(){(0,Wo.RO)(ri.X1.EMOJI,i)}),[i]);if(n)return null;var m=p?function(){return(0,r.jsx)(Np.Z,{tutorialHighlight:he.f8.EMOJI,text:J.Z.Messages.PREMIUM_TRIAL_TUTORIAL_EMOJI_TOOLTIP.format(),unformattedText:J.Z.Messages.PREMIUM_TRIAL_TUTORIAL_EMOJI_TOOLTIP_UNFORMATTED,children:(0,r.jsx)("img",{alt:"",src:Zp(),className:Gd().premiumTrialTutorialEmojiImage}),hideTooltip:y})}:null;return(0,r.jsx)("div",{className:a()(ri.CT,Gd().buttonContainer),ref:t,children:(0,r.jsx)(Tp.Z,{className:Gd().emojiButton,onClick:v,active:u===ri.X1.EMOJI&&c===i,"aria-controls":s,tabIndex:0,focusProps:{offset:{top:4,bottom:4,left:-4,right:-4}},renderButtonContents:m})})}const Lp=o.memo(o.forwardRef(Dp));var kp,Up=n(476215),Gp=n(537127),Hp=n(248088),Bp=n(981201),Vp=n(991338),Fp=n(283678),Wp=n.n(Fp);function Yp(e,t,n){t in e?Object.defineProperty(e,t,{value:n,
enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function zp(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}!function(e){e[e.UPDATE=0]="UPDATE";e[e.NEW=1]="NEW"}(kp||(kp={}));var Kp={config:{friction:26,tension:700,mass:1},initial:{scale:1,opacity:1},from:{scale:.6,opacity:0},enter:{scale:1,opacity:1},leave:{scale:.6,opacity:0}};function qp(e){
var t=e.className,n=e.disabled,o=void 0!==n&&n,i=e.innerClassName,l=e.childClassName,u=e.iconClassName,c=e.icon,s=e.children,f=e.onClick,d=e.isActive,p=e.onMouseEnter,h=e.onMouseLeave,y=e.onFocus,b=e.onBlur,v=e.pulse,m=e.sparkle,g=e.notification,O=e["aria-label"],E=e["aria-expanded"],j=e["aria-haspopup"],S=e["aria-controls"],C=(0,Hp.useTransition)(null!=s,zp(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Yp(e,t,n[t])}))}return e}({},Kp),{keys:function(e){return e?"children":"icon"}})),P=function(e){var t=e.component;return null!=g?(0,r.jsxs)("div",{className:Wp().buttonContent,children:[(0,r.jsx)(fe.ZP,{className:Wp().iconMask,mask:fe.QS.CHAT_INPUT_BUTTON_NOTIFICATION,width:24,height:24,children:t}),(0,r.jsx)("span",{
className:Wp().notificationDot})]}):t};return(0,r.jsxs)(Pi.Co,{look:Pi.Co.Looks.BLANK,size:Pi.Co.Sizes.NONE,"aria-label":O,"aria-expanded":E,"aria-haspopup":j,"aria-controls":S,disabled:o,className:a()(t,Yp({},Wp().active,d)),innerClassName:a()(Wp().button,i,Yp({},Wp().pulseButton,v)),onClick:f,onMouseEnter:p,onMouseLeave:h,onFocus:y,onBlur:b,focusProps:{offset:{top:4,bottom:4}},children:[C((function(e,t,n){var o=n.key;return t?(0,r.jsx)(Hp.animated.div,{style:e,className:a()(Wp().buttonWrapper,l),children:P({component:s})},o):null!=c?(0,r.jsx)(Hp.animated.div,{style:e,className:a()(Wp().buttonWrapper,l),children:P({component:(0,r.jsx)(c,{className:a()(Wp().icon,u,Yp({},Wp().pulseIcon,v))})})},o):void 0})),m&&(0,r.jsxs)("div",{className:Wp().sparkleContainer,children:[(0,r.jsx)(Vp.Z,{className:Wp().sparkleStar}),(0,r.jsx)(Bp.Z,{className:Wp().sparklePlus})]})]})}const Xp=o.memo(qp);var Qp=n(339302);function Jp(e,t){(null==t||t>e.length)&&(t=e.length)
;for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $p(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function eh(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function th(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{
if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Jp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Jp(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nh(e,t){var n,i=e.disabled,l=e.type,u=th(o.useState(!1),2),c=u[0],s=u[1],f=(0,h.e7)([Gp.Z],(function(){var e;return c&&(null!==(n=null===(e=Gp.Z.frecencyWithoutFetchingLatest.favoriteGifs)||void 0===e?void 0:e.gifs)&&void 0!==n?n:[]).length<=2})),p=th((0,Wo.Iu)((function(e){return[e.activeView,e.activeViewType,e.pickerId]}),d.Z),3),y=p[0],b=p[1],v=p[2],m=o.useRef(0),g=o.useCallback((function(){s(!0);clearTimeout(m.current);m.current=setTimeout((function(){s(!1)}),1500)
}),[]);o.useEffect((function(){return function(){clearTimeout(m.current)}}));(0,_u.yp)({event:pe.CkL.FAVORITE_GIF,handler:g});var O=o.useCallback((function(){(0,Wo.RO)(ri.X1.GIF,l)}),[l]);if(i)return null;var E=y===ri.X1.GIF&&b===l;return(0,r.jsx)(V.ZP,{text:f?J.Z.Messages.GIF_TOOLTIP_FAVORITED_PICKER_BUTTON:null,forceOpen:!0,children:function(e){return(0,r.jsx)("div",eh(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){$p(e,t,n[t])}))}return e}({ref:t,className:a()(ri.CT,Gd().buttonContainer)},e),{children:(0,r.jsx)(Xp,{innerClassName:Gd().button,icon:Qp.Z,onClick:O,isActive:E,pulse:c,"aria-label":J.Z.Messages.GIF_BUTTON_LABEL,"aria-expanded":E,"aria-haspopup":"dialog","aria-controls":v})}))}})}const rh=o.memo(o.forwardRef(nh))
;var oh=n(224292),ih=n(370678);function ah(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function lh(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function uh(e){var t=e.disabled,n=e.channel,o=(0,m.Z)(v.Z.GIFT_BUTTON).analyticsLocations;if(t)return null;var i=function(){return(0,oh.Z)({isGift:!0,initialPlanId:null,subscriptionTier:he.Si.TIER_2,analyticsLocations:o,analyticsObject:{page:n.isPrivate()?pe.ZY5.DM_CHANNEL:pe.ZY5.GUILD_CHANNEL,section:pe.jXE.CHANNEL_TEXT_AREA,object:pe.qAy.BUTTON_ICON,objectType:pe.Qqv.GIFT}})};return(0,
r.jsx)(V.ZP,{text:J.Z.Messages.PREMIUM_GIFT_BUTTON_TOOLTIP,children:function(e){return(0,r.jsx)(Xp,lh(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){ah(e,t,n[t])}))}return e}({},e),{innerClassName:Gd().button,isActive:!1,"aria-label":J.Z.Messages.PREMIUM_GIFT_BUTTON_LABEL,"aria-haspopup":"dialog",onClick:i,children:(0,r.jsx)(ih.Z,{})}))}})}const ch=o.memo(uh);var sh=n(240243);function fh(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function dh(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e)
;t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function ph(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function hh(e){var t=e.width,n=void 0===t?16:t,o=e.height,i=void 0===o?16:o,a=e.className,l=e.fill,u=void 0===l?"currentColor":l,c=ph(e,["width","height","className","fill"]);return(0,r.jsx)("svg",dh(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){fh(e,t,n[t])}))}return e}({},(0,sh.Z)(c)),{className:a,width:n,height:i,viewBox:"0 0 16 16",children:(0,r.jsx)("path",{d:"M8.2738 8.49222L1.99997 9.09877L0.349029 14.3788C0.250591 14.691 0.347154 15.0322 0.595581 15.246C0.843069 15.4597 1.19464 15.5047 1.48903 15.3613L15.2384 8.7032C15.5075 8.57195 15.6781 8.29914 15.6781 8.00007C15.6781 7.70101 15.5074 7.4282 15.2384 7.29694L1.49839 0.634063C1.20401 0.490625 0.852453 0.535625 0.604941 0.749376C0.356493 0.963128 0.259941 1.30344 0.358389 1.61563L2.00932 6.89563L8.27093 7.50312C8.52405 7.52843 8.71718 7.74125 8.71718 7.99531C8.71718 8.24938 8.52406 8.46218 8.27093 8.4875L8.2738 8.49222Z",fill:u})}))}var yh=n(604661),bh=n.n(yh);function vh(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n
;return e}function mh(e){var t,n=e.onClick,o=e.disabled,i=void 0!==o&&o;return(0,r.jsx)("div",{className:bh().separator,children:(0,r.jsx)("div",{className:bh().buttonContainer,children:(0,r.jsx)(Xp,{className:bh().button,innerClassName:bh().innerButton,childClassName:a()(bh().buttonChild,(t={},vh(t,bh().disabled,i),vh(t,bh().activeButtonChild,!i),t)),onClick:n,disabled:i,isActive:!1,"aria-label":J.Z.Messages.SEND_MESSAGE,children:(0,r.jsx)(hh,{className:bh().sendIcon})})})})}const gh=o.memo(mh);var Oh=n(420202);function Eh(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function jh(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Sh(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){
i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Eh(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Eh(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ch(e,t){var n=e.disabled,i=e.type,l=Sh((0,Wo.Iu)((function(e){return[e.activeView,e.activeViewType,e.pickerId]}),d.Z),3),u=l[0],c=l[1],s=l[2],f=o.useContext(Zo),p=Sh(o.useState(!1),2),h=p[0],y=p[1],b=u===ri.X1.STICKER,v=!1,m=i===hn.I.NORMAL,g=(0,xp.A)(m)&&m,O=Sh(o.useState(!1),2),E=O[0],j=O[1];o.useEffect((function(){j(u===ri.X1.STICKER&&c===hn.I.NORMAL)}),[j,u,c])
;var S,C=o.useCallback((function(){(0,Wo.RO)(ri.X1.STICKER,i)}),[i]);o.useEffect((function(){var e=function(){requestAnimationFrame((function(){y(!0)}))},t=function(){requestAnimationFrame((function(){y(!1)}))};f.addListener("sticker-suggestions-shown",e);f.addListener("sticker-suggestions-hidden",t);return function(){f.removeListener("sticker-suggestions-shown",e);f.removeListener("sticker-suggestions-hidden",t)}}),[f]);if(n)return null;var P,I=h;S=(0,r.jsx)(ki.Z,{className:Gd().stickerIcon,winking:I,color:g?Oh.JX.PREMIUM_TRIAL_TUTORIAL:"currentColor"});return(0,r.jsx)("div",{className:a()(ri.CT,Gd().buttonContainer),ref:t,children:(0,r.jsx)(Xp,{innerClassName:a()(Gd().button,Gd().stickerButton,(P={},jh(P,Gd().stickerButtonWithNotification,v),jh(P,Gd().stickerButtonTilted,I&&!b),P)),onClick:C,isActive:b,"aria-label":J.Z.Messages.STICKER_BUTTON_LABEL,"aria-expanded":b,"aria-haspopup":"dialog","aria-controls":s,sparkle:!1,notification:null,children:g?(0,r.jsx)(Np.Z,{
tutorialHighlight:he.f8.STICKER,text:J.Z.Messages.PREMIUM_TRIAL_TUTORIAL_STICKER_TOOLTIP.format(),unformattedText:J.Z.Messages.PREMIUM_TRIAL_TUTORIAL_STICKER_TOOLTIP_UNFORMATTED,children:S,hideTooltip:E}):S})})}const Ph=o.memo(o.forwardRef(Ch));function Ih(e){var t,n,o,i,a,l,u=e.type,c=e.disabled,s=e.channel,f=e.handleSubmit,d=e.isEmpty,p=(0,h.e7)([b.Z],(function(){return b.Z.isSubmitButtonEnabled})),y=(0,h.e7)([Su.Z],(function(){return Su.Z.getStickerPreview(s.id,u.drafts.type)})),v=null!=y&&y.length>0,m=(0,h.e7)([Iu.Z],(function(){return Iu.Z.getUploads(s.id,u.drafts.type)})),O=(0,h.cj)([g.Z],(function(){return{activeCommand:g.Z.getActiveCommand(s.id),activeCommandOption:g.Z.getActiveOption(s.id)}})),E=O.activeCommand,j=O.activeCommandOption,C=[];if(!Ro.tq){var P,I,_;null!=(null===(P=u.gifts)||void 0===P?void 0:P.button)&&null==E&&C.push((0,r.jsx)(ch,{disabled:c,channel:s},"gift"))
;null==(null===(I=u.gifs)||void 0===I?void 0:I.button)||u.consolidateGifsStickersEmojis||null!=E||C.push((0,r.jsx)(rh,{disabled:c,type:u},"gif"));null==(null===(_=u.stickers)||void 0===_?void 0:_.button)||u.consolidateGifsStickersEmojis||null!=E||C.push((0,r.jsx)(Ph,{disabled:c,type:u},"sticker"))}null==(null===(t=u.emojis)||void 0===t?void 0:t.button)||u.consolidateGifsStickersEmojis||null!=E&&(null==j||j.type===S.jw.ATTACHMENT)||C.push((0,r.jsx)(Lp,{disabled:c,type:u},"emoji"));!u.consolidateGifsStickersEmojis||null==(null===(n=u.gifs)||void 0===n?void 0:n.button)&&null==(null===(o=u.stickers)||void 0===o?void 0:o.button)&&null==(null===(i=u.emojis)||void 0===i?void 0:i.button)||null!=E||C.push((0,r.jsx)(Up.Z,{disabled:c,type:u},"expression"));null!=(null===(a=u.submit)||void 0===a?void 0:a.button)&&((null===(l=u.submit)||void 0===l?void 0:l.ignorePreference)||p)&&C.push((0,r.jsx)(gh,{onClick:f,disabled:c||0===m.length&&d&&!v},"submit"));return 0===C.length?null:(0,r.jsx)("div",{
className:Gd().buttons,children:C})}const _h=o.memo(Ih);var wh=n(143604),xh=n(431396);function Nh(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Th(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Ah(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r]
;t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function Zh(e){var t=e.width,n=void 0===t?24:t,o=e.height,i=void 0===o?24:o,a=e.color,l=void 0===a?"currentColor":a,u=e.foreground,c=Ah(e,["width","height","color","foreground"]);return(0,r.jsx)("svg",Th(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Nh(e,t,n[t])}))}return e}({},(0,sh.Z)(c)),{width:n,height:i,viewBox:"0 0 24 24",children:(0,r.jsx)("path",{className:u,fill:l,
d:"M19.8401 5.39392C20.1229 4.73405 19.6389 4 18.921 4H17.1231C16.7417 4 16.3935 4.21695 16.2254 4.55933L13.3297 10.4581C13.195 10.7324 13.125 11.0339 13.125 11.3394V19C13.125 19.5523 13.5727 20 14.125 20H20C20.5523 20 21 19.5523 21 19V12.875C21 12.3227 20.5523 11.875 20 11.875H17.8208C17.4618 11.875 17.2198 11.508 17.3612 11.178L19.8401 5.39392ZM9.71511 5.39392C9.99791 4.73405 9.51388 4 8.79596 4H6.99809C6.61669 4 6.2685 4.21695 6.10042 4.55933L3.20466 10.4581C3.07001 10.7324 3 11.0339 3 11.3394V19C3 19.5523 3.44772 20 4 20H9.875C10.4273 20 10.875 19.5523 10.875 19V12.875C10.875 12.3227 10.4273 11.875 9.875 11.875H7.69577C7.33681 11.875 7.0948 11.508 7.2362 11.178L9.71511 5.39392Z"})}))}function Rh(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Mh(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e)
;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Dh(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function Lh(e){var t=e.width,n=void 0===t?24:t,o=e.height,i=void 0===o?24:o,a=e.color,l=void 0===a?"currentColor":a,u=e.foreground,c=Dh(e,["width","height","color","foreground"]);return(0,r.jsx)("svg",Mh(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Rh(e,t,n[t])}))}return e}({viewBox:"0 0 24 24"},(0,sh.Z)(c)),{width:n,height:i,children:(0,r.jsx)("path",{fill:l,className:u,d:"M18.2754 16.1739C18.2754 13.5072 16.7971 12.058 14.5653 11.3623C16.3044 10.6377 17.4638 9.27536 17.4638 7.18841C17.4638 4.02899 15.3189 2 10.8261 2H5V22H10.7392C15.4348 22 18.2754 20.1159 18.2754 16.1739ZM13.8986 7.50725C13.8986 9.21739 12.7102 10.2319 10.4493 10.2319H8.68116V4.92754H10.6232C12.9421 4.92754 13.8986 5.91304 13.8986 7.50725ZM14.5942 16.058C14.5942 18.058 13.1739 19.0725 10.7392 19.0725H8.68116V12.9565H10.6812C13.2319 12.9565 14.5942 14.029 14.5942 16.058Z"})}))}var kh=n(38940);function Uh(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Gh(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Hh(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function Bh(e){var t=e.width,n=void 0===t?24:t,o=e.height,i=void 0===o?24:o,a=e.color,l=void 0===a?"currentColor":a,u=e.foreground,c=Hh(e,["width","height","color","foreground"]);return(0,
r.jsx)("svg",Gh(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Uh(e,t,n[t])}))}return e}({viewBox:"0 0 24 24"},(0,sh.Z)(c)),{width:n,height:i,children:(0,r.jsx)("path",{fill:l,className:u,d:"M21 4V2H11V4H14.461L7.351 20H3V22H13V20H9.539L16.649 4H21Z"})}))}var Vh=n(410150);function Fh(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Wh(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n
}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Yh(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function zh(e){var t=e.width,n=void 0===t?24:t,o=e.height,i=void 0===o?24:o,a=e.color,l=void 0===a?"currentColor":a,u=e.foreground,c=Yh(e,["width","height","color","foreground"]);return(0,r.jsxs)("svg",Wh(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){
Fh(e,t,n[t])}))}return e}({viewBox:"0 0 24 24"},(0,sh.Z)(c)),{width:n,height:i,children:[(0,r.jsx)("path",{fill:l,className:u,d:"M22.004 10.8906H2V13.1133H12.002C13.8401 13.1133 15.336 14.6091 15.336 16.4473C15.336 18.2854 13.8401 19.7813 12.002 19.7813H8.668V18.67H6.44533V20.8926C6.44533 21.5061 6.94321 22.004 7.55667 22.004H12.002C15.0659 22.004 17.5587 19.5112 17.5587 16.4473C17.5587 15.1915 17.1241 14.0446 16.4196 13.1133H22.004V10.8906Z"}),(0,r.jsx)("path",{fill:l,className:u,d:"M8.87358 8.668C8.748 8.31904 8.66798 7.94786 8.66798 7.55667C8.66798 5.71852 10.1638 4.22267 12.002 4.22267H14.2246V5.334H16.4473V3.11133C16.4473 2.49788 15.9494 2 15.336 2H12.002C8.93803 2 6.44531 4.49272 6.44531 7.55667C6.44531 7.93674 6.48421 8.30904 6.55756 8.668H8.87358Z"})]}))}var Kh=n(661202),qh=n.n(Kh);function Xh(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Qh(e,t){
if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jh(e){Jh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Jh(e)}function $h(e,t){return!t||"object"!==ny(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ey(e,t){ey=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return ey(e,t)}function ty(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Xh(e,t)
;var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xh(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ny=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function ry(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Jh(e);if(t){var o=Jh(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return $h(this,n)}}function oy(e){
var t,n=e.editorRef,o=e.options,i=e.iconClassName,l=e.dividerClassName,u=null===(t=n.current)||void 0===t?void 0:t.getSlateEditor();return null==u?null:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(ay,{slateEditor:u,markdownSyntax:"bold",children:(0,r.jsx)(Lh,{className:a()(qh().icon,i)})}),(0,r.jsx)(ay,{slateEditor:u,markdownSyntax:"italics",children:(0,r.jsx)(Bh,{className:a()(qh().icon,i)})}),(0,r.jsx)(ay,{slateEditor:u,markdownSyntax:"strikethrough",children:(0,r.jsx)(zh,{className:a()(qh().icon,i)})}),(0,r.jsx)("div",{className:a()(qh().divider,l)}),!(null==o?void 0:o.disableBlockQuotes)&&(0,r.jsx)(ly,{slateEditor:u,blockType:"blockQuote",children:(0,r.jsx)(Zh,{className:a()(qh().icon,i)})}),(0,r.jsx)(ay,{slateEditor:u,markdownSyntax:"inlineCode",children:(0,r.jsx)(kh.Z,{className:a()(qh().icon,i)})}),(0,r.jsx)(ay,{slateEditor:u,markdownSyntax:"spoiler",children:(0,r.jsx)(Vh.Z,{className:a()(qh().icon,i)})})]})}var iy=function(e){!function(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&ey(e,t)}(n,e);var t=ry(n);function n(){Qh(this,n);var e;(e=t.apply(this,arguments)).timeout=0;e.ref=o.createRef();e.state={isActive:!1,x:null,y:null};e.hide=function(){e.setState({isActive:!1});clearTimeout(e.timeout)};e.handleMouseDown=function(t){var n,r=e.context.renderWindow;t.target instanceof r.Node&&(null===(n=e.ref.current)||void 0===n?void 0:n.contains(t.target))||e.hide()};e.handleMouseUp=function(t){var n=e.context.renderWindow;if(t.target instanceof n.Element)if(0!==t.button)e.hide();else{var r,o=t.target instanceof n.Node&&(null===(r=e.ref.current)||void 0===r?void 0:r.contains(t.target));clearTimeout(e.timeout);e.timeout=setTimeout((function(){var n,r=null===(n=(0,El.uB)(t))||void 0===n?void 0:n.activeElement,i=e.props.containerRef.current;e.setState({
isActive:o||null!=r&&null!=i&&i.contains(r)})}),100)}else e.hide()};return e}var i=n.prototype;i.componentDidMount=function(){var e=this.context.renderWindow;e.document.addEventListener("keydown",this.hide);e.document.addEventListener("mousedown",this.handleMouseDown);e.document.addEventListener("mouseup",this.handleMouseUp);e.addEventListener("focus",this.hide);e.addEventListener("blur",this.hide)};i.componentWillUnmount=function(){var e=this.context.renderWindow;e.document.removeEventListener("keydown",this.hide);e.document.removeEventListener("mousedown",this.handleMouseDown);e.document.removeEventListener("mouseup",this.handleMouseUp);e.removeEventListener("focus",this.hide);e.removeEventListener("blur",this.hide);clearTimeout(this.timeout)};i.render=function(){var e,t=this.props,n=t.editorRef,o=t.options,i=this.state,a=i.x,l=i.y;return null==a||null==l||null==(null===(e=n.current)||void 0===e?void 0:e.getSlateEditor())?null:(0,r.jsx)(Yt.ZP,{children:(0,r.jsxs)("div",{
id:"slate-toolbar",ref:this.ref,className:qh().toolbar,style:{top:l,left:a},children:[(0,r.jsx)("div",{className:qh().arrow}),(0,r.jsx)(oy,{editorRef:n,options:o})]})})};n.getDerivedStateFromProps=function(e,t){var n,r,o,i=null===(n=e.editorRef.current)||void 0===n?void 0:n.getSlateEditor();if(null==(null==i?void 0:i.selection)||nc.M8.isCollapsed(i.selection)||!t.isActive)return{x:null,y:null};var a=lc.F3.findDocumentOrShadowRoot(i),l=a.getSelection();if(null==l||null==l.focusNode||null==l.anchorNode||l.isCollapsed)return{x:null,y:null};var u=a.createRange();u.setStart(l.focusNode,l.focusOffset);u.setEnd(l.focusNode,l.focusOffset);var c=u.getBoundingClientRect(),s=a.createRange();s.setStart(l.anchorNode,l.anchorOffset);s.setEnd(l.anchorNode,l.anchorOffset);var f=s.getBoundingClientRect(),d=a.createRange();d.setStart(l.anchorNode,l.anchorOffset);d.setEnd(l.focusNode,l.focusOffset)
;var p,h=d.getBoundingClientRect(),y=c.x===f.x,b=y?h.x:Math.min(c.x,f.x),v=y?h.x+h.width:Math.max(c.x,f.x),m=null!==(p=null===(o=null===(r=e.containerRef.current)||void 0===r?void 0:r.getBoundingClientRect())||void 0===o?void 0:o.y)&&void 0!==p?p:0;return{x:b+(v-b)/2-102.5,y:Math.max(m,Math.min(f.y,c.y))-45}};return n}(o.PureComponent);iy.contextType=ln.ZP;function ay(e){var t=e.slateEditor,n=e.markdownSyntax,o=e.children,i=!1;if(null!=(null==t?void 0:t.selection)){var a=ty(nc.M8.edges(t.selection),2),l=a[0],u=a[1];i=null!=Ed(t,l,u).before[n]}return(0,r.jsx)(Pi.Co,{className:qh().button,innerClassName:qh().buttonInner,color:i?qh().active:qh().inactive,hover:qh().hover,look:Pi.Co.Looks.FILLED,size:Pi.Co.Sizes.NONE,onClick:function(){null!=t&&ic.withSingleEntry(t,(function(){return Id(t,n)}))},children:o})}function ly(e){var t=e.blockType,n=e.slateEditor,o=e.children,i=null!=n?nc.bN.getCurrentBlock(n):null,a=null!=i&&nc.aj.isType(i[0],t);return(0,r.jsx)(Pi.Co,{className:qh().button,
innerClassName:qh().buttonInner,color:a?qh().active:qh().inactive,hover:qh().hover,look:Pi.Co.Looks.FILLED,size:Pi.Co.Sizes.NONE,onClick:function(){null!=n&&ic.withSingleEntry(n,(function(){return function(e,t){var n=e.selection;if(null!=n){var r=!0,o=!0,i=!1,a=void 0;try{for(var l,u=nc.bN.blocks(e)[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=md(l.value,2),s=c[0],f=c[1];"line"!==s.type&&s.type!==t||!nc.M8.includes(n,f)||(r=r&&s.type===t)}}catch(e){i=!0;a=e}finally{try{o||null==u.return||u.return()}finally{if(i)throw a}}nc.bN.withoutNormalizing(e,(function(){var o=!0,i=!1,a=void 0;try{for(var l,u=nc.bN.blocks(e)[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=md(l.value,2),s=c[0],f=c[1];nc.M8.includes(n,f)&&(r||"line"!==s.type?r&&s.type===t&&sc.Q.setNodes(e,{type:"line"},{at:f}):sc.Q.setNodes(e,{type:t},{at:f}))}}catch(e){i=!0;a=e}finally{try{o||null==u.return||u.return()}finally{if(i)throw a}}}));nc.bN.focus(e)}}(n,t)}))},children:o})}function uy(e,t,n){
t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function cy(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function sy(e){var t,n=e.editorRef,i=e.options,a=e.channel,l=null===(t=n.current)||void 0===t?void 0:t.getSlateEditor(),u=o.useCallback((function(e,t){var r=n.current;null!=e&&null!=r&&r.insertEmoji(e,t,!1);t&&(0,Wo._Q)()}),[n]);return null==l?null:(0,r.jsxs)("div",{id:"slate-toolbar",className:qh().staticToolbar,children:[(0,r.jsx)("div",{className:qh().staticButtons,children:(0,r.jsx)(oy,{editorRef:n,options:i,
iconClassName:qh().staticIcon,dividerClassName:qh().staticDivider})}),(0,r.jsx)(uc.ZP,{renderPopout:function(e){var t=e.closePopout;return(0,r.jsx)(Uo.Z,{persistSearch:!0,channel:a,closePopout:t,onSelectEmoji:function(e,n){u(e,n);n&&t()},pickerIntention:pe.HzX.COMMUNITY_CONTENT})},position:uc.ZP.Positions.BOTTOM,animation:uc.ZP.Animation.NONE,align:uc.ZP.Align.LEFT,children:function(e,t){var n=t.isShown;return(0,r.jsx)(Tp.Z,cy(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){uy(e,t,n[t])}))}return e}({},e),{active:n,className:qh().emojiButton,tabIndex:0}))}})]})}function fy(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function dy(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e)
;return}l.done?t(u):Promise.resolve(u).then(r,o)}function py(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){dy(i,r,o,a,l,"next",e)}function l(e){dy(i,r,o,a,l,"throw",e)}a(void 0)}))}}function hy(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function yy(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){hy(e,t,n[t])}))}return e}function by(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){
return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function vy(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return fy(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fy(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var my=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){
a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function gy(e,t,i,a){var l=vy(o.useState(!1),2),u=l[0],c=l[1],s=o.useCallback((function(o,l,f,d,p){var h;if(!u){c(!0);var b,v,m=null!==(b=null===(h=Su.Z.getStickerPreview(a,t.drafts.type))||void 0===h?void 0:h.map((function(e){return e.id})))&&void 0!==b?b:[],g=null!==(v=Iu.Z.getUploads(a,t.drafts.type))&&void 0!==v?v:[];if(null!=l||d||p||!(0,uu.CB)(g,a))e({value:o,uploads:g,stickers:m,command:l,commandOptionValues:f,isGif:d}).then((function(e){var n=e.shouldClear,r=e.shouldRefocus,o=function(e,t){var n,r;return null!==(r=e&&(null===(n=t.submit)||void 0===n?void 0:n.clearOnSubmit))&&void 0!==r&&r}(n,t),l=null!=i.current;o&&(!function(e){return e!==wt.Z.getChannelId()}(a)?l&&i.current.clearValue():y.Z.saveDraft(a,"",t.drafts.type));if(l){c(!1);(0,Wo._Q)()
;r&&i.current.focus()}}));else{c(!1);(0,zo.ZD)(py((function(){var e,t;return my(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(38673)]).then(n.bind(n,269661))];case 1:e=i.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,by(yy({},e),{threadId:a,attachments:g,sendMessage:function(){return s(o,void 0,void 0,void 0,!0)}}))}]}}))})))}}}),[i,e,u,t,a]),f=o.useCallback((function(e){var t;null==i||null===(t=i.current)||void 0===t||t.submit(e)}),[]);return{submitting:u,submit:s,handleSubmit:f}}function Oy(e){var t=e.editorRef,n=e.disabled,r=e.textValue,i=e.channelId,a=e.chatInputType,l=e.submit,u=(0,m.Z)().analyticsLocations;return o.useCallback((function(e,o){var c;if(!n){if((0,ge.Hc)(o,r,i,a.drafts.type)){!function(e){var t=e.sticker,n=e.stickerSelectLocation,r=e.isReplacement,o=e.analyticsLocations;de.default.track(pe.rMx.STICKER_ATTACHED,{replaced:r,source:jn(n),sticker_id:t.id,location_stack:o})}({sticker:e,stickerSelectLocation:o,
isReplacement:null!=Su.Z.getStickerPreview(i,a.drafts.type),analyticsLocations:u});(0,er.eu)(i,e,a.drafts.type)}else{var s;l({value:"",uploads:void 0,stickers:[e.id]});null===(s=t.current)||void 0===s||s.clearValue()}(0,Wo._Q)();null===(c=t.current)||void 0===c||c.focus()}}),[n,r,i,a.drafts.type,t,u,l])}function Ey(e,t){var n,i,l,c,y,O,E=e.textValue,j=e.richValue,S=e.className,C=e.innerClassName,P=e.disabled,I=e.placeholder,_=e.accessibilityLabel,w=e.channel,x=e.type,N=e.focused,T=e.renderAttachButton,A=e.renderApplicationCommandIcon,Z=e.pendingReply,R=e.onChange,M=e.onResize,D=e.onBlur,L=e.onFocus,k=e.onKeyDown,U=e.onSubmit,G=e.promptToUpload,H=e.highlighted,B=e.canMentionRoles,V=e.canMentionChannels,F=e.maxCharacterCount,W=e.characterCountClassName,Y=e["aria-describedby"],z=e["aria-labelledby"],K=e.setEditorRef,q=e.autoCompletePosition;s()(null!=x,"chat input type must be set");var X=(0,m.Z)(v.Z.CHANNEL_TEXT_AREA).AnalyticsLocationProvider,J=function(e){var t=o.useRef(null)
;if(null!=e&&"function"==typeof e)throw Error("Only Ref objects are supported");return null==e?t:e}(t),$=o.useRef(null),ee=o.useRef(null),te=o.useRef(null),ne=o.useRef(null);null==K||K(ee.current);var re=function(e,t,n){var r=e.getGuildId(),o=(0,h.e7)([cu.Z],(function(){return null!=r&&cu.Z.isLurking(r)}),[r]),i=(0,h.e7)([_t.ZP,je.default],(function(){var e,t,n=je.default.getCurrentUser();return null!==(t=null!=r&&null!=n?null===(e=_t.ZP.getMember(r,n.id))||void 0===e?void 0:e.isPending:null)&&void 0!==t&&t})),a=(0,h.cj)([yn.Z],(function(){var r,o,a=e.isPrivate(),l=yn.Z.computePermissions(e),u=p.Z.has(l,pe.Plq.CREATE_PUBLIC_THREADS)||p.Z.has(l,pe.Plq.CREATE_PRIVATE_THREADS),c=(!(null===(r=t.permissions)||void 0===r?void 0:r.requireCreateTherads)||u)&&(!(null===(o=t.permissions)||void 0===o?void 0:o.requireSendMessages)||p.Z.has(l,pe.Plq.SEND_MESSAGES)),s=c&&p.Z.has(l,pe.Plq.ATTACH_FILES),f=(0,Cu.xW)(e);return{disabled:n||i||!a&&!c||f,canAttachFiles:!0===t.attachments&&(a||i||s),
canCreateThreads:u,canEveryoneSendMessages:wu.ZP.canEveryoneRole(pe.Plq.SEND_MESSAGES,e)}}),[n,e]);return yy({isLurking:o,isPendingMember:i},a)}(w,x,P),oe=re.isLurking,ie=re.isPendingMember,ae=re.disabled,le=re.canAttachFiles,ue=re.canCreateThreads,ce=re.canEveryoneSendMessages,se=(0,h.cj)([g.Z],(function(){var e,t;return{activeCommand:(null===(e=x.commands)||void 0===e?void 0:e.enabled)?g.Z.getActiveCommand(w.id):null,activeCommandSection:(null===(t=x.commands)||void 0===t?void 0:t.enabled)?g.Z.getActiveCommandSection(w.id):null}}),[w.id,x]),fe=se.activeCommand,de=se.activeCommandSection,he=x.toolbarType===hn.O.STATIC,ye=!Nr.dN.useSetting()&&!(0,xu.eL)()&&null!=window.ResizeObserver,be=!ye||!(null===(n=x.commands)||void 0===n?void 0:n.enabled)||!N||E!==Q.GI,ve=(0,su.Z)(),me=(0,h.cj)([b.Z],(function(){return{fontSize:b.Z.fontSize,isSubmitButtonEnabled:b.Z.isSubmitButtonEnabled}})),ge=me.isSubmitButtonEnabled,Oe=me.fontSize,Ee=(0,h.e7)([Pu.Z],(function(){return Pu.Z.isEnabled()}))
;!function(e,t){var n=o.useCallback((function(){t||(0,Wo.RO)(ri.X1.EMOJI,e)}),[t,e]),r=o.useCallback((function(){var n;!t&&(null===(n=e.gifs)||void 0===n?void 0:n.allowSending)&&(0,Wo.RO)(ri.X1.GIF,e)}),[t,e]),i=o.useCallback((function(){var n;!t&&(null===(n=e.stickers)||void 0===n?void 0:n.allowSending)&&(0,Wo.RO)(ri.X1.STICKER,e)}),[t,e]);(0,_u.yp)({event:pe.CkL.TOGGLE_EMOJI_POPOUT,handler:n});(0,_u.yp)({event:pe.CkL.TOGGLE_GIF_PICKER,handler:r});(0,_u.yp)({event:pe.CkL.TOGGLE_STICKER_PICKER,handler:i})}(x,ae);var Se=function(e,t,n){var r=vy(o.useState((function(){return new(u())})),1)[0];o.useEffect((function(){r.emit("text-changed",t,n)}),[t,n,r]);return{eventEmitter:r,handleEditorSelectionChanged:function(t){null!=e.current&&r.emit("selection-changed",t)}}}(ee,E,j),Ce=Se.eventEmitter,Pe=Se.handleEditorSelectionChanged,Ie=gy(U,x,ee,w.id),_e=Ie.submitting,we=Ie.submit,xe=Ie.handleSubmit,Ne=function(){var e=o.useRef(null),t=o.useCallback((function(){var t
;null===(t=e.current)||void 0===t||t.onMaybeShowAutocomplete()}),[]),n=o.useCallback((function(){var t;null===(t=e.current)||void 0===t||t.onHideAutocomplete()}),[]);return{autocompleteRef:e,handleMaybeShowAutocomplete:t,handleHideAutocomplete:n}}(),Te=Ne.autocompleteRef,Ae=Ne.handleMaybeShowAutocomplete,Ze=Ne.handleHideAutocomplete,Re=function(e,t,n){return o.useCallback((function(r){var o;if(t===hn.I.CREATE_FORUM_POST){var i;null===(i=n.current)||void 0===i||i.insertGIF(r)}else e(r.url,void 0,void 0,!0);(0,Wo._Q)();null===(o=n.current)||void 0===o||o.focus()}),[n,e,t])}(we,x,ee),Me=function(e){return o.useCallback((function(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=e.current;null!=t&&null!=o&&o.insertEmoji(t,n,r);n&&(0,Wo._Q)()}),[e])}(ee),De=Oy({editorRef:ee,disabled:ae,textValue:E,channelId:w.id,chatInputType:x,submit:U}),Le=o.useCallback((function(){var e;return null==ne||null===(e=ne.current)||void 0===e?void 0:e.hide()}),[]),ke=function(e){
var t=vy(o.useState(0),2),n=t[0],r=t[1];return{editorHeight:n,handleResize:o.useCallback((function(t){r(null!=t?t:0);null==e||e(t)}),[e])}}(M),Ue=ke.editorHeight,Ge=ke.handleResize,He=function(e,t,n){var r=o.useCallback((function(){var r,o;return!(n||!(null===(r=t.current)||void 0===r?void 0:r.onTabOrEnter(!1)))||(null===(o=e.current)||void 0===o?void 0:o.onTabOrEnter(!1))||!1}),[n]),i=o.useCallback((function(){var r,o;return!(n||!(null===(r=t.current)||void 0===r?void 0:r.onTabOrEnter(!0)))||(null===(o=e.current)||void 0===o?void 0:o.onTabOrEnter(!0))||!1}),[n]),a=o.useCallback((function(r){var o,i;return!(n||!(null===(o=t.current)||void 0===o?void 0:o.onMoveSelection(r)))||(null===(i=e.current)||void 0===i?void 0:i.onMoveSelection(r))||!1}),[n]);return{handleTab:r,handleEnter:i,handleMoveSelection:a}}(Te,$,be),Be=He.handleTab,Ve=He.handleEnter,Fe=He.handleMoveSelection,We=function(e,t,n){var r=vy((0,Wo.Iu)((function(e){return[e.activeView,e.activeViewType]}),d.Z),2),i=r[0],a=r[1]
;o.useEffect((function(){return function(){(0,Wo._Q)(e)}}),[e]);var l=o.useCallback((function(e){t.emit("autocomplete-visibility-change",e);e&&(0,Wo._Q)()}),[t]),u=o.useCallback((function(){var e;null==i&&(null===(e=n.current)||void 0===e||e.handleOuterClick())}),[i]);return{expressionPickerView:i,shouldHideExpressionPicker:null==i||null==a||a!==e,handleAutocompleteVisibilityChange:l,handleOuterClick:u}}(x,Ce,ee),Ye=We.expressionPickerView,ze=We.shouldHideExpressionPicker,Ke=We.handleAutocompleteVisibilityChange,qe=We.handleOuterClick,Xe=ae&&!((oe||ie)&&ce)||_e&&(null===(i=x.submit)||void 0===i?void 0:i.useDisabledStylesOnSubmit),Qe=null;null!=fe?Qe=null==A?void 0:A(fe,de,Gd().attachButton):ae&&!ue||(Qe=null==T?void 0:T(x===hn.I.NORMAL,Gd().attachButton));var Je,$e,et,tt,nt,rt,ot=null!=Z,it=ye&&null!=j&&!ae&&x.showCharacterCount,at=ye&&!__OVERLAY__&&null!=j&&null==fe,lt=function(e,t,n,r){var o,i,a=Nr.up.useSetting(),l=(0,h.e7)([Su.Z],(function(){
return Su.Z.getStickerPreview(e.id,t.drafts.type)})),u=null!=l&&l.length>0;return a&&(null===(o=t.stickers)||void 0===o?void 0:o.autoSuggest)&&!u&&!0!==(null===(i=r.current)||void 0===i?void 0:i.isVisible())&&!__OVERLAY__&&null!=n}(w,x,j,Te),ut=Vt(w),ct=null!=fe||null!=Z||ut;return(0,r.jsx)(Ao,{value:Ce,children:(0,r.jsxs)(X,{children:[at&&he?(0,r.jsx)(sy,{editorRef:ee,options:x.markdown,channel:w}):at?(0,r.jsx)(iy,{ref:ne,editorRef:ee,containerRef:te,options:x.markdown}):null,(0,r.jsxs)("div",{ref:J,className:a()(S,(et={},hy(et,Gd().channelTextArea,!0),hy(et,Gd().channelTextAreaDisabled,Xe),hy(et,Gd().highlighted,H),et)),onMouseDown:qe,children:[(0,r.jsx)(wp,{type:x,channel:w,activeCommand:fe,pendingReply:Z}),(0,r.jsxs)("div",{ref:te,onScroll:Le,className:a()(C,(tt={},hy(tt,Gd().scrollableContainer,!0),hy(tt,Gd().webkit,"Blink"===platform.layout),hy(tt,Gd().hasConnectedBar,ct),tt)),children:[(0,r.jsx)(ap,{channelId:w.id,chatInputType:x}),x.hideAttachmentArea?null:(0,r.jsx)(wh.Z,{
channelId:w.id,type:x,canAttachFiles:le}),(0,r.jsxs)("div",{className:a()(Gd().inner,(nt={},hy(nt,Gd().innerDisabled,Xe),hy(nt,Gd().sansAttachButton,x!==hn.I.FORM&&x!==hn.I.EDIT&&x!==hn.I.RULES_INPUT&&x!==hn.I.PROFILE_BIO_INPUT&&x!==hn.I.FORUM_CHANNEL_GUIDELINES),hy(nt,Gd().sansAttachButtonCreateThread,x===hn.I.THREAD_CREATION),hy(nt,Gd().sansAttachButtonCreatePost,x===hn.I.CREATE_FORUM_POST),nt)),children:[Qe,(0,r.jsx)(f.tE,{ringTarget:J,ringClassName:Gd().focusRing,children:(0,r.jsx)($d,{ref:ee,focused:N,useSlate:ye,textValue:E,richValue:j,disabled:ae,placeholder:I,accessibilityLabel:_,isPreviewing:(oe||ie)&&ce,channel:w,type:x,canPasteFiles:le,uploadPromptCharacterCount:pe.en1,maxCharacterCount:null!=F?F:ve,"aria-describedby":Y,onChange:R,onResize:Ge,onBlur:D,onFocus:L,onKeyDown:k,onSubmit:we,onTab:Be,onEnter:Ve,onMoveSelection:Fe,onSelectionChanged:Pe,onMaybeShowAutocomplete:Ae,onHideAutocomplete:Ze,promptToUpload:G,fontSize:Oe,spellcheckEnabled:Ee,canOnlyUseTextCommands:ot,
className:a()((rt={},hy(rt,Gd().textAreaThreadCreation,x===hn.I.THREAD_CREATION),hy(rt,Gd().profileBioInput,x===hn.I.PROFILE_BIO_INPUT),rt)),"aria-labelledby":z})}),(0,r.jsx)(_h,{type:x,disabled:ae,channel:w,handleSubmit:xe,isEmpty:0===E.trim().length})]})]}),be?null:(0,r.jsx)(St,{ref:$,channel:w,canOnlyUseTextCommands:ot}),(0,r.jsx)(So,{ref:Te,channel:w,canMentionRoles:B,canMentionChannels:V,useNewSlashCommands:ye,canOnlyUseTextCommands:ot,canSendStickers:null===(l=x.stickers)||void 0===l?void 0:l.allowSending,textValue:E,focused:N,expressionPickerView:Ye,type:x,editorRef:ee,onSendMessage:we,onSendSticker:De,onVisibilityChange:Ke,editorHeight:Ue,setValue:function(e,t){return null==R?void 0:R(null,e,t)},position:q}),(0,r.jsx)(ju,{textValue:E,editorHeight:Ue}),it?(0,r.jsx)(xh.Z,{type:x,textValue:E,className:W,maxCharacterCount:F}):null,lt?(0,r.jsx)(lu,{editorRef:ee,channel:w,isEditorFocused:N,onSelectSticker:De,
submitButtonVisible:(null===(c=x.submit)||void 0===c?void 0:c.button)&&(null!==(Je=null===(y=x.submit)||void 0===y?void 0:y.ignorePreference)&&void 0!==Je?Je:ge),stickerIconVisible:null!==($e=null===(O=x.stickers)||void 0===O?void 0:O.button)&&void 0!==$e&&$e}):null]}),ze?null:(0,r.jsx)(Zl,{positionTargetRef:J,type:x,onSelectGIF:Re,onSelectEmoji:Me,onSelectSticker:De,channel:w})]})})}const jy=o.memo(o.forwardRef(Ey))},143604:(e,t,n)=>{"use strict";n.d(t,{Z:()=>z});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),l=n(125447),u=n(705475),c=n(791462),s=n(173436),f=n(159500),d=n(780921),p=n(730189),h=n(922932),y=n(408247),b=n(402124),v=n(861842),m=n(395590),g=n(238585),O=n(678081),E=n(251356),j=n(629590),S=n(685351),C=n(989346),P=n(978711),I=n(461061),_=n(486871),w=n.n(_),x=n(712218),N=n.n(x);function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function A(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,
writable:!0}):e[t]=n;return e}function Z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e){
var t=e.channelId,n=e.option,i=e.keyboardModeEnabled,l=o.useRef(null),u=Z(o.useState(!1),2),c=u[0],s=u[1],d=v.Z.getUpload(t,n.name,b.d.ChannelMessage),p=o.useRef(null),h=o.useCallback((function(){s(!0)}),[]),y=o.useCallback((function(){s(!1)}),[]),m=o.useCallback((function(e){var r;s(!1);var o={id:n.name,file:null===(r=e.dataTransfer)||void 0===r?void 0:r.files[0],platform:E.o.WEB};f.Z.setFile({channelId:t,id:n.name,file:o,draftType:b.d.ChannelMessage})}),[t,n]);o.useEffect((function(){var e=p.current;if(null==d){null==e||e.addEventListener("dragover",h,!1);null==e||e.addEventListener("dragleave",y,!1);null==e||e.addEventListener("drop",m,!1)}return function(){null==e||e.removeEventListener("dragover",h,!1);null==e||e.removeEventListener("dragleave",y,!1);null==e||e.removeEventListener("drop",m,!1)}}),[d,h,y,m]);return null!=d?(0,r.jsx)(P.Z,{channelId:t,upload:d,keyboardModeEnabled:i,draftType:b.d.ChannelMessage,label:(0,r.jsxs)(o.Fragment,{children:[(0,r.jsxs)(S.x,{tag:"span",
variant:"text-md/normal",children:[n.name,": "]}),(0,r.jsx)(S.x,{tag:"span",variant:"text-md/normal",color:"text-brand",children:d.filename})]}),canEdit:!1}):(0,r.jsxs)(C.Z,{id:n.name,channelId:t,keyboardModeEnabled:i,onKeyDown:function(e){if(e.which===I.yXg.ENTER){var t;e.preventDefault();null===(t=l.current)||void 0===t||t.activateUploadDialogue()}},className:a()(w().emptyOption,A({},w().emptyOptionActive,c)),draftType:b.d.ChannelMessage,ref:p,children:[(0,r.jsx)("span",{className:a()(w().optionName,A({},w().optionNameActive,c)),children:n.name}),(0,r.jsx)(j.Z,{className:w().clickContainer,onClick:function(){var e;return null===(e=l.current)||void 0===e?void 0:e.activateUploadDialogue()},children:(0,r.jsxs)("div",{className:w().commandOptionContainer,children:[(0,r.jsx)("img",{src:N(),className:w().optionIcon,alt:""}),(0,r.jsx)(S.x,{className:w().optionHelp,variant:"text-sm/normal",children:"Drag and drop or click to upload file"}),(0,r.jsx)(O.Z,{ref:l,onChange:function(e){var r,o
;if(null!=t&&null!=(null===(r=e.currentTarget)||void 0===r||null===(o=r.files)||void 0===o?void 0:o[0])){var i={id:n.name,file:e.currentTarget.files[0],platform:E.o.WEB};f.Z.setFile({channelId:t,id:n.name,file:i,draftType:b.d.ChannelMessage});e.currentTarget.value=""}},multiple:!1,tabIndex:-1,"aria-hidden":!0,className:w().fileInput})]})})]})}var M=n(554188),D=n.n(M),L=n(840348),k=n.n(L);function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function G(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function H(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){
Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function B(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function V(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return U(e,t);var n=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return U(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var F=[];function W(e){var t=e.channelId,n=e.type,i=(0,c.e7)([p.Z],(function(){return p.Z.keyboardModeEnabled})),O=(0,h.Z)("attachments",u.hy.HORIZONTAL),E=(0,c.e7)([v.Z],(function(){return v.Z.getUploads(t,n.drafts.type)})),j=(0,c.cj)([y.Z],(function(){var e=y.Z.getActiveCommand(t);if(null==e)return{isApplicationCommand:!1,commandOptions:F,commandOptionStates:null};var n=y.Z.getOptionStates(t);return{isApplicationCommand:!0,commandOptions:e.options,commandOptionStates:n}})),S=j.isApplicationCommand,C=j.commandOptions,_=j.commandOptionStates,w=o.useMemo((function(){var e;return null!==(e=null==C?void 0:C.filter((function(e){
var t;return e.type===d.jw.ATTACHMENT&&(null==_||null===(t=_[e.name])||void 0===t?void 0:t.hasValue)})))&&void 0!==e?e:[]}),[C,_]),x=V(o.useState([]),2),N=x[0],T=x[1];o.useEffect((function(){var e=function(){f.Z.clearAll(t,n.drafts.type)};s.Z.subscribe("APPLICATION_COMMAND_SET_ACTIVE_COMMAND",e);return function(){return s.Z.unsubscribe("APPLICATION_COMMAND_SET_ACTIVE_COMMAND",e)}}),[t,n]);var A=o.useCallback((function(){O.focusFirstVisibleItem()}),[O]);(0,g.yp)({event:I.CkL.FOCUS_ATTACHMENT_AREA,handler:A});o.useEffect((function(){if(S){var e=[];N.forEach((function(t){w.some((function(e){return t.name===e.name}))||e.push(t)}));e.forEach((function(e){f.Z.remove(t,e.name,n.drafts.type)}));T(w)}}),[t,w.length,n]);return!S&&0===E.length||S&&0===w.length?null:(0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)(l.bG,{navigator:O,children:(0,r.jsx)(l.SJ,{children:function(e){var o=e.ref,l=B(e,["ref"]);return(0,r.jsx)("ul",H(function(e){for(var t=1;t<arguments.length;t++){
var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){G(e,t,n[t])}))}return e}({ref:o},l),{className:a()(D().channelAttachmentArea,k().scrollbarGhost),children:S?w.map((function(e){return(0,r.jsx)(R,{channelId:t,keyboardModeEnabled:i,option:e},e.name)})):E.map((function(e){return(0,r.jsx)(P.Z,{channelId:t,draftType:n.drafts.type,upload:e,keyboardModeEnabled:i},e.id)}))}))}})}),n.drafts.type===b.d.FirstThreadMessage?null:(0,r.jsx)(m.Z,{})]})}function Y(e){var t=e.channelId,n=e.type;return e.canAttachFiles?(0,r.jsx)(W,{channelId:t,type:n}):null}const z=o.memo(Y)},212563:(e,t,n)=>{"use strict";n.d(t,{cr:()=>h,HZ:()=>y,cu:()=>b,tM:()=>v,IB:()=>m,lk:()=>g,xi:()=>O,zb:()=>E});var r=n(780921),o=n(361138),i=n(408247),a=n(902788),l=n(172458),u=n(375832),c=n(81724),s=n(691781);function f(e,t){
(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}
var p=RegExp("([\\p{L}\\p{N}\\p{sc=Deva}\\p{sc=Thai}_-]+):","gu");function h(e){var t=c.bN.richValue(e)[0];return null==t||"applicationCommand"!==t.type?null:[t,s.YD]}function y(e){if(null==e.selection)return null;var t,n,r=null!==(t=c.bN.above(e,{at:e.selection.focus,match:function(t){return c.bN.isInline(e,t)&&"applicationCommandOption"===t.type}}))&&void 0!==t?t:null;return null!=r||c.M8.isCollapsed(e.selection)?r:null!==(n=c.bN.above(e,{at:e.selection.anchor,match:function(t){return c.bN.isInline(e,t)&&"applicationCommandOption"===t.type}}))&&void 0!==n?n:null}function b(e){var t=h(e),n=[],r=null==t?void 0:t[0].children;if(null!=r){var o=!0,i=!1,a=void 0;try{for(var l,u=r[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var s=l.value;c.aj.isType(s,"applicationCommandOption")&&n.push(s.optionName)}}catch(e){i=!0;a=e}finally{try{o||null==u.return||u.return()}finally{if(i)throw a}}}return n}function v(e,t){var n={};if(null==t.options)return{}
;var r=h(e),o=Object.fromEntries(t.options.map((function(e){return[e.name,e]}))),i=null==r?void 0:r[0].children;if(null!=i){var a=!0,l=!1,u=void 0;try{for(var s,f=i[Symbol.iterator]();!(a=(s=f.next()).done);a=!0){var d=s.value;if(c.aj.isType(d,"applicationCommandOption")){var p=o[d.optionName];null!=p&&(n[d.optionName]=m(e,p,d))}}}catch(e){l=!0;u=e}finally{try{a||null==f.return||f.return()}finally{if(l)throw u}}}return n}function m(e,t,n){var o=n.children.map((function(t){if(c.LC.isText(t))return{type:"text",text:t.text};if(c.bN.isVoid(e,t)){var n=(0,l.VI)(t);if(null!=n)return n}return{type:"text",text:(0,u.sg)(t,{mode:"raw"})}}));if(t.type!==r.jw.STRING){for(;o.length>0&&"text"===o[0].type&&""===o[0].text.trim();)o.shift();for(;o.length>0&&"text"===o[o.length-1].type&&""===o[o.length-1].text.trim();)o.pop()}return o}function g(e,t,n,r,i){if(null==e.options)return{};var l,u=Object.fromEntries(e.options.map((function(e){return[e.name,a.f(e,null!==(l=r[e.name])&&void 0!==l?l:null,t,n,i)]
})));o.VP(n,u);return u}function O(e,t,n,r,l){var u,c=d(r,1)[0],s=i.Z.getActiveCommand(n),f=null==s||null===(u=s.options)||void 0===u?void 0:u.find((function(e){return e.name===c.optionName}));if(null!=f){var p=m(e,f,c),h=a.f(f,p,t,n,l);o.g7(n,function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}({},c.optionName,{lastValidationResult:h}));return h}}function E(e,t){if(null==t.options||0===t.options.length)return[];var n=c.bN.richValue(e),r=[],o=new Set(b(e)),i={},a=new Set,l=!0,s=!1,f=void 0;try{for(var d,h=t.options[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){var y=d.value;i[y.displayName]=y;o.has(y.name)||a.add(y.displayName)}}catch(e){s=!0;f=e}finally{try{l||null==h.return||h.return()}finally{if(s)throw f}}for(var v=null,m=0;m<n.length;m++){var g=n[m];if("line"===g.type||"applicationCommand"===g.type)for(var O=0;O<g.children.length;O++){var E=g.children[O],j=[m,O];if(c.aj.isType(E,"applicationCommandOption")){
if(null!=v){var S;v.valueRange.focus=null!==(S=c.bN.before(e,j))&&void 0!==S?S:c.bN.start(e,[]);v.text=(0,u.sk)(n,{mode:"raw",range:v.valueRange}).trim();r.push(v);v=null}}else if(c.LC.isText(E)){p.lastIndex=0;for(var C=void 0;null!=(C=p.exec(E.text));)if(0===C.index||null!=E.text.charAt(C.index-1).match(/(\t|\s)/)){var P=C[1];if(a.has(P)){a.delete(P);var I=i[P];if(null!=I){var _={path:j,offset:C.index},w={path:j,offset:_.offset+C[0].length},x={path:j,offset:w.offset},N={name:I.name,displayName:I.displayName,type:I.type,keyRange:{anchor:_,focus:w},valueRange:{anchor:x,focus:x},text:""};if(null!=v){v.valueRange.focus=N.keyRange.anchor;v.text=(0,u.sk)(n,{mode:"raw",range:v.valueRange}).trim();r.push(v)}v=N}}}}}}if(null!=v){v.valueRange.focus=c.bN.end(e,[]);v.text=(0,u.sk)(n,{mode:"raw",range:v.valueRange}).trim();r.push(v)}return r}},431396:(e,t,n)=>{"use strict";n.d(t,{Z:()=>U})
;var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),l=n(791462),u=n(747465),c=n(859169),s=n(64833),f=n(381139),d=n(859023),p=n(757987),h=n(732031),y=n(863419),b=n(356004),v=n(379822),m=n(629590),g=n(420202),O=n(685351),E=n(897576),j=n(932847),S=n(461061),C=n(959797),P=n(912902),I=n.n(P);function _(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function w(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){_(i,r,o,a,l,"next",e)}function l(e){_(i,r,o,a,l,"throw",e)}a(void 0)}))}}function x(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))))
;r.forEach((function(t){x(e,t,n[t])}))}return e}var T=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}
i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function A(){(0,E.ZD)(w((function(){var e,t;return T(this,(function(o){switch(o.label){case 0:return[4,n.e(69512).then(n.bind(n,669512))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,N({channel:null},e))}]}}))})))}function Z(e){var t=e.className,n=e.iconOnly,i=(0,l.e7)([v.Z,b.Z],(function(){var e=b.Z.getChannel(v.Z.getChannelId());return(null==e?void 0:e.isPrivate())?S.ZY5.DM_CHANNEL:S.ZY5.GUILD_CHANNEL})),u=(0,s.Z)(c.Z.PREMIUM_UPSELL).analyticsLocations;o.useEffect((function(){j.default.track(S.rMx.PREMIUM_UPSELL_VIEWED,{type:"longer messages inline",location:{location_page:i,location_section:S.jXE.CHANNEL_TEXT_AREA},location_stack:u})}),[i,u]);return n?(0,r.jsx)(m.Z,{className:I().iconOnly,onClick:function(){return A()},children:(0,r.jsx)(p.ZP,{text:C.Z.Messages.PREMIUM_MESSAGE_LENGTH_UPSELL_TOOLTIP_WITHOUT_LINK,position:p.ZP.Positions.TOP,
children:function(e){return(0,r.jsx)(h.Z,N({className:I().premium},e))}})}):(0,r.jsxs)("div",{className:a()(I().root,t),children:[(0,r.jsx)(h.Z,{className:I().premium,color:g.JX.PREMIUM_TIER_2}),(0,r.jsx)(O.x,{className:I().text,variant:"text-sm/normal",children:C.Z.Messages.PREMIUM_MESSAGE_LENGTH_UPSELL_TOOLTIP.format({onLearnMore:A})})]})}var R=n(884564),M=n.n(R);function D(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){D(e,t,n[t])}))}return e}function k(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e)
;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function U(e){var t,n=e.type,o=e.textValue,i=e.maxCharacterCount,b=e.className,v=(0,l.e7)([d.default],(function(){return y.ZP.canUseIncreasedMessageLength(d.default.getCurrentUser())})),m=(0,f.Z)(),g=null!=i?i:m,O=null!=i?i:m/10,E=o.length,j=null!=n.upsellLongMessages&&(null!=E?E:0)>S.J6R&&v,P=null!=n.upsellLongMessages&&!v,I=g-E,_=I>O,w=0===I?C.Z.Messages.CHARACTER_COUNT_AT_LIMIT:I>0?C.Z.Messages.CHARACTER_COUNT_CLOSE_TO_LIMIT.format({count:I}):C.Z.Messages.CHARACTER_COUNT_OVER_LIMIT,x=(0,s.Z)(c.Z.CHARACTER_COUNT).AnalyticsLocationProvider;return j&&I>=0||!_||P&&!_?(0,r.jsx)(x,{children:(0,r.jsxs)("div",{className:a()(b,M().characterCount,D({},M().error,I<0)),children:[(0,r.jsxs)("div",{
className:M().flairContainer,children:[j&&I>=0?(0,r.jsx)(p.ZP,{text:C.Z.Messages.PREMIUM_MESSAGE_LENGTH_CHATBOX_FLAIR.format({maxLength:g}),position:p.ZP.Positions.TOP,children:function(e){return(0,r.jsx)(h.Z,L({className:M().premiumFlair},e))}}):null,_?null:(0,r.jsx)(p.ZP,{text:w,position:p.ZP.Positions.TOP,children:function(e){return(0,r.jsx)("span",k(L({"aria-hidden":!0},e),{children:I}))}})]}),(0,r.jsx)(u.Z,{children:C.Z.Messages.CHARACTER_COUNT_CLOSE_TO_LIMIT.format({count:I})}),P&&!_?(0,r.jsx)(Z,{className:M().upsell,iconOnly:(null===(t=n.upsellLongMessages)||void 0===t?void 0:t.iconOnly)||!1}):null]})}):null}},691781:(e,t,n)=>{"use strict";n.d(t,{YD:()=>r,u9:()=>o,i$:()=>i,On:()=>a});var r=[0],o=[0,0],i=/(\t|\s)/,a=["applicationCommandOption"]},375832:(e,t,n)=>{"use strict";n.d(t,{sk:()=>b,sg:()=>m});var r=n(441143),o=n.n(r),i=n(53211),a=n(356004),l=n(653772),u=n(105405),c=n(971738),s=n(859023),f=n(81724);function d(e,t){(null==t||t>e.length)&&(t=e.length)
;for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function h(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{
if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){var n=null!=t?t:{},r=n.mode,o=n.ignoreTrailingEmptyNodes,i=n.preventEmojiSurrogates,a=y(null!=(null==t?void 0:t.range)?f.M8.edges(t.range):[void 0,void 0],2);return v(e,{mode:r,start:a[0],end:a[1],ignoreTrailingEmptyNodes:o,preventEmojiSurrogates:i})}function v(e,t){var n,r=null!=t?t:{},o=r.mode,i=r.start,a=r.end,l=r.separator,u=r.ignoreEmptyNodes,c=r.ignoreTrailingEmptyNodes,s=r.preventEmojiSurrogates,d=e.length>0&&!f.LC.isText(e[0]);null==l&&(l=d?"\n":"")
;var p,h=null!==(n=null==i?void 0:i.path[0])&&void 0!==n?n:0,y=null!==(p=null==a?void 0:a.path[0])&&void 0!==p?p:e.length-1;if(c)for(var b=y;b>=h;b--){var v=e[b];if(f.LC.isText(v)){if(v.text.length>0){y=b;break}}else if(!f.q.isEmpty(v)){y=b;break}if(b===h)return""}for(var g=h>0&&f.aj.isType(e[h-1],"blockQuote"),O=f.aj.isType(e[h],"blockQuote"),E=f.aj.isType(e[y],"blockQuote"),j=[],S=h;S<=y;S++){var C=e[S];if(!u||!f.LC.isText(C)||0!==C.text.length){var P=m(C,{mode:o,start:null!=i&&S===h?{path:i.path.slice(1),offset:i.offset}:void 0,end:null!=a&&S===y?{path:a.path.slice(1),offset:a.offset}:void 0,allowBlockQuotePrefix:null==i||null==a||!g&&(!O||E),preventEmojiSurrogates:s});(!u||P.length>0)&&j.push(P)}}return j.join(l)}function m(e,t){var n=null!=t?t:{},r=n.mode,d=n.start,y=n.allowBlockQuotePrefix,b=void 0!==y&&y,m=n.preventEmojiSurrogates,g=void 0!==m&&m;if(f.LC.isText(e))return function(e,t){var n,r,i=null!=t?t:{},a=i.start,l=i.end
;o()(null==a||0===a.path.length,"Invalid start provided to serializeText");o()(null==l||0===l.path.length,"Invalid end provided to serializeText");return e.substring(null!==(n=null==a?void 0:a.offset)&&void 0!==n?n:0,null!==(r=null==l?void 0:l.offset)&&void 0!==r?r:e.length)}(e.text,t);switch(e.type){case"line":case"testInline":return v(e.children,t);case"testInlineVoid":return"";case"blockQuote":var O=v(e.children,t),E=null!=d&&1===d.path.length&&0===d.path[0]&&0===d.offset;return b&&(null==d||E)?"> ".concat(O):O;case"emoji":var j=e.emoji;return g||null==j.surrogate?j.name:j.surrogate;case"customEmoji":var S=e.emoji;if("raw"===r){var C=S.animated?"a":"",P=S.name.replace(/:/g,"").split("~")[0];return"<".concat(C,":").concat(P,":").concat(S.emojiId,">")}return S.name;case"textMention":return e.name;case"channelMention":var I="<#".concat(e.channelId,">");if("raw"===r)return I;var _=a.Z.getChannel(e.channelId);return null==_?I:(0,i.F)(_,s.default,u.Z,!0);case"roleMention":
var w="<@&".concat(e.roleId,">");if("raw"===r)return w;var x=l.Z.getGuild(c.Z.getGuildId()),N=null==x?void 0:x.roles[e.roleId];return null==N?w:"@".concat(N.name);case"userMention":var T="<@".concat(e.userId,">");if("raw"===r)return T;var A=s.default.getUser(e.userId);return null==A?T:"@".concat(A.username,"#").concat(A.discriminator);case"commandMention":return"</".concat(e.commandName,":").concat(e.commandId,">");case"applicationCommand":return v(e.children,h(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){p(e,t,n[t])}))}return e}({},t),{separator:" ",ignoreEmptyNodes:!0}));case"applicationCommandOption":var Z=v(e.children,t);return null==d?"".concat(e.optionDisplayName,":").concat(Z):Z}}},251140:(e,t,n)=>{"use strict";n.d(t,{Q:()=>s
});var r=n(104182),o=n(212563),i=n(81724),a=n(691781);function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var s=function(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){u(e,t,n[t])}))}return e}({},r.YR),{resetSelectionToStart:function(e){
r.YR.select(e,i.bN.start(e,[]))},resetSelectionToEnd:function(e){r.YR.select(e,i.bN.end(e,[]))},delete:function(e,t){var n=t.at,o=t.distance,a=t.unit,l=t.reverse,u=void 0!==l&&l,s=t.select,f=void 0!==s&&s,d=t.bounds,p=t.voids;if(null==n){if(null==e.selection)return;n=e.selection}var h=c(i.M8.isRange(n)?i.M8.edges(n):i.bN.edges(e,n),2),y=h[0],b=h[1];if(null!=o||null!=a)if(u){var v;y=null!==(v=i.bN.before(e,y,{distance:o,unit:a}))&&void 0!==v?v:i.bN.start(e,[])}else{var m;b=null!==(m=i.bN.after(e,b,{distance:o,unit:a}))&&void 0!==m?m:i.bN.end(e,[])}if(null!=d){var g=c(i.M8.edges(d),2),O=g[0],E=g[1];i.Jz.isBefore(y,O)&&(y=O);i.Jz.isAfter(b,E)&&(b=E)}if(!i.Jz.equals(y,b)){r.YR.delete(e,{at:{anchor:y,focus:b},hanging:!0,voids:p});f&&i.bN.hasPath(e,y.path)&&r.YR.select(e,y)}},textToText:function(e,t,n){var o,a=i.bN.getSelectionOverlap(e,n),l=c(i.M8.edges(n),2),u=l[0],s=l[1],f=null!==(o=i.bN.before(e,u))&&void 0!==o?o:i.bN.start(e,[]),p=i.bN.after(e,s);r.YR.delete(e,{at:n,voids:!0})
;r.YR.insertText(e,t,{at:f});d(e,a,f=null!=f?f:i.bN.start(e,[]),p=null!=p?p:i.bN.end(e,[]),p)},textToVoid:function(e,t,n){var o=i.bN.getSelectionOverlap(e,n),a=i.M8.start(n),l=i.C0.next(a.path),u={path:i.C0.next(l),offset:0};r.YR.delete(e,{at:n,voids:!0});0===a.offset&&r.YR.insertNodes(e,[{text:""}],{at:a.path});r.YR.insertNodes(e,[t],{at:a});i.bN.hasPath(e,u.path)&&i.LC.isText(i.bN.node(e,u.path)[0])||r.YR.insertNodes(e,[{text:""}],{at:u.path});d(e,o,a,u,u)},textToInline:function(e,t,n){var o=i.bN.getSelectionOverlap(e,n),a=t.children[t.children.length-1],l=i.M8.start(n),u=i.C0.next(l.path),c={path:i.C0.child(u,t.children.length-1),offset:i.LC.isText(a)?a.text.length:0};r.YR.delete(e,{at:n,voids:!0});0===l.offset&&r.YR.insertNodes(e,[{text:""}],{at:l.path});r.YR.insertNodes(e,[t],{at:l});d(e,o,l,c,c)},voidToText:function(e,t,n){var o,a=i.bN.getSelectionOverlap(e,n),l=null!==(o=i.bN.before(e,n))&&void 0!==o?o:i.bN.start(e,[]),u={path:l.path,offset:l.offset+t.length};r.YR.delete(e,{
at:n,voids:!0});r.YR.insertText(e,t,{at:l});d(e,a,l,l,u)},removeInline:function(e,t){var n,o=i.bN.getSelectionOverlap(e,t),a=null!==(n=i.bN.before(e,t))&&void 0!==n?n:i.bN.start(e,[]);r.YR.delete(e,{at:t,voids:!0});d(e,o,a,a,a)},removeInlineChildren:function(e,t){var n=c(t,2),o=n[0],a=n[1],l=i.bN.getSelectionOverlap(e,a),u={path:i.C0.child(a,0),offset:0};i.bN.withoutNormalizing(e,(function(){for(var t=o.children.length-1;t>=0;t--)r.YR.removeNodes(e,{at:i.C0.child(a,t),voids:!0})}));d(e,l,null,u,null)},selectCommandOption:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=o.cr(e);if(null!=a)for(var l=0;l<a[0].children.length;l++){var u=a[0].children[l];if(i.aj.isType(u,"applicationCommandOption")&&u.optionName===t){n?r.YR.select(e,[0,l]):r.YR.select(e,i.bN.end(e,[0,l]));return}}},selectPreviousCommandOption:function(e){if(null!=o.cr(e)){var t=null!=e.selection?e.selection.focus.path:i.bN.end(e,a.YD).path,n=o.HZ(e),l=i.bN.previous(e,{at:t,match:function(e){
return e!==(null==n?void 0:n[0])&&i.aj.isType(e,"applicationCommandOption")}});null!=l?r.YR.select(e,l[1]):i.C0.isAfter(t,a.u9)&&r.YR.select(e,i.bN.end(e,a.u9))}},selectNextCommandOption:function(e){if(null!=o.cr(e)){var t=null!=e.selection?e.selection.focus.path:i.bN.start(e,a.YD).path,n=o.HZ(e),l=i.bN.next(e,{at:t,match:function(e){return e!==(null==n?void 0:n[0])&&i.aj.isType(e,"applicationCommandOption")}});null!=l?r.YR.select(e,l[1]):s.resetSelectionToEnd(e)}},insertCommandOption:function(e,t){s.resetSelectionToEnd(e);s.insertNodes(e,[{type:"applicationCommandOption",optionName:t.name,optionDisplayName:t.displayName,optionType:t.type,children:[{text:""}]}])},keyboardMove:function(e,t){var n=null!=t?t:{},o=n.reverse,l=void 0!==o&&o,u=n.unit,s=void 0===u?"offset":u,f=n.edge,d=e.selection;if(null!=d)if(void 0===f&&i.M8.isExpanded(d))r.YR.collapse(e,{edge:l?"start":"end"});else{for(var p,h=l?i.bN.before:i.bN.after,y=h(e,d.focus,{unit:s
});null!=y&&null!=(p=i.bN.getParentVoid(e,y))&&!a.On.includes(p[0].type);)y=h(e,y,{unit:"offset"});if(null!=y&&y.offset>0){var b=c(i.bN.node(e,y.path),1)[0];if(i.LC.isText(b)){var v=b.text.charCodeAt(y.offset);if(v>=56320&&v<=57343){var m=b.text.charCodeAt(y.offset-1);m>=55296&&m<=56319&&(l&&y.offset>0?y.offset-=1:!l&&y.offset<b.text.length&&(y.offset+=1))}}}null!=y&&("focus"===f?r.YR.setSelection(e,{focus:y}):r.YR.setSelection(e,{focus:y,anchor:y}))}}});function f(e,t,n,r,o){switch(t){case"start":return n;case"inside":return r;case"end":return o}return e}function d(e,t,n,r,o){var i,a;if(null!=t.anchor||null!=t.focus){var l=f(null===(i=e.selection)||void 0===i?void 0:i.anchor,t.anchor,n,r,o),u=f(null===(a=e.selection)||void 0===a?void 0:a.focus,t.focus,n,r,o);if(null!=l&&null!=u){var c={anchor:l,focus:u};s.select(e,c)}}}},81724:(e,t,n)=>{"use strict";n.d(t,{lP:()=>_e,bN:()=>be,q:()=>me,aj:()=>ve,C0:()=>Oe,Jz:()=>Ee,M8:()=>je,Ew:()=>Se,LC:()=>ge})
;var r=n(441143),o=n.n(r),i=n(104182),a=n(178872),l=n(5387),u=n.n(l),c=n(120053),s=n(744781),f=n(832691),d=n(761966),p=n(330717),h=n(60334),y=n(577869),b=n.n(y),v=(n(909844),b().listLanguages()),m={},g=!0,O=!1,E=void 0;try{for(var j,S=v[Symbol.iterator]();!(g=(j=S.next()).done);g=!0){var C=j.value;C=C.toLowerCase();var P=b().getLanguage(C);if(null!=P){var I=P.aliases;m[C]=C;if(null!=I){var _=!0,w=!1,x=void 0;try{for(var N,T=I[Symbol.iterator]();!(_=(N=T.next()).done);_=!0){var A=N.value;m[A.toLowerCase()]=C}}catch(e){w=!0;x=e}finally{try{_||null==T.return||T.return()}finally{if(w)throw x}}}}}}catch(e){O=!0;E=e}finally{try{g||null==S.return||S.return()}finally{if(O)throw E}}var Z=/^[a-z0-9_+\-.#]+$/,R=/^[a-z0-9_+\-.#]+$/i;for(var M in m)if(null==M.match(Z))throw new Error("Language name does not match regex: ".concat(M));function D(e){for(var t,n=[],r=/\\|```/g;null!=(t=r.exec(e));)"\\"!==t[0]?n.push(t.index):r.lastIndex+=1;return n}function L(e,t,n){t in e?Object.defineProperty(e,t,{
value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){L(e,t,n[t])}))}return e}function U(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var G={link:{type:"skip"},highlight:{type:"skip"},blockQuote:{type:"skip"},codeBlock:{type:"skip"},list:{type:"skip"},heading:{type:"skip"},
newline:{type:"verbatim"},br:{type:"verbatim"},paragraph:{type:"verbatim"},text:{type:"verbatim"},emoticon:{type:"verbatim"},mention:{type:"inlineObject"},roleMention:{type:"inlineObject"},commandMention:{type:"inlineObject"},channel:{type:"inlineObject"},emoji:{type:"inlineObject"},customEmoji:{type:"inlineObject"},em:{type:"inlineStyle",before:"*",after:"*"},looseEm:{type:"inlineStyle",before:"*",after:" *"},autolink:{type:"inlineStyle",before:"<",after:">"},strong:{type:"inlineStyle",before:"**",after:"**"},u:{type:"inlineStyle",before:"__",after:"__"},s:{type:"inlineStyle",before:"~~",after:"~~"},escape:{type:"inlineStyle",before:"\\",after:""},inlineCode:{type:"inlineStyle",before:"`",after:"`"},staticRouteLink:{type:"inlineStyle",before:"<id:",after:">"},spoiler:{type:"inlineStyle",before:"||",after:"||"},url:{type:"inlineStyle",before:"",after:""},codeBlockText:{type:"inlineStyle",before:"",after:""},codeBlockSyntax:{type:"inlineStyle",before:"",after:""},codeBlockLang:{
type:"inlineStyle",before:"",after:""},timestamp:{type:"inlineObject"}},H=new Set(["*","_","\\"]),B={},V={};for(var F in d.Z.RULES){if(!(F in G))throw new Error("Slate: Unknown markdown rule: ".concat(F,".  If you have just added a new markdown rule ")+"then you probably need to add it to this file so that the rich chat box understands it.");var W=G[F];"skip"!==W.type&&(B[F]=Y(d.Z.RULES[F]));"skip"!==W.type&&"inlineObject"!==W.type&&(V[F]=Y("text"===F?p.ZP:d.Z.RULES[F]))}function Y(e){o()(null!=e.parse,"Slate: rule must have a parse function");var t=e.parse;return U(k({},e),{parse:function(e,n,r){var o=t.call(this,e,n,r);o instanceof Array||(o.originalMatch=e);return o}})}var z={url:{parse:function(e){return{type:"link",content:e[1],originalMatch:e}}},autolink:{parse:function(e){return{type:"autolink",content:e[1],originalMatch:e}}},codeBlockSyntax:{order:c.defaultRules.inlineCode.order-.1,match:function(e){return/^(```)([a-z0-9_+\-.]+$)?/.exec(e)},parse:function(e){
return null!=e[2]&&""!==e[2]&&e[2].toLowerCase()in m?[{type:"codeBlockSyntax",content:e[1],originalMatch:e},{type:"codeBlockLang",content:e[2],originalMatch:e}]:{type:"codeBlockSyntax",content:e[0],originalMatch:e}}}},K=(0,h.Z)([B,z]),q=(0,h.Z)([V,z]),X=s._p(K),Q=s._p(q),J={max:1/0,maxAge:6e4,updateAgeOnGet:!0},$=new(u())(J),ee=new(u())(J);function te(e,t,n){var r=[],o={returnMentionIds:!0,disableAutoBlockNewlines:!0,guildId:t},i=n?Q:X,a=n?ee:$,l=a.get(e);if(null!=l)return l;var u=e.replace(/\r\n/g," \n").replace(/[\r\f]/g," ").replace(/\t/g," ")+"\n\n";ne(r,u,{originalMatch:{index:0,0:""},type:"paragraph",content:i(u,!1,o)},0,[]);var c=function(e){e=e.filter((function(e){return e.text.length>0}));if(0===e.length)return e;for(var t=[e[0]],n=1;n<e.length;n++){var r=t[t.length-1],o=r.start+r.text.length,i=e[n];i.start===o&&null==r.data&&null==i.data&&r.attributes.join("-")===i.attributes.join("-")?r.text+=i.text:t.push(i)}return t}(r);a.set(e,c);return c}function ne(e,t,n,r,i){
var a=n.content,l=n.type,u=n.originalMatch;o()(null!=u,"Slate: originalMatch must be set "+JSON.stringify(n,void 0,2));switch(l){case"newline":case"br":case"paragraph":case"text":case"emoticon":return re(e,t,a||"",r,i);case"emoji":case"customEmoji":var c=t.substring(r);if(!c.startsWith(u[0])){r=le(e,t,r,t.length);c=t.substring(r)}if(c.startsWith(u[0]))return ie({result:e,sourceText:t,text:u[0],originalStart:r,attributes:[l],data:n});throw new Error("Slate: Unable to find emoji: ".concat(u[0]," in ").concat(t," at ").concat(r));case"mention":case"roleMention":case"commandMention":case"staticRouteLink":case"channel":var s=n.text,f=n.id;if(null!=s){o()(s===u[0],"Slate: text mentions must exactly match the regex match");return ie({result:e,sourceText:t,text:s,originalStart:r,attributes:["textMention"],data:{text:s}})}return ie({result:e,sourceText:t,text:u[0],originalStart:r,attributes:[l],data:{id:f}});case"timestamp":return re(e,t,u[0],r,i);case"em":case"autolink":case"strong":case"u":
case"s":case"escape":case"inlineCode":case"codeBlockSyntax":case"codeBlockLang":case"spoiler":case"url":case"link":var d=function(e,t,n,r){if("inlineCode"===t)return{before:r[1],after:r[1]};if("em"===t&&"_"===e.substring(n,n+1))return{before:"_",after:"_"};var o=G["link"===t?"url":t];if("inlineStyle"===o.type)return o;throw new Error("Slate: rule must be an inlineStyle")}(t,l,r=ae(t,r),u),p=d.before,h=d.after;r=oe(e,t,p,r,"syntaxBefore");i.push(l);r=re(e,t,null!=a?a:"",r,i);i.pop();return ae(t,r=oe(e,t,h,r,"syntaxAfter"));default:throw new Error("Slate: Unknown rule type: ".concat(l))}}function re(e,t,n,r,o){if("string"==typeof n)r=ie({result:e,sourceText:t,text:n,originalStart:r,attributes:o,data:null});else{n instanceof Array||(n=[n]);n.forEach((function(n){r=ne(e,t,n,r,o)}))}return ae(t,r)}function oe(e,t,n,r,i){if(n.length>0){var a=t.indexOf(n,r),l=t.substring(r,a+n.length);o()(a>=0,"Slate: Unable to find syntax characters");e.push({text:l,attributes:[i],start:r,data:null})
;r=a+n.length}return r}function ie(e){for(var t=e.result,n=e.sourceText,r=e.text,o=e.originalStart,i=e.attributes,a=e.data,l=ae(n,o);"\n"===r.charAt(0)||" "===r.charAt(0);)r=r.substring(1);var u=n.indexOf(r,l);if(u!==l)l=o=le(t,n,l,u);else if("\\"===r&&"\\"===n.charAt(u+1)){u++;o=++l}if(u!==l){new f.Z("MarkdownToSlate").error(JSON.stringify({sourceText:n,searchText:r,searchStartsAt:n.substring(l),startPos:l}));throw Error("Slate: Unable to find content in source text!")}var c=l+r.length,s=n.substring(o,c);t.push({text:s,attributes:i.slice(),start:o,data:a});return c}function ae(e,t){for(;"\n"===e.charAt(t)||" "===e.charAt(t);)t++;return t}function le(e,t,n,r){for(;n<r&&H.has(t[n]);)n=ae(t,n=oe(e,t,t[n],n,"syntaxBefore"));return n}var ue=n(691781);function ce(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function se(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function fe(e){
for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){se(e,t,n[t])}))}return e}function de(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function pe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{
for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||ye(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function he(e){return function(e){if(Array.isArray(e))return ce(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ye(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ye(e,t){if(e){if("string"==typeof e)return ce(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;return"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ce(e,t):void 0}}var be=de(fe({},i.ML,a.F3),{richValue:function(e){return e.children},blocks:function(e){return be.richValue(e).map((function(e,t){return[e,[t]]}))},isInline:function(e,t){return i.ML.isInline(e,t)},isVoid:function(e,t){return i.ML.isVoid(e,t)},isEditorEmpty:function(e){var t=be.richValue(e);return!(t.length>1)&&(0===t.length||"line"===t[0].type&&me.isEmpty(t[0]))},getFirstText:function(e){var t=be.node(e,ue.u9);return ge.isText(t[0])?t[0]:null},getCurrentBlock:function(e){return null==e.selection?null:this.getParentBlock(e,e.selection)},getCurrentElement:function(e){return null==e.selection?null:this.getParentElement(e,e.selection)},getCurrentInline:function(e){return null==e.selection?null:this.getParentInline(e,e.selection)},getCurrentVoid:function(e){return null==e.selection?null:this.getParentVoid(e,e.selection)},getCurrentText:function(e){
var t=null!=e.selection?je.toPoint(e.selection):null;return null==t?null:be.node(e,t.path)},getParentBlock:function(e,t){var n;return null!==(n=be.above(e,{at:t,match:function(t){return be.isBlock(e,t)},mode:"lowest"}))&&void 0!==n?n:null},getParentElement:function(e,t){var n;return null!==(n=be.above(e,{at:t,match:function(e){return me.isElement(e)},mode:"lowest"}))&&void 0!==n?n:null},getParentInline:function(e,t){var n;return null!==(n=be.above(e,{at:t,match:function(t){return be.isInline(e,t)},mode:"lowest"}))&&void 0!==n?n:null},getParentVoid:function(e,t){var n;return null!==(n=be.above(e,{at:t,match:function(t){return be.isVoid(e,t)},mode:"lowest"}))&&void 0!==n?n:null},getSelectedText:function(e,t){var n=null;if(t){var r=a.F3.findDocumentOrShadowRoot(e),o=r.getSelection();if(null!=o&&o.rangeCount>0){var i,l=null===(i=r.getSelection())||void 0===i?void 0:i.getRangeAt(0);null!=l&&(n=a.F3.toSlateRange(e,l,{exactMatch:!0,suppressThrow:!0}))}}else n=e.selection
;return null==n?"":this.getTextFromRange(e,n)},getTextFromRange:function(e,t){var n=pe(je.edges(t),2),r=n[0],o=n[1],i=be.nodes(e,{at:t,mode:"lowest",match:function(e){return ge.isText(e)}}),a="",l=!0,u=!1,c=void 0;try{for(var s,f=i[Symbol.iterator]();!(l=(s=f.next()).done);l=!0){var d=pe(s.value,2),p=d[0],h=d[1],y=Oe.equals(h,r.path)?r.offset:0,b=Oe.equals(h,o.path)?o.offset:0;a+=p.text.substring(y,b)}}catch(e){u=!0;c=e}finally{try{l||null==f.return||f.return()}finally{if(u)throw c}}return a},withoutNormalizing:function(e,t){var n=be.isNormalizing(e);be.setNormalizing(e,!1);try{t()}finally{be.setNormalizing(e,n)}!1!==n&&be.normalize(e)},areStylesDisabled:function(e){var t;if(!e.previewMarkdown)return!0;var n=be.richValue(e),r=n[0],o="line"===(null==r?void 0:r.type)?r.children[0]:null;if(null==o||!ge.isText(o))return!1;var i=e.chatInputType,a=o.text
;return 1===n.length&&1===r.children.length&&(!0===i.sedReplace&&a.startsWith("s/")||!0===(null===(t=i.autocomplete)||void 0===t?void 0:t.reactions)&&a.startsWith("+"))},focus:function(e){if(!a.F3.isFocused(e)){a.F3.focus(e);a.F3.deselect(e)}},getSelectionOverlap:function(e,t){if(null==e.selection)return{anchor:null,focus:null};if(Oe.isPath(t)){var n=be.range(e,t),r=pe(be.node(e,t),1)[0];if(me.isElement(r)){var o=be.before(e,t),i=be.after(e,t);t={anchor:null!=o?o:n.anchor,focus:null!=i?i:n.focus}}else t=n}var a=pe(je.edges(t),2),l=a[0],u=a[1],c=null,s=null;Ee.equals(e.selection.anchor,l)?c="start":Ee.equals(e.selection.anchor,u)?c="end":je.includes(t,e.selection.anchor)&&(c="inside");Ee.equals(e.selection.focus,l)?s="start":Ee.equals(e.selection.focus,u)?s="end":je.includes(t,e.selection.focus)&&(s="inside");return{anchor:c,focus:s}}}),ve=de(fe({},i.NB),{isType:function(e,t){return i.W_.isElement(e)&&e.type===t},isInTypes:function(e,t){return i.W_.isElement(e)&&t.has(e.type)}
}),me=de(fe({},i.W_),{updateElement:function(e,t){var n=be.node(e,t[1]);o()(!be.isEditor(t[0]),"Element is the root node");o()(null!=n,"Failed to find element");o()(me.isElement(n[0]),"Node at this path is no longer an element");o()(n[0].type===t[0].type,"Node at this path is a different type");return n},markdown:function(e,t,n){var r,o="line"===e.type&&!0===(null===(r=e.codeBlockState)||void 0===r?void 0:r.wasInCodeBlock),i=e.children.map((function(e){return ge.isText(e)?e.text:" "})),a=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=D(e);o.push(e.length);if(1===o.length&&n)return[];var i=0,a=n,l=[],u=!0,c=!1,s=void 0;try{for(var f,d=o[Symbol.iterator]();!(u=(f=d.next()).done);u=!0){var p=f.value;if(a)l.push({text:e.substring(i,p),start:i,attributes:["codeBlockText"],data:void 0});else{var h=p===o[o.length-2]?e.substring(p+3):"";p+=3+(null!=h.match(R)?h:"").length;var y=e.substring(i,p);if(""!==y){
te(y,t,r).forEach((function(e){l.push(U(k({},e),{start:e.start+i}))}))}}a=!a;i=p}}catch(e){c=!0;s=e}finally{try{u||null==d.return||d.return()}finally{if(c)throw s}}return l}(i.join(""),null!=t?t:null,o,n);return{entries:a,serializedChildren:i}},isEmpty:function(e){if(e.children.length>1)return!1;if(0===e.children.length)return!0;var t=e.children[0];return ge.isText(t)&&0===t.text.length}}),ge=fe({},i.xv),Oe=de(fe({},i.y$),{isFirstEditorBlock:function(e){return Oe.equals(e,ue.YD)},isFirstEditorText:function(e){return Oe.equals(e,ue.u9)},isFirstChild:function(e,t){return Oe.equals(t,Oe.child(e,0))},child:function(e,t){return he(e).concat([t])}}),Ee=de(fe({},i.E9),{start:function(e){var t=pe(e,2)[1];return{path:Oe.child(t,0),offset:0}},end:function(e){var t=pe(e,2),n=t[0],r=t[1],o=n.children[n.children.length-1];return{path:Oe.child(r,n.children.length-1),offset:ge.isText(o)?o.text.length:0}},isAtStart:function(e,t){return Ee.equals(e,this.start(t))},isAtEnd:function(e,t){
return Ee.equals(e,this.end(t))},clamp:function(e,t){var n=pe(je.edges(t),2),r=n[0],o=n[1];Ee.isBefore(e,r)&&(e=r);Ee.isAfter(e,o)&&(e=o);return e}}),je=de(fe({},i.e6),{toPoint:function(e){return null==e||je.isExpanded(e)?null:e.anchor},children:function(e){var t=pe(e,2),n=t[0],r=t[1],o=n.children[n.children.length-1];return{anchor:{path:Oe.child(r,0),offset:0},focus:{path:Oe.child(r,n.children.length-1),offset:ge.isText(o)?o.text.length:0}}},clamp:function(e,t){var n=pe(je.edges(e),2),r=n[0],o=n[1],i=pe(je.edges(t),2),a=i[0],l=i[1];Ee.isBefore(r,a)&&(r=a);Ee.isAfter(o,l)&&(o=l);return je.isForward(e)?{anchor:r,focus:o}:{anchor:o,focus:r}}}),Se={equals:function(e,t){return null==e&&null==t||null!=e&&null!=t&&je.equals(e,t)},isValid:function(e,t){if(null==t)return!1;var n=t.anchor,r=t.focus;if(!be.hasPath(e,n.path)||!be.hasPath(e,r.path))return!1;var o=pe(be.node(e,n.path),1)[0],i=pe(be.node(e,r.path),1)[0]
;return ge.isText(o)&&ge.isText(i)&&n.offset<=o.text.length&&r.offset<=i.text.length}},Ce=function(e,t){var n=(t.top+t.bottom)/2;return e.top<=n&&e.bottom>=n},Pe=function(e,t,n){var r=be.toDOMRange(e,t).getBoundingClientRect(),o=be.toDOMRange(e,n).getBoundingClientRect();return Ce(r,o)&&Ce(o,r)},Ie=function(e,t,n,r){for(var o={anchor:t,focus:t},i=0,a=n.length,l=Math.floor((i+a)/2);l!==i;){var u={anchor:n[l],focus:n[l]};Pe(e,u,o)?r?a=l:i=l:r?i=l:a=l;l=Math.floor((i+a)/2);if(!r&&l===n.length-2&&a===n.length-1){var c=n[n.length-1];Pe(e,{anchor:c,focus:c},o)&&(l=a)}}return n[l]},_e={getLineStart:function(e,t,n){var r,o=be.getParentElement(e,t);if(null==o)return null;var i=be.previous(e,{at:t,match:function(t){return be.isInline(e,t)&&!be.isVoid(e,t)&&t!==o[0]}});null!=i&&(r=be.after(e,i[1]));null==r&&(r=be.start(e,o[1]));var a={anchor:r,focus:t},l=Array.from(be.positions(e,{at:a})),u=Ie(e,t,l,!0);if(n&&Ee.equals(t,u)&&!Ee.isAtEnd(t,o)){var c=be.after(e,t);if(null==c)return u;u=Ie(e,c,l,!0)
}return u},getLineEnd:function(e,t,n){var r,o=be.getParentElement(e,t);if(null==o)return null;var i=be.next(e,{at:t,match:function(t){return be.isInline(e,t)&&!be.isVoid(e,t)&&t!==o[0]}});null!=i&&(r=be.before(e,i[1]));null==r&&(r=be.end(e,o[1]));var a={anchor:t,focus:r},l=Array.from(be.positions(e,{at:a})),u=Ie(e,t,l,!1);if(n&&Ee.equals(t,u)&&!Ee.isAtEnd(t,o)){var c=be.after(e,t);if(null==c)return u;u=Ie(e,c,l,!1)}return u},getLineActionRange:function(e,t){var n=je.toPoint(e.selection);if(null==n)return null;if(t){var r=_e.getLineStart(e,n,!1);return null==r?null:{anchor:r,focus:n}}var o=_e.getLineEnd(e,n,!0);return null==o?null:{anchor:n,focus:o}}},we=a.F3.findDocumentOrShadowRoot;a.F3.findDocumentOrShadowRoot=function(e){var t,n;return null!==(n=null===(t=e.windowContext)||void 0===t?void 0:t.renderWindow.document)&&void 0!==n?n:we(e)}},735843:(e,t,n)=>{"use strict";n.d(t,{c$:()=>b,YZ:()=>v,bF:()=>m,kx:()=>O,Rq:()=>E,So:()=>j,Dr:()=>S,Su:()=>C,_Q:()=>P})
;var r=n(23279),o=n.n(r),i=n(506884),a=n(675860),l=n(173436),u=n(666492),c=n(325589),s=n(541405),f=n(461061);function d(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function p(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){d(i,r,o,a,l,"next",e)}function l(e){d(i,r,o,a,l,"throw",e)}a(void 0)}))}}var h,y=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1}
;case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},b=o()((h=p((function(e,t){var n;return y(this,(function(r){switch(r.label){case 0:r.trys.push([0,2,,3]);l.Z.dispatch({type:"GUILD_DIRECTORY_FETCH_START"});return[4,a.Z.get({url:f.ANM.DIRECTORY_CHANNEL_ENTRIES(e),query:{category_id:t}})];case 1:n=r.sent();l.Z.dispatch({type:"GUILD_DIRECTORY_FETCH_SUCCESS",channelId:e,entries:n.body});return[3,3];case 2:r.sent();l.Z.dispatch({type:"GUILD_DIRECTORY_FETCH_FAILURE"});return[3,3];case 3:return[2]}}))})),function(e,t){return h.apply(this,arguments)
}),200),v=o()(function(){var e=p((function(e){var t;return y(this,(function(n){switch(n.label){case 0:n.trys.push([0,2,,3]);return[4,a.Z.get({url:f.ANM.DIRECTORY_CHANNEL_CATEGORY_COUNTS(e)})];case 1:t=n.sent();l.Z.dispatch({type:"GUILD_DIRECTORY_COUNTS_FETCH_SUCCESS",channelId:e,counts:t.body});return[3,3];case 2:n.sent();return[3,3];case 3:return[2]}}))}));return function(t){return e.apply(this,arguments)}}(),200);function m(e,t,n){return g.apply(this,arguments)}function g(){g=p((function(e,t,n){var r,o,a=arguments;return y(this,(function(c){switch(c.label){case 0:r=a.length>3&&void 0!==a[3]?a[3]:s.AR.UNCATEGORIZED;return[4,u.Z.post({url:f.ANM.DIRECTORY_CHANNEL_ENTRY(e,t),body:{description:n,primary_category_id:r},trackedActionData:{event:i.a9.DIRECTORY_GUILD_ENTRY_CREATE,properties:{directory_channel_id:e,guild_id:t,primary_category_id:r}}})];case 1:o=c.sent();l.Z.dispatch({type:"GUILD_DIRECTORY_ENTRY_CREATE",channelId:e,entry:o.body});return[2]}}))}));return g.apply(this,arguments)}
function O(e,t){u.Z.delete({url:f.ANM.DIRECTORY_CHANNEL_ENTRY(e,t),trackedActionData:{event:i.a9.DIRECTORY_GUILD_ENTRY_DELETE,properties:{directory_channel_id:e,guild_id:t}}});l.Z.dispatch({type:"GUILD_DIRECTORY_ENTRY_DELETE",channelId:e,guildId:t})}var E=o()(function(){var e=p((function(e,t){var n;return y(this,(function(r){switch(r.label){case 0:if(!c.Z.shouldFetch(e,t)){l.Z.dispatch({type:"GUILD_DIRECTORY_CACHED_SEARCH",channelId:e,query:t});return[2]}r.label=1;case 1:r.trys.push([1,3,,4]);l.Z.dispatch({type:"GUILD_DIRECTORY_SEARCH_START",channelId:e,query:t});return[4,a.Z.get({url:f.ANM.DIRECTORY_ENTRIES_SEARCH(e),query:{query:t}})];case 2:n=r.sent();l.Z.dispatch({type:"GUILD_DIRECTORY_SEARCH_SUCCESS",channelId:e,query:t,results:n.body});return[3,4];case 3:r.sent();l.Z.dispatch({type:"GUILD_DIRECTORY_FETCH_FAILURE"});return[3,4];case 4:return[2]}}))}));return function(t,n){return e.apply(this,arguments)}}(),200),j=function(e){l.Z.dispatch({type:"GUILD_DIRECTORY_SEARCH_CLEAR",
channelId:e})},S=function(){var e=p((function(e,t,n){var r,o,i=arguments;return y(this,(function(u){switch(u.label){case 0:r=i.length>3&&void 0!==i[3]?i[3]:s.AR.UNCATEGORIZED;return[4,a.Z.patch({url:f.ANM.DIRECTORY_CHANNEL_ENTRY(e,t),body:{description:n,primary_category_id:r}})];case 1:o=u.sent();l.Z.dispatch({type:"GUILD_DIRECTORY_ENTRY_UPDATE",channelId:e,entry:o.body});return[2]}}))}));return function(t,n,r){return e.apply(this,arguments)}}(),C=function(e,t){l.Z.dispatch({type:"GUILD_DIRECTORY_CATEGORY_SELECT",channelId:e,categoryId:t})},P=function(){var e=p((function(e,t){var n;return y(this,(function(r){switch(r.label){case 0:r.trys.push([0,2,,3]);return[4,a.Z.get({url:f.ANM.DIRECTORY_CHANNEL_LIST_BY_ID(e),query:{entity_ids:t}})];case 1:n=r.sent();l.Z.dispatch({type:"GUILD_DIRECTORY_ADMIN_ENTRIES_FETCH_SUCCESS",channelId:e,entries:n.body});return[3,3];case 2:r.sent();return[3,3];case 3:return[2]}}))}));return function(t,n){return e.apply(this,arguments)}}()},325589:(e,t,n)=>{
"use strict";n.d(t,{Z:()=>g});var r=n(791462),o=n(173436),i=n(798634);function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function u(e){u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return u(e)}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){l(e,t,n[t])}))}return e}function s(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e)
;t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function f(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e,t){d=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return d(e,t)}var p=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)
}else n=r.apply(this,arguments);return f(this,n)}}var y=12e4,b={},v={};var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&d(e,t)}(n,e);var t=h(n);function n(){a(this,n);return t.apply(this,arguments)}var r=n.prototype;r.getSearchState=function(e){var t;return null!==(t=b[e])&&void 0!==t?t:{mostRecentQuery:"",fetching:!1}};r.getSearchResults=function(e,t){var n,r,o;return null!==(o=null===(n=v[e])||void 0===n||null===(r=n[t])||void 0===r?void 0:r.results)&&void 0!==o?o:[]};r.shouldFetch=function(e,t){var n,r,o=null===(n=v[e])||void 0===n||null===(r=n[t])||void 0===r?void 0:r.lastSearchedAt;return null==o||Date.now()-o>y};r.__getLocalVars=function(){return{CACHE_TIME:y,directorySearchState:b,directorySearchResults:v}};return n}(r.ZP.Store);m.displayName="GuildDirectorySearchStore";const g=new m(o.Z,{
GUILD_DIRECTORY_SEARCH_START:function(e){var t=e.channelId,n=e.query;b[t]={fetching:!0,mostRecentQuery:n}},GUILD_DIRECTORY_SEARCH_SUCCESS:function(e){var t=e.channelId,n=e.query,r=e.results;b[t]=s(c({},b[t]),{fetching:!1});var o=[];r.forEach((function(e){var t=(0,i.MQ)(e);o.push(t)}));v[t]=s(c({},v[t]),l({},n,{results:(0,i.Th)(o),lastSearchedAt:Date.now()}))},GUILD_DIRECTORY_SEARCH_FAILURE:function(e){var t=e.channelId;b[t]=s(c({},b[t]),{fetching:!1})},GUILD_DIRECTORY_SEARCH_CLEAR:function(e){var t=e.channelId;b[t]={fetching:!1,mostRecentQuery:""}},GUILD_DIRECTORY_CACHED_SEARCH:function(e){var t=e.channelId,n=e.query;b[t]={fetching:!1,mostRecentQuery:n}},GUILD_DIRECTORY_ENTRY_DELETE:function(e){var t,n=e.channelId,r=e.guildId,o=null===(t=b[n])||void 0===t?void 0:t.mostRecentQuery;if(null!=o){var i=v[n][o];if(null!=i){var a=i.results.filter((function(e){return e.guildId!==r}));v[n]=s(c({},v[n]),l({},b[n].mostRecentQuery,s(c({},i),{results:a})))}}}})},23698:(e,t,n)=>{"use strict";n.d(t,{
Z:()=>S});var r=n(791462),o=n(173436),i=n(798634),a=n(541405);function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function c(e){c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return c(e)}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){u(e,t,n[t])}))}return e}function f(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){
return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function d(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e,t){p=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return p(e,t)}var h=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d(this,n)}}
var b=!1,v={},m={},g={},O={},E={};var j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&p(e,t)}(n,e);var t=y(n);function n(){l(this,n);return t.apply(this,arguments)}var r=n.prototype;r.isFetching=function(){return b};r.getCurrentCategoryId=function(e){var t;return null!==(t=m[e])&&void 0!==t?t:a.AR.ALL};r.getDirectoryEntries=function(e,t){var n;return null!=t?null===(n=g[e])||void 0===n?void 0:n[t]:v[e]};r.getDirectoryEntry=function(e,t){var n;return null===(n=v[e])||void 0===n?void 0:n[t]};r.getDirectoryAllEntriesCount=function(e){var t;return Object.keys(null!==(t=v[e])&&void 0!==t?t:{}).length};r.getDirectoryCategoryCounts=function(e){var t;return null!==(t=O[e])&&void 0!==t?t:{}};r.getAdminGuildEntryIds=function(e){return E[e]};r.__getLocalVars=function(){return{fetching:b,guildDirectoryEntries:v,
currentCategoryId:m,channelCategoryDirectoryEntries:g,categoryEntryCounts:O,adminGuildEntryIds:E}};return n}(r.ZP.Store);j.displayName="GuildDirectoryStore";const S=new j(o.Z,{GUILD_DIRECTORY_FETCH_START:function(){b=!0},GUILD_DIRECTORY_FETCH_SUCCESS:function(e){var t=e.channelId,n=e.entries;b=!1;var r={},o={};n.forEach((function(e){var t=(0,i.MQ)(e);r[t.guildId]=t;null!=o[t.primaryCategoryId]?o[t.primaryCategoryId][t.guildId]=t:o[t.primaryCategoryId]=u({},t.guildId,t)}));v[t]=r;g[t]=o},GUILD_DIRECTORY_FETCH_FAILURE:function(){b=!1},GUILD_DIRECTORY_ENTRY_CREATE:function(e){var t,n,r=e.channelId,o=e.entry,l=(0,i.MQ)(o);if(null!=l&&null==(null===(t=v[r])||void 0===t?void 0:t[l.guildId])){v[r]=f(s({},v[r]),u({},l.guildId,l));var c,d=null!==(c=l.primaryCategoryId)&&void 0!==c?c:a.AR.UNCATEGORIZED;g[r]=f(s({},g[r]),u({},d,f(s({},null===(n=g[r])||void 0===n?void 0:n[d]),u({},l.guildId,l))));if(null!=O[r]){var p,h,y=null!==(h=null===(p=O[r])||void 0===p?void 0:p[d])&&void 0!==h?h:0
;O[r]=f(s({},O[r]),u({},d,y+1))}}},GUILD_DIRECTORY_ENTRY_DELETE:function(e){var t,n,r=e.channelId,o=e.guildId,i=null===(t=v[r])||void 0===t?void 0:t[o];if(null!=i){var a=i.primaryCategoryId,l=Object.assign({},v[r]);delete l[o];null===(n=E[r])||void 0===n||n.delete(o);E[r]=new Set(E[r]);v[r]=l;var c=Object.assign({},g[r][a]);delete c[o];g[r]=f(s({},g[r]),u({},a,c));if(null!=O[r]){var d=O[r][a]-1;O[r]=f(s({},O[r]),u({},a,d>=0?d:0))}}},GUILD_DIRECTORY_ENTRY_UPDATE:function(e){var t,n,r,o,l=e.channelId,c=e.entry,d=(0,i.MQ)(c),p=null===(t=v[l])||void 0===t?void 0:t[d.guildId];v[l]=f(s({},v[l]),u({},d.guildId,s({},p,d)));var h,y,b=null!==(o=null==p?void 0:p.primaryCategoryId)&&void 0!==o?o:a.AR.UNCATEGORIZED,m=null!==(h=d.primaryCategoryId)&&void 0!==h?h:a.AR.UNCATEGORIZED,E=Object.assign({},null===(n=g[l])||void 0===n?void 0:n[b]);null!=p&&b!==m&&delete E[d.guildId];g[l]=f(s({},g[l]),(u(y={},b,E),u(y,m,f(s({},null===(r=g[l])||void 0===r?void 0:r[m]),u({},d.guildId,s({},p,d)))),y))
;if(m!==b&&null!=O[l]){var j,S,C,P,I;O[l]=f(s({},O[l]),(u(I={},b,(null===(j=O[l])||void 0===j?void 0:j[b])>0?(null===(S=O[l])||void 0===S?void 0:S[b])-1:0),u(I,m,(null!==(P=null===(C=O[l])||void 0===C?void 0:C[m])&&void 0!==P?P:0)+1),I))}},GUILD_DIRECTORY_CATEGORY_SELECT:function(e){var t=e.channelId,n=e.categoryId;m[t]=n},GUILD_DIRECTORY_COUNTS_FETCH_SUCCESS:function(e){var t=e.channelId,n=e.counts;O[t]=n},GUILD_DIRECTORY_ADMIN_ENTRIES_FETCH_SUCCESS:function(e){var t=e.channelId,n=e.entries,r=new Set;n.forEach((function(e){var t=(0,i.MQ)(e);r.add(t.guildId)}));E[t]=r}})},798634:(e,t,n)=>{"use strict";n.d(t,{MQ:()=>u,_N:()=>c,Th:()=>s,Lz:()=>f,TR:()=>d,gX:()=>p});var r=n(441143),o=n.n(r),i=n(496486),a=n.n(i),l=n(541405);function u(e){var t,n,r,i,a,u,c;o()(e.type===l.C2.GUILD,"Directory entries must be connected to a guild!");return{channelId:e.directory_channel_id,guildId:e.entity_id,type:e.type,authorId:e.author_id,createdAt:e.created_at,description:e.description,
primaryCategoryId:e.primary_category_id,name:null===(t=e.guild)||void 0===t?void 0:t.name,icon:null===(n=e.guild)||void 0===n?void 0:n.icon,splash:null===(r=e.guild)||void 0===r?void 0:r.splash,features:new Set(null===(i=e.guild)||void 0===i?void 0:i.features),approximateMemberCount:null===(a=e.guild)||void 0===a?void 0:a.approximate_member_count,approximatePresenceCount:null===(u=e.guild)||void 0===u?void 0:u.approximate_presence_count,featurableInDirectory:null===(c=e.guild)||void 0===c?void 0:c.featurable_in_directory}}var c=5;function s(e){return a().orderBy(e,[function(e){return e.approximateMemberCount}],["desc"])}function f(e){return function(e){return a().orderBy(e,[function(e){return e.createdAt}],["desc"])}(e.filter((function(e){return e.featurableInDirectory&&p(e)}))).slice(0,c)}function d(e){return s(e)}function p(e){var t;return(null!==(t=e.approximateMemberCount)&&void 0!==t?t:0)>=5}},680040:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u,G:()=>c})
;var r=n(791462),o=n(356004),i=n(653772),a=n(940712),l=n(461061);function u(e){var t=(0,r.e7)([i.Z],(function(){return i.Z.getGuild(e.guildId)})),n=(0,r.e7)([o.Z],(function(){return o.Z.getChannel(e.channelId)})),u=(0,r.e7)([a.Z],(function(){return a.Z.can(l.Plq.ADMINISTRATOR,t)})),c=(0,r.e7)([a.Z],(function(){return a.Z.can(l.Plq.MANAGE_MESSAGES,n)}));return{isEntryAdmin:u,canEdit:u||c,canRemove:u||c}}function c(e){return(0,r.e7)([a.Z],(function(){return a.Z.can(l.Plq.SEND_MESSAGES,e)}))}},130552:(e,t,n)=>{"use strict";n.r(t);n.d(t,{default:()=>S});var r=n(785893),o=n(667294),i=n(281081),a=n(41225),l=n(849832),u=n(186121),c=n(685351),s=n(770336),f=n(30741),d=n(897576),p=n(735843),h=n(680040),y=n(423845),b=n(959797);function v(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function m(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){v(i,r,o,a,l,"next",e)}function l(e){
v(i,r,o,a,l,"throw",e)}a(void 0)}))}}function g(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){g(e,t,n[t])}))}return e}function E(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var j=function(e,t){var n,r,o,i,a={label:0,sent:function(){
if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}
}([i,l])}}};function S(e){var t=e.entry,v=e.onSelect,g=e.closePopout,S=e.forceLightTheme,C=e.hideEditButton,P=void 0!==C&&C,I=function(){(0,i.Zy)();null==g||g()},_=(0,h.Z)(t),w=_.isEntryAdmin,x=_.canEdit,N=_.canRemove,T=(0,a.Z)(t.guildId,void 0,void 0,g);o.useEffect((function(){x||N||null!=T||(0,i.Zy)()}));var A=function(){p.kx(t.channelId,t.guildId)};return(0,r.jsxs)(u.ZP,{className:S?"theme-light":null,navId:"guild-entry-context",onClose:I,"aria-label":b.Z.Messages.GUILD_ACTIONS_MENU_LABEL,onSelect:v,children:[(0,r.jsxs)(u.kS,{children:[x&&!P?(0,r.jsx)(u.sN,{id:"update-entry",label:b.Z.Messages.HUB_ENTRY_UPDATE,action:function(){(0,d.ZD)(m((function(){var e,o;return j(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(50936)]).then(n.bind(n,950936))];case 1:e=i.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,E(O({},e),{entry:t}))}]}}))})));I()}}):null,N?(0,r.jsx)(u.sN,{id:"remove-from-hub",label:b.Z.Messages.HUB_ENTRY_REMOVE,action:function(){(0,
d.h7)((function(e){return(0,r.jsx)(f.default,E(O({header:b.Z.Messages.HUB_ENTRY_REMOVE,confirmText:b.Z.Messages.REMOVE,cancelText:b.Z.Messages.CANCEL,onConfirm:A},e),{children:(0,r.jsx)(c.x,{variant:"text-md/normal",children:b.Z.Messages.HUB_ENTRY_REMOVE_BODY.format({guildName:t.name})})}))}));I()},color:y.g.DANGER}):null,w?null:(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(u.sN,{id:"report-server-listing",label:b.Z.Messages.REPORT_SERVER_NO_NAME,action:function(){if(null!=t){(0,l.sq)(t);I()}},icon:s.Z,color:y.g.DANGER})})]}),(0,r.jsx)(u.kS,{children:T})]})}},233012:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(785893),o=(n(667294),n(761434)),i=n(130552);const a=function(e){var t=e.entry,n=e.forceLightTheme,a=e.hideEditButton,l=e.children,u=e.onRequestOpen,c=e.onRequestClose;return(0,r.jsx)(o.ZP,{onRequestOpen:u,onRequestClose:c,animation:o.ZP.Animation.NONE,position:o.ZP.Positions.BOTTOM,spacing:4,align:o.ZP.Align.RIGHT,renderPopout:function(e){var o=e.closePopout;return(0,
r.jsx)(i.default,{entry:t,closePopout:o,forceLightTheme:n,hideEditButton:a})},children:l})}},576085:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>m,Kq:()=>y,Ot:()=>b,jz:()=>v});var r=n(785893),o=(n(667294),n(294184)),i=n.n(o),a=n(116252),l=n(48843),u=n(685351),c=n(461061),s=n(428535),f=n.n(s);function d(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function p(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function h(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){
n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function y(e){var t,n=e.locked,o=void 0!==n&&n,a=e.channelType;return(0,r.jsx)("div",{className:i()(f().emptyChannelIcon,(t={},d(t,f().locked,o),d(t,f().voiceChat,a===c.d4z.GUILD_VOICE||a===c.d4z.GUILD_STAGE_VOICE),t))})}function b(e){var t=e.children,n=e.className;return(0,r.jsx)(l.X,{"aria-hidden":"true",className:i()(n,f().header),variant:"heading-xxl/medium",children:t})}function v(e){var t=e.children;return(0,r.jsx)(u.x,{variant:"text-md/normal",color:"none",className:f().description,children:t})}const m=function(e){var t=e.className,n=e.channelId,o=e.children,l=h(e,["className","channelId","children"]);return(0,r.jsx)("div",p(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){d(e,t,n[t])}))}return e}({className:i()(t,f().container),id:(0,a.p)(n)},l),{children:o}))}},661523:(e,t,n)=>{"use strict";n.d(t,{i:()=>te,Z:()=>ne});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),l=n(126136),u=n(738017),c=n(791462),s=n(840502),f=n(665232),d=n(23816),p=n(496486),h=n.n(p),y=n(64914),b=n(719911),v=n(631134),m=n(356004),g=n(1812),O=n(95350),E=n(653772),j=n(212033),S=n(171447),C=n(940712),P=n(346529),I=n(461061);function _(e){return(0,c.e7)([g.ZP],(function(){var t=function(t){return null!=e&&P.Z.extractTimestamp(t.channel.id)-P.Z.extractTimestamp(e.id)>500},n=g.ZP.getChannels(null==e?void 0:e.id),r=n[g.Zb];return n[g.sH].some(t)||r.some(t)}),[e])}function w(e){var t=(0,c.e7)([m.Z],(function(){return m.Z.getChannel(null==e?void 0:e.systemChannelId)})),n=(0,
c.Wu)([S.Z],(function(){return null!=t?S.Z.getMessages(t.id).toArray():[]}));return(0,c.e7)([O.Z],(function(){var t,r=null!==(t=O.Z.getMemberCount(null==e?void 0:e.id))&&void 0!==t&&t,o=n.some((function(e){return e.type===I.uaV.USER_JOIN}));return r>1||o}),[e,n])}function x(e){var t=(0,c.e7)([j.Z],(function(){return j.Z.hasLayers()})),n=(0,c.e7)([E.Z],(function(){return E.Z.getGuild(null==e?void 0:e.id)}));return null!=(null==n?void 0:n.icon)&&!t}function N(e){var t=(0,c.e7)([m.Z],(function(){return null!=e?m.Z.getMutableBasicGuildChannelsForGuild(e.id):null}));return function(e){var t=(0,c.e7)([v.default],(function(){return v.default.getId()}));return(0,c.e7)([S.Z],(function(){return h().some(e,(function(e){var n=S.Z.getMessages(e.id).toArray();return h().some(n,(function(e){return e.author.id===t&&!(0,b.Z)(e)}))}))}))}(o.useMemo((function(){return null==t?[]:h().values(t)}),[t]))}
var T=n(7046),A=n(859023),Z=n(629590),R=n(48843),M=n(685351),D=n(414597),L=n(983067),k=n(897576),U=n(882699),G=n(95467),H=n(742269),B=n(576085),V=n(770431),F=n(959797),W=n(173182),Y=n.n(W);function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function K(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function q(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){K(i,r,o,a,l,"next",e)}function l(e){K(i,r,o,a,l,"throw",e)}a(void 0)}))}}function X(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){
return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){X(e,t,n[t])}))}return e}function J(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function $(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return
;if("string"==typeof e)return z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return z(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ee=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:
a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function te(e){var t=e.className,n=e.iconUrl,i=e.icon,l=e.header,u=e.completed,c=e.onClick,s=$(o.useState(!1),2),d=s[0],p=s[1],h=(0,f.Z)(u);o.useEffect((function(){if(null!=h&&u!==h){p(!0);setTimeout((function(){return p(!1)}),1e3)}}),[u,h]);return(0,r.jsxs)(Z.Z,{className:a()(t,Y().card,X({},Y().completed,u)),onClick:c,children:[null!=i?i:(0,r.jsx)("div",{className:Y().icon,style:{backgroundImage:"url('".concat(n,"')")}}),(0,r.jsx)(M.x,{color:"header-primary",
className:a()(Y().cardTextContainer,Y().cardHeader),variant:"text-sm/normal",children:l}),u?(0,r.jsx)(L.Z,{className:a()(Y().checkmark,X({},Y().animate,d))}):(0,r.jsx)(D.Z,{className:Y().arrow,direction:D.Z.Directions.RIGHT})]})}function ne(e){var t=e.channel,i=(0,c.e7)([E.Z],(function(){return null!=t?E.Z.getGuild(t.getGuildId()):null}),[t]),f=null!=i&&P.Z.extractTimestamp(i.id)<(0,s.zO)()-I._8R,p=(0,c.e7)([v.default],(function(){return(null==i?void 0:i.ownerId)===v.default.getId()}),[i]),h=function(e,t){return(0,c.cj)([C.Z],(function(){return{canInvite:(0,y.b)(C.Z,t,e),canCustomize:null!=t&&C.Z.can(I.Plq.MANAGE_GUILD,t),canMessage:null!=e&&C.Z.can(I.Plq.SEND_MESSAGES,e),canCreateChannel:null!=t&&C.Z.can(I.Plq.MANAGE_CHANNELS,t)}}),[t,e])}(t,i),b=h.canInvite,m=h.canCustomize,g=h.canMessage,O=(0,c.e7)([A.default],(function(){var e,t;return!0===(null===(e=A.default.getCurrentUser())||void 0===e?void 0:e.desktop)||!0===(null===(t=A.default.getCurrentUser())||void 0===t?void 0:t.mobile)
})),j=function(e){return{guildPopulated:w(e),guildMessaged:N(e),guildPersonalized:x(e),guildChannelCreated:_(e)}}(i),S=j.guildPopulated,Z=j.guildMessaged,D=j.guildPersonalized,L=function(e){return{handleInvite:o.useCallback((function(){d.ZP.trackWithMetadata(I.rMx.SERVER_SETUP_CTA_CLICKED,{setup_type:V.Ft.CHANNEL_WELCOME,action:V.j7.INVITE});null!=e&&(0,k.ZD)(q((function(){var t,o;return ee(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(15793),n.e(42348),n.e(23647)]).then(n.bind(n,715793))];case 1:t=i.sent(),o=t.default;return[2,function(t){return(0,r.jsx)(o,J(Q({},t),{guild:e,source:I.t4x.CHANNEL_WELCOME,analyticsLocation:{section:I.jXE.CHANNEL_WELCOME_CTA}}))}]}}))})))}),[e]),handleMessage:o.useCallback((function(){d.ZP.trackWithMetadata(I.rMx.SERVER_SETUP_CTA_CLICKED,{setup_type:V.Ft.CHANNEL_WELCOME,action:V.j7.SEND_MESSAGE});U.S.dispatch(I.CkL.TEXTAREA_FOCUS,{highlight:!0})}),[]),handlePersonalize:o.useCallback((function(){
d.ZP.trackWithMetadata(I.rMx.SERVER_SETUP_CTA_CLICKED,{setup_type:V.Ft.CHANNEL_WELCOME,action:V.j7.PERSONALIZE_SERVER});null!=e&&T.Z.open(e.id,I.pNK.OVERVIEW,{section:I.jXE.CHANNEL_WELCOME_CTA})}),[e]),handleDownload:o.useCallback((function(){d.ZP.trackWithMetadata(I.rMx.SERVER_SETUP_CTA_CLICKED,{setup_type:V.Ft.CHANNEL_WELCOME,action:V.j7.DOWNLOAD});(0,k.ZD)(q((function(){var e,t;return ee(this,(function(o){switch(o.label){case 0:return[4,Promise.resolve().then(n.bind(n,884994))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,Q({source:I.jXE.CHANNEL_WELCOME_CTA},e))}]}}))})))}),[])}}(i),W=L.handleInvite,z=L.handleMessage,K=L.handlePersonalize,$=L.handleDownload,ne=!(O||S||Z||D),re=function(e){var t=(0,l.Z)((function(){return new u.Z.Value(0)})),n=(0,l.Z)((function(){return new u.Z.Value(0)})),r=[];r.push((0,l.Z)((function(){return new u.Z.Value(0)})));r.push((0,l.Z)((function(){return new u.Z.Value(0)})));r.push((0,l.Z)((function(){return new u.Z.Value(0)})))
;r.push((0,l.Z)((function(){return new u.Z.Value(0)})));o.useEffect((function(){u.Z.stagger(300,[u.Z.parallel([u.Z.timing(n,{toValue:1,duration:450}),u.Z.timing(t,{toValue:1,duration:450})]),u.Z.stagger(100,[u.Z.timing(r[0],{toValue:1,duration:300}),u.Z.timing(r[1],{toValue:1,duration:300}),u.Z.timing(r[2],{toValue:1,duration:300}),u.Z.timing(r[3],{toValue:1,duration:300})])]).start()}),[n,t,r]);return{titleAnimatedStyle:e?{transform:[{translateY:t.interpolate({inputRange:[0,1],outputRange:["-20px","0px"]})}],opacity:n}:{},opacities:r}}(ne),oe=re.titleAnimatedStyle,ie=re.opacities;if(null==i)return null;var ae=[];if(!f){b&&ae.push((0,r.jsx)(u.Z.div,{className:Y().cardWrapper,style:ne?{opacity:ie[ae.length]}:{},children:(0,r.jsx)(te,{iconUrl:n(930519),header:F.Z.Messages.WELCOME_CTA_INVITE_TITLE,completed:S,onClick:W})},"invite"));m&&ae.push((0,r.jsx)(u.Z.div,{className:Y().cardWrapper,style:ne?{opacity:ie[ae.length]}:{},children:(0,r.jsx)(te,{iconUrl:n(157862),
header:F.Z.Messages.WELCOME_CTA_PERSONALIZE_TITLE,completed:D,onClick:K})},"customize"));g&&ae.push((0,r.jsx)(u.Z.div,{className:Y().cardWrapper,style:ne?{opacity:ie[ae.length]}:{},children:(0,r.jsx)(te,{iconUrl:n(747048),header:F.Z.Messages.WELCOME_CTA_MESSAGE_TITLE,completed:Z,onClick:z})},"message"));(0,H.$L)()&&ae.push((0,r.jsx)(u.Z.div,{className:Y().cardWrapper,style:ne?{opacity:ie[ae.length]}:{},children:(0,r.jsx)(te,{iconUrl:n(932568),header:F.Z.Messages.WELCOME_CTA_DOWNLOAD_TITLE,completed:O,onClick:$})},"download"))}var le=p?F.Z.Messages.WELCOME_CTA_SUBTITLE_OWNER:F.Z.Messages.WELCOME_CTA_SUBTITLE_MEMBER;f&&(le=F.Z.Messages.WELCOME_CTA_SUBTITLE_EXISTING_SERVER);var ue,ce="".concat(G.Z.getArticleURL(I.BhN.GUILD_GETTING_STARTED),"?utm_source=discord&utm_medium=blog&utm_campaign=2020-06_help-new-user&utm_content=--t%3Apm");return(0,r.jsx)(B.ZP,{channelId:t.id,children:(0,r.jsx)("div",{className:Y().container,children:(0,r.jsxs)("div",{className:Y().inner,children:[(0,
r.jsxs)(u.Z.div,{style:oe,children:[(0,r.jsx)(R.X,{className:Y().titleName,variant:"heading-xxl/medium",children:F.Z.Messages.WELCOME_CTA_TITLE.format({guildName:i.name})}),(0,r.jsxs)(M.x,{color:"header-secondary",className:a()((ue={},X(ue,Y().subtitle,!0),X(ue,Y().noChildren,0===ae.length),ue)),variant:"text-sm/normal",children:[le," ",ae.length>0?F.Z.Messages.WELCOME_CTA_SUBTITLE_ACTION_WITH_GUIDE.format({guideURL:ce}):null]})]}),ae]})})})}},620700:(e,t,n)=>{"use strict";n.d(t,{kj:()=>u,oC:()=>c,UT:()=>s,CM:()=>f,xh:()=>d,s3:()=>p,_Z:()=>h});var r=n(277563),o=n(820028),i=n(180918),a=n(987762);function l(){var e=a.Z.getFavoriteChannels(),t=1;for(var n in e)t=Math.max(t,e[n].order);return t+1}function u(e,t){a.Z.isFavorite(e)||i.hW.updateAsync("favorites",(function(n){n.favoriteChannels[e]=o.aV.create({nickname:"",type:o.Dd.REFERENCE_ORIGINAL,position:l(),parentId:null!=t?t:"0"})}),i.fy.FREQUENT_USER_ACTION)}function c(e){var t=a.Z.getFavorite(e)
;null!=t&&i.hW.updateAsync("favorites",(function(n){delete n.favoriteChannels[e];if(t.type===o.Dd.CATEGORY)for(var r in n.favoriteChannels)n.favoriteChannels[r].parentId===e&&(n.favoriteChannels[r].parentId="0")}),i.fy.FREQUENT_USER_ACTION)}function s(e,t){a.Z.isFavorite(e)&&i.hW.updateAsync("favorites",(function(n){n.favoriteChannels[e].nickname=null!=t?t:""}),i.fy.FREQUENT_USER_ACTION)}function f(e){var t=r.default.fromTimestamp(Date.now());i.hW.updateAsync("favorites",(function(n){n.favoriteChannels[t]=o.aV.create({nickname:e,type:o.Dd.CATEGORY,position:l(),parentId:"0"})}),i.fy.FREQUENT_USER_ACTION)}function d(e){c(e)}function p(e){i.hW.updateAsync("favorites",(function(t){var n=!0,r=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var l=i.value;null!=l.position&&(t.favoriteChannels[l.id].position=l.position);if(void 0!==l.parent_id){var u;t.favoriteChannels[l.id].parentId=null!==(u=l.parent_id)&&void 0!==u?u:"0"}}}catch(e){r=!0;o=e}finally{try{
n||null==a.return||a.return()}finally{if(r)throw o}}}),i.fy.FREQUENT_USER_ACTION)}function h(){i.hW.updateAsync("favorites",(function(e){e.muted=!e.muted}),i.fy.INFREQUENT_USER_ACTION)}},108870:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(791462),o=n(356004),i=n(645897),a=n(987762),l=n(461061);function u(e){return(0,r.cj)([i.ZP,o.Z,a.Z],(function(){if(e!==l.I_8)return i.ZP.getVoiceStates(e);var t=a.Z.getFavoriteChannels(),n={};for(var r in t){var u=o.Z.getChannel(r);null!=u&&(n[r]=i.ZP.getVoiceStatesForChannel(u))}return n}),[e])}},253873:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(791462),o=n(173436);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e){a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return a(e)}function l(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){
if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e,t){u=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return u(e,t)}var c=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=a(e);if(t){var o=a(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}var f=new Set;var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&u(e,t)}(n,e)
;var t=s(n);function n(){i(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(e){null!=e&&(f=new Set(e))};r.hasHidden=function(e){return f.has(e)};r.getState=function(){return f};r.__getLocalVars=function(){return{hiddenChannels:f}};return n}(r.ZP.PersistedStore);d.displayName="ForumChannelAdminOnboardingGuideStore";d.persistKey="ForumChannelAdminOnboardingGuideStore";const p=new d(o.Z,{ADMIN_ONBOARDING_GUIDE_HIDE:function(e){var t=e.channelId;e.hide?f.add(t):f.delete(t)}})},268461:(e,t,n)=>{"use strict";n.d(t,{c:()=>a});var r=n(730381),o=n.n(r),i=n(277563),a=function(e){var t=i.default.extractTimestamp(e);return!o()().isBefore(o()(t).add(o().duration(15,"days")))}},2157:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(791462),o=n(430923);function i(){return(0,r.e7)([o.Z],(function(){return null!=o.Z.getRemoteSessionId()||null!=o.Z.getAwaitingRemoteSessionInfo()}))}},781479:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l})
;var r=n(791462),o=n(631134),i=n(882687),a=n(430923);function l(){var e=(0,r.e7)([o.default],(function(){return o.default.getId()})),t=(0,r.e7)([a.Z],(function(){return a.Z.getRemoteSessionId()}));return(0,r.e7)([i.Z],(function(){var n;return null!==(n=i.Z.getVoiceStateForSession(e,t))&&void 0!==n?n:void 0}))}},279230:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(356004),o=n(733285),i=n(963886),a=n(932847),l=n(461061);function u(e,t,n){var u,c;a.default.track(l.rMx.VOICE_CALL_TRANSFER,{source_platform:null!=n?null===(u=i.Z.getSessionById(n))||void 0===u?void 0:u.clientInfo.os:"discord_client",guild_id:null===(c=r.Z.getChannel(e))||void 0===c?void 0:c.guild_id,channel_id:e,rtc_connection_id:o.Z.getRTCConnectionId(),target_platform:t})}},454369:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(791462),o=n(950008),i=n(90816),a=n(461061);function l(e){return(0,r.Wu)([o.Z],(function(){
return[o.Z.getAccount(null,a.ABu.XBOX),e?o.Z.getAccount(null,a.ABu.PLAYSTATION):null,e?o.Z.getAccount(null,a.ABu.PLAYSTATION_STAGING):null].filter(i.lm)}))}},441233:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var r=n(785893),o=n(667294),i=n(468811),a=n.n(i),l=n(240243);function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function s(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function f(e,t){if(null==e)return{}
;var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e){var t=e.width,n=void 0===t?16:t,i=e.height,u=void 0===i?16:i,p=e.color,h=void 0===p?"currentColor":p,y=e.foreground,b=f(e,["width","height","color","foreground"]),v=d(o.useState((function(){return a().v4()})),1)[0];return(0,r.jsxs)("svg",s(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){c(e,t,n[t])}))}return e}({},(0,l.Z)(b)),{width:n,height:u,viewBox:"0 0 24 24",children:[(0,r.jsx)("g",{"clip-path":"url(".concat(v,")"),children:(0,r.jsx)("path",{className:y,
"fill-rule":"evenodd","clip-rule":"evenodd",d:"M4.83075 2H13.2444C14.817 2 16.0751 3.13475 15.9965 4.55319V11H14.5025V4.69504H3.57264V18.8085H6V22H4.83075C3.25811 22 2 20.8652 2 19.4468V4.55319C2 3.13475 3.25811 2 4.83075 2Z",fill:h})}),(0,r.jsx)("path",{d:"M10.5646 13H19.4354C20.5365 13 21.4507 13.7808 21.5303 14.7893L21.9965 20.6997C22.0492 21.3677 21.5021 21.9485 20.7746 21.9968C20.7429 21.9989 20.7111 22 20.6792 22C19.8442 22 19.1157 21.4795 18.9105 20.7363L18.5495 19.4286H11.4504L11.0894 20.7363C10.8842 21.4795 10.1557 22 9.3207 22C8.5913 22 8 21.4571 8 20.7873C8 20.7581 8.00115 20.7289 8.00345 20.6997L8.46966 14.7893C8.5492 13.7808 9.46342 13 10.5646 13Z",className:y,fill:h}),(0,r.jsx)("defs",{children:(0,r.jsx)("clipPath",{id:v,children:(0,r.jsx)("rect",{width:"14",height:"21",fill:h,transform:"translate(2 2)"})})})]}))}var h=n(936584),y=n(415397),b=n(259849);function v(e){return null!=e?e===b.YE.XBOX?h.Z:y.Z:p}},576629:(e,t,n)=>{"use strict";n.d(t,{Z:()=>A})
;var r=n(785893),o=(n(667294),n(460015)),i=n(783848),a=n(186121),l=n(791462),u=n(653772),c=n(940712),s=n(882687),f=n(268333),d=n(609993);var p=n(733285),h=n(897576),y=n(441143),b=n.n(y),v=n(600341),m=n(804626),g=n(934714),O=n(94531),E=n(279230);var j=n(781479),S=n(454369),C=n(441233),P=n(461061),I=n(959797);function _(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function w(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){_(i,r,o,a,l,"next",e)}function l(e){_(i,r,o,a,l,"throw",e)}a(void 0)}))}}function x(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function N(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e)
;t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var T=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}
if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function A(e){var t=(0,o.ZP)([p.Z],(function(){return p.Z.getChannelId()===e.id})),y=(0,j.Z)(),_=(null==y?void 0:y.channelId)===e.id,A=function(e){return(0,l.e7)([c.Z],(function(){return!c.Z.can(d.Pl.CONNECT,e)}),[e])}(e)&&!e.isPrivate(),Z=function(e){return(0,l.e7)([s.Z,u.Z],(function(){return(0,f.rY)(e,s.Z,u.Z)}))}(e),R=!(0,o.ZP)([s.Z],(function(){return s.Z.isInChannel(e.id)}))&&Z||A,M=(0,S.Z)(!1);if(!_&&0===M.length)return null;var D=function(t){t.twoWayLink?(0,h.ZD)(w((function(){var t,o;return T(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(22853)]).then(n.bind(n,522853))];case 1:t=i.sent(),o=t.default;return[2,function(t){
return(0,r.jsx)(o,N(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){x(e,t,n[t])}))}return e}({},t),{channel:e}))}]}}))}))):(0,i.Z)(P.ABu.XBOX,"Console Transfer Item")};return(0,r.jsx)(r.Fragment,{children:_?(0,r.jsx)(a.sN,{label:I.Z.Messages.TRANSFER_VOICE_TO_DEVICE,id:"handoff",action:function(){!function(e,t){var n,r=null!==(n=e.sessionId)&&void 0!==n?n:"";(0,O._)(r);(0,O.s6)();var o=null!=t?t:e.channelId;b()(null!=o,"attempted to transfer to unknown channel");e.selfMute!==g.Z.isSelfMute()&&v.Z.toggleSelfMute();e.selfDeaf!==g.Z.isSelfDeaf()&&v.Z.toggleSelfDeaf();(0,E.Z)(o,"discord_client",r);m.default.selectVoiceChannel(o,!1)}(y)},icon:(0,C.Z)(void 0),disabled:R}):M.map((function(e){return(0,r.jsx)(a.sN,{
id:"transfer-".concat(e.type,"-").concat(e.id),label:t?I.Z.Messages.TRANSFER_VOICE_TO_XBOX:I.Z.Messages.JOIN_ON_XBOX,action:function(){return D(e)},icon:(0,C.Z)(e.type),disabled:R})}))})}},206893:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(791462),o=n(631134),i=n(839362),a=n(74922),l=n(316076),u=n(604860),c=n(90816),s=n(461061),f=n(959797);function d(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var p;!function(e){e.PACKET_LOSS="Packet Loss";e.FRAME_RATE_INPUT="Frame Rate Encode";e.FRAME_RATE_NETWORK="Frame Rate Decode";e.SOUNDSHARE_FAILED="Soundshare Failed";e.BAD_CONNECTION="Bad Connection"}(p||(p={}));function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:30;return e<=5?3:e<=15?10:15}function y(e,t){var n={packetsSentOrReceived:0,packetsLost:0,packetLossRate:0,frameRate:0,resolution:0,numDatapoints:0},r=e.slice(-1*t).filter(c.lm);if(0===r.length)return function(e){
for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){d(e,t,n[t])}))}return e}({type:"streamer"},n);r.forEach((function(e,t,r){n.packetsSentOrReceived+=t>0?r[t].packetsSentOrReceived-r[t-1].packetsSentOrReceived:0;n.packetsLost+=t>0?r[t].packetsLost-r[t-1].packetsLost:0;n.frameRate+=e.frameRate;n.resolution+=e.resolution}));var o=r[0].type,i=r.length;return{type:o,packetsSentOrReceived:n.packetsSentOrReceived,packetsLost:n.packetsLost,packetLossRate:n.packetsLost/(n.packetsLost+n.packetsSentOrReceived),frameRate:n.frameRate/i,resolution:n.resolution/i,numDatapoints:i}}var b=(0,u.oH)((function(e,t){return{message:e,errorType:t}}));function v(e,t){if("streamer"===e.type){if(100*e.packetLossRate>10)return b(f.Z.Messages.STREAM_BAD_STREAMER,p.PACKET_LOSS)
;if(e.frameRate<=h(t))return b(f.Z.Messages.STREAM_BAD_STREAMER,p.FRAME_RATE_INPUT)}else{if(100*e.packetLossRate>10)return b(f.Z.Messages.STREAM_BAD_SPECTATOR,p.PACKET_LOSS);if(e.frameRate<=h(t))return b(f.Z.Messages.STREAM_BAD_SPECTATOR,p.FRAME_RATE_NETWORK)}return null}function m(e){var t=(0,l.Wc)(e),n=e.stream.ownerId;return(0,r.e7)([a.Z,i.Z,o.default],(function(){return null!=n?function(e,t,n,r){if(n)return b(f.Z.Messages.STREAM_SOUNDSHARE_FAILED,p.SOUNDSHARE_FAILED);if(null!=t){var o=y(t,5),i=y(t,30);if(i.numDatapoints>=5){var a;return null!==(a=v(o,null==r?void 0:r.maxFrameRate))&&void 0!==a?a:v(i,null==r?void 0:r.maxFrameRate)}}return e===s.IE4.BAD?b(f.Z.Messages.STREAM_NETWORK_QUALITY_ERROR,p.BAD_CONNECTION):null}(a.Z.getQuality(),a.Z.getStatsHistory(n,n===o.default.getId()),null!=i.Z.getHookError(s.K3D.SOUND),t):null}),[t,n])}},742572:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(866452);function o(e){return e.supportsInApp(r.AN.VIDEO)&&e.supportsInApp(r.AN.DESKTOP_CAPTURE)}
},59770:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(75141),o=n(863419),i=n(298716);function a(e,t,n){if(null==e||null==e.quality&&null==e.guildPremiumTier)return!0;var a=!1;null!=e.quality&&(e.quality===i.ys.HIGH_STREAMING_QUALITY?a=a||o.ZP.canStreamHighQuality(t):e.quality===i.ys.MID_STREAMING_QUALITY&&(a=a||o.ZP.canStreamMidQuality(t)));null!=e.guildPremiumTier&&(a=a||(0,r.tb)(n,e.guildPremiumTier));return a}var l=n(664637);function u(e,t,n,r,o){var i=!0,u=!1,c=void 0;try{for(var s,f=l.ND[Symbol.iterator]();!(i=(s=f.next()).done);i=!0){var d=s.value;if((null==d.preset||e===d.preset)&&t===d.resolution&&n===d.fps&&a(d,r,o))return!0}}catch(e){u=!0;c=e}finally{try{i||null==f.return||f.return()}finally{if(u)throw c}}return!1}},201413:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(570992),o=n(461061),i=n(959797);function a(e,t,n,a){return e.state===o.jm8.ENDED||e.state===o.jm8.FAILED?null:e.state===o.jm8.RECONNECTING?{mainText:i.Z.Messages.STREAM_RECONNECTING_ERROR,
supportingText:i.Z.Messages.STREAM_RECONNECTING_ERROR_SUBTEXT}:e.state===o.jm8.PAUSED?n?{mainText:i.Z.Messages.STREAM_CAPTURE_PAUSED,supportingText:i.Z.Messages.STREAM_CAPTURE_PAUSED_DETAILS}:{mainText:i.Z.Messages.STREAM_CAPTURE_PAUSED,supportingText:i.Z.Messages.STREAM_CAPTURE_PAUSED_DETAILS_VIEWER.format({username:r.Z.getName(e.guildId,e.channelId,t)})}:a?{mainText:i.Z.Messages.STREAM_PREVIEW_PAUSED,supportingText:i.Z.Messages.STREAM_PREVIEW_PAUSED_SUBTEXT}:null}},988279:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(959797),o=/[!"#$%&'()*+,-./:;<=>?@[\]^_`{|}~]/g;function i(e){var t=r.Z.Messages.ACTIVITY_PANEL_GO_LIVE;null!=e&&null!=e.sourceName&&e.sourceName.length>0&&(t=e.sourceName);return{sanitizedTitle:t.replace(o,""),title:t}}},62214:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(997163),o=n(337160),i=n(461061),a=n(959797);function l(e,t,n,l){return null==t||t.state===i.jm8.ENDED||(0,r.V9)(t)!==(0,r.V9)(e)?(0,
o.P9)(l):t.ownerId===n?a.Z.Messages.WATCH_STREAM_STREAMING:a.Z.Messages.WATCH_STREAM_WATCHING}},987866:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),l=n(316921),u=n(701197),c=n(206832),s=n.n(c);function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var p=[1752220,3066993,3447003,10181046,15277667,15844367];function h(e){return(0,l.Rf)(p[function(e){var t=5381,n=0;for(;n<e.length;)t=33*t^e.charCodeAt(n++);return t>>>0}(e)%p.length])}function y(e){var t,n=e.title,i=e.className,l=d(o.useState(h(n)),2),c=l[0],f=l[1];o.useEffect((function(){f(h(n))}),[n]);return(0,r.jsxs)("div",{className:a()(s().icon,i),style:{backgroundColor:c},children:[null!==(t=n[0])&&void 0!==t?t:"?",(0,r.jsx)(u.Z,{className:s().badge})]})}},306599:(e,t,n)=>{"use strict";n.d(t,{Z:()=>b});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),l=n(791462),u=n(406010),c=n(487502),s=n(82961),f=n(685351),d=n(959797),p=n(715456),h=n.n(p);function y(e){var t=e.isLoading,n=e.noText,o=e.className;return(0,
r.jsx)(c.Z,{className:a()(h().emptyPreviewContainer,o),direction:c.Z.Direction.VERTICAL,align:c.Z.Align.CENTER,justify:c.Z.Justify.CENTER,children:t?(0,r.jsx)(s.Z,{}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:h().emptyPreviewImage}),n?null:(0,r.jsx)(f.x,{variant:"text-sm/normal",color:"none",className:h().emptyPreviewText,children:d.Z.Messages.STREAM_NO_PREVIEW})]})})}function b(e){var t=e.stream,n=e.className,i=e.noText,c=void 0!==i&&i,s=(0,l.cj)([u.Z],(function(){return{url:u.Z.getPreviewURL(t.guildId,t.channelId,t.ownerId),isLoading:u.Z.getIsPreviewLoading(t.guildId,t.channelId,t.ownerId)}})),f=s.url,d=s.isLoading,p=o.useRef(d?null:f);o.useEffect((function(){d||(p.current=f)}),[f,d]);var b=null==f||d?p.current:f;return null==b?(0,r.jsx)(y,{className:n,isLoading:d,noText:c}):(0,r.jsx)("div",{className:a()(n,h().root),children:(0,r.jsx)("img",{src:b,alt:"",className:h().image})})}},67121:(e,t,n)=>{"use strict";n.d(t,{Z:()=>X})
;var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),l=n(248088),u=n(829207),c=n(791462),s=n(842592),f=n(39802),d=n(64833),p=n(832010),h=n(356002),y=n(859023),b=n(629590),v=n(757987),m=n(732031),g=n(897576),O=n(226300),E=n(225464),j=n(932847),S=n(863419),C=n(316076),P=n(206893),I=n(461061),_=n(298716),w=n(959797),x=n(214156),N=n.n(x),T=n(592551),A=n.n(T);function Z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function R(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function M(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){R(i,r,o,a,l,"next",e)}function l(e){R(i,r,o,a,l,"throw",e)}a(void 0)}))}}function D(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){D(e,t,n[t])}))}return e}function k(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function U(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{
a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Z(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var G=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),
0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},H=(0,u.Mg)(A().borderRadius),B={opacity:0,transform:"translate3d(100%, 0, 0)"},V={opacity:1,transform:"translate3d(0%, 0, 0)"},F={opacity:0},W={opacity:1},Y={borderRadius:"".concat(H,"px ").concat(H,"px ").concat(H,"px ").concat(H,"px")},z={borderRadius:"0px ".concat(H,"px ").concat(H,"px 0px")},K={mass:1,tension:500,friction:18,clamp:!0
},q=function(e){var t,i,l=e.participant,u=e.isUpsellEnabled,f=e.shape,h=e.size,x=e.didTrackUpsellViewed,T=e.setDidTrackUpsellViewed,A=e.className,Z=(0,C.Wc)(l),R=(0,d.Z)().analyticsLocations,U=null!=(0,P.Z)(l);try{t=(0,C.nG)(Z)}catch(e){t=!1}try{i=(0,C.tR)(Z)}catch(e){i=!1}var H=t||i,B=(0,s.O)().location,V=(0,c.e7)([y.default],(function(){return y.default.getCurrentUser()})),F=u&&!S.ZP.isPremium(V,_.p9.TIER_1)&&!S.ZP.canStreamMidQuality(V),W=o.useCallback((function(){F&&H&&(0,g.ZD)(M((function(){var e,t;return G(this,(function(o){switch(o.label){case 0:return[4,n.e(69224).then(n.bind(n,69224))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,k(L({},e),{analyticsSource:B}))}]}}))})))}),[F,H,B]);o.useEffect((function(){if(!x&&H){j.default.track(I.rMx.PREMIUM_UPSELL_VIEWED,{type:_.cd.STREAM_QUALITY_INDICATOR,has_premium_stream_fps:t,has_premium_stream_resolution:i,location_stack:R});T(!0)}}),[t,i,H,x,T,R]);if(null==Z)return null;var Y=(0,r.jsx)(v.ZP,{
text:U?w.Z.Messages.SCREENSHARE_QUALITY_TOOLTIP_REDUCED:H?w.Z.Messages.SCREENSHARE_QUALITY_TOOLTIP_PREMIUM:w.Z.Messages.SCREENSHARE_QUALITY_TOOLTIP_NORMAL,position:v.ZP.Positions.BOTTOM,color:v.ZP.Colors.GREY,children:function(e){return(0,r.jsxs)(b.Z,k(L({},e),{onClick:W,className:a()(N().qualityIndicator,h,E.eE[f],U?N().qualityIndicatorLowQuality:N().qualityIndicatorFullQuality,D({},N().clickable,F&&H)),children:[H?(0,r.jsx)(m.Z,{className:N().premiumStreamIcon}):null,(0,r.jsx)("span",{className:N().qualityResolution,children:(0,C.ml)(Z.maxResolution)}),(0,r.jsx)("span",{children:(0,C.bp)(Z.maxFrameRate)})]}))}});return(0,r.jsx)(O.IG,{text:Y,className:a()(A,N().qualityIndicatorBadge),color:(0,p.Lq)(I.Ilk.PRIMARY_DARK_500),shape:f})};const X=function(e){var t=e.participant,n=e.showQuality,i=e.isUpsellEnabled,u=void 0===i||i,c=e.size,s=e.className,d=U(o.useState(!1),2),p=d[0],y=d[1],b=(0,C.Wc)(t),v=o.useContext(f.S).reducedMotion,m=n&&null!=b;o.useEffect((function(){(0,
h.Z)(t.stream.ownerId,t.user.getAvatarURL(t.stream.guildId,80),{dispatchWait:!0})}),[t]);var g=(0,l.useTransition)(m,{enter:{from:v.enabled?F:B,to:v.enabled?W:V},leave:v.enabled?F:B,config:K}),j=(0,l.useSpring)({to:m?z:Y,config:K});return function(e){var n=e.className,o=e.popoutProps;return(0,r.jsxs)("div",k(L({className:a()(N().streamQualityIndicator,n)},o),{children:[g((function(e,n){return n?(0,r.jsx)(l.animated.div,{style:e,children:(0,r.jsx)(q,{className:N().liveQualityIndicator,participant:t,size:c,shape:O.Dv.ROUND_LEFT,isUpsellEnabled:u,didTrackUpsellViewed:p,setDidTrackUpsellViewed:y})}):null})),(0,r.jsx)(l.animated.div,{style:j,className:N().liveIndicator,children:(0,r.jsx)(E.ZP,{look:E.jZ.RED,size:c,shape:m?O.Dv.ROUND_RIGHT:O.Dv.ROUND})})]}))}({className:s})}},127949:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(285183);function o(e,t){if(__OVERLAY__){var n=t.getGame(),o=(0,r.QF)();return null==n||null==o?null:{id:n.id,pid:o,pidPath:[],nativeProcessObserverId:0,hidden:!1,
elevated:!1,name:n.name,lastFocused:0,exePath:"",exeName:"",cmdLine:"",processName:"",distributor:null,windowHandle:null}}return e.getVisibleGame()}},635448:(e,t,n)=>{"use strict";n.d(t,{Z:()=>E});var r=n(791462),o=n(173436),i=n(923463),a=n(617509),l=n(461061);function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e){c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return c(e)}function s(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e,t){f=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return f(e,t)}var d=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1
;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}var h={},y=0,b=function(e,t){var n=function(e){return(0,i.ZN)(e)?e.message.nonce:(0,i.Bz)(e)?e.message.messageId:e.message.data.id}(e);h[n]={id:n,isBlockedEdit:(0,i.Bz)(e),messageData:e,errorMessage:(0,a.uF)(e,t)};y++},v=function(e){return h[e]},m=function(e){delete h[e];y++};function g(e){var t=e.messageData,n=e.errorResponseBody;b(t,n);return!0}var O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&f(e,t)}(n,e);var t=p(n);function n(){u(this,n);return t.apply(this,arguments)}var r=n.prototype
;r.getMessage=function(e){return null==e?null:null!==(t=v(e))&&void 0!==t?t:null;var t};r.getMessagesVersion=function(){return y};r.__getLocalVars=function(){return{automodFailedMessages:h,automodFailedMessagesVersion:y,setFailedMessage:b,getFailedMessage:v,removeFailedMessage:m}};return n}(r.ZP.Store);O.displayName="GuildAutomodMessageStore";const E=new O(o.Z,{CONNECTION_OPEN:function(e){h={};y++;return!0},MESSAGE_SEND_FAILED_AUTOMOD:g,MESSAGE_EDIT_FAILED_AUTOMOD:g,REMOVE_AUTOMOD_MESSAGE_NOTICE:function(e){var t=e.messageId;m(t);return!0},MESSAGE_END_EDIT:function(e){var t=e.response;if(null==(null==t?void 0:t.body))return!1;if(t.body.code===l.evJ.AUTOMOD_MESSAGE_BLOCKED)return!1;var n=t.body.id;if(null==n)return!1;m(n)}})},830504:(e,t,n)=>{"use strict";n.d(t,{Cg:()=>f,zC:()=>L,Yp:()=>M,vI:()=>B,il:()=>V,XO:()=>D,hC:()=>G,o9:()=>U,VF:()=>H,WW:()=>k});var r=n(785893),o=(n(667294),n(832010)),i=n(685351),a=n(240243);function l(e,t,n){t in e?Object.defineProperty(e,t,{value:n,
enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function u(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function c(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function s(e){var t=e.width,n=void 0===t?24:t,o=e.height,i=void 0===o?24:o,s=c(e,["width","height"])
;return(0,r.jsxs)("svg",u(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){l(e,t,n[t])}))}return e}({},(0,a.Z)(s)),{height:i,width:n,viewBox:"0 0 24 24",children:[(0,r.jsx)("path",{
d:"m6.3599 4.33.41.84c.02245.04336.03052.09274.02304.14099s-.03013.09287-.06465.1274c-.03453.03453-.07915.05717-.1274.06465s-.09763-.00059-.14099-.02304l-.84-.41c-.03119-.01506-.06537-.02288-.1-.02288s-.06882.00782-.1.02288l-.84.41c-.04336.02245-.09274.03052-.141.02304-.04825-.00748-.09287-.03012-.12739-.06465-.03453-.03453-.05717-.07915-.06465-.1274s.00058-.09763.02304-.14099l.41-.84c.01505-.03119.02287-.06537.02287-.1s-.00782-.06881-.02287-.1l-.41-.84c-.01585-.04253-.01876-.08879-.00836-.13297.01039-.04417.03362-.08429.06676-.11529s.07471-.05151.11948-.05894c.04477-.00742.09074-.00144.13212.0172l.84.41c.03118.01506.06537.02288.1.02288s.06881-.00782.1-.02288l.84-.41c.04336-.02245.09274-.03052.14099-.02304s.09287.03012.1274.06465c.03452.03453.05717.07914.06465.1274.00748.04825-.00059.09763-.02304.14099l-.41.84c-.01211.02846-.01834.05907-.01834.09s.00623.06154.01834.09z",fill:"#ffd836"}),(0,r.jsx)("path",{
d:"m12 2.70001-5.45996 5.46v7.67999l5.45996 5.46 5.46-5.46v-7.67999zm2.73 11.99999-2.73 2.74-2.72996-2.73v-5.41999l2.72996-2.73 2.73 2.73z",fill:"#ff73fa"}),(0,r.jsx)("path",{d:"m12 2.70001v3.86l2.73 2.73 2.73-1.13z",fill:"#ffc0ff"}),(0,r.jsx)("path",{d:"m9.27004 14.71-2.73 1.13 5.45996 5.46v-3.86z",fill:"#e655d4"}),(0,r.jsxs)("g",{fill:"#d4e4ff",children:[(0,r.jsx)("path",{d:"m16.2199 17.7h.01c.243 0 .44-.197.44-.44v-.89c0-.243-.197-.44-.44-.44h-.01c-.243 0-.44.197-.44.44v.89c0 .243.197.44.44.44z"}),(0,r.jsx)("path",{d:"m16.2199 21.25h.01c.243 0 .44-.197.44-.44v-.89c0-.243-.197-.44-.44-.44h-.01c-.243 0-.44.197-.44.44v.89c0 .243.197.44.44.44z"}),(0,r.jsx)("path",{d:"m15.3401 18.59v-.01c0-.243-.197-.44-.44-.44h-.89c-.243 0-.44.197-.44.44v.01c0 .243.197.44.44.44h.89c.243 0 .44-.197.44-.44z"}),(0,r.jsx)("path",{d:"m18.8799 18.59v-.01c0-.243-.197-.44-.44-.44h-.89c-.243 0-.44.197-.44.44v.01c0 .243.197.44.44.44h.89c.243 0 .44-.197.44-.44z"})]}),(0,r.jsx)("path",{
d:"m9.27002 9.29v5.42l2.72998 2.73 2.73-2.73v-5.42l-2.73-2.73z",fill:"#ffdef9"}),(0,r.jsx)("path",{d:"m14.72 9.28998v.01l-5.42997 5.43002-.01-.01v-1.47l4.69997-4.71002z",fill:"#fff"}),(0,r.jsx)("path",{d:"m14.7201 11.34v1.5l-3.66 3.66-.75-.75z",fill:"#fff"})]}))}var f,d=n(225376),p=n(106027),h=n(339302),y=n(943327),b=n(538765),v=n(4258),m=n(696229),g=n(415397),O=n(297881),E=n(961803),j=n(75141),S=n(461061),C=n(959797),P=n(759107),I=n.n(P);!function(e){e.GUILD_BANNER_INVITE="guild_banner_invite"}(f||(f={}));var _=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,o.Lq)(S.Ilk.PREMIUM_PERK_ORANGE);return{color:e,icon:h.Z,description:C.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_UPSELL_PERKS_ANIMATED_ICON}},w=function(){return{color:(0,o.Lq)(S.Ilk.PREMIUM_PERK_ORANGE),icon:y.Z,description:C.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_UPSELL_PERKS_ROLE_ICON}},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,o.Lq)(S.Ilk.PREMIUM_PERK_PURPLE);return{
color:e,icon:O.Z,description:C.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_UPSELL_PERKS_STICKERS}},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,o.Lq)(S.Ilk.PREMIUM_PERK_YELLOW);return{color:e,icon:O.Z,description:C.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_UPSELL_PERKS_STICKERS_UPLOAD.format({numStickers:j.$8[S.Eu4.TIER_1]})}},T=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(0,o.Lq)(S.Ilk.PREMIUM_PERK_PURPLE),n=0,r=0;switch(e){case S.Eu4.TIER_1:n=15;r=100;break;case S.Eu4.TIER_2:n=30;r=150;break;case S.Eu4.TIER_3:n=60;r=250}return{color:t,icon:O.Z,description:C.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_UPSELL_PERKS_STICKERS_AND_EMOJIS.format({numStickers:n,numEmojis:r})}},A=function(){return{color:(0,o.Lq)(S.Ilk.PREMIUM_PERK_GOLD),icon:g.Z,description:C.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_UPSELL_PERKS_VANITY_URL}},Z=function(){
var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_UPSELL_PERKS_OTHER;return{color:(0,o.Lq)(S.Ilk.PREMIUM_PERK_BLUE),icon:d.Z,description:e}},R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,o.Lq)(S.Ilk.PREMIUM_PERK_GREEN);return{color:e,icon:m.Z,description:C.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_UPSELL_PERKS_SCREEN_SHARE_1080P}};function M(){return[w(),{color:(0,o.Lq)(S.Ilk.PREMIUM_PERK_GREEN),icon:b.Z,description:C.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_UPSELL_PERKS_GUILD_BANNER},x(),Z()]}function D(){return[w(),T(S.Eu4.TIER_2),R(),Z()]}function L(){return[T(S.Eu4.TIER_3,(0,o.Lq)(S.Ilk.PREMIUM_PERK_GREEN)),{color:(0,o.Lq)(S.Ilk.PREMIUM_PERK_PURPLE),icon:E.Z,description:C.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_UPSELL_PERKS_FILE_UPLOAD_TIER_3},A(),Z()]}function k(){return[A(),{color:(0,o.Lq)(S.Ilk.PREMIUM_PERK_GREEN),icon:h.Z,
description:C.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_UPSELL_PERKS_ANIMATED_GUILD_BANNER},T(S.Eu4.TIER_3),Z()]}function U(){return[{color:(0,o.Lq)(S.Ilk.PREMIUM_PERK_GREEN),icon:b.Z,description:C.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_UPSELL_PERKS_CUSTOM_INVITE},x(),_(),Z()]}function G(){return[x(),Z()]}function H(){return[{icon:p.Z,color:(0,o.Lq)(S.Ilk.PREMIUM_PERK_PINK),description:C.Z.Messages.PREMIUM_GUILD_USER_FEATURE_BOOST_CRYSTAL},{icon:y.Z,color:(0,o.Lq)(S.Ilk.PREMIUM_PERK_YELLOW),description:C.Z.Messages.PREMIUM_GUILD_USER_FEATURE_SPECIAL_ROLE},{icon:s,description:C.Z.Messages.PREMIUM_GUILD_USER_FEATURE_PROFILE_BADGE},{color:(0,o.Lq)(S.Ilk.PREMIUM_PERK_BLUE),icon:d.Z,description:C.Z.Messages.PREMIUM_GUILD_USER_FEATURE_OTHERS}]}function B(){return[{color:(0,o.Lq)(S.Ilk.PREMIUM_PERK_GREEN),icon:v.Z,description:(0,r.jsx)("div",{className:I().activitiesPerk,children:(0,r.jsx)(i.x,{variant:"text-md/medium",color:"interactive-active",
children:C.Z.Messages.EMBEDDED_ACTIVITIES_PREMIUM_TIER_ACCESS_TO_ACTIVITIES})})},x(),_((0,o.Lq)(S.Ilk.PREMIUM_PERK_YELLOW)),Z()]}function V(){return[_(),{color:(0,o.Lq)(S.Ilk.PREMIUM_PERK_PURPLE),icon:m.Z,description:C.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_UPSELL_PERKS_SCREEN_SHARE_720P},N(),Z()]}},86046:(e,t,n)=>{"use strict";n.d(t,{X:()=>a});var r=n(277563),o=n(320646),i=n(977898),a=function(e){(0,o.Ju)(e,i.W.GUILD_HOME,r.default.fromTimestamp(Date.now()))}},403348:(e,t,n)=>{"use strict";n.d(t,{e:()=>l});var r=n(675860),o=n(883243),i=n(985836),a=n(461061);function l(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!i.Z.isFullServerPreview(e))return r.Z.patch({url:a.ANM.SET_GUILD_MEMBER(e),body:t,oldFormErrors:!!n||void 0});(0,o.zh)(e,{memberOptions:t})}},57859:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var r=n(675860),o=n(173436),i=n(570239),a=n(748737),l=n(461061);function u(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}
l.done?t(u):Promise.resolve(u).then(r,o)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){u(i,r,o,a,l,"next",e)}function l(e){u(i,r,o,a,l,"throw",e)}a(void 0)}))}}var s,f=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}
if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},d=(s=c((function(e){var t,n,u,c,s,d,p,h,y,b,v,m,g;return f(this,(function(f){switch(f.label){case 0:t=e.guildId,n=e.status,u=void 0===n?i.wB.SUBMITTED:n,c=e.before,s=e.after,d=e.limit,p=void 0===d?i.tB:d;o.Z.dispatch({type:"GUILD_JOIN_REQUESTS_FETCH_START"});f.label=1;case 1:f.trys.push([1,3,,4]);return[4,r.Z.get({url:l.ANM.GUILD_JOIN_REQUESTS(t),query:{status:u,limit:p,before:c,after:s}})];case 2:h=f.sent();y=h.body.total;v=null!==(b=h.body.guild_join_requests)&&void 0!==b?b:[];m=v.map(a.j);o.Z.dispatch({type:"GUILD_JOIN_REQUESTS_FETCH_SUCCESS",status:u,requests:m,total:y,limit:p,guildId:t});return[2,h];case 3:g=f.sent();o.Z.dispatch({
type:"GUILD_JOIN_REQUESTS_FETCH_FAILURE"});throw g;case 4:return[2]}}))})),function(e){return s.apply(this,arguments)}),p=function(){var e=c((function(e){var t;return f(this,(function(n){switch(n.label){case 0:n.trys.push([0,2,,3]);return[4,r.Z.delete({url:l.ANM.GUILD_MEMBER_REQUEST_TO_JOIN(e)})];case 1:t=n.sent();o.Z.dispatch({type:"USER_GUILD_JOIN_REQUEST_UPDATE",guildId:e,request:null});return[2,t];case 2:throw n.sent();case 3:return[2]}}))}));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=c((function(e,t){return f(this,(function(n){switch(n.label){case 0:n.trys.push([0,2,3,4]);return[4,r.Z.post({url:l.ANM.GUILD_JOIN_REQUEST_ACK(e,t)})];case 1:return[2,n.sent()];case 2:n.sent();return[3,4];case 3:o.Z.dispatch({type:"ACK_APPROVED_GUILD_JOIN_REQUEST",id:t,guildId:e});return[7];case 4:return[2]}}))}));return function(t,n){return e.apply(this,arguments)}}(),y=function(){var e=c((function(e,t){var n,a,u,c=arguments;return f(this,(function(s){switch(s.label){
case 0:n=c.length>2&&void 0!==c[2]?c[2]:i.wB.APPROVED,a=c.length>3?c[3]:void 0;return[4,r.Z.patch({url:l.ANM.GUILD_JOIN_REQUEST(e,t),body:{action:n,rejection_reason:a}})];case 1:u=s.sent();o.Z.dispatch({type:"GUILD_JOIN_REQUEST_UPDATE",guildId:e,status:u.body.application_status,request:u.body});return[2]}}))}));return function(t,n){return e.apply(this,arguments)}}(),b=function(){var e=c((function(e,t){var n;return f(this,(function(i){switch(i.label){case 0:return[4,r.Z.patch({url:l.ANM.GUILD_JOIN_REQUESTS(e),body:{action:t}})];case 1:n=i.sent();o.Z.dispatch({type:"GUILD_JOIN_REQUESTS_BULK_ACTION",guildId:e,action:t});return[2,n.body]}}))}));return function(t,n){return e.apply(this,arguments)}}(),v=function(){var e=c((function(e){var t,n;return f(this,(function(i){switch(i.label){case 0:i.trys.push([0,2,,3]);return[4,r.Z.post({url:l.ANM.GUILD_MEMBER_REQUEST_TO_JOIN(e)})];case 1:t=i.sent();n=t.body;o.Z.dispatch({type:"USER_GUILD_JOIN_REQUEST_UPDATE",guildId:e,request:n});return[2,n]
;case 2:throw i.sent();case 3:return[2]}}))}));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=c((function(){var e;return f(this,(function(t){switch(t.label){case 0:return[4,r.Z.get({url:l.ANM.USER_JOIN_REQUEST_GUILDS})];case 1:e=t.sent();o.Z.dispatch({type:"USER_JOIN_REQUEST_GUILDS_FETCH",guilds:e.body});return[2]}}))}));return function(){return e.apply(this,arguments)}}();const g={fetchGuildJoinRequests:d,ackUserGuildJoinRequest:h,removeGuildJoinRequest:p,updateGuildJoinRequest:y,actionAllPendingJoinRequests:b,resetGuildJoinRequest:v,fetchRequestToJoinGuilds:m,setSelectedApplicationStatus:function(e,t){o.Z.dispatch({type:"GUILD_JOIN_REQUESTS_SET_APPLICATION_STATUS",guildId:e,applicationStatus:t})},setSelectedSortOrder:function(e,t){o.Z.dispatch({type:"GUILD_JOIN_REQUESTS_SET_SORT_ORDER",guildId:e,sortOrder:t})},setSelectedGuildJoinRequest:function(e,t){o.Z.dispatch({type:"GUILD_JOIN_REQUESTS_SET_SELECTED",guildId:e,request:t})}}},229620:(e,t,n)=>{"use strict"
;n.d(t,{s:()=>l});n(791462);var r=n(537204),o=n(356004),i=n(108580),a=n(461061);function l(e,t){return r.Z.isChannelGated(e,t)||i.ZP.canEveryoneRole(a.Plq.VIEW_CHANNEL,o.Z.getChannel(t))}},656284:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(496486),o=n.n(r),i=n(675860),a=n(173436),l=n(403348),u=n(204424),c=n(7046),s=n(290495),f=n(212218),d=n(859023),p=n(418674),h=n(836670),y=n(461061);function b(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}var v=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,
o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};const m={updateOnboardingResponses:function(e,t){return i.Z.put({url:y.ANM.GUILD_ONBOARDING_RESPONSES(e),body:t})},completeOnboarding:function(e){var t=e.guildId,n=e.selectedChannelIds,r=void 0===n?new Set:n,i=e.selectedRoleIds,a=void 0===i?new Set:i;(h.Z.getEnableDefaultChannels(t)?h.Z.getDefaultChannelIds(t):[]).forEach((function(e){return r.add(e)}));r.size>0&&(0,s.Mo)(t,Array.from(r),!0,{
page:y.ZY5.GUILD_ONBOARDING});a.size>0&&function(e,t){var n=d.default.getCurrentUser();if(null!=n){var r=f.ZP.getSelfMember(e);if(null==r)return[];var i=o().union(r.roles,t),a=o().difference(t,r.roles);c.Z.updateMemberRoles(e,n.id,i,a,[])}}(t,Array.from(a));var b=d.default.getCurrentUser();if(null!=b){var v,m,g=null!==(m=null===(v=f.ZP.getMember(t,b.id))||void 0===v?void 0:v.flags)&&void 0!==m?m:0;(0,l.e)(t,{flags:(0,p.mB)(g,u.qQ.COMPLETED_ONBOARDING,!0)})}},finishOnboarding:function(e){a.Z.dispatch({type:"GUILD_ONBOARDING_COMPLETE",guildId:e})},resetOnboarding:function(e){return(t=function(){var t,n,r,o;return v(this,(function(i){switch(i.label){case 0:if(null==(t=d.default.getCurrentUser()))return[3,2];o=null!==(r=null===(n=f.ZP.getMember(e,t.id))||void 0===n?void 0:n.flags)&&void 0!==r?r:0;return[4,(0,l.e)(e,{flags:(0,p.mB)(o,u.qQ.COMPLETED_ONBOARDING,!1)})];case 1:i.sent();i.label=2;case 2:return[2]}}))},function(){var e=this,n=arguments;return new Promise((function(r,o){
var i=t.apply(e,n);function a(e){b(i,r,o,a,l,"next",e)}function l(e){b(i,r,o,a,l,"throw",e)}a(void 0)}))})();var t}}},836670:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(791462),o=n(173436),i=n(985836),a=n(229620);function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e){u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return u(e)}function c(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e,t){s=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return s(e,t)}var f=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{
Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}var p={},h=!1;var y=[],b=[],v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&s(e,t)}(n,e);var t=d(n);function n(){l(this,n);return t.apply(this,arguments)}var r=n.prototype;r.getOnboardingPromptsForOnboarding=function(e){var t,n;return null!==(n=null===(t=p[e])||void 0===t?void 0:t.onboardingPrompts)&&void 0!==n?n:y};r.getOnboardingPrompts=function(e){var t,n;return null!==(n=null===(t=p[e])||void 0===t?void 0:t.prompts)&&void 0!==n?n:y};r.getEnabledOnboardingPrompts=function(e){var t,n=p[e];if(i.Z.isFullServerPreview(e)){var r
;return null!==(r=null==n?void 0:n.prompts)&&void 0!==r?r:y}return null!=n&&n.enableOnboardingPrompts&&null!==(t=n.prompts)&&void 0!==t?t:y};r.getDefaultChannelIds=function(e){var t,n;return null!==(n=null===(t=p[e])||void 0===t?void 0:t.defaultChannelIds)&&void 0!==n?n:b};r.getEnableOnboardingPrompts=function(e){var t,n;return i.Z.isFullServerPreview(e)?null!=p[e]:null!==(n=null===(t=p[e])||void 0===t?void 0:t.enableOnboardingPrompts)&&void 0!==n&&n};r.getEnableDefaultChannels=function(e){var t,n;return i.Z.isFullServerPreview(e)?null!=p[e]:null!==(n=null===(t=p[e])||void 0===t?void 0:t.enableDefaultChannels)&&void 0!==n&&n};r.getFullyEnabled=function(e){var t,n;return(null===(t=p[e])||void 0===t?void 0:t.enableDefaultChannels)&&(null===(n=p[e])||void 0===n?void 0:n.enableOnboardingPrompts)};r.getOnboardingPrompt=function(e){return Object.values(p).map((function(e){return e.prompts})).flat().find((function(t){return t.id===e}))};r.isLoading=function(){return h}
;r.__getLocalVars=function(){return{onboardingByGuildId:p,loading:h,EMPTY_PROMPTS:y,EMPTY_DEFAULT_CHANNEL_IDS:b}};return n}(r.ZP.Store);v.displayName="GuildOnboardingPromptsStore";const m=new v(o.Z,{CONNECTION_OPEN:function(){h=!1;p={}},GUILD_ONBOARDING_PROMPTS_FETCH_START:function(){h=!0},GUILD_ONBOARDING_PROMPTS_FETCH_SUCCESS:function(e){var t=e.guildId,n=e.prompts,r=e.defaultChannelIds,o=e.enableDefaultChannels,i=e.enableOnboardingPrompts;h=!1;p[t]={prompts:n,onboardingPrompts:n.filter((function(e){return e.inOnboarding})),defaultChannelIds:r.filter((function(e){return(0,a.s)(t,e)})),enableDefaultChannels:o,enableOnboardingPrompts:i}},GUILD_ONBOARDING_PROMPTS_FETCH_FAILURE:function(){h=!1}})},153445:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(791462),o=n(985836),i=n(461061);function a(e){return(0,r.e7)([o.Z],(function(){var t=null!=e?o.Z.getViewingRolesOptions(e.id):null;return null!=t&&(!(!t.isFullServerPreview||!t.onboardingEnabled)||void 0)
}))||(null==e?void 0:e.hasFeature(i.oNc.GUILD_ONBOARDING))}},770431:(e,t,n)=>{"use strict";n.d(t,{Rg:()=>r,j7:()=>o,Ft:()=>i});var r,o,i;!function(e){e.INVITE="member_joined";e.CHANNEL="create_channel";e.AVATAR="avatar";e.MESSAGE="send_message";e.COMPLETED="completed";e.DISMISSED="dismissed"}(r||(r={}));!function(e){e.PERSONALIZE_SERVER="Personalize Server";e.INVITE="Invite Friends";e.CREATE_CHANNEL="Create Channel";e.SEND_MESSAGE="Send Message";e.DOWNLOAD="Download";e.DISMISS_GUILD_PROGRESS="Dismiss Guild Progress";e.DISCORD_OVERVIEW_VIDEO="Discord Overview Video";e.JOIN_GUILD="Join Guild";e.CONTACT_SYNC="Sync Contacts";e.DISMISS="Dismiss"}(o||(o={}));!function(e){e.CHANNEL_WELCOME="Channel Welcome CTA";e.GUILD_PROGRESS="Guild Progress";e.HUB_PROGRESS="Hub Progress"}(i||(i={}))},224244:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var r=n(791462),o=n(173436),i=n(390174);function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e){
l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return l(e)}function u(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e,t){c=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return c(e,t)}var s=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=l(e);if(t){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u(this,n)}}var d,p=null,h=!1,y=!1;var b=function(e){!function(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&c(e,t)}(n,e);var t=f(n);function n(){a(this,n);return t.apply(this,arguments)}var r=n.prototype;r.getRecommendedGuilds=function(){return p};r.getLoadId=function(){return d};r.isFetching=function(){return h};r.failed=function(){return y};r.__getLocalVars=function(){return{recommendations:p,loadId:d,fetching:h,failed:y}};return n}(r.ZP.Store);b.displayName="GuildRecommendationsStore";const v=new b(o.Z,{GUILD_RECOMMENDATION_FETCH:function(){h=!0},GUILD_RECOMMENDATION_FETCH_SUCCESS:function(e){p=e.recommendedGuilds.map(i.PP);d=e.loadId;h=!1},GUILD_RECOMMENDATION_FETCH_FAILURE:function(){y=!0;h=!1}})},349693:(e,t,n)=>{"use strict";n.d(t,{ab:()=>a,JE:()=>l,iG:()=>u,rC:()=>c,lL:()=>s});var r=n(80142),o=n(298716),i=n(959797);function a(e){
return"roles"in e?"emoji-".concat(e.id):"".concat(e.ref_type,"-").concat(e.emoji_id,"-").concat(e.name,"-").concat(e.ref_id)}function l(e){var t=e.interval,n=e.interval_count;return function(e){switch(e){case o.rV.DAY:return i.Z.Messages.DAY;case o.rV.MONTH:return i.Z.Messages.MONTH;case o.rV.YEAR:return i.Z.Messages.YEAR}}(t).format({count:n})}function u(e){var t=e.interval,n=e.interval_count;switch(t){case o.rV.DAY:return n>0&&n%7==0?i.Z.Messages.DURATION_WEEKS_CAPITALIZE.format({weeks:n/7}):i.Z.Messages.DURATION_DAYS_CAPITALIZE.format({days:n});case o.rV.MONTH:return i.Z.Messages.DURATION_MONTHS_CAPITALIZE.format({months:n});case o.rV.YEAR:return i.Z.Messages.DURATION_YEARS_CAPITALIZE.format({years:n})}}function c(e){return e.ref_type===r.Qs.CHANNEL}function s(e){return e.ref_type===r.Qs.INTANGIBLE}},954946:(e,t,n)=>{"use strict";n.d(t,{tT:()=>b,Xf:()=>v,ix:()=>m,_k:()=>g,jO:()=>O,YN:()=>E,GG:()=>j,qi:()=>S,sp:()=>C,r4:()=>P,HQ:()=>I,YB:()=>_,QV:()=>w,Yl:()=>x,JH:()=>N,oC:()=>T})
;var r=n(667294),o=n(791462),i=n(489741),a=n(653191),l=n(394616);function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){c(i,r,o,a,l,"next",e)}function l(e){c(i,r,o,a,l,"throw",e)}a(void 0)}))}}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||p(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||p(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}var h=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},
"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},y=[],b=function(e){
var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.refetchOnMount,l=void 0!==n&&n,u=t.includeSoftDeleted,c=void 0===u||u,s=(0,o.e7)([a.Z],(function(){return null!=e?a.Z.getSubscriptionGroupListingsForGuildFetchState(e):a.M.FETCHED}));r.useEffect((function(){if(null!=e){var t=a.Z.getSubscriptionGroupListingsForGuildFetchState(e);(l||t===a.M.NOT_FETCHED)&&i.FP(e,{includeSoftDeleted:c})}}),[e,c,l]);return{listingsLoaded:s===a.M.FETCHED}},v=function(){var e,t=f(r.useState(!1),2),n=t[0],o=t[1],a=f(r.useState(null),2),l=a[0],u=a[1],c=(e=s((function(e,t){var n;return h(this,(function(r){switch(r.label){case 0:o(!0);u(null);r.label=1;case 1:r.trys.push([1,3,4,5]);return[4,i.uw(e,t)];case 2:return[2,r.sent()];case 3:n=r.sent();u(n);return[3,5];case 4:o(!1);return[7];case 5:return[2]}}))})),function(t,n){return e.apply(this,arguments)});return{loading:n,createSubscriptionGroupListing:c,error:l}},m=function(){
var e,t=f(r.useState(!1),2),n=t[0],o=t[1],a=f(r.useState(null),2),l=a[0],u=a[1],c=r.useCallback((e=s((function(e,t,n){var r;return h(this,(function(a){switch(a.label){case 0:o(!0);u(null);a.label=1;case 1:a.trys.push([1,3,4,5]);return[4,i.AD(e,t,n)];case 2:return[2,a.sent()];case 3:r=a.sent();u(r);return[3,5];case 4:o(!1);return[7];case 5:return[2]}}))})),function(t,n,r){return e.apply(this,arguments)}),[]);return{loading:n,updateSubscriptionGroupListing:c,error:l}},g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{includeSoftDeleted:!1};return(0,o.Wu)([a.Z],(function(){if(null==e)return[];var n=a.Z.getSubscriptionGroupListing(e);if(null==n)return[];var r=[],o=!0,i=!1,l=void 0;try{for(var u,c=n.subscription_listings_ids[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var s=u.value,f=a.Z.getSubscriptionListing(s);null!=f&&(f.soft_deleted&&!t.includeSoftDeleted||r.push(f))}}catch(e){i=!0;l=e}finally{try{o||null==c.return||c.return()}finally{if(i)throw l}}
return r}),[e,t.includeSoftDeleted])},O=function(e){return(0,o.e7)([a.Z],(function(){return null!=e?a.Z.getSubscriptionListing(e):null}))},E=function(e){return(0,o.e7)([a.Z],(function(){return null!=e?a.Z.getSubscriptionGroupListing(e):null}))},j=function(e){return(0,o.e7)([a.Z],(function(){return null!=e?a.Z.getSubscriptionGroupListingsForGuild(e):y}))},S=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{includeSoftDeleted:!1,sortDeletedListingsLast:!1};b(e);return(0,o.Wu)([a.Z],(function(){var n=null!=e?a.Z.getSubscriptionGroupListingsForGuild(e):y,r=[],o=!0,i=!1,l=void 0;try{for(var u,c=n[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var s=u.value,f=!0,p=!1,h=void 0;try{for(var b,v=s.subscription_listings_ids[Symbol.iterator]();!(f=(b=v.next()).done);f=!0){var m=b.value,g=a.Z.getSubscriptionListing(m);null==g||!t.includeSoftDeleted&&g.soft_deleted||r.push(g)}}catch(e){p=!0;h=e}finally{try{f||null==v.return||v.return()}finally{if(p)throw h}}}}catch(e){i=!0
;l=e}finally{try{o||null==c.return||c.return()}finally{if(i)throw l}}return t.includeSoftDeleted&&t.sortDeletedListingsLast?d(r.filter((function(e){return!e.soft_deleted}))).concat(d(r.filter((function(e){return e.soft_deleted})))):r}))},C=function(e){var t=f(r.useState(!1),2),n=t[0],u=t[1],c=r.useMemo((function(){return e.map(l.W)}),[e]),s=(0,o.Wu)([a.Z],(function(){return c.filter((function(e){return!a.Z.getDidFetchListingForSubscriptionPlanId(e)}))}),[c]);r.useEffect((function(){if(!n&&s.length>0){u(!0);Promise.all(s.map((function(e){return i.vY(e)}))).catch((function(){})).then((function(){u(!1)}))}}),[n,s]);return{loading:n}},P=function(){var e,t=f(r.useState(!1),2),n=t[0],o=t[1],a=f(r.useState(null),2),l=a[0],u=a[1],c=(e=s((function(e,t,n){var r;return h(this,(function(a){switch(a.label){case 0:a.trys.push([0,2,3,4]);o(!0);u(null);return[4,i._d(e,t,n)];case 1:a.sent();return[2,!0];case 2:r=a.sent();u(r);return[3,4];case 3:o(!1);return[7];case 4:return[2]}}))})),function(t,n,r){
return e.apply(this,arguments)});return{error:l,submitting:n,deleteSubscriptionListing:c}},I=function(){var e,t=f(r.useState(!1),2),n=t[0],o=t[1],a=f(r.useState(null),2),l=a[0],u=a[1],c=(e=s((function(e){var t,n,r,a;return h(this,(function(l){switch(l.label){case 0:t=e.guildId,n=e.groupListingId,r=e.listingId;l.label=1;case 1:l.trys.push([1,3,4,5]);o(!0);u(null);return[4,i.O0({guildId:t,groupListingId:n,listingId:r,data:{published:!0}})];case 2:l.sent();return[2,!0];case 3:a=l.sent();u(a);return[3,5];case 4:o(!1);return[7];case 5:return[2]}}))})),function(t){return e.apply(this,arguments)});return{error:l,submitting:n,publishSubscriptionListing:c}},_=function(e){return(0,o.e7)([a.Z],(function(){return null!=e?a.Z.getSubscriptionSettings(e):void 0}))},w=function(){var e,t=f(r.useState(!1),2),n=t[0],o=t[1],a=f(r.useState(null),2),l=a[0],u=a[1],c=r.useCallback((e=s((function(e,t){var n;return h(this,(function(r){switch(r.label){case 0:o(!0);u(null);r.label=1;case 1:r.trys.push([1,3,4,5])
;return[4,i.W2(e,t)];case 2:r.sent();return[3,5];case 3:n=r.sent();u(n);return[3,5];case 4:o(!1);return[7];case 5:return[2]}}))})),function(t,n){return e.apply(this,arguments)}),[]);return{loading:n,updateSubscriptionsSettings:c,error:l}},x=function(){var e,t=f(r.useState(!1),2),n=t[0],o=t[1],a=f(r.useState(null),2),l=a[0],u=a[1],c=(e=s((function(e,t){var n;return h(this,(function(r){switch(r.label){case 0:r.trys.push([0,2,3,4]);o(!0);u(null);return[4,i.J6(e,t)];case 1:return[2,r.sent()];case 2:n=r.sent();u(n);return[3,4];case 3:o(!1);return[7];case 4:return[2]}}))})),function(t,n){return e.apply(this,arguments)});return{error:l,submitting:n,deleteSubscriptionGroupListing:c}},N=function(){var e,t=f(r.useState(!1),2),n=t[0],o=t[1],l=f(r.useState(null),2),u=l[0],c=l[1],d=(e=s((function(e){var t;return h(this,(function(n){switch(n.label){case 0:if(null!=a.Z.getSubscriptionSettings(e))return[2];o(!0);c(null);n.label=1;case 1:n.trys.push([1,3,4,5]);return[4,i.Qb(e)];case 2:n.sent()
;return[3,5];case 3:t=n.sent();c(t);return[3,5];case 4:o(!1);return[7];case 5:return[2]}}))})),function(t){return e.apply(this,arguments)});return{loading:n,fetchSubscriptionsSettings:d,error:u}},T=function(e){return(0,o.e7)([a.Z],(function(){return null!=e?a.Z.getSubscriptionTrial(e):null}))}},338698:(e,t,n)=>{"use strict";n.d(t,{I:()=>r,n:()=>u});var r,o=n(185253);function i(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){i(e,t,n[t])}))}return e}function l(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e)
;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}!function(e){e[e.ALL_CHANNELS_ACCESS=0]="ALL_CHANNELS_ACCESS";e[e.SOME_CHANNELS_ACCESS=1]="SOME_CHANNELS_ACCESS"}(r||(r={}));var u=(0,o.Z)((function(e){return{listings:{},setListing:function(t,n){return e((function(e){return{listings:l(a({},e.listings),i({},t,n(e.listings[t])))}}))},editStateIdsForGroup:{},setEditStateIdsForGroup:function(t,n){return e((function(e){return{editStateIdsForGroup:l(a({},e.editStateIdsForGroup),i({},t,n(e.editStateIdsForGroup[t])))}}))}}}))},486180:(e,t,n)=>{"use strict";n.d(t,{GM:()=>re,GP:()=>W,UE:()=>z,Xo:()=>ce,PK:()=>G,B7:()=>se,Lo:()=>te,d9:()=>H,R7:()=>q,_T:()=>k,mR:()=>U,qs:()=>V,Ek:()=>F,p9:()=>B,H9:()=>ne,XZ:()=>J,TT:()=>$,F2:()=>ee})
;var r=n(667294),o=n(441143),i=n.n(o),a=n(496486),l=n(468811),u=n.n(l),c=n(316921),s=n(791462),f=n(11604),d=n(354290),p=n(721777),h=n(935406),y=n(349693),b=n(489741),v=n(954946),m=n(653191),g=n(896042),O=n(486098),E=n(187016),j=n(461061),S={id:"0",name:"",mentionable:!1,position:0,hoist:!1,permissions:j.Plq.SEND_MESSAGES,color:0,colorString:"0",icon:null,unicodeEmoji:null,flags:0},C=n(338698),P=n(298716);function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function w(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){_(i,r,o,a,l,"next",e)}function l(e){_(i,r,o,a,l,"throw",e)}a(void 0)}))}}function x(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function N(e){for(var t=1;t<arguments.length;t++){
var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){x(e,t,n[t])}))}return e}function T(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value)
;if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||R(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z(e){return function(e){if(Array.isArray(e))return I(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||R(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e,t){if(e){if("string"==typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?I(e,t):void 0}}var M=function(e,t){var n,r,o,i,a={
label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{
value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function D(e,t,n){var o=(0,C.n)((function(e){return e.setListing})),i=r.useCallback((function(r){o(e,(function(e){var o,i=null!==(o=null==e?void 0:e[t])&&void 0!==o?o:n,a="function"==typeof r?r(i):r;return Object.assign({},e,x({},t,a))}))}),[o,e,t,n]),a=(0,C.n)((function(n){var r;return null===(r=n.listings[e])||void 0===r?void 0:r[t]}));return[void 0!==a?a:n,i]}function L(e,t){var n=(0,s.e7)([m.Z],(function(){return m.Z.getSubscriptionListing(e)}));return r.useMemo((function(){return t(n)}),[n])}function k(e){var t;return D(e,"name",L(e,(function(e){return null!==(t=null==e?void 0:e.name)&&void 0!==t?t:""})))}function U(e){return D(e,"priceTier",L(e,(function(e){var t;return null===(t=null==e?void 0:e.subscription_plans[0])||void 0===t?void 0:t.price})))}function G(e){var t;return D(e,"description",L(e,(function(e){return null!==(t=null==e?void 0:e.description)&&void 0!==t?t:""})))}function H(e,t){return D(e,"image",L(e,(function(e){
if(null!=e)return(0,h._W)(e.application_id,e.image_asset,t)})))}function B(e,t){var n,o,i=(0,O.Z)(t,e);return D(e,"roleIcon",r.useMemo((function(){return{icon:null!==(n=null==i?void 0:i.icon)&&void 0!==n?n:void 0,unicodeEmoji:null!==(o=null==i?void 0:i.unicodeEmoji)&&void 0!==o?o:void 0}}),[i]))}function V(e,t){var n=(0,O.Z)(t,e),o=(0,C.n)((function(t){var n;return null===(n=t.listings[e])||void 0===n?void 0:n.roleColor})),i=(0,C.n)((function(t){var n;return null===(n=t.listings[e])||void 0===n?void 0:n.roleIcon}));return r.useMemo((function(){var e=N({},null!=n?n:S);if(void 0!==i){var t,r;e.icon=null!==(t=i.icon)&&void 0!==t?t:"";e.unicodeEmoji=null!==(r=i.unicodeEmoji)&&void 0!==r?r:""}if(void 0!==o){e.color=o;e.colorString=(0,c.Rf)(o)}return e}),[n,i,o])}function F(e,t){var n,o=(0,O.Z)(t,e);return D(e,"roleColor",r.useMemo((function(){return null!==(n=null==o?void 0:o.color)&&void 0!==n?n:j.p6O}),[o]))}function W(e,t){var n=(0,O.Z)(t,e)
;return D(e,"channelAccessFormat",r.useMemo((function(){return null==n?C.I.SOME_CHANNELS_ACCESS:(0,g.MT)(n)?C.I.ALL_CHANNELS_ACCESS:C.I.SOME_CHANNELS_ACCESS}),[n]))}var Y=[];function z(e){return D(e,"channelBenefits",L(e,(function(e){return null==e?Y:e.role_benefits.benefits.filter(y.rC)})))}var K=[];function q(e){return D(e,"intangibleBenefits",L(e,(function(e){return null==e?K:e.role_benefits.benefits.filter(y.lL)})))}var X=new Set;function Q(e,t){if(0===e.length)return X;var n=e.filter((function(e){return e.roles.includes(t)}));return new Set(n.map((function(e){return e.id})))}function J(e,t){var n=(0,O.Z)(t,e),o=(0,s.e7)([p.Z],(function(){return p.Z.getGuildEmoji(t)}),[t]);return D(e,"tierEmojiIds",r.useMemo((function(){return null===n?X:Q(o,n.id)}),[o,n]))}function $(e){var t,n=(0,v.oC)(e),r=(0,E.Z)(null!==(t=null==n?void 0:n.active_trial)&&void 0!==t?t:null).selectedOption;return D(e,"trialInterval",null!=r?r:null)}function ee(e){var t,n=(0,v.oC)(e)
;return D(e,"trialLimit",null!==(t=null==n?void 0:n.max_num_active_trial_users)&&void 0!==t?t:null)}function te(e){return(0,C.n)((function(t){var n=!0,r=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var l=i.value;if(void 0!==t.listings[l])return!0}}catch(e){r=!0;o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}return!1}))}function ne(e){var t,n,r,o,i=L(e,(function(e){return null==e?void 0:e.subscription_plans[0]})),a=A(D(e,"priceTier",void 0),1)[0];return[{price:null!==(t=null!=a?a:null==i?void 0:i.price)&&void 0!==t?t:0,currency:null!==(n=null==i?void 0:i.currency)&&void 0!==n?n:j.pKx.USD,interval:null!==(r=null==i?void 0:i.interval)&&void 0!==r?r:P.rV.MONTH,interval_count:null!==(o=null==i?void 0:i.interval_count)&&void 0!==o?o:1}]}function re(e){t="nonexistantEditStateId",n=e,C.n.setState((function(e){return{listings:T(N({},e.listings),x({},n,e.listings[t]))}}));var t,n}function oe(e){return ie.apply(this,arguments)}function ie(){
return(ie=w((function(e){var t,n,r,o,l,u,c,s,h,y,v,g,O,E,j,S,P;return M(this,(function(I){switch(I.label){case 0:t=e.guildId,n=e.editStateId;r=m.Z.getSubscriptionListing(n);i()(null!=r,"listing doesnt exist");o=r.role_id;l=r.id;u=C.n.getState().listings[n];i()(null!=u,"edit state does not exist");c=u.roleColor,s=u.roleIcon,h=u.trialLimit,y=u.trialInterval,v=u.tierEmojiIds;return void 0===c&&void 0===s?[3,2]:[4,d.Z.updateRole(t,o,{color:c,icon:null==s?void 0:s.icon,unicodeEmoji:null==s?void 0:s.unicodeEmoji})];case 1:I.sent();I.label=2;case 2:return void 0===h&&void 0===y?[3,4]:[4,b.I1(t,l,{trial:y,max_num_active_trial_users:h})];case 3:I.sent();I.label=4;case 4:if(void 0===v)return[3,6];g=p.Z.getGuildEmoji(t);O=Q(g,o);E=(0,a.difference)(Z(v),Z(O));j=(0,a.difference)(Z(O),Z(v));S=E.map((function(e){return p.Z.getCustomEmojiById(e)})).map((function(e){if(null!=e)return(0,f.dv)({guildId:t,emojiId:e.id,roles:Z(e.roles).concat([o])})}));P=j.map((function(e){return p.Z.getCustomEmojiById(e)
})).map((function(e){if(null!=e){var n=e.roles.filter((function(e){return e!==o}));return n.length>0?(0,f.dv)({guildId:t,emojiId:e.id,roles:n}):(0,f.RE)(t,e.id)}}));return[4,Promise.all(Z(S).concat(Z(P)))];case 5:I.sent();I.label=6;case 6:return[2]}}))}))).apply(this,arguments)}function ae(e){var t,n=e.guildId,r=e.editStateId,o=e.groupListingId,l=m.Z.getSubscriptionListing(r);i()(null!=l,"listing doesnt exist");var u=r,c=C.n.getState().listings[u];i()(null!=c,"edit state does not exist");var s=c.name,f=c.description,d=c.channelBenefits,p=c.intangibleBenefits,h=c.priceTier,v=c.image,g=c.channelAccessFormat,O={};s!==l.name&&(O.name=s);f!==l.description&&(O.description=f);h!==(null===(t=l.subscription_plans[0])||void 0===t?void 0:t.price)&&(O.priceTier=h);null!=v&&(O.image=v);null!=g&&(O.can_access_all_channels=g===C.I.ALL_CHANNELS_ACCESS);if(null!=d||null!=p){var E=l.role_benefits.benefits.filter(y.rC),j=l.role_benefits.benefits.filter(y.lL),S=Z(null!=d?d:E).concat(Z(null!=p?p:j))
;O.benefits=S}return(0,a.isEmpty)(O)?l:b.O0({guildId:n,groupListingId:o,listingId:u,data:O})}function le(e){return ue.apply(this,arguments)}function ue(){return(ue=w((function(e){var t,n,r,o,a,l,u,c,s,f,d,p,h,y,v,m;return M(this,(function(g){switch(g.label){case 0:t=e.guildId,n=e.editStateId,r=e.groupListingId,o=e.onBeforeDispatchNewListing;a=C.n.getState().listings[n];i()(null!=a,"edit state does not exist");l=a.name,u=a.description,c=a.channelBenefits,s=a.intangibleBenefits,f=a.priceTier,d=a.image,p=a.channelAccessFormat;i()(null!=l,"no name provided");i()(null!=u,"no description provided");i()(null!=f,"no priceTier provided");i()(null!=d,"no image provided");h=p===C.I.ALL_CHANNELS_ACCESS;y=Z(null!=c?c:[]).concat(Z(null!=s?s:[]));return null!=(v=r)?[3,2]:[4,b.uw(t,{})];case 1:m=g.sent();v=m.id;g.label=2;case 2:return[2,b.dA({guildId:t,groupListingId:v,data:{can_access_all_channels:h,image:d,name:l,description:u,benefits:y,priceTier:f},onBeforeDispatchNewListing:o})]}}))
}))).apply(this,arguments)}function ce(){var e,t=A(r.useState(!1),2),n=t[0],o=t[1],a=A(r.useState(),2),l=a[0],u=a[1],c=r.useCallback((e=w((function(e){var t,n,r,a,l,c,s,f,d,p;return M(this,(function(h){switch(h.label){case 0:t=e.guildId,n=e.editStateId,r=e.groupListingId,a=e.onBeforeDispatchNewListing,l=e.onAfterDispatchNewListing;c=n;s=m.Z.getSubscriptionListing(c);f=null!=s;h.label=1;case 1:h.trys.push([1,7,8,9]);o(!0);u(void 0);if(!f)return[3,3];i()(null!=r,"groupListingId is null");return[4,ae({guildId:t,editStateId:c,groupListingId:r})];case 2:h.sent();return[3,5];case 3:return[4,le({guildId:t,editStateId:c,groupListingId:r,onBeforeDispatchNewListing:a})];case 4:d=h.sent();c=d.id;y=n,b=c,C.n.setState((function(e){var t;return{listings:T(N({},e.listings),(t={},x(t,b,e.listings[y]),x(t,y,void 0),t))}}));null==l||l(d);h.label=5;case 5:return[4,oe({guildId:t,editStateId:c})];case 6:h.sent();re(c);return[2,!0];case 7:if(!("getAnyErrorMessage"in(p=h.sent())))throw p;u(p);return[3,9]
;case 8:o(!1);return[7];case 9:return[2]}var y,b}))})),function(t){return e.apply(this,arguments)}),[]);return{loading:n,error:l,handleCreateOrUpdateFromEditState:c}}function se(e,t){var n=(0,v._k)(e),o=(0,C.n)((function(e){return e.editStateIdsForGroup[t]})),i=(0,C.n)((function(e){return e.setEditStateIdsForGroup}));return{editStateIds:r.useMemo((function(){return Z(n.map((function(e){return e.id}))).concat(Z(null!=o?o:[]))}),[o,n]),addNewEditStateId:r.useCallback((function(){i(t,(function(e){return Z(null!=e?e:[]).concat([u().v4()])}))}),[t,i]),removeEditStateId:r.useCallback((function(e){i(t,(function(t){return(null!=t?t:[]).filter((function(t){return t!==e}))}))}),[t,i])}}},394616:(e,t,n)=>{"use strict";n.d(t,{W:()=>i,V:()=>a});var r=n(441143),o=n.n(r);function i(e){var t=e.items;o()(1===t.length,"more than 1 subscription item for role subscription");return t[0].planId}function a(e){var t,n=null==e||null===(t=e.renewalMutations)||void 0===t?void 0:t.items;if(null!=n){
o()(n.length<=1,"more than 1 renewal mutation for role subscription");return null==n?void 0:n[0].planId}}},901378:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var r=n(667294),o=n(791462),i=n(174034),a=n(916957),l=n(720897),u=n(653191),c=n(394616),s=n(461061);function f(e){var t=(0,o.e7)([l.Z],(function(){return l.Z.getSubscriptions()})),n=r.useMemo((function(){if(null==t)return{};var e={},n=!0,r=!1,o=void 0;try{for(var i,a=Object.values(t)[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var l=i.value;if(l.type===s.NYc.GUILD){e[(0,c.W)(l)]=l}}}catch(e){r=!0;o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}return e}),[t]),f=(0,o.cj)([u.Z],(function(){var t,r,o=null,i=null!=e?u.Z.getSubscriptionGroupListing(e):null,a=null!==(r=null==i?void 0:i.subscription_listings_ids)&&void 0!==r?r:[],l=!0,c=!1,s=void 0;try{for(var f,d=a[Symbol.iterator]();!(l=(f=d.next()).done);l=!0){var p=f.value,h=u.Z.getSubscriptionListing(p),y=null==h?void 0:h.subscription_plans[0].id;if(null!=y){
var b=n[y];if(null!=b){o=b;t=h;break}}}}catch(e){c=!0;s=e}finally{try{l||null==d.return||d.return()}finally{if(c)throw s}}return{activeSubscription:o,activeSubscriptionListing:t}})),d=f.activeSubscription,p=f.activeSubscriptionListing,h=null==p?void 0:p.subscription_plans[0],y=null==h?void 0:h.id,b=null==h?void 0:h.sku_id,v=(0,o.e7)([a.Z],(function(){return null!=y?a.Z.get(y):null})),m=null==p?void 0:p.soft_deleted;r.useEffect((function(){null!=v||null==b||a.Z.isFetchingForSKU(b)||(0,i.GZ)(b,void 0,void 0,m)}),[v,b,m]);return{activeSubscription:d,activeSubscriptionListing:p,activeSubscriptionPlanFromStore:v}}},852007:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(791462),o=n(537204),i=n(356004),a=n(940712),l=n(461061),u={needSubscriptionToAccess:!1,isSubscriptionGated:!1};function c(e){return(0,r.cj)([i.Z,o.Z,a.Z],(function(){var t=i.Z.getChannel(e);return null!=t&&o.Z.isChannelGated(t.guild_id,t.id)?{isSubscriptionGated:!0,
needSubscriptionToAccess:t.isGuildVocal()?!a.Z.can(l.Plq.CONNECT,t):!a.Z.can(l.Plq.VIEW_CHANNEL,t)}:u}),[e])}},25305:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(667294),o=n(791462),i=n(721777),a=n(907521),l=[];function u(e){var t=(0,o.e7)([i.Z],(function(){return i.Z.getGuildEmoji(e)}),[e]);return r.useMemo((function(){return null==t?l:t.filter((function(t){return(0,a.Kt)(t,e)}))}),[t,e])}},486098:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(791462),o=n(653772),i=n(954946);function a(e,t){var n=(0,r.e7)([o.Z],(function(){return o.Z.getGuild(e)}),[e]),a=(0,i.jO)(t);return null==n||null==a?null:n.roles[a.role_id]}},209585:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(667294),o=n(791462),i=n(23816),a=n(64833),l=n(655695),u=n(932847),c=n(954946),s=n(653191),f=n(901378),d=n(461061);function p(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function h(e){
var t,n=e.guildId,h=e.groupListingId,y=e.location,b=e.relevantSubscriptionListingIds,v=(0,c.tT)(n,{refetchOnMount:!1}).listingsLoaded,m=null!=(0,f.Z)(h).activeSubscription,g=(0,o.Wu)([s.Z],(function(){return(null!=b?b:[]).filter((function(e){var t;return!0===(null===(t=s.Z.getSubscriptionListing(e))||void 0===t?void 0:t.published)}))}),[b]),O=(0,a.Z)(null!==(t=(0,l.DR)())&&void 0!==t?t:[]).analyticsLocations,E=r.useRef(!1);r.useEffect((function(){if(v&&null!=h&&null!=g&&!E.current){E.current=!0;u.default.track(d.rMx.ROLE_SUBSCRIPTION_LISTING_UPSELL_PAGE_VIEWED,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){p(e,t,n[t])}))}return e}({role_subscription_group_listing_id:h,role_subscription_listing_ids:g,is_premium_member:m,location_stack:O
},(0,i.hH)(n)))}}),[n,h,v,y,g,m,O])}},187016:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(667294),o=n(349693),i=n(80142),a=n(298716),l=n(959797);function u(e){return r.useMemo((function(){var t,n=i.DN.map((function(e){return{value:e,label:e.interval===a.rV.DAY&&7===e.interval_count?l.Z.Messages.GUILD_ROLE_SUBSCRIPTION_SETUP_TIER_TRIAL_TIME_LIMIT_DEFAULT_OPTION.format({defaultLimit:(0,o.iG)(e)}):(0,o.iG)(e)}})),r=null!=e?null===(t=n.find((function(t){return null!=t.value&&t.value.interval===e.interval&&t.value.interval_count===e.interval_count})))||void 0===t?void 0:t.value:e;return{options:n,selectedOption:r}}),[e])}},481097:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(791462),o=n(356004);function i(e){return(0,r.Wu)([o.Z],(function(){return e.filter((function(e){return o.Z.hasChannel(e.ref_id)}))}),[e])}},717833:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(785893),o=(n(667294),n(294184)),i=n.n(o),a=n(152163),l=n(791462),u=n(721777);const c=function(e,t){return(0,
l.e7)([u.Z],(function(){if(null==t)return null;var n,r=u.Z.getDisambiguatedEmojiContext(e);return null!==(n=r.getById(t))&&void 0!==n?n:r.getByName(t)}),[e,t])};var s=n(393109),f=n(192949),d=n.n(f);function p(e){var t,n=e.guildId,o=e.emojiId,l=e.emojiName,u=e.className,f=c(n,o);return null!=f||null!=l?(0,r.jsx)(a.Z,{emojiId:null==f?void 0:f.id,emojiName:null!=l?l:null==f?void 0:f.name,animated:null!==(t=null==f?void 0:f.animated)&&void 0!==t&&t,className:i()(d().emojiIcon,u)}):(0,r.jsx)(s.Z,{className:i()(d().emojiIcon,u),useGradient:!0})}},664355:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});var r=n(785893),o=(n(667294),n(791462)),i=n(747465),a=n(175045),l=n(394803),u=n(356004),c=n(90816),s=n(80142),f=n(959797),d=n(536768),p=n.n(d);function h(e){var t=e.channelId,n=(0,o.e7)([u.Z],(function(){return u.Z.getChannel(t)}));if(null==n)return(0,r.jsx)(r.Fragment,{children:"[".concat(f.Z.Messages.GUILD_ROLE_SUBSCRIPTION_SETUP_TIER_DELETED_CHANNEL_LABEL,"]")});var c=(0,l.Th)(n.type);return(0,
r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.Z,{children:(0,a.Z)({channel:n})}),(0,r.jsxs)("div",{"aria-hidden":!0,children:[null!=c&&(0,r.jsx)(c,{className:p().icon,"aria-hidden":!0}),n.name]})]})}function y(e){switch(e.ref_type){case s.Qs.CHANNEL:return(0,r.jsx)(h,{channelId:e.ref_id});case s.Qs.INTANGIBLE:return e.name;default:(0,c.vE)(e)}}},334639:(e,t,n)=>{"use strict";n.d(t,{Z:()=>E});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),l=n(791462),u=n(508528),c=n(819525),s=n(790948),f=n(565469),d=n(859023),p=n(570992),h=n(170729),y=n(461061),b=n(959797),v=n(628096),m=n.n(v);function g(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function O(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){
return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function E(e){var t,n=e.guildId,i=e.role,v=e.theme,E=e.content,j=void 0===E?b.Z.Messages.GUILD_ROLE_SUBSCRIPTION_SETUP_FLAIR_PREVIEW_MESSAGE_TEXT:E,S=e.className,C=(0,l.e7)([d.default],(function(){return d.default.getCurrentUser()})),P=p.Z.useName(n,null,C),I=(0,u.Kz)(i),_=o.useMemo((function(){return(0,c.e5)(O(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){g(e,t,n[t])}))}return e}({},(0,s.ZP)({channelId:"0",content:j,tts:void 0,type:void 0,messageReference:void 0,allowedMentions:void 0,author:C})),{state:y.yb.SENT,id:"0"}))}),[C,j]),w={nick:P,
colorString:null!==(t=i.colorString)&&void 0!==t?t:void 0};return(0,r.jsx)("div",{className:a()((0,h.Q)(v),m().container,S),children:(0,r.jsx)(f.Z,{hideTimestamp:!0,author:w,roleIcon:I,message:_,isGroupStart:!0,disableInteraction:!0})})}},787470:(e,t,n)=>{"use strict";n.d(t,{Z:()=>O});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),l=n(606076),u=n(318937),c=n(685351),s=n(997030),f=n(959797),d=n(242924),p=n.n(d);function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()
}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e){var t=e.text,n=e.hasScrolled;return(0,r.jsxs)("div",{className:a()(p().container,y({},p().containerHide,n)),children:[(0,r.jsx)("div",{className:p().notice,children:(0,r.jsx)(c.x,{className:p().label,variant:"text-md/medium",color:"header-primary",children:t})}),(0,r.jsx)("div",{className:p().noticeArrow})]})}var m=n(313973),g=n.n(m);function O(e){var t=e.guildId,n=e.children,i=e.className,c=function(e){
var t=b(o.useState(),2),n=t[0],i=t[1],a=b(o.useState(),2),l=a[0],u=a[1],c=b(o.useState(!1),2),d=c[0],p=c[1],h=b(o.useState(!1),2),y=h[0],m=h[1],g=(0,s.s1)(e).enabled;o.useEffect((function(){p(!(!g||null==n||null==l)&&n<l)}),[g,n,l]);return{horizontalScrollNotice:o.useMemo((function(){return d?(0,r.jsx)(v,{text:f.Z.Messages.GUILD_ROLE_SUBSCRIPTION_LISTINGS_SCROLLABLE_NOTICE,hasScrolled:y}):null}),[d,y]),handleScroll:function(){return m(!0)},handleSetScrollerRef:function(e){var t;return u(null===(t=null==e?void 0:e.getScrollerState())||void 0===t?void 0:t.scrollWidth)},handleSetContainerRef:function(e){return i(null==e?void 0:e.clientWidth)}}}(t),d=c.horizontalScrollNotice,p=c.handleScroll,h=c.handleSetScrollerRef,y=c.handleSetContainerRef,m=(0,r.jsx)("div",{className:g().tierPreviewsContainer,children:(0,r.jsx)("div",{className:a()(g().tierPreviews,i),children:n})});l.tq||(m=(0,r.jsxs)(r.Fragment,{children:[d,(0,r.jsx)(u.ZP,{className:g().scroller,orientation:"horizontal",ref:h,
onScroll:p,children:m})]}));return(0,r.jsx)("div",{className:g().carouselMaxWidth,ref:y,children:m})}},989928:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(785893),o=(n(667294),n(240243));function i(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function a(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){
var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function u(e){var t=e.width,n=void 0===t?24:t,u=e.height,c=void 0===u?24:u,s=l(e,["width","height"]);return(0,r.jsxs)("svg",a(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){i(e,t,n[t])}))}return e}({},(0,o.Z)(s)),{width:n,height:c,viewBox:"0 0 24 24",children:[(0,r.jsx)("path",{
d:"M17.225 6.06504C17.3227 6.00866 17.4362 5.98608 17.548 6.00084C17.6598 6.0156 17.7637 6.06686 17.8434 6.14665C17.9232 6.22645 17.9744 6.33037 17.9892 6.44225C18.0039 6.55413 17.9813 6.66772 17.925 6.76548L15.65 10.2551L21.9875 11.581C21.9875 11.7185 21.9875 11.8562 21.9875 11.9937C21.9875 12.1313 21.9875 12.2689 21.9875 12.4065L15.65 13.7323L17.925 17.222C17.9939 17.3117 18.0313 17.4216 18.0313 17.5347C18.0313 17.6478 17.9939 17.7577 17.925 17.8474C17.8281 17.9424 17.6982 17.9962 17.5625 17.9975C17.466 17.996 17.3714 17.9702 17.2875 17.9224L13.8125 15.646L12.4125 22H11.5875L10.2625 15.6585L6.77501 17.935C6.69176 17.9843 6.59672 18.0102 6.49997 18.01C6.43455 18.0098 6.3699 17.9963 6.30977 17.9705C6.24964 17.9447 6.1953 17.9072 6.15001 17.8599C6.06977 17.7789 6.01879 17.6734 6.0052 17.5601C5.99162 17.4468 6.01621 17.3323 6.07501 17.2345L8.36253 13.7449L2 12.4065C2 12.2689 2 12.1313 2 11.9937C2 11.8562 2 11.7185 2 11.581L8.35002 10.2551L6.0625 6.76548C6.0037 6.66774 5.97918 6.55315 5.99277 6.43988C6.00635 6.32661 6.05726 6.22113 6.1375 6.14009C6.21731 6.05781 6.32295 6.00542 6.43672 5.99176C6.5505 5.97809 6.6655 6.00399 6.7625 6.06504L10.25 8.34148L11.575 2H12.4L13.7375 8.34148L17.225 6.06504Z",
fill:"white"}),(0,r.jsx)("path",{
d:"M22 12.4065C21.8956 14.9141 20.8533 17.2908 19.0798 19.0654C17.3062 20.8401 14.931 21.883 12.425 21.9875L13.7625 15.646L17.2375 17.9224C17.3214 17.9702 17.416 17.996 17.5125 17.9975C17.6481 17.9962 17.7781 17.9424 17.875 17.8474C17.9439 17.7577 17.9813 17.6478 17.9813 17.5347C17.9813 17.4216 17.9439 17.3117 17.875 17.222L15.6 13.7323L22 12.4065ZM13.7625 8.34148L17.2375 6.06504C17.3352 6.00866 17.4487 5.98608 17.5605 6.00084C17.6723 6.0156 17.7762 6.06686 17.8559 6.14665C17.9357 6.22645 17.9869 6.33037 18.0017 6.44225C18.0164 6.55413 17.9938 6.66772 17.9375 6.76548L15.6625 10.2551L22 11.581C21.8956 9.07342 20.8533 6.69669 19.0798 4.92206C17.3062 3.14742 14.931 2.10449 12.425 2L13.7625 8.34148ZM10.275 8.34148L11.6 2C9.09402 2.10449 6.71878 3.14742 4.94525 4.92206C3.17172 6.69669 2.12945 9.07342 2.02502 11.581L8.37497 10.2551L6.08752 6.76548C6.02873 6.66774 6.00413 6.55315 6.01772 6.43988C6.0313 6.32661 6.08228 6.22113 6.16252 6.14009C6.24233 6.05781 6.34797 6.00542 6.46175 5.99176C6.57552 5.97809 6.69052 6.00399 6.78752 6.06504L10.275 8.34148ZM6.16252 17.8474C6.08228 17.7663 6.0313 17.6609 6.01772 17.5476C6.00413 17.4343 6.02873 17.3197 6.08752 17.222L8.37497 13.7323L2 12.4065C2.10442 14.9141 3.1467 17.2908 4.92023 19.0654C6.69376 20.8401 9.06899 21.883 11.575 21.9875L10.25 15.646L6.7625 17.9224C6.67925 17.9718 6.58428 17.9977 6.48753 17.9975C6.35971 17.9937 6.23848 17.9398 6.15001 17.8474H6.16252Z",
fill:"url(#paint0_linear_3793:27920)"}),(0,r.jsx)("defs",{children:(0,r.jsxs)("linearGradient",{id:"paint0_linear_3793:27920",x1:"2",y1:"21.9875",x2:"21.9875",y2:"1.98749",gradientUnits:"userSpaceOnUse",children:[(0,r.jsx)("stop",{stopColor:"#11A574"}),(0,r.jsx)("stop",{offset:"1",stopColor:"#169DD8"})]})})]}))}},331454:(e,t,n)=>{"use strict";n.d(t,{c:()=>vt,Z:()=>gt});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),l=n(791462),u=n(971906),c=n(985836),s=n(378564),f=n(191940),d=n(48843),p=n(94813),h=n(276842),y=n(685351),b=n(757987),v=n(272729),m=n(221713),g=n(21979),O=n(436035),E=n(917870),j=n(349693),S=n(997030),C=n(954946),P=n(486180),I=n(901378);var _=n(25305),w=n(486098),x=n(481097),N=n(886555),T=n(334639),A=n(629590),Z=n(717833),R=n(664355),M=n(175045),D=n(836303),L=n(655695),k=n(356004),U=n(882687),G=n(852007),H=n(461061);function B(e,t){var n=(0,l.e7)([k.Z],(function(){return k.Z.getChannel(t)})),r=(0,G.Z)(null==n?void 0:n.id).needSubscriptionToAccess;if(null==n||r)return null
;var o=n.isGuildVocal();return{navigateToChannel:function(){o?D.Z.handleVoiceConnect({channel:n,connected:U.Z.isInChannel(n.id),needSubscriptionToAccess:!1,routeDirectlyToChannel:!0}):(0,L.uL)(H.Z5c.CHANNEL(e,n.id))},ariaLabel:(0,M.Z)({channel:n})}}var V=n(768084),F=n.n(V);function W(e){var t=e.benefit,n=e.guildId,o=B(n,t.ref_id),i=(0,r.jsx)(Z.Z,{guildId:n,emojiId:t.emoji_id,emojiName:t.emoji_name}),l=null!=o?(0,r.jsx)(A.Z,{className:F().channelLink,onClick:o.navigateToChannel,"aria-label":o.ariaLabel,role:"link",children:(0,r.jsx)(y.x,{variant:"text-md/medium",color:"header-primary",className:a()(F().name,F().linkedName),children:(0,R.Z)(t)})}):(0,r.jsx)(y.x,{variant:"text-md/medium",color:"header-primary",className:F().name,children:(0,R.Z)(t)});return(0,r.jsxs)("div",{className:F().container,children:[(0,r.jsxs)("div",{className:F().infoContainer,children:[l,(0,r.jsx)(y.x,{color:"interactive-normal",variant:"text-sm/normal",children:t.description})]}),(0,r.jsx)("div",{
className:F().emojiContainer,children:i})]})}var Y=n(832010),z=n(226300),K=n(56435),q=n(829207),X=n(80142),Q=n(371116),J=n.n(Q),$=(0,q.Mg)(J().tierImageSize),ee=(0,q.Mg)(J().tierImageSizeMobile);function te(){return(0,u.Z)(X.iP)?ee:$}var ne=n(959797);function re(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function oe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return re(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return re(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ie=function(e){var t=e.listingName;return(0,r.jsx)(d.X,{variant:"text-md/normal",color:"interactive-active",className:J().tierName,children:t})};function ae(e){var t=e.image;return null==t?null:(0,r.jsx)("img",{src:t,alt:"",className:J().tierImage})}var le=function(){return(0,r.jsx)(z.IG,{color:(0,Y.Lq)(H.Ilk.STATUS_YELLOW_500),text:ne.Z.Messages.GUILD_ROLE_SUBSCRIPTION_TIER_MANAGEMENT_DRAFT_LABEL,className:J().draftBadge})},ue=function(e){var t=e.listingId,n=e.isListingPublished,o=te(),i=oe(P._T(t),1)[0],a=oe(P.d9(t,o),1)[0],l=oe(P.H9(t),1)[0];return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(ie,{listingName:i}),(0,r.jsx)(ae,{image:a}),!n&&(0,r.jsx)("div",{className:J().draftBadgeContainer,children:(0,r.jsx)(le,{})
}),(0,r.jsx)(y.x,{variant:"heading-xl/medium",className:J().tierPrice,tag:"div",children:(0,K.T4)(l.price,l.currency)}),(0,r.jsx)(y.x,{variant:"text-xs/normal",color:"interactive-normal",className:J().tierPeriod,children:ne.Z.Messages.GUILD_ROLE_SUBSCRIPTION_AMOUNT_PER_PERIOD.format({period:(0,j.JE)({interval:l.interval,interval_count:l.interval_count})})})]})},ce=n(88957),se=n.n(ce);function fe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function de(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return fe(e,t)
;var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var pe=function(e){var t=e.listingId,n=e.isListingPublished,o=e.expanded,i=e.onToggleExpanded,a=te(),l=de(P._T(t),1)[0],u=de(P.d9(t,a),1)[0],c=de(P.H9(t),1)[0];return(0,r.jsxs)("div",{className:se().container,children:[(0,r.jsx)(ae,{image:u}),(0,r.jsxs)("div",{className:se().tierTextInfoContainer,children:[(0,r.jsx)(ie,{listingName:l}),(0,r.jsxs)("div",{className:se().tierPriceContainer,children:[!n&&(0,r.jsx)(le,{}),(0,r.jsxs)(y.x,{variant:"text-xs/normal",className:se().tierPrice,children:[(0,
K.T4)(c.price,c.currency)," ",ne.Z.Messages.GUILD_ROLE_SUBSCRIPTION_AMOUNT_PER_PERIOD.format({period:(0,j.JE)({interval:c.interval,interval_count:c.interval_count})})]})]})]}),(0,r.jsx)(A.Z,{onClick:i,children:o?(0,r.jsx)(g.Z,{className:se().toggleButton}):(0,r.jsx)(m.Z,{className:se().toggleButton})})]})},he=n(441143),ye=n.n(he),be=n(730381),ve=n.n(be),me=n(173436),ge=n(174034),Oe=n(64833),Ee=n(570239),je=n(748737),Se=n(345209),Ce=n(176822),Pe=n(630695),Ie=n(639584),_e=n(916957),we=n(95467),xe=n(394616),Ne=n(114842);function Te(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ae(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function Ze(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){
i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Te(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Te(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Re=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,
r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},Me=function(){var e,t,n=Ze(o.useState(!1),2),r=n[0],i=n[1],a=Ze(o.useState(null),2),l=a[0],u=a[1],c=o.useCallback((t=(e=function(e,t,n){var r;return Re(this,(function(o){switch(o.label){case 0:i(!0);u(null);o.label=1;case 1:o.trys.push([1,3,4,5]);return[4,(0,Ne.LB)(e,t,n)];case 2:
return[2,o.sent()];case 3:r=o.sent();u(r);return[3,5];case 4:i(!1);return[7];case 5:return[2]}}))},function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Ae(i,r,o,a,l,"next",e)}function l(e){Ae(i,r,o,a,l,"throw",e)}a(void 0)}))}),function(e,n,r){return t.apply(this,arguments)}),[]);return{loading:r,error:l,getTrialPurchaseEligibility:c}},De=n(744),Le=n(653772);var ke=["a","b","c","d"],Ue=function(e){return e};function Ge(e,t){for(var n=function(n){r[ke[n]]=function(r,o){return t(e[n],o)}},r={},o=Math.min(e.length,ke.length),i=0;i<o;++i)n(i);return r}var He=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);this.items=t}var t=e.prototype;t.asString=function(){return this.transformed(Ue)};t.isEmpty=function(){return 0===this.items.length};t.transformed=function(e){switch(this.items.length){case 0:return"";case 1:return e(this.items[0],"");case 2:
return ne.Z.Messages.GENERIC_FORMATTED_LIST_TWO.format(Ge(this.items,e));case 3:return ne.Z.Messages.GENERIC_FORMATTED_LIST_THREE.format(Ge(this.items,e));default:return ne.Z.Messages.GENERIC_FORMATTED_LIST_FOUR.format(Ge(this.items,e))}};return e}();var Be=n(200655),Ve=n.n(Be),Fe=function(e){var t=e.onClose,n=e.listing,i=e.guildId,a=(0,l.e7)([Le.Z],(function(){return Le.Z.getGuild(i)}),[i]),u=function(e){var t=e.includeFlairAsBenefit,n=e.listing,r=e.guildId,i=0,a=0,l=!0,u=!1,c=void 0;try{for(var s,f=n.role_benefits.benefits[Symbol.iterator]();!(l=(s=f.next()).done);l=!0){var d=s.value;(0,j.rC)(d)?i+=1:(0,j.lL)(d)&&(a+=1)}}catch(e){u=!0;c=e}finally{try{l||null==f.return||f.return()}finally{if(u)throw c}}var p=n.role_id,h=(0,_.Z)(r).filter((function(e){return e.roles.includes(p)})).length;return o.useMemo((function(){var e=[];!0===t&&e.push(ne.Z.Messages.GUILD_ROLE_SUBSCRIPTION_BENEFIT_VISUAL_FLAIR)
;0!==i&&e.push(ne.Z.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_MODAL_CONFIRMATION_LITE_EXCLUSIVE_CHANNELS_SUBTITLE.format({channelCount:i}));0!==a&&e.push(ne.Z.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_MODAL_CONFIRMATION_LITE_BENEFITS_SUBTITLE.format({benefitCount:a}));0!==h&&e.push(ne.Z.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_MODAL_CONFIRMATION_LITE_EMOJI_SUBTITLE.format({emojiCount:h}));return new He(e)}),[i,a,h,t])}({listing:n,guildId:i});return(0,r.jsxs)("div",{className:Ve().confirmationContainer,children:[(0,r.jsx)(d.X,{className:Ve().confirmationHeader,variant:"heading-lg/bold",children:ne.Z.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_MODAL_CONFIRMATION_LITE_TITLE.format({serverName:null==a?void 0:a.toString(),tierName:n.name})}),!u.isEmpty()&&(0,r.jsx)(y.x,{className:Ve().confirmationSubtitle,variant:"text-sm/normal",color:"header-secondary",children:ne.Z.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_MODAL_CONFIRMATION_LITE_SUBTITLE.format({benefits:u.asString()})}),(0,r.jsx)(f.Co,{
className:Ve().openDiscordButton,onClick:function(){return(0,De.Z)("role_sub_mweb_success_modal")},children:ne.Z.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_MODAL_CONFIRMATION_LITE_OPEN_DISCORD_BUTTON}),(0,r.jsx)(f.Co,{className:Ve().doneButton,look:f.Co.Looks.BLANK,onClick:function(){return t(!0)},children:ne.Z.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_MODAL_CONFIRMATION_LITE_DONE_BUTTON})]})},We=n(152163),Ye=n(390599),ze=n(719455),Ke=n(935406),qe=n(414597),Xe=n(840743),Qe=n.n(Xe);function Je(e){var t=e.benefit,n=e.guildId,o=e.onClick,i=B(n,t.ref_id),a=(0,r.jsx)(Z.Z,{guildId:n,emojiId:t.emoji_id,emojiName:t.emoji_name});return(0,r.jsxs)(A.Z,{className:Qe().container,onClick:function(){null==i||i.navigateToChannel();o()},"aria-label":null==i?void 0:i.ariaLabel,role:"link",children:[(0,r.jsx)("div",{className:Qe().emojiContainer,children:a}),(0,r.jsxs)("div",{className:Qe().infoContainer,children:[(0,r.jsx)(y.x,{variant:"text-md/medium",color:"header-primary",className:Qe().name,
children:(0,R.Z)(t)}),(0,r.jsx)(y.x,{color:"interactive-normal",variant:"text-sm/normal",children:t.description})]}),(0,r.jsx)(qe.Z,{direction:qe.Z.Directions.RIGHT,className:Qe().caret})]})}var $e=n(557647),et=n.n($e);function tt(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var nt=function(e){var t=e.onClose,n=e.listing,o=e.step,i=e.guildId,l=(0,C.YB)(i),c=(0,u.Z)(X.Xy);return(0,r.jsxs)("div",{className:a()(et().headerContainer,tt({},et().headerEmpty,c)),children:[function(){var e;if(c)return null;var t=null!=(null==l||null===(e=l.cover_image_asset)||void 0===e?void 0:e.application_id)?(0,Ke._W)(l.cover_image_asset.application_id,l.cover_image_asset,440):void 0;return(0,r.jsx)("img",{src:t,alt:"",className:et().headerImage})}(),function(){if(o!==Ye.h8.CONFIRM)return null;var e=(0,Ke._W)(n.application_id,n.image_asset,80);return(0,r.jsx)("div",{className:et().tierImageContainer,children:(0,r.jsx)("img",{src:e,alt:"",
className:et().tierImage})})}(),(0,r.jsx)(A.Z,{className:et().closeContainer,onClick:function(){return t(!1)},"aria-label":ne.Z.Messages.CLOSE,children:(0,r.jsx)(ze.Z,{className:et().closeIcon})})]})},rt=function(e){var t=e.onClose,n=e.listing,o=e.guildId,i=(0,l.e7)([Le.Z],(function(){return Le.Z.getGuild(o)}),[o]),a=(0,_.Z)(o).filter((function(e){return e.roles.includes(n.role_id)})),u=n.role_benefits.benefits.filter(j.rC).slice(0,null===a.length?4:3),c=(0,x.Z)(u).slice(0,null===a.length?4:3);return(0,r.jsxs)("div",{className:et().confirmationContainer,children:[(0,r.jsx)(d.X,{className:et().confirmationHeader,variant:"heading-xl/medium",color:"header-secondary",children:ne.Z.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_MODAL_CONFIRMATION_TITLE.format({serverName:null==i?void 0:i.toString()})}),(0,r.jsx)(y.x,{className:et().confirmationSubtitle,variant:"text-md/normal",color:"header-secondary",children:ne.Z.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_MODAL_CONFIRMATION_SUBTITLE.format({
tier:n.name})}),c.length>0&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(y.x,{variant:"text-xs/normal",color:"header-secondary",className:et().confirmationSectionLabel,children:ne.Z.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_MODAL_CONFIRMATION_CHANNEL_PREVIEW}),(0,r.jsx)("div",{className:et().confirmationBenefits,children:c.map((function(e){return(0,r.jsx)(Je,{benefit:e,guildId:o,onClick:function(){return t(!0)}},(0,j.ab)(e))}))})]}),function(){if(0===a.length)return null;var e,t=a[0];return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(y.x,{variant:"text-xs/medium",color:"header-secondary",className:et().confirmationSectionLabel,children:ne.Z.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_MODAL_CONFIRMATION_PREMIUM_EMOJI_PREVIEW_TITLE}),(0,r.jsxs)("div",{className:et().emojiBenefitsRow,children:[(0,r.jsx)(We.Z,{emojiId:t.id,emojiName:t.name,animated:null!==(e=t.animated)&&void 0!==e&&e,className:et().emojiImage}),(0,r.jsxs)("div",{children:[(0,r.jsx)(y.x,{variant:"text-md/medium",
color:"header-primary",className:et().emojiName,children:ne.Z.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_MODAL_CONFIRMATION_PREMIUM_EMOJI_BENEFIT_TEXT}),(0,r.jsx)(y.x,{color:"interactive-normal",variant:"text-sm/normal",children:ne.Z.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_MODAL_CONFIRMATION_PREMIUM_EMOJI_BENEFIT_DESCRIPTION.format({count:a.length})})]})]})]})}(),(0,r.jsx)(f.Co,{className:et().confirmationButton,onClick:function(){return t(!0)},children:ne.Z.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_MODAL_CONFIRMATION_DONE_BUTTON})]})};function ot(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function it(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){ot(i,r,o,a,l,"next",e)}function l(e){ot(i,r,o,a,l,"throw",e)}a(void 0)}))}}var at=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),
return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};const lt=function(e,t,n,i){var a,c=(0,l.e7)([Pe.Z],(function(){
return Pe.Z.isLurking(t)})),s=(0,Se.J)(t),f=(0,l.e7)([je.Z],(function(){return null!=t?je.Z.getRequest(t):null})),d=(null==f?void 0:f.applicationStatus)===Ee.wB.SUBMITTED,p=null==e?void 0:e.subscription_plans[0],h=null==p?void 0:p.id,y=!0===(null==e?void 0:e.published),b=null==p?void 0:p.sku_id,v=(0,l.e7)([_e.Z],(function(){return null!=h?_e.Z.get(h):null})),m=(0,I.Z)(n),g=m.activeSubscription,O=m.activeSubscriptionPlanFromStore,E=null==g||null!=O,P=(0,C._k)(n,{includeSoftDeleted:!0}).map((function(e){return e.subscription_plans[0].id})),_=(0,xe.V)(g),w=null!=_,x=null!=(null==g?void 0:g.trialId),N=Me(),T=N.loading,A=N.getTrialPurchaseEligibility,Z=(0,S.oM)(t),R=(0,C.oC)(null==e?void 0:e.id),M=(0,Oe.Z)().analyticsLocations,D=!c&&null!=v&&E&&!d&&!w&&!x;d||c&&!s?a=ne.Z.Messages.GUILD_ROLE_SUBSCRIPTIONS_REQUIRE_APPROVED_MEMBER:_===h?a=ne.Z.Messages.GUILD_ROLE_SUBSCRIPTION_HAS_PENDING_MUTATION_TO_CURRENT_LISTING.format({changeDate:null!=g?ve()(g.currentPeriodEnd).format("MMM DD, YYYY"):""
}):w?a=ne.Z.Messages.GUILD_ROLE_SUBSCRIPTION_HAS_PENDING_MUTATION:x&&(a=ne.Z.Messages.GUILD_ROLE_SUBSCRIPTION_CHANGE_TIER_DISABLED_IN_TRIAL);var L=(0,u.Z)(X.iP);o.useEffect((function(){y&&null!=b&&me.Z.wait((function(){(0,ge.GZ)(b)}))}),[y,b]);var k=o.useCallback(it((function(){var n,o,a,l;return at(this,(function(u){switch(u.label){case 0:ye()(null!=e,"No subscription listing");ye()(null!=p,"No subscription plan");ye()(y,"Cannot purchase this unpublished plan");return null!=(null==R?void 0:R.active_trial)&&Z?[4,A(t,e.id,R.active_trial.id)]:[3,2];case 1:!0===(null==(a=u.sent())?void 0:a.is_eligible)?n=null==R||null===(l=R.active_trial)||void 0===l?void 0:l.id:o=ne.Z.Messages.GUILD_ROLE_SUBSCRIPTION_INELIGIBLE_TRIAL_DISCLAIMER;u.label=2;case 2:(0,Ie.Z)({activeSubscription:g,analyticsSubscriptionType:H.NYc.GUILD,trialId:n,trialFooterMessageOverride:null!=(null==R?void 0:R.active_trial)?ne.Z.Messages.GUILD_ROLE_SUBSCRIPTION_TRIAL_RENEWAL_FOOTER.format({trialInterval:(0,
j.iG)(R.active_trial),days:1,contactLink:H.EYA.CONTACT,helpdeskArticle:we.Z.getArticleURL(H.BhN.ROLE_SUBSCRIPTION_TRIAL)}):void 0,analyticsLocations:M,analyticsLocation:i,renderHeader:function(n,o,i){return(0,r.jsx)(nt,{onClose:o,listing:e,step:i,guildId:t})},initialPlanId:p.id,skuId:p.sku_id,planGroup:P,renderPurchaseConfirmation:function(n,o){return L?(0,r.jsx)(Fe,{listing:e,onClose:o,guildId:t}):(0,r.jsx)(rt,{listing:e,onClose:o,guildId:t})},reviewWarningMessage:o});return[2]}}))})),[y,e,p,g,P,t,M,i,A,Z,R,L]),U=o.useCallback((function(){(0,Ce.Z)(t)}),[t]);return{openModal:s?U:k,canOpenModal:D,cannotOpenReason:a,isCheckingTrialEligibility:T}};var ut=n(793397),ct=n.n(ut);function st(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ft(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function dt(e){for(var t=1;t<arguments.length;t++){
var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){ft(e,t,n[t])}))}return e}function pt(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function ht(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){
i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return st(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return st(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var yt=function(e){var t=e.benefits,n=e.header,i=e.guildId,a=ht(o.useState(!1),2),l=a[0],u=a[1],c=l?t:t.slice(0,5),s=t.length>5,f=t.length-5,p=ne.Z.Messages.GUILD_ROLE_SUBSCRIPTION_TIER_SHOW_MORE_DESCRIPTION_WITH_ITEMS.format({numTruncated:f}),y=(0,v.Dt)();return 0===t.length?null:(0,r.jsxs)("div",{className:ct().benefitsSection,children:[(0,r.jsx)(d.X,{
variant:"text-xs/bold",color:"header-secondary",className:ct().sectionHeader,id:y,children:n}),(0,r.jsx)(h.Z,{size:12}),(0,r.jsx)("ul",{className:ct().benefitsList,"aria-labelledby":y,children:c.map((function(e){return(0,r.jsx)("li",{children:(0,r.jsx)(W,{guildId:i,benefit:e},(0,j.ab)(e))})}))}),s&&(0,r.jsx)(mt,{isViewAll:l,onToggle:function(){return u((function(e){return!e}))},showMoreText:p})]})},bt=function(e){var t=e.guildId,n=e.listingId,o=function(e){return E.ZP.getEmojiURL({id:e.id,animated:e.animated,size:24})},i=(0,_.Z)(t),a=ht(P.XZ(n,t),1)[0],l=i.filter((function(e){return a.has(e.id)}));return 0===l.length?null:(0,r.jsxs)("div",{className:ct().benefitsSection,children:[(0,r.jsx)(d.X,{variant:"text-xs/bold",color:"header-secondary",className:ct().sectionHeader,children:ne.Z.Messages.GUILD_ROLE_SUBSCRIPTION_TIER_EMOJI_SECTION_TITLE.format({count:l.length})}),(0,r.jsx)(h.Z,{size:12}),(0,r.jsx)("div",{className:ct().emojiList,children:l.map((function(e){return(0,r.jsx)(b.ZP,{
text:e.name,"aria-label":!1,children:function(t){return(0,r.jsx)("img",pt(dt({},t),{src:o(e),width:24,height:24,alt:e.name}))}})}))})]})},vt=function(e){var t=e.listingId,n=e.guildId,o=e.className,i=(0,w.Z)(n,t),l=ht(P.UE(t),1)[0],u=(0,x.Z)(l),c=ht(P.R7(t),1)[0],s=P.qs(t,n);return(0,r.jsxs)("div",{className:a()(ct().subscriptionPerks,o),children:[null!=i&&(0,r.jsxs)(p.y,{component:(0,r.jsx)(d.X,{variant:"text-xs/bold",color:"header-secondary",className:ct().sectionHeader,children:ne.Z.Messages.GUILD_ROLE_SUBSCRIPTION_TIER_REVIEW_MEMBER_PREVIEW}),children:[(0,r.jsx)(h.Z,{size:8}),(0,r.jsx)(T.Z,{role:s,guildId:n,className:ct().roleMessagePreview})]}),(0,r.jsx)(yt,{header:ne.Z.Messages.GUILD_ROLE_SUBSCRIPTION_TIER_EXCLUSIVE_CHANNELS_SECTION_TITLE,benefits:u,guildId:n}),(0,r.jsx)(yt,{header:ne.Z.Messages.GUILD_ROLE_SUBSCRIPTION_TIER_ADDITIONAL_BENEFITS_SECTION_TITLE,benefits:c,guildId:n}),(0,r.jsx)(bt,{guildId:n,listingId:t})]})},mt=function(e){
var t,n=e.onToggle,o=e.isViewAll,i=e.showMoreText;t=o?(0,r.jsxs)(r.Fragment,{children:[ne.Z.Messages.GUILD_ROLE_SUBSCRIPTION_TIER_SHOW_LESS_DESCRIPTION,(0,r.jsx)(g.Z,{className:ct().toggleTruncationButtonIcon})]}):(0,r.jsxs)(r.Fragment,{children:[i,(0,r.jsx)(m.Z,{className:ct().toggleTruncationButtonIcon})]});return(0,r.jsx)(f.Co,{look:f.Co.Looks.BLANK,size:f.Co.Sizes.NONE,className:ct().toggleTruncationButton,innerClassName:ct().toggleTruncationButtonInner,onClick:n,children:t})};const gt=function(e){var t,n=e.listingId,i=e.guildId,d=e.groupListingId,v=e.analyticsLocation,m=(0,C.jO)(n),g=lt(m,i,d,v),E=g.openModal,_=g.canOpenModal,w=g.cannotOpenReason,x=g.isCheckingTrialEligibility,T=(0,l.e7)([s.Z],(function(){return s.Z.isSyncing})),A=(0,I.Z)(d),Z=A.activeSubscription,R=A.activeSubscriptionListing,M=(null==R?void 0:R.id)===n,D=(null==Z?void 0:Z.status)===H.O0b.CANCELED,L=ht(o.useState(!1),2),k=L[0],U=L[1],G=ht(o.useState(!1),2),B=G[0],V=G[1],F=o.useCallback((function(e){var t=!1
;null!=e&&(t=e.scrollHeight>e.clientHeight);V(t)}),[]),W=ht(P.PK(n),1)[0],Y=ht(P.TT(n),1)[0],z=ht(P.F2(n),1)[0],K=function(e,t){var n=(0,C.oC)(t);return o.useMemo((function(){return null!=n&&(null==n.max_num_active_trial_users||n.max_num_active_trial_users>(null!==(e=n.num_active_trial_users)&&void 0!==e?e:0));var e}),[n])}(0,n),q=(0,S.oM)(i)&&null!=Y&&null==Z&&K,Q=(0,u.Z)(X.iP),J=ht(o.useState(!1),2),$=J[0],ee=J[1],te=$||!Q,re=(0,l.e7)([c.Z],(function(){return c.Z.isViewingSubscriptionRoles(i)})),oe=!0===(null==m?void 0:m.published),ie=!0===(null==m?void 0:m.soft_deleted),ae=ne.Z.Messages.GUILD_ROLE_SUBSCRIPTION_TIER_SHOW_MORE_DESCRIPTION;return!oe&&!re||ie?null:(0,r.jsxs)("article",{className:ct().container,"aria-label":m.name,children:[q&&(0,r.jsxs)("div",{className:a()(ct().tierTrialIndicator,ct().tierTopIndicator),children:[ne.Z.Messages.GUILD_ROLE_SUBSCRIPTION_TRIAL_PERIOD.format({trialPeriodDuration:(0,j.iG)({interval:Y.interval,interval_count:Y.interval_count})}),(0,
r.jsx)(b.ZP,{clickableOnMobile:!0,text:ne.Z.Messages.GUILD_ROLE_SUBSCRIPTION_TRIAL_DISCLAIMER.format({activeTrialUserLimit:null!=z?z:0}),children:function(e){return(0,r.jsx)(O.Z,dt({className:ct().tierTrialIndicatorIcon},e))}})]}),(0,r.jsxs)("div",{className:q?void 0:ct().cardContainerWithoutTopIndicator,children:[(0,r.jsxs)("div",{className:ct().tierInfoContainer,children:[Q?(0,r.jsx)(pe,{listingId:n,isListingPublished:oe,expanded:te,onToggleExpanded:function(){return ee((function(e){return!e}))}}):(0,r.jsx)(ue,{listingId:n,isListingPublished:oe}),te&&(0,r.jsxs)(r.Fragment,{children:[Q&&(0,r.jsx)("div",{className:ct().divider}),M?(0,r.jsx)(f.Co,{fullWidth:!0,look:f.Co.Looks.OUTLINED,color:f.Co.Colors.PRIMARY,disabled:!0,children:D?ne.Z.Messages.GUILD_ROLE_SUBSCRIPTION_TIER_REVIEW_CANCELED_LABEL:ne.Z.Messages.GUILD_ROLE_SUBSCRIPTION_TIER_REVIEW_SUBSCRIBED_LABEL}):(0,r.jsx)(b.ZP,{text:_?null:w,"aria-label":null!==(t=_&&w)&&void 0!==t&&t,children:function(e){return(0,
r.jsx)(N.Z,pt(dt({},e),{fullWidth:!0,disabled:!_||T,submitting:x,onClick:E,children:ne.Z.Messages.GUILD_ROLE_SUBSCRIPTION_TIER_REVIEW_SUBSCRIBE_LABEL}))}}),(0,r.jsx)(h.Z,{size:16}),(0,r.jsx)(y.x,{variant:"text-sm/normal",color:"text-normal",className:a()((!B||!k)&&ct().tierDescriptionTruncate),children:(0,r.jsx)("div",{ref:F,children:W})}),B&&(0,r.jsx)(mt,{isViewAll:k,onToggle:function(){return U((function(e){return!e}))},showMoreText:ae})]})]}),te&&(0,r.jsx)(p.y,{children:(0,r.jsx)(vt,{listingId:n,guildId:i})})]})]})}},303680:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(631134),o=n(940712),i=n(645897),a=n(108580),l=n(613258),u=n(293378);function c(e){if(!e.isGuildVoice())return!1;if(l.ZP.getGuildScheduledEventsByIndex(l.bN.CHANNEL_EVENT_ACTIVE(e.id)).length<1)return!1;if(!o.Z.can(u.AN,e))return!1;var t=new Set(i.ZP.getVoiceStatesForChannel(e).map((function(e){return e.user.id}))),n=r.default.getId(),c=!0,s=!1,f=void 0;try{
for(var d,p=t[Symbol.iterator]();!(c=(d=p.next()).done);c=!0){var h=d.value;if(h!==n&&a.ZP.can({permission:u.AN,user:h,context:e}))return!1}}catch(e){s=!0;f=e}finally{try{c||null==p.return||p.return()}finally{if(s)throw f}}return!0}},659956:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(785893),o=(n(667294),n(294184)),i=n.n(o),a=n(629590),l=n(48843),u=n(685351),c=n(169364),s=n(959797),f=n(178494),d=n.n(f);function p(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function h(e){var t=e.className,n=e.iconContainerClassName,o=e.icon,f=e.color,h=e.title,y=e.description,b=e.userCount,v=e.onClick,m=e.highlight;return(0,r.jsxs)(a.Z,{className:i()(d().container,t,null!=m&&p({},d().pulse,m)),onClick:v,children:[(0,r.jsx)("div",{style:{backgroundColor:f},className:i()(d().icon,n),children:o}),(0,r.jsxs)("div",{className:d().textContainer,children:[(0,r.jsx)(l.X,{variant:"heading-md/medium",children:h}),(0,r.jsx)(u.x,{
variant:"text-xs/normal",color:"header-secondary",className:d().inline,children:y}),null!=b&&b>0?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(u.x,{variant:"text-xs/normal",color:"header-secondary",className:d().dot,children:""}),(0,r.jsx)(u.x,{variant:"text-xs/normal",color:"header-secondary",className:d().inline,children:s.Z.Messages.GUILD_EVENT_INTERESTED.format({count:b})})]}):null]}),(0,r.jsx)(c.Z,{height:16,width:16,className:d().caret})]})}},607568:(e,t,n)=>{"use strict";n.d(t,{Z:()=>S});var r=n(785893),o=(n(667294),n(791462)),i=n(832010),a=n(356004),l=n(695756),u=n(897576),c=n(455040),s=n(875684),f=n(217891),d=n(694470),p=n(659956),h=n(461061),y=n(959797),b=n(407770),v=n.n(b);function m(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function g(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){m(i,r,o,a,l,"next",e)}function l(e){m(i,r,o,a,l,"throw",e)}a(void 0)}))
}}function O(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function E(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var j=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),
0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function S(e){var t=e.guildId,b=e.channelId,m=function(e){I?(0,u.ZD)(g((function(){var t,o;return j(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(55527),n.e(27903)]).then(n.bind(n,527903))];case 1:t=i.sent(),o=t.default;return[2,function(t){return(0,r.jsx)(o,E(function(e){for(var t=1;t<arguments.length;t++){
var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){O(e,t,n[t])}))}return e}({},t),{event:e}))}]}}))}))):(0,c.bO)({eventId:e.id,parentGuildId:e.guild_id})},S=(0,o.e7)([a.Z],(function(){return a.Z.getChannel(b)}),[b]),C=(0,f.sz)(b),P=null!=(0,f.qY)(b),I=(0,s.o)(t,S);return C.length<1||P?null:(0,r.jsx)(r.Fragment,{children:C.map((function(e){return(0,r.jsx)(p.Z,{icon:(0,r.jsx)(l.Z,{height:20,width:20}),color:(0,i.Lq)(h.Ilk.STATUS_GREEN_600),title:(I?y.Z.Messages.GUILD_EVENT_START_PROMPT:y.Z.Messages.GUILD_EVENT_UPCOMING_PROMPT).format({eventName:e.name}),description:y.Z.Messages.GUILD_EVENT_START_PROMPT_DESCRIPTION.format({startTime:(0,d.ub)(e.scheduled_start_time).startDateTimeString}),onClick:function(){return m(e)},userCount:e.user_count,className:v().eventPrompt},e.id)}))})}},
298586:(e,t,n)=>{"use strict";n.d(t,{_:()=>D,Z:()=>L});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),l=n(647446),u=n(125447),c=n(791462),s=n(125628),f=n(53211),d=n(394803),p=n(409726),h=n(962564),y=n(475823),b=n(859023),v=n(177097),m=n(810873),g=n(685351),O=n(757987),E=n(766936),j=n(588641),S=n(461061),C=n(887630),P=n.n(C);function I(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){I(e,t,n[t])}))}return e}function w(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){
var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function x(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}var N={SELECTED:P().modeSelected,CONNECTED:P().modeConnected,UNREAD_HIGHLIGHT:P().modeUnread,UNREAD:P().modeUnreadNormal,MUTED:P().modeMuted,LOCKED:P().modeLocked};function T(e){e.stopPropagation()}function A(e){switch(e){case S.d4z.GUILD_STAGE_VOICE:case S.d4z.GUILD_VOICE:return P().typeVoice;case S.d4z.ANNOUNCEMENT_THREAD:case S.d4z.PUBLIC_THREAD:
case S.d4z.PRIVATE_THREAD:return P().typeThread;case S.d4z.GUILD_ANNOUNCEMENT:case S.d4z.GUILD_TEXT:case S.d4z.GUILD_STORE:case S.d4z.GUILD_FORUM:default:return P().typeDefault}}var Z=j.default.getEnableHardwareAcceleration()?E.Xo:E.ZP;function R(e){var t=e.channel;return(0,r.jsx)(Z,{src:(0,s.x)(t),"aria-hidden":!0,size:E.u8.SIZE_20})}function M(e){var t=e.channel,n=(0,c.e7)([b.default],(function(){return b.default.getUser(null==t?void 0:t.recipients[0])})),o=(0,c.e7)([y.Z],(function(){return null!=n&&null!=t&&!t.isMultiUserDM()&&null!=y.Z.getTypingUsers(null==t?void 0:t.id)[null==n?void 0:n.id]})),i=(0,c.cj)([h.Z],(function(){return null==n||null==t||t.isMultiUserDM()?{status:null,isMobile:!1}:{status:h.Z.getStatus(n.id),isMobile:h.Z.isMobileOnline(n.id)}})),a=i.status,l=i.isMobile;return(0,r.jsx)(Z,{size:E.u8.SIZE_20,src:null==n?void 0:n.getAvatarURL(void 0,40),status:a,isMobile:l,isTyping:o,"aria-label":null==n?void 0:n.username,statusTooltip:!0})}var D=function(e){
var t=e.className,n=e.channel,o=e.guild,i=e.locked,l=e.hasActiveThreads,u=function(e,t,n){switch(e.type){case S.d4z.DM:return function(){return(0,r.jsx)(M,{channel:e})};case S.d4z.GROUP_DM:return function(){return(0,r.jsx)(R,{channel:e})};default:return(0,d.KS)(e,t,n)}}(n,o,{locked:i,hasActiveThreads:l});if(null==u)return null;var c=(0,d.bT)(n,o,i,l);return(0,r.jsx)(O.ZP,{text:c,delay:500,children:function(e){return(0,r.jsx)("div",w(_({},e),{role:"img",className:P().iconContainer,children:(0,r.jsx)(u,{className:a()(P().icon,t)})}))}})};function L(e){
var t,n=e.channel,i=e.name,c=e.muted,s=e.selected,d=e.connected,h=e.unread,y=e.canHaveDot,b=e.mentionCount,O=e.relevant,E=e.locked,j=e.hasActiveThreads,C=e.onClick,Z=e.onMouseDown,R=e.onMouseUp,M=e.onContextMenu,L=e.connectDragPreview,k=e.className,U=e.iconClassName,G=e.subtitle,H=e.subtitleColor,B=e.channel.type,V=e.onMouseEnter,F=e.onMouseLeave,W=e["aria-label"],Y=e.children,z=e.guild,K=e.channelTypeOverride,q=e.forceInteractable,X=e.isFavoriteSuggestion,Q=(0,u.JA)(n.id),J=(Q.role,x(Q,["role"])),$=o.useRef(null),ee=o.useRef(null),te=(0,p.Z)(n),ne=S.Z5c.CHANNEL(te,n.id),re=(0,f.Z)(n),oe=n.isGuildVocal(),ie=oe&&!d,ae=(0,r.jsxs)("div",{className:a()(P().content,I({},P().favoriteSuggestion,X)),ref:ee,children:[(0,r.jsxs)(v.Z,w(_({role:ie?"button":"link",href:oe?void 0:ne,ref:$,className:P().mainContent,onClick:function(){return null==C?void 0:C(n)}},J),{"aria-label":W,focusProps:{enabled:!1},children:[(0,r.jsx)(D,{className:U,channel:n,guild:z,hasActiveThreads:j,locked:E}),(0,
r.jsxs)(m.Z,{className:P().name,"aria-hidden":!0,children:[(0,r.jsx)("div",{className:P().channelName,children:null==i?re:i}),null!=G&&""!==G?(0,r.jsx)(g.x,{color:null!=H?H:"text-muted",variant:"text-xs/medium",className:P().subtitle,children:G}):null]})]})),o.Children.count(Y)>0?(0,r.jsx)("div",{onClick:T,className:P().children,children:Y}):null]}),le=null!=C||null!=R||null!=Z||q;return(0,r.jsx)(l.tE,{focusTarget:$,ringTarget:ee,offset:{top:2,bottom:2,right:4},children:(0,r.jsxs)("div",{className:a()(k,le?P().wrapper:P().notInteractive,s?N.SELECTED:d?N.CONNECTED:E?N.LOCKED:c?N.MUTED:h?O||null!=b&&b>0?N.UNREAD_HIGHLIGHT:N.UNREAD:null,A(null!=K?K:B)),onMouseUp:function(e){return null==R?void 0:R(e,n)},onMouseDown:function(e){return null==Z?void 0:Z(e,n)},onContextMenu:function(e){return null==M?void 0:M(e,n)},onMouseEnter:V,onMouseLeave:F,children:[c||!y||!h||s&&!oe?null:(0,r.jsx)("div",{className:a()(P().unread,(O||b)&&P().unreadRelevant)
}),null!==(t=null==L?void 0:L(ae))&&void 0!==t?t:ae]})})}},795138:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(785893),o=(n(667294),n(294184)),i=n.n(o),a=n(693518),l=n(685351),u=n(995358),c=n.n(u);function s(e){var t=e.className,n=e.embeddedApps;if(n.length<=0)return null;if(1===n.length)return(0,r.jsx)("div",{className:i()(c().container,t),children:(0,r.jsx)(a.Z,{game:n[0].application,className:c().icon24px})});var o=n.length-1;return(0,r.jsxs)("div",{className:i()(c().container,t),children:[(0,r.jsx)(a.Z,{game:n[0].application,className:c().icon20px}),2===n.length?(0,r.jsx)(a.Z,{game:n[1].application,className:c().icon20px}):(0,r.jsx)(l.x,{className:c().overflow,variant:"text-xs/bold",color:"interactive-active",children:"+".concat(o)})]})}},827449:(e,t,n)=>{"use strict";n.d(t,{j:()=>Ru,E:()=>Mu})
;var r=n(785893),o=n(667294),i=n(496486),a=n.n(i),l=n(666164),u=n(125447),c=n(791462),s=n(8062),f=n(605644),d=n(239396),p=n(730189),h=n(747465),y=n(859169),b=n(64833),v=n(805448),m=n(294184),g=n.n(m),O=n(248088),E=n(281081),j=n(23816),S=n(7046),C=n(186121),P=n(940712),I=n(629590),_=n(685351),w=n(757987),x=n(414597),N=n(75141),T=n(173436);function A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Z(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function R(e){R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return R(e)}function M(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable
})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function D(e,t){return!t||"object"!==k(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function L(e,t){L=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return L(e,t)}var k=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function U(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=R(e);if(t){var o=R(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return D(this,n)}}var G={},H=function(e){var t=e.guildId,n=e.premiumCount
;G=M(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Z(e,t,n[t])}))}return e}({},G),Z({},t,n))},B=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&L(e,t)}(n,e);var t=U(n);function n(){A(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(e){null!=e&&(G=e)};r.getState=function(){return G};r.getCountForGuild=function(e){return G[e]};r.__getLocalVars=function(){return{state:G,handlePremiumCountUpdate:H}};return n}(c.ZP.PersistedStore);B.displayName="GuildBoostingProgressBarPersistedStore"
;B.persistKey="PremiumGuildProgressBarPersistedStore";const V=new B(T.Z,{APPLIED_GUILD_BOOST_COUNT_UPDATE:H});var F=n(714523),W=n(830504),Y=n(461061),z=n(959797),K=n(518678),q=n.n(K);function X(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Q(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function J(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){J(e,t,n[t])}))}return e}function ee(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){
var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function te(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return X(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return X(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ne=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,
o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},re=function(e){var t,n,i=e.guild,a=e.onSelect,l=te(o.useState(i.premiumProgressBarEnabled),2),u=l[0],s=l[1],f=te(o.useState(!1),2),d=f[0],p=f[1],h=(0,c.e7)([P.Z],(function(){return P.Z.can(Y.Plq.MANAGE_GUILD,i)})),y=(n=(t=function(){return ne(this,(function(e){switch(e.label){case 0:if(!h)return[2];p(!0);return[4,S.Z.saveGuild(i.id,{premiumProgressBarEnabled:!u})];case 1:e.sent();s(!u);p(!1);return[2]}}))},function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(e){Q(i,r,o,a,l,"next",e)}function l(e){Q(i,r,o,a,l,"throw",e)}a(void 0)}))}),function(){
return n.apply(this,arguments)});return(0,r.jsx)(C.ZP,{navId:"progress-bar-context",onClose:E.Zy,"aria-label":z.Z.Messages.PROGRESS_BAR_ACTIONS_MENU_LABEL,onSelect:a,children:(0,r.jsx)(C.S8,{id:"progress-bar-enabled",label:z.Z.Messages.GUILD_ENABLE_PROGRESS_BAR,checked:u,disabled:d,action:y})})},oe={tension:180,friction:80};const ie=function(e){var t,n=e.guild,i=(0,b.Z)(y.Z.GUILD_BOOSTING_SIDEBAR_DISPLAY).analyticsLocations,a=n.premiumSubscriberCount,l=n.id,u=(0,N.rF)(a,l),s=(0,N.FZ)(u,n.id),f=null==s,d=null!=s?s:u,h=(0,c.e7)([V],(function(){return null!==(t=V.getCountForGuild(l))&&void 0!==t?t:0})),v=(0,c.e7)([p.Z],(function(){return p.Z.useReducedMotion})),m=(0,c.e7)([P.Z],(function(){return P.Z.can(Y.Plq.MANAGE_GUILD,n)}));o.useEffect((function(){h!==a&&(e=l,t=a,T.Z.wait((function(){T.Z.dispatch({type:"APPLIED_GUILD_BOOST_COUNT_UPDATE",guildId:e,premiumCount:t})})));var e,t}),[l,h,a]);var S="".concat(Math.min(100,a/(0,N.vn)(n.id)[d]*100),"%"),C=o.useRef(S).current,A={from:{
width:h===a?C:"0%"},to:{width:S},config:oe,immediate:v},Z=te((0,O.useSpring)((function(){return A})),2),R=Z[0],M=Z[1],D=function(){(0,j.yw)(Y.rMx.PREMIUM_GUILD_PROMOTION_OPENED,{location:{section:Y.jXE.PREMIUM_GUILD_PROGRESS_BAR},guild_id:l,location_stack:i});(0,F.Z)({analyticsLocations:i,analyticsSourceLocation:{page:Y.ZY5.GUILD_CHANNEL,section:Y.jXE.PREMIUM_GUILD_PROGRESS_BAR,object:Y.qAy.TOOLTIP},guild:n,perks:(0,W.VF)(),perkIntro:z.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_UPSELL_MODAL_PROGRESS_BAR_HEADER})},L=z.Z.Messages.PREMIUM_GUILD_SUBSCRIPTIONS_GOAL.format({levelName:(0,N.e9)(d)}),k=z.Z.Messages.PREMIUM_GUILD_SUBSCRIPTIONS_PROGRESS_BAR_BLURB.format({numBoosts:a,numTotal:(0,N.vn)(n.id)[d]});if(f){L=(0,N.e9)(d);k=z.Z.Messages.PREMIUM_GUILD_SUBSCRIPTIONS_PROGRESS_BAR_COMPLETED_BLURB.format({numBoosts:a})}return(0,r.jsx)(w.ZP,{text:f?z.Z.Messages.PREMIUM_GUILD_SUBSCRIPTIONS_NUDGE_TOOLTIP_COMPLETE:z.Z.Messages.PREMIUM_GUILD_SUBSCRIPTIONS_NUDGE_TOOLTIP.format({levelName:(0,N.nW)(d)}),
color:w.ZP.Colors.BLACK,position:w.ZP.Positions.TOP,delay:200,hideOnClick:!0,children:function(e){return(0,r.jsxs)(I.Z,ee($({},e),{onClick:D,onMouseEnter:function(){var t;null===(t=e.onMouseEnter)||void 0===t||t.call(e);M(A)},className:q().container,onContextMenu:function(e){m&&(0,E.vq)(e,(function(e){return(0,r.jsx)(re,ee($({},e),{guild:n}))}))},children:[(0,r.jsxs)("div",{className:q().textArea,children:[(0,r.jsx)("div",{className:q().goalTextContainer,children:(0,r.jsx)(_.x,{className:q().goalText,color:"interactive-active",variant:"text-xs/bold",children:L})}),(0,r.jsxs)("div",{className:q().progressFraction,children:[(0,r.jsx)(_.x,{color:"interactive-normal",variant:"text-xs/normal",children:k}),(0,r.jsx)(x.Z,{className:q().count,height:16,width:16,direction:x.Z.Directions.RIGHT})]})]}),(0,r.jsxs)("div",{className:g()(q().progressBarContainer,J({},q().progressBarContainerComplete,f)),children:[(0,r.jsx)(O.animated.div,{className:q().progressBar,style:R}),f?(0,r.jsx)("span",{
"aria-label":z.Z.Messages.PREMIUM_GUILD_SUBSCRIPTIONS_PROGRESS_BAR_TADA_ICON_ALT_TEXT,role:"img",className:q().tadaIcon,children:""}):null]}),(0,r.jsx)("div",{role:"separator",className:q().divider})]}))}})};var ae=n(517959),le=n(772041),ue=n(513073),ce=n(987762),se=n(356004),fe=n(645897),de=n(90816),pe=n(820498),he=n(312855),ye=n(204369);function be(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ve(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return be(e,t);var n=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return be(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function me(e){var t=e.voiceState,n=e.userNick;return{user:e.user,voiceState:t,nick:n,comparator:(0,fe.sQ)(t,n)}}var ge=n(875673),Oe=n(525709),Ee=n(53551),je=n(998556),Se=n(145072),Ce=n(1812),Pe=n(365667),Ie=n(971738),_e=n(796080),we=n(94813),xe=n(44562),Ne=n(272729),Te=n(436053),Ae=n(880068),Ze=n(268333),Re=n(604860),Me=n(277266),De=n(121764),Le=n(827509),ke=n(780877);function Ue(e,t,n){return!function(e,t){if(t===Me.zm){var n=e.getCommunitySection().getRows();return 1===n.length&&n[0]===ke.f.GUILD_PREMIUM_PROGRESS_BAR||e.getCommunitySection().isEmpty()}return 0===e.getSections()[t]
}(e,n)&&(n===Me.zm||!!t&&(n===Me.p2||n!==Me.wd&&(n===e.recentsSectionNumber||(e.voiceChannelsSectionNumber,!1))))}function Ge(e,t){return!(t===Me.zm||t===Me.p2||t===Me.wd||t===e.recentsSectionNumber||t===e.voiceChannelsSectionNumber)}function He(e,t,n){return{hasDivider:Ue(e,t,n),hasVoiceSummary:Ge(e,n)}}var Be=n(449024),Ve=n(669059),Fe=n(853524),We=n(481172),Ye=n(218024),ze=n(498814),Ke=n(217891);function qe(e){var t=(0,Be.N2)(e),n=function(e){var t=(0,ze.Z)(null==e?void 0:e.id),n=(0,Ke.ZP)(null==e?void 0:e.id),r=(0,Ye.Z)(null==e?void 0:e.id),o=null==e?void 0:e.hasFeature(Y.oNc.COMMUNITY);return!r&&(o&&t||n.length>0)}(e),r=(0,Ve.W)(e.id),o=(0,We.m)(e.id),i=(0,c.e7)([Fe.ZP],(function(){return Fe.ZP.shouldShowOnboarding(e.id)})),a=(0,ue.Ks)(e.id),l=[],u=e.hasFeature(Y.oNc.HUB),s=e.hasFeature(Y.oNc.COMMUNITY);u&&l.push(ke.f.GUILD_HUB_HEADER_OPTIONS);if(i)return l;e.premiumProgressBarEnabled&&l.push(ke.f.GUILD_PREMIUM_PROGRESS_BAR);!u&&t&&l.push(ke.f.GUILD_HOME)
;n&&l.push(ke.f.GUILD_SCHEDULED_EVENTS);a&&s&&l.push(ke.f.CHANNELS_AND_ROLES);o&&l.push(ke.f.GUILD_ROLE_SUBSCRIPTIONS);r&&l.push(ke.f.GUILD_MEMBER_APPLICATIONS);return l}var Xe=n(647446),Qe=n(354445),Je=n(428313),$e=n(512503),et=n(354290),tt=n(676623),nt=n(265123),rt=n(620700),ot=n(710348),it=n(384995),at=n(653772),lt=n(897576),ut=n(802616);function ct(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function st(e){return function(e){if(Array.isArray(e))return ct(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return ct(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ct(e,t)}(e)||function(){
throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ft(e,t){return null!=e&&null!=t&&(e===t||(0,Ee.r8)(e)&&(0,Ee.r8)(t)||(0,Ee.bw)(e)&&(0,Ee.bw)(t))}function dt(e,t,n,r){var o=-1;r.find((function(e,n){if(e.channel.id===t){o=n;return!0}return!1}));if(o<0)return null;for(var i=o;i>=0&&i<r.length;i+=e){var a=r[i];if(ft(a.channel.type,n))return a}return null}function pt(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(null==e)return 0;var r=null;t.filter((function(t){var r=t.channel.type;return null!=e&&(n||ft(e.type,r))})).find((function(t,n){var o=t.channel.id;if(null!=e&&o===e.id){r=n;return!0}return!1}));return r}function ht(e){return{referenceId:e.id,parentId:e.parent_id}}function yt(e,t,n,r,o){if(null==e||null==n)return null;var i=Y.d4z.GUILD_CATEGORY;return e.type===i?r===t||r<t&&e.type===n.type?ht(n):r>t?function(e,t,n){
var r,o=Y.d4z.GUILD_CATEGORY,i=n[(null!==(r=pt(t,n,!0))&&void 0!==r?r:0)+1],a=dt(-1,t.id,e.type,n);return null==a||a.channel.id===e.id?null:null==i||i.channel.type===o?{referenceId:a.channel.id,parentId:null}:null}(e,n,o):null:ft(e.type,n.type)?ht(n):r<t?n.type===i?function(e,t,n){var r,o=n[(null!==(r=pt(t,n,!0))&&void 0!==r?r:0)-1],i=dt(1,t.id,e.type,n);if(null==o)return{referenceId:null,parentId:null};if(null!=i){if(ft(o.channel.type,e.type)||e.isGuildVocal()&&(0,Ee.r8)(o.channel.type))return{referenceId:i.channel.id,parentId:o.channel.parent_id};if(o.channel.isCategory())return{referenceId:i.channel.id,parentId:o.channel.id}}return null}(e,n,o):function(e,t,n){var r,o=n[(null!==(r=pt(t,n,!0))&&void 0!==r?r:0)-1],i=dt(1,t.id,e.type,n);return null!=o||e.isGuildVocal()?(0,Ee.r8)(e.type)&&null!=i&&((0,Ee.r8)(o.channel.type)||o.channel.isCategory())?{referenceId:i.channel.id,parentId:t.parent_id}:null:{referenceId:null!=i?i.channel.id:null,parentId:null}
}(e,n,o):n.type===i?function(e,t,n){var r,o=n[(null!==(r=pt(t,n,!0))&&void 0!==r?r:0)+1],i=dt(-1,t.id,e.type,n);if(null!=i){if(null==o)return{referenceId:i.channel.id,parentId:t.id};if(ft(o.channel.type,e.type)||(0,Ee.r8)(e.type)&&o.channel.isGuildVocal())return{referenceId:i.channel.id,parentId:o.channel.parent_id};if(o.channel.isCategory())return{referenceId:i.channel.id,parentId:t.id}}return null}(e,n,o):function(e,t,n){var r,o=n[(null!==(r=pt(t,n,!0))&&void 0!==r?r:0)+1],i=dt(-1,t.id,e.type,n);if(null==i)return null;if(e.isGuildVocal()){if(null==o||o.channel.isCategory())return{referenceId:i.channel.id,parentId:t.parent_id};if(o.channel.isGuildVocal())return{referenceId:i.channel.id,parentId:o.channel.parent_id}}return e.isCategory()&&(null==o||o.channel.isCategory())?{referenceId:i.channel.id,parentId:null}:null}(e,n,o)}var bt=n(108580);function vt(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function mt(e){
return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){vt(i,r,o,a,l,"next",e)}function l(e){vt(i,r,o,a,l,"throw",e)}a(void 0)}))}}function gt(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Ot(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){gt(e,t,n[t])}))}return e}function Et(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n
}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var jt=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2]
;a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},St="DRAGGABLE_GUILD_CHANNEL";function Ct(e,t){if(null==e||null==t)return null;if(e!==Y.I_8)return se.Z.getChannel(t);var n,r,o=Ce.ZP.getChannels(e),i=null!==(r=null!==(n=o[Ce.sH].find((function(e){return e.channel.id===t})))&&void 0!==n?n:o[Ce.Zb].find((function(e){return e.channel.id===t})))&&void 0!==r?r:o[Y.d4z.GUILD_CATEGORY].find((function(e){return e.channel.id===t}));return null==i?void 0:i.channel}function Pt(e){return(0,Je.G)(St,{drop:function(e,t){var n=Ie.Z.getGuildId(),o=t.getItem(),i=yt(Ct(n,o.id),o.position,e.channel,e.position,o.channelList);if(null!=i){var a=Ct(n,o.id);if(null!=a){var l=it.Z.getCategories(n),u=at.Z.getGuild(n);if(null!=u){var c=function(e,t,n,r){var o,i,a=[],l=[],u=r._categories,c=function(t){var n;n=null!=o&&null!=i&&function(e,t,n,r){
return null!=t&&null!=n&&null!=r[t]&&r[t].channel===e&&null!=r[n]}(e,o,i,t)?ut.ZP.moveItemFromTo(t,o,i):st(t);a=a.concat(ut.ZP.calculatePositionDeltas({oldOrdering:t,newOrdering:n,idGetter:function(e){return e.channel.id},existingPositionGetter:function(e){return e.channel.position}}));return n};if(e.isCategory()){var s=st(u).slice(1);o=pt(e,s);i=pt(t,s);(l=c(s)).unshift(u[0])}if((0,Ee.r8)(e.type)||e.isCategory()){var f=(0,nt.Z)(l.length>0?l:u,r,(function(e){var t=e.channel.type;return(0,Ee.r8)(t)}));o=pt(e,f);i=pt(t,f);c(f)}if(e.isGuildVocal()||e.isCategory()){var d=(0,nt.Z)(l.length>0?l:u,r,(function(e){return e.channel.isGuildVocal()}));o=pt(e,d);i=pt(t,d);c(d)}if(e.parent_id!==n){var p=!1;a.find((function(t){if(t.id===e.id){t.parent_id=n;return p=!0}return!1}));p||a.push({id:e.id,parent_id:n})}return a}(a,Ct(n,i.referenceId),i.parentId,l);if(0!==c.length)if(n!==Y.I_8){c=c.filter((function(e){var t=e.id,n=se.Z.getChannel(t);if(null==n)return!1;var r=se.Z.getChannel(n.parent_id)
;return n.type===Y.d4z.GUILD_CATEGORY||null==r?P.Z.can(Y.Plq.MANAGE_CHANNELS,u):P.Z.can(Y.Plq.MANAGE_CHANNELS,r)}));var s;a.parent_id!==i.parentId&&c.find((function(e){if(e.id!==a.id)return!1;var t=se.Z.getChannel(e.parent_id);if(!(null!=t&&P.Z.can(Y.Plq.MANAGE_ROLES,a)&&P.Z.can(Y.Plq.MANAGE_ROLES,t)))return!0;var n=bt.ZP.areChannelsLocked(a,t),r=bt.ZP.areChannelsLocked(a,se.Z.getChannel(a.parent_id));(null==a.parent_id&&!n||r&&!n)&&(s=e);return!0}));if(null!=s){var f=se.Z.getChannel(s.parent_id);null!=f&&(0,lt.h7)((function(e){return(0,r.jsx)(tt.default,Et(Ot({},e),{channel:a,category:f,onConfirm:function(){if(null!=s){s.lock_permissions=!0;et.Z.batchChannelUpdate(n,c)}},onCancel:function(){null!=s&&et.Z.batchChannelUpdate(n,c)}}))}))}else et.Z.batchChannelUpdate(n,c)}else(0,rt.s3)(c)}}}},canDrop:function(e,t){var n=t.getItem(),r=se.Z.getChannel(n.id);if(null==r)return!1;var o=yt(se.Z.getChannel(n.id),n.position,e.channel,e.position,n.channelList);if(null==o)return!1
;if(Ie.Z.getGuildId()===Y.I_8)return!0;var i=at.Z.getGuild(n.guildId);if(null==i)return!1;var a=se.Z.getChannel(o.parentId),l=se.Z.getChannel(r.parent_id),u=P.Z.can(Y.Plq.MANAGE_CHANNELS,i),c=null!=l?P.Z.can(Y.Plq.MANAGE_CHANNELS,l):u,s=null!=a?P.Z.can(Y.Plq.MANAGE_CHANNELS,a):u;return c&&s}},(function(e,t){var n=t.getItem();return null==n||null==n.isChannelDrag?{connectChannelDropTarget:e.dropTarget(),sorting:!1,sortingType:null,sortingPosition:null,sortingParent:null}:{connectChannelDropTarget:e.dropTarget(),sorting:!0,sortingType:n.type,sortingPosition:t.isOver()&&t.canDrop()?n.position:null,sortingParent:t.isOver()&&t.canDrop()?n.parentId:null}}))((0,$e.E)(St,{canDrag:function(e){var t=e.channel;if(Ie.Z.getGuildId()===Y.I_8)return!0;var o=at.Z.getGuild(t.getGuildId());if(null==o)return!1;if((0,ue.r1)(o.id)){(0,lt.ZD)(mt((function(){var e,t;return jt(this,(function(o){switch(o.label){case 0:return[4,n.e(79572).then(n.bind(n,579572))];case 1:e=o.sent(),t=e.default
;return[2,function(e){return(0,r.jsx)(t,Ot({},e))}]}}))})));return!1}if(t.type===Y.d4z.GUILD_CATEGORY)return P.Z.can(Y.Plq.MANAGE_CHANNELS,o);var i=se.Z.getChannel(t.parent_id);return null!=i&&P.Z.can(Y.Plq.MANAGE_CHANNELS,i)||null==i&&P.Z.can(Y.Plq.MANAGE_CHANNELS,o)},beginDrag:function(e){var t=e.channel,n=t.id,r=t.parent_id,o=t.guild_id,i=t.type,a=e.position,l=Ie.Z.getGuildId(),u=it.Z.getCategories(l),c=(0,nt.Z)(u._categories,u,(function(e){var t=e.channel;return t.type===Y.d4z.GUILD_CATEGORY&&null!=u[t.id]&&0===u[t.id].length?l===Y.I_8||P.Z.can(Y.Plq.MANAGE_CHANNELS,t)&&P.Z.can(Y.Plq.VIEW_CHANNEL,t):!ot.Z.isCollapsed(t.parent_id)}));return{isChannelDrag:!0,id:n,position:a,parentId:r,type:i,channelList:c,guildId:o}}},(function(e){return{connectChannelDragSource:e.dragSource(),connectDragPreview:e.dragPreview()}}))(e))}var It=n(100133),_t=n(390504),wt=n(191940),xt=n(810873),Nt=n(523283),Tt=n(822375),At=n(54168),Zt=n(915306),Rt=n(669525),Mt=n(335520);var Dt=n(642745),Lt=n.n(Dt)
;function kt(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function Ut(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){kt(i,r,o,a,l,"next",e)}function l(e){kt(i,r,o,a,l,"throw",e)}a(void 0)}))}}function Gt(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Ht(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Gt(e,t,n[t])}))}return e}function Bt(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e)
;t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Vt(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}var Ft=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,
r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function Wt(e){e.stopPropagation()}const Yt=Pt(o.memo((function(e){var t,i=e.channel,a=e.connectChannelDragSource,l=e.connectChannelDropTarget,s=e.disableManageChannels,f=e.position,d=e.sortingPosition,p=e.hideIcon,h=e.children,y=(0,c.e7)([_t.Z],(function(){
return _t.Z.isChannelMuted(i.getGuildId(),i.id)})),b=(0,c.e7)([ot.Z],(function(){return ot.Z.isCollapsed(i.id)})),v=(0,c.e7)([P.Z],(function(){return P.Z.can(Y.Plq.MANAGE_CHANNELS,i)}));t=null!=d?f>d?Lt().containerDragAfter:Lt().containerDragBefore:Lt().containerDefault;var m,O=o.useCallback((function(){b?(0,Qe.mJ)(i.id):(0,Qe.c4)(i.id)}),[i.id,b]),j=o.useCallback((function(e){if("null"!==i.id){var t=at.Z.getGuild(i.getGuildId());null!=t&&(0,E.jW)(e,Ut((function(){var e,o;return Ft(this,(function(a){switch(a.label){case 0:return[4,n.e(81664).then(n.bind(n,981664))];case 1:e=a.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,Bt(Ht({},e),{channel:i,guild:t}))}]}}))})))}}),[i]),S=o.useCallback((function(){if((0,It.Y)())(0,It.$)("Create Channel");else{var e=i.type===Y.d4z.GUILD_CATEGORY?null:i.type,t=i.getGuildId();null!=t&&(0,lt.ZD)(Ut((function(){var o,a;return Ft(this,(function(l){switch(l.label){case 0:
return[4,Promise.all([n.e(40532),n.e(17810),n.e(58169)]).then(n.bind(n,217810))];case 1:o=l.sent(),a=o.default;return[2,function(n){return(0,r.jsx)(a,Bt(Ht({},n),{channelType:e,guildId:t,categoryId:"null"!==i.id?i.id:null}))}]}}))})))}}),[i]),C=(0,u.JA)(i.id),_=(C.role,C.tabIndex),x=Vt(C,["role","tabIndex"]),N=o.useRef(null),T=o.useRef(null),A=(0,r.jsxs)("li",{className:t,"data-dnd-name":i.name,children:[(0,r.jsx)(Xe.tE,{focusTarget:N,ringTarget:T,offset:{left:4,right:4},children:(0,r.jsxs)("div",{ref:T,className:g()(Lt().iconVisibility,Lt().wrapper,(m={},Gt(m,Lt().collapsed,b),Gt(m,Lt().muted,y),Gt(m,Lt().clickable,!0),m)),onContextMenu:j,children:[(0,r.jsxs)(I.Z,Bt(Ht({innerRef:N,className:Lt().mainContent,tabIndex:_},x),{onClick:O,"aria-label":z.Z.Messages.CATEGORY_A11Y_LABEL.format({categoryName:i.name}),"aria-expanded":!b,focusProps:{enabled:!1},children:[p?null:(0,r.jsx)(Tt.Z,{className:Lt().icon}),(0,r.jsx)(Rt.Z,{className:Lt().name,children:(0,r.jsx)(xt.Z,{children:i.name})})]
})),(0,r.jsx)("div",{onClick:Wt,className:Lt().children,children:v&&!s?(0,r.jsx)(w.ZP,{text:z.Z.Messages.CREATE_CHANNEL,children:function(e){var t=e.onMouseEnter,n=e.onMouseLeave;return(0,r.jsx)(wt.Co,{"aria-label":z.Z.Messages.CREATE_CHANNEL,look:wt.Co.Looks.BLANK,size:wt.Co.Sizes.NONE,className:g()(Lt().addButton,Lt().forceVisible),onClick:S,onMouseEnter:t,onMouseLeave:n,tabIndex:_,focusProps:{offset:{top:-3,right:-4,bottom:-3,left:-4}},children:(0,r.jsx)(At.Z,{className:Lt().addButtonIcon})})}}):null})]})}),h]});return null!=l&&null!=a?l(a(A)):A})));var zt=o.memo((function(e){var t=e.name,n=e.onDismiss,o=e.className;return(0,r.jsx)("li",{className:g()(o,Lt().containerDefault),children:(0,r.jsxs)("div",{className:g()(Lt().iconVisibility,Lt().wrapperStatic),children:[(0,r.jsx)("div",{className:Lt().mainContent,children:(0,r.jsx)(Rt.Z,{className:Lt().name,children:(0,r.jsx)(xt.Z,{children:t})})}),null!=n?(0,r.jsx)(w.DY,{text:z.Z.Messages.CLEAR_RECENT_CHANNELS,
className:Lt().dismissWrapper,children:(0,r.jsx)(I.Z,{className:Lt().dismissButton,onClick:n,children:(0,r.jsx)(Nt.Z,{className:Lt().dismiss})})}):null]})})})),Kt=o.memo((function(e){var t=e.category,n=(0,c.e7)([Mt.Z],(function(){return Mt.Z.isVoiceCategoryCollapsed(t.guild.id)})),i=o.useCallback((function(){n?(e=t.guild.id,T.Z.dispatch({type:"VOICE_CATEGORY_EXPAND",guildId:e,expand:!0})):function(e){T.Z.dispatch({type:"VOICE_CATEGORY_COLLAPSE",guildId:e,expand:!1})}(t.guild.id);var e}),[t.guild.id,n]);return n?(0,r.jsxs)(I.Z,{className:Lt().voiceChannelsButton,onClick:i,children:[(0,r.jsx)(Zt.Z,{className:Lt().voiceChannelsToggleIcon,width:16,height:16}),(0,r.jsx)(_.x,{variant:"text-sm/medium",children:z.Z.Messages.VOICE_CHANNELS_CATEGORY_BUTTON_EXPAND})]}):(0,r.jsxs)(I.Z,{className:Lt().voiceChannelsButton,onClick:i,children:[(0,r.jsx)(Zt.Z,{className:Lt().voiceChannelsToggleIcon,width:16,height:16}),(0,r.jsx)(_.x,{variant:"text-sm/medium",
children:z.Z.Messages.VOICE_CHANNELS_CATEGORY_BUTTON_COLLAPSE})]})})),qt=o.memo((function(e){var t=e.category,n=e.channel,o=(0,c.e7)([Mt.Z],(function(){return Mt.Z.isVoiceCategoryCollapsed(t.guild.id)}));return o||null==n||n.record.type===Y.d4z.GUILD_CATEGORY?o?(0,r.jsx)("li",{className:g()(Lt().containerDefault),children:(0,r.jsx)("div",{className:g()(Lt().iconVisibility,Lt().wrapperStatic),children:(0,r.jsx)(Rt.Z,{className:Lt().name,children:(0,r.jsx)(xt.Z,{children:z.Z.Messages.VOICE_CHANNELS_CATEGORY_HEADER})})})}):null:(0,r.jsx)("div",{style:{height:16}})})),Xt=o.memo((function(e){var t=e.channel;return(0,r.jsx)("li",{className:g()(Lt().containerDefault),children:(0,r.jsx)("div",{className:g()(Lt().iconVisibility,Lt().wrapperStatic),children:(0,r.jsx)(Rt.Z,{className:Lt().name,children:(0,r.jsx)(xt.Z,{children:t.name})})})})})),Qt=n(483562),Jt=n(613258),$t=n(64914),en=n(290495),tn=n(756328),nn=n(18416),rn=n(983067),on=n(719455),an=n(73393),ln=n(620741),un=n(318105),cn=n.n(un)
;function sn(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function fn(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){sn(i,r,o,a,l,"next",e)}function l(e){sn(i,r,o,a,l,"throw",e)}a(void 0)}))}}function dn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pn(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function hn(e){hn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return hn(e)}function yn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){pn(e,t,n[t])}))}return e}
function bn(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function vn(e,t){return!t||"object"!==gn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function mn(e,t){mn=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return mn(e,t)}var gn=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function On(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1
;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=hn(e);if(t){var o=hn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return vn(this,n)}}var En=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,
o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function jn(e,t,n){return!(null==t||!t)&&!ft(n,e.type)}function Sn(e,t){return null==t?cn().containerDefault:e>t?cn().containerDragAfter:cn().containerDragBefore}function Cn(e){var t=e.channel,n=e.disableManageChannels,o=e.tabIndex,i=function(){(0,It.Y)()?(0,It.$)("Edit Channel"):Qt.ZP.open(t.id)};return(0,c.e7)([P.Z,Ie.Z],(function(){return n||Ie.Z.getGuildId()===Y.I_8||!P.Z.can(Y.Plq.MANAGE_CHANNELS,t)&&!P.Z.can(Y.Plq.MANAGE_ROLES,t)&&!P.Z.can(Y.Plq.MANAGE_WEBHOOKS,t)||(0,Ee.r8)(t.type)&&!P.Z.can(Y.Plq.VIEW_CHANNEL,t)||t.isGuildVocal()&&!P.Z.can(Y.Plq.CONNECT,t)||!Ee.dF.has(t.type)}))?null:(0,
r.jsx)(w.ZP,{text:z.Z.Messages.EDIT_CHANNEL,spacing:2,children:function(e){var t=e.onMouseEnter,n=e.onMouseLeave,a=e.onFocus,l=e.onBlur;return(0,r.jsx)(I.Z,{className:cn().iconItem,onClick:i,tabIndex:o,"aria-label":z.Z.Messages.EDIT_CHANNEL,onMouseEnter:t,onMouseLeave:n,onFocus:a,onBlur:l,children:(0,r.jsx)(an.Z,{width:16,height:16,className:cn().actionIcon})})}})}function Pn(e){var t=e.channel,o=e.isDefaultChannel,i=void 0!==o&&o,a=e.locked,l=e.tabIndex,u=function(){if(null!=s){var e=nn.Z.getAllActiveStreams().filter((function(e){return e.state!==Y.jm8.ENDED&&e.channelId===t.id}));(0,lt.ZD)(fn((function(){var o,i;return En(this,(function(a){switch(a.label){case 0:return[4,Promise.all([n.e(40532),n.e(15793),n.e(42348),n.e(23647)]).then(n.bind(n,715793))];case 1:o=a.sent(),i=o.default;return[2,function(n){return(0,r.jsx)(i,bn(yn({},n),{guild:s,channel:t,streamUserId:1===e.length?e[0].ownerId:null,source:Y.t4x.GUILD_CHANNELS,guildScheduledEvent:d}))}]}}))})))}},s=(0,
c.e7)([at.Z],(function(){return at.Z.getGuild(t.getGuildId())})),f=(0,c.e7)([tn.Z],(function(){return tn.Z.getStageInstanceByChannel(t.id)}),[t.id]),d=(0,c.e7)([Jt.ZP],(function(){return Jt.ZP.getActiveEventByChannel(t.id)}),[t.id]),p=(0,c.e7)([P.Z],(function(){return(0,$t.b)(P.Z,s,t,f)})),h=(0,c.e7)([P.Z],(function(){return P.Z.can(Y.Plq.CREATE_INSTANT_INVITE,t)?z.Z.Messages.CREATE_INSTANT_INVITE:z.Z.Messages.INVITE_TO_SERVER}));if(a||!p)return null;var y=(0,r.jsx)(ln.Z,{width:16,height:16,className:cn().actionIcon,"aria-hidden":!0});i&&(y=(0,r.jsx)(ge.Z,{tutorialId:"instant-invite",position:_e.q_.LEFT,children:(0,r.jsx)("div",{children:y})}));return(0,r.jsx)(w.ZP,{text:h,spacing:2,children:function(e){return(0,r.jsx)(I.Z,bn(yn({className:cn().iconItem},e),{onClick:u,tabIndex:l,"aria-label":h,children:y}))}})}function In(e){var t=e.channel,n=function(){(0,en._U)(t.guild_id,t.id)};return(0,r.jsx)(w.ZP,{text:z.Z.Messages.REMOVE_FAVORITE_SUGGESTION,spacing:2,children:function(e){
return(0,r.jsx)(I.Z,bn(yn({className:cn().iconItem},e),{onClick:n,"aria-label":z.Z.Messages.REMOVE_FAVORITE_SUGGESTION,children:(0,r.jsx)(on.Z,{width:16,height:16,className:cn().actionIcon})}))}})}function _n(e){var t=e.channel,n=function(){(0,en.dM)(t.guild_id,t.id,!0,{section:Y.jXE.CHANNEL_LIST})};return(0,r.jsx)(w.ZP,{text:z.Z.Messages.ADD_FAVORITE,spacing:2,children:function(e){return(0,r.jsx)(I.Z,bn(yn({className:cn().iconItem},e),{onClick:n,"aria-label":z.Z.Messages.ADD_FAVORITE,children:(0,r.jsx)(rn.Z,{width:16,height:16,className:cn().actionIcon})}))}})}var wn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&mn(e,t)}(n,e);var t=On(n);function n(){dn(this,n);return t.apply(this,arguments)}var o=n.prototype;o.renderEditButton=function(){return(0,r.jsx)(Cn,yn({},this.props))}
;o.renderInviteButton=function(){return(0,r.jsx)(Pn,yn({},this.props))};o.renderRemoveSuggestionButton=function(){return(0,r.jsx)(In,yn({},this.props))};o.renderAcceptSuggestionButton=function(){return(0,r.jsx)(_n,yn({},this.props))};o.getClassName=function(){var e=this.props;return Sn(e.position,e.sortingPosition)};o.isDisabled=function(){var e=this.props;return jn(e.channel,e.sorting,e.sortingType)};return n}(o.PureComponent);wn.defaultProps={isDefaultChannel:!1};var xn=n(298586);function Nn(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function Tn(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Nn(i,r,o,a,l,"next",e)}function l(e){Nn(i,r,o,a,l,"throw",e)}a(void 0)}))}}function An(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Zn(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var Rn=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],
done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};var Mn=Pt((function(e){var t,o=e.channel,i=e.guild,a=e.selected,l=e.position,u=e.disableManageChannels,s=e.sorting,f=e.sortingType,d=e.sortingPosition,p=e.connectChannelDragSource,h=e.connectChannelDropTarget,y=e.tabIndex,b=(0,c.e7)([se.Z],(function(){return se.Z.getChannel(o.parent_id)})),v=(0,c.e7)([P.Z],(function(){return null!=b?P.Z.can(Y.Plq.MANAGE_CHANNELS,b):null!=i&&P.Z.can(Y.Plq.MANAGE_CHANNELS,i)})),m=Sn(l,d),O=jn(o,s,f),j=(0,r.jsx)("div",{className:g()(m,(t={},An(t,cn().disabled,O),
An(t,cn().selected,a),t)),"data-dnd-name":o.name,children:(0,r.jsxs)(xn.Z,{className:cn().iconVisibility,channel:o,guild:i,selected:a,onContextMenu:function(e){(0,E.jW)(e,Tn((function(){var e,t;return Rn(this,(function(i){switch(i.label){case 0:return[4,n.e(8477).then(n.bind(n,408477))];case 1:e=i.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,Zn(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){An(e,t,n[t])}))}return e}({},e),{channel:o}))}]}}))})))},forceInteractable:!0,children:[(0,r.jsx)(Pn,{channel:o,tabIndex:y}),(0,r.jsx)(Cn,{channel:o,disableManageChannels:u,tabIndex:y})]})});v&&(j=h(p(j)));return j}));const Dn=Mn;var Ln=n(820028),kn=n(832010),Un=n(635940),Gn=n(153445),Hn=n(655695),Bn=n(263154),Vn=(n(429020),
n(226300)),Fn=n(35236),Wn=n(571746),Yn=n.n(Wn),zn=n(887630),Kn=n.n(zn);function qn(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Xn(e){var t=e.guild,n=e.selected,i=(0,Gn.Z)(t),a=(0,Un.wE)(Ln.z$.CHANNEL_BROWSER_NEW_BADGE_NUX),l=o.useCallback((function(){(0,Hn.uL)(Y.Z5c.CHANNEL(t.id,i?Fn.oC.CUSTOMIZE_COMMUNITY:Fn.oC.CHANNEL_BROWSER))}),[t.id,i]),u=null;a||(u=(0,r.jsx)(Vn.IG,{color:(0,kn.Lq)(Y.Ilk.BRAND_260),text:z.Z.Messages.NEW,className:Yn().newChannel}));return(0,r.jsx)("div",{className:g()(cn().containerDefault,qn({},cn().selected,n)),children:(0,r.jsx)("div",{className:g()(cn().iconVisibility,Kn().wrapper,qn({},Kn().modeSelected,n)),children:(0,r.jsx)("div",{className:Kn().content,children:(0,r.jsxs)(I.Z,{className:Kn().mainContent,onClick:l,children:[(0,r.jsx)("div",{className:Kn().iconContainer,children:(0,r.jsx)(Bn.Z,{className:Kn().icon})}),(0,r.jsx)("div",{className:Kn().name,
children:i?z.Z.Messages.CHANNELS_AND_ROLES:z.Z.Messages.CHANNEL_BROWSER_TITLE}),u]})})})})}var Qn=n(642400),Jn=n(86046),$n=n(647349),er=n(977898);function tr(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function nr(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){tr(i,r,o,a,l,"next",e)}function l(e){tr(i,r,o,a,l,"throw",e)}a(void 0)}))}}function rr(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function or(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){rr(e,t,n[t])}))}return e}function ir(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var ar=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],
done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function lr(e){var t=e.guild,i=e.selected,a=(0,u.JA)("home-tab-".concat(t.id)),l=Be.bO.useExperiment({}).showBadge;o.useEffect((function(){Be.bO.trackExposure({})}),[]);var s,f=(0,c.e7)([Pe.ZP],(function(){return Pe.ZP.hasUnread(t.id,er.W.GUILD_HOME)&&l}),[t.id,l]);return(0,r.jsxs)("div",{className:g()(cn().iconVisibility,Kn().wrapper,(s={},rr(s,Kn().modeSelected,i),rr(s,Kn().modeUnread,f),s)),children:[f&&!i&&(0,r.jsx)("div",{className:g()(Kn().unread,Kn().unreadRelevant)}),(0,r.jsx)("div",{
className:Kn().content,children:(0,r.jsxs)(I.Z,ir(or({},a),{className:Kn().mainContent,onClick:function(){(0,Jn.X)(t.id);(0,Hn.uL)(Y.Z5c.CHANNEL(t.id,Fn.oC.GUILD_HOME))},onContextMenu:function(e){(0,E.jW)(e,nr((function(){var e,o;return ar(this,(function(i){switch(i.label){case 0:return[4,n.e(72097).then(n.bind(n,772097))];case 1:e=i.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,ir(or({},e),{guildId:t.id}))}]}}))})))},onMouseDown:function(){Qn.Z.preload(t.id,Fn.oC.GUILD_HOME)},children:[(0,r.jsx)("div",{className:Kn().iconContainer,children:(0,r.jsx)($n.Z,{className:Kn().icon})}),(0,r.jsx)("div",{className:Kn().name,children:z.Z.Messages.GUILD_HOME})]}))})]})}var ur=n(146458);function cr(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function sr(e){var t=e.guild,n=e.selected;return(0,r.jsx)("div",{className:g()(cn().containerDefault,cr({},cn().selected,n)),children:(0,r.jsx)("div",{
className:g()(cn().iconVisibility,Kn().wrapper,cr({},Kn().modeSelected,n)),children:(0,r.jsx)("div",{className:Kn().content,children:(0,r.jsxs)(I.Z,{className:Kn().mainContent,onClick:function(){(0,Hn.uL)(Y.Z5c.CHANNEL(t.id,Fn.oC.MEMBER_APPLICATIONS))},children:[(0,r.jsx)("div",{className:Kn().iconContainer,children:(0,r.jsx)(ur.Z,{className:Kn().icon,width:24,height:24})}),(0,r.jsx)("div",{className:Kn().name,children:z.Z.Messages.MEMBER_VERIFICATION_MEMBER_APPLICATIONS})]})})})})}var fr=n(989928),dr=n(420202);function pr(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function hr(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){pr(i,r,o,a,l,"next",e)}function l(e){pr(i,r,o,a,l,"throw",e)}a(void 0)}))}}function yr(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function br(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var vr=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],
done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function mr(e){var t=e.guild,o=e.selected;return(0,r.jsx)("div",{className:g()(cn().containerDefault,yr({},cn().selected,o)),children:(0,r.jsx)("div",{className:g()(cn().iconVisibility,Kn().wrapper,yr({},Kn().modeSelected,o)),children:(0,r.jsx)("div",{className:Kn().content,children:(0,r.jsxs)(I.Z,{className:Kn().mainContent,onClick:function(){(0,Hn.uL)(Y.Z5c.CHANNEL(t.id,Fn.oC.ROLE_SUBSCRIPTIONS))},onContextMenu:function(e){null!=t&&(0,E.jW)(e,hr((function(){var e,o
;return vr(this,(function(i){switch(i.label){case 0:return[4,n.e(1200).then(n.bind(n,901200))];case 1:e=i.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,br(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){yr(e,t,n[t])}))}return e}({},e),{guild:t}))}]}}))})))},children:[(0,r.jsx)("div",{className:Kn().iconContainer,children:(0,r.jsx)(fr.Z,{className:Kn().icon,color:o?dr.JX.CREATOR_REVENUE:void 0})}),(0,r.jsx)("div",{className:Kn().name,children:z.Z.Messages.GUILD_ROLE_SUBSCRIPTIONS_CHANNEL_LABEL})]})})})})}var gr=n(672549),Or=n(668479),Er=n(665357);function jr(e){return null!=e&&e>0}var Sr=n(481897),Cr=n.n(Sr);function Pr(e){var t=e.mentionsCount;return(0,r.jsx)("div",{className:Cr().mentionsBadge,"aria-hidden":!0,children:(0,
r.jsx)(Vn.mA,{count:t})})}var Ir=n(504003);function _r(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function wr(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){_r(i,r,o,a,l,"next",e)}function l(e){_r(i,r,o,a,l,"throw",e)}a(void 0)}))}}function xr(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Nr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){xr(e,t,n[t])}))}return e}function Tr(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e)
;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Ar(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}var Zr=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){
if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function Rr(e){var t,i=e.thread,a=e.selected,l=(0,c.cj)([Pe.ZP],(function(){return{unread:Pe.ZP.hasUnread(i.id),mentionCount:Pe.ZP.getMentionCount(i.id)}})),s=l.unread,f=l.mentionCount,d=(0,
c.e7)([Or.Z],(function(){return Or.Z.isMuted(i.id)})),p=o.useCallback((function(e){e.shiftKey?(0,Er.ok)(i):(0,gr.ad)(i,Ir.on.CHANNEL_LIST)}),[i]),h=o.useCallback((function(){Qn.Z.preload(i.guild_id,i.id)}),[i.guild_id,i.id]),y=o.useCallback((function(e){var t=se.Z.getChannel(i.id);null!=t&&(0,E.jW)(e,wr((function(){var e,o;return Zr(this,(function(i){switch(i.label){case 0:return[4,n.e(98412).then(n.bind(n,669102))];case 1:e=i.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,Tr(Nr({},e),{channel:t}))}]}}))})))}),[i.id]),b=(0,u.JA)(i.id),v=b.role,m=Ar(b,["role"]),O=o.useRef(null),j=o.useRef(null),S=f>0?z.Z.Messages.GUILD_SIDEBAR_THREAD_A11Y_LABEL_WITH_MENTIONS.format({channelName:i.name,mentionCount:f}):s?z.Z.Messages.GUILD_SIDEBAR_THREAD_A11Y_LABEL_WITH_UNREADS.format({channelName:i.name}):z.Z.Messages.GUILD_SIDEBAR_THREAD_A11Y_LABEL.format({channelName:i.name});return(0,r.jsx)("li",{role:v,className:g()(cn().containerDefault,xr({},cn().selected,a)),children:(0,r.jsx)(Xe.tE,{
focusTarget:O,ringTarget:j,offset:{top:2,bottom:2,right:4},children:(0,r.jsxs)("div",{className:g()(cn().iconVisibility,Kn().wrapper,Kn().typeThread,(t={},xr(t,Kn().modeSelected,a),xr(t,Kn().modeMuted,!a&&d),xr(t,Kn().modeUnread,!d&&!a&&s),t)),onMouseDown:h,onContextMenu:y,children:[!s||d||a?null:(0,r.jsx)("div",{className:g()(Kn().unread,Kn().unreadRelevant)}),(0,r.jsx)("div",{className:Kn().content,ref:j,children:(0,r.jsxs)(I.Z,Tr(Nr({innerRef:O,className:g()(Kn().mainContent,Kn().threadMainContent),onClick:p},m),{"aria-label":S,focusProps:{enabled:!1},children:[(0,r.jsx)(xt.Z,{className:g()(Kn().name,Kn().channelName),"aria-hidden":!0,children:i.name}),(0,r.jsx)("div",{className:Kn().children,children:jr(f)?(0,r.jsx)(Pr,{mentionsCount:f}):null})]}))})]})})})}const Mr=o.memo(Rr);var Dr=n(195837),Lr=n.n(Dr);function kr(e){for(var t=e.channel,n=e.selectedChannel,o=e.sortedThreadIds,i=(0,c.Wu)([se.Z],(function(){return o.map((function(e){return se.Z.getChannel(e)})).filter(de.lm)
}),[o]),a=1===i.length?Gr:2===i.length?Hr:Br,l=[],u=i.length-3;u>0;u--)l.push((0,r.jsx)(Br,{style:{top:"".concat(8+34*u,"px")}},u));return(0,r.jsxs)("li",{className:Lr().container,children:[(0,r.jsx)(a,{}),l,(0,r.jsx)("ul",{role:"group","aria-label":z.Z.Messages.THREAD_GROUP_A11Y_LABEL.format({channelName:t.name}),children:i.map((function(e){return(0,r.jsx)(Mr,{thread:e,selected:(null==n?void 0:n.id)===e.id},e.id)}))})]})}const Ur=o.memo(kr);var Gr=function(){return(0,r.jsx)("svg",{className:Lr().spine,width:"12",height:"11",viewBox:"0 0 12 11",fill:"none","aria-hidden":!0,children:(0,r.jsx)("path",{d:"M11 9H4C2.89543 9 2 8.10457 2 7V1C2 0.447715 1.55228 0 1 0C0.447715 0 0 0.447715 0 1V7C0 9.20914 1.79086 11 4 11H11C11.5523 11 12 10.5523 12 10C12 9.44771 11.5523 9 11 9Z",fill:"currentColor"})})},Hr=function(){return(0,r.jsx)("svg",{className:Lr().spine,width:"12",height:"45",viewBox:"0 0 12 45",fill:"none","aria-hidden":!0,children:(0,r.jsx)("path",{
d:"M2 1C2 0.447715 1.55228 0 1 0C0.447715 0 0 0.447715 0 1V41C0 43.2091 1.79086 45 4 45H11C11.5523 45 12 44.5523 12 44C12 43.4477 11.5523 43 11 43H4C2.89543 43 2 42.1046 2 41V13C2 11.8954 2.89543 11 4 11H11C11.5523 11 12 10.5523 12 10C12 9.44771 11.5523 9 11 9H4C2.89543 9 2 8.10457 2 7V1Z",fill:"currentColor"})})},Br=function(e){var t=e.style;return(0,r.jsx)("svg",{className:Lr().spine,width:"12",height:"79",viewBox:"0 0 12 79",fill:"none",style:t,"aria-hidden":!0,children:(0,r.jsx)("path",{d:"M1 0C0.447715 0 0 0.447713 0 0.999998V75C0 77.2091 1.79086 79 4 79H11C11.5523 79 12 78.5523 12 78C12 77.4477 11.5523 77 11 77H4C2.89543 77 2 76.1046 2 75V47C2 45.8954 2.89543 45 4 45H11C11.5523 45 12 44.5523 12 44C12 43.4477 11.5523 43 11 43H4C2.89543 43 2 42.1046 2 41V13C2 11.8954 2.89543 11 4 11H11C11.5523 11 12 10.5523 12 10C12 9.44771 11.5523 9 11 9H4C2.89543 9 2 8.10457 2 7V1C2 0.447715 1.55228 0 1 0Z",fill:"currentColor"})})
},Vr=n(825524),Fr=n(401953),Wr=n(175045),Yr=n(852007),zr=n(338588),Kr=n(594743),qr=n(631134),Xr=n(975906);var Qr,Jr=n(171452);!function(e){e[e.NORMAL=0]="NORMAL";e[e.START_EVENT=1]="START_EVENT"}(Qr||(Qr={}));function $r(e){var t=(0,Jr.Z)(e),n=function(e){return(0,c.e7)([Xr.ZP,qr.default],(function(){var t=qr.default.getId();return Xr.ZP.getPermissionsForUser(t,e)}),[e])}(e).moderator;return!t&&n?Qr.START_EVENT:Qr.NORMAL}var eo=n(322928),to=n(243256),no=n(882687),ro=n(170161),oo=n(245662),io=n(966275),ao=n(393109),lo=n(166813),uo=n.n(lo);function co(e){var t=e.locked;return(0,r.jsx)("div",{className:g()(cn().iconItem,uo().premiumChannelIcon),children:(0,r.jsx)(ao.Z,{className:cn().actionIcon,useGradient:t})})}var so=n(357085),fo=n(124871);var po=n(511390);function ho(e){var t=e.channel,n=e.locked,r=e.video,o=e.selected,i=(0,po.Z)(t).limit,a=-1;t.userLimit>0&&(a=t.userLimit);r&&i>0&&(a=a>0?Math.min(a,i):i);return a>0&&!n&&!o}var yo=n(795138),bo=n(701197),vo=n(118637),mo=n.n(vo)
;function go(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Oo(e){var t,n=e.total,o=e.users,i=e.videoLimit;return(0,r.jsxs)("div",{className:mo().wrapper,children:[(0,r.jsxs)("span",{className:g()(mo().users,(t={},go(t,mo().video,i),go(t,mo().extraLong,o>=100),t)),children:[i?(0,r.jsx)(bo.Z,{className:mo().videoIcon}):null,o.toString().padStart(2,"0")]}),(0,r.jsx)("span",{className:g()(mo().total,go({},mo().extraLong,n>=100)),children:n.toString().padStart(2,"0")})]})}function Eo(e){var t=e.channel,n=e.video,o=e.userCount,i=(0,po.Z)(t).limit,a=-1,l=!1;t.userLimit>0&&(a=t.userLimit);if(n&&i>0){l=a<0||i<a;a=a>0?Math.min(a,i):i}return(0,r.jsx)(Oo,{users:o,total:a,videoLimit:l})}function jo(e){var t,n=e.channel,o=e.highlighted,i=e.isChannelSelected,a=e.isChannelCollapsed,l=e.voiceStates,u=e.enableConnectedUserLimit,s=e.enableActivities,f=e.isSubscriptionGated,d=e.needSubscriptionToAccess,p=e.isNewChannel,h=(0,
c.e7)([Pe.ZP],(function(){return Pe.ZP.getMentionCount(n.id)})),y=(0,oo.Z)(n),b=(0,c.e7)([P.Z],(function(){return!P.Z.can(Y.Plq.CONNECT,n)})),v=(0,c.e7)([no.Z],(function(){return no.Z.hasVideo(n.id)})),m=ho({channel:n,locked:b,video:v,selected:i}),g=(0,so.ar)();if(jr(h))return(0,r.jsx)(Pr,{mentionsCount:h});if(p)return(0,r.jsx)(Vn.IG,{text:z.Z.Messages.NEW,color:(0,kn.Lq)(Y.Ilk.BRAND_260),className:Yn().newChannel});if(o)return(0,r.jsx)(io.Z,{width:16,height:16});var O=null!==(t=null==l?void 0:l.length)&&void 0!==t?t:0;return null!=u&&u&&m?(0,r.jsx)(Eo,{userCount:O,video:v,channel:n}):g&&a&&(0,fo.a)(l)?(0,r.jsx)(Vn.IG,{text:z.Z.Messages.LIVE,color:(0,kn.Lq)(Y.Ilk.STATUS_RED_500)}):null!=s&&s&&function(e){return e.length>0}(y)?(0,r.jsx)(yo.Z,{embeddedApps:y}):f?(0,r.jsx)(co,{locked:d}):null}var So=n(443785),Co=n(733346),Po=n(294061),Io=n.n(Po);function _o(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function wo(e){
return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){_o(i,r,o,a,l,"next",e)}function l(e){_o(i,r,o,a,l,"throw",e)}a(void 0)}))}}function xo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function No(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function To(e){To=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return To(e)}function Ao(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){No(e,t,n[t])}))}return e}function Zo(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Ro(e,t){return!t||"object"!==Do(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Mo(e,t){Mo=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Mo(e,t)}var Do=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Lo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{
Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=To(e);if(t){var o=To(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ro(this,n)}}var ko=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0
;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},Uo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Mo(e,t)}(o,e);var t=Lo(o);function o(){xo(this,o);var e;(e=t.apply(this,arguments)).handleClick=function(){var t=e.props,n=t.channel,r=t.connectAction,o=t.locked,i=t.connected;o||i||(0,zr.Cq)(n);__OVERLAY__||(0,gr.Kh)(n.id);switch(r){case Qr.NORMAL:case Qr.START_EVENT:}};e.handleClickChat=function(){var t=e.props,n=t.channel,r=t.locked;__OVERLAY__||r||(0,gr.Kh)(n.id)};e.handleContextMenu=function(t){
var o=e.props.channel,i=at.Z.getGuild(o.getGuildId());null!=i&&(0,E.jW)(t,wo((function(){var e,t;return ko(this,(function(a){switch(a.label){case 0:return[4,Promise.all([n.e(87996),n.e(57501),n.e(2464),n.e(13277)]).then(n.bind(n,213277))];case 1:e=a.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,Zo(Ao({},e),{channel:o,guild:i}))}]}}))})))};e.renderOpenChatButton=function(){var t=e.props,n=t.channel,o=t.locked;if(n.isGuildStageVoice()&&(0,eo.Og)(n.guild_id)&&!o)return(0,r.jsx)(w.ZP,{text:z.Z.Messages.OPEN_CHAT,spacing:2,children:function(t){var o=t.onMouseEnter,i=t.onMouseLeave,a=t.onFocus,l=t.onBlur;return(0,r.jsx)(I.Z,{className:g()(cn().iconItem,cn().openChatIconItem),onClick:function(){Vr.Z.updateChatOpen(n.id,!0);e.handleClickChat()},"aria-label":z.Z.Messages.OPEN_CHAT,onMouseEnter:o,onMouseLeave:i,onFocus:a,onBlur:l,children:(0,r.jsx)(ro.Z,{width:16,height:16,className:cn().actionIcon})})}})};return e}var i=o.prototype;i.getVoiceStatesCount=function(){
var e,t=this.props.voiceStates;return null!==(e=null==t?void 0:t.length)&&void 0!==e?e:0};i.isFull=function(){var e=this.props.channel;return(0,Ze.rY)(e,no.Z,at.Z)};i.getModeClass=function(){var e=this.props,t=e.position,n=e.sortingPosition;return e.isUserOver?cn().containerUserOver:null!=n?t>n?cn().containerDragAfter:cn().containerDragBefore:cn().containerDefault};i.renderVoiceUsers=function(){var e=this.props,t=e.channel,n=e.collapsed,o=e.tabIndex,i=e.speakerVoiceStates,a=e.numAudience;return(0,r.jsx)(So.Z,{channel:t,voiceStates:i,collapsed:n,tabIndex:o,location:Y.Sbl.GUILD_CHANNEL_LIST,numAudience:a})};i.renderChannelInfo=function(){var e=this.props,t=e.channel,n=e.selected,o=e.collapsed,i=e.isSubscriptionGated,a=e.needSubscriptionToAccess;return(0,r.jsx)("div",{className:Io().channelInfo,children:(0,r.jsx)(jo,{channel:t,highlighted:!1,isChannelSelected:n,isChannelCollapsed:o,isSubscriptionGated:i,needSubscriptionToAccess:a})})};i.render=function(){
var e=this.props,t=e.channel,n=e.selected,o=e.connected,i=e.locked,a=e.connectChannelDropTarget,l=e.connectChannelDragSource,u=e.connectUserDropTarget,c=e.connectDragPreview,s=e.canReorderChannel,f=e.canMoveMembers,d=e.stageInstance,p=e.isSubscriptionGated,h=e.needSubscriptionToAccess,y=e.isFavoriteSuggestion,b=(0,r.jsxs)("li",{className:g()(this.getModeClass(),No({},cn().disabled,this.isDisabled())),"data-dnd-name":t.name,children:[(0,r.jsxs)(xn.Z,{className:cn().iconVisibility,iconClassName:g()(No({},Io().iconLive,null!=d)),channel:t,selected:!y&&n,connected:o,locked:i,onClick:this.handleClick,onContextMenu:this.handleContextMenu,connectDragPreview:c,subtitle:null==d?void 0:d.topic,isFavoriteSuggestion:y,"aria-label":(0,Wr.Z)({channel:t,isSubscriptionGated:p,needSubscriptionToAccess:h}),
children:[y&&this.renderAcceptSuggestionButton(),y&&this.renderRemoveSuggestionButton(),!y&&this.renderOpenChatButton(),!y&&this.renderInviteButton(),!y&&this.renderEditButton(),!y&&this.renderChannelInfo()]}),this.renderVoiceUsers()]});f&&(b=u(b));s&&(b=a(l(b)));return b};return o}(wn),Go=Pt((0,Fr.Q)(Uo));function Ho(e){var t=e.guild,n=e.channel,o=e.disableSorting,i=e.isFavoriteCategory,a=(0,c.cj)([se.Z,to.Z,P.Z],(function(){var e=se.Z.getChannel(n.parent_id),r=to.Z.getCheck(n.guild_id);return{canManageChannel:null!=t&&P.Z.can(Y.Plq.MANAGE_CHANNELS,n),canReorderChannel:!0!==o&&(t.id===Co._||(null!=e?P.Z.can(Y.Plq.MANAGE_CHANNELS,e):P.Z.can(Y.Plq.MANAGE_CHANNELS,t))),canMoveMembers:P.Z.can(Y.Plq.MOVE_MEMBERS,n),locked:!P.Z.can(Y.Plq.CONNECT,n),bypassLimit:P.Z.can(Y.Plq.MOVE_MEMBERS,n),unverifiedAccount:!r.canChat}})),l=(0,c.e7)([ot.Z],(function(){return ot.Z.isCollapsed(n.parent_id)})),u=$r(n.id),s=(0,c.e7)([tn.Z],(function(){return tn.Z.getStageInstanceByChannel(n.id)}),[n.id]),f=(0,
Kr.Rk)(n.id,he.pV.AUDIENCE),d=(0,Yr.Z)(n.id),p=d.isSubscriptionGated,h=d.needSubscriptionToAccess,y=(0,c.e7)([_t.Z],(function(){return _t.Z.isFavorite(t.id,n.id)}));return(0,r.jsx)(Go,Zo(Ao({categoryCollapsed:l},a,e),{connectAction:u,numAudience:f,stageInstance:s,isSubscriptionGated:p,needSubscriptionToAccess:h,isFavoriteSuggestion:i&&!y}))}function Bo(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function Vo(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Bo(i,r,o,a,l,"next",e)}function l(e){Bo(i,r,o,a,l,"throw",e)}a(void 0)}))}}function Fo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wo(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Yo(e){Yo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)}
;return Yo(e)}function zo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Wo(e,t,n[t])}))}return e}function Ko(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function qo(e,t){return!t||"object"!==Qo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}
function Xo(e,t){Xo=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Xo(e,t)}var Qo=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Jo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Yo(e);if(t){var o=Yo(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return qo(this,n)}}var $o=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,
r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function ei(e){var t=e.getGuildId();if(null==t)throw new Error("TextChannel, transitionTo: Channel does not have a guildId");(0,Hn.uL)(Y.Z5c.CHANNEL(t,e.id),{state:{analyticsSource:{page:Y.ZY5.GUILD_CHANNEL,section:Y.jXE.CHANNEL_LIST,object:Y.qAy.CHANNEL}}})}function ti(e,t){
var n=t.getGuildId();if(null==n)throw new Error("TextChannel, preloadChannel: Channel does not have a guildId");Qn.Z.preload(n,t.id)}var ni=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Xo(e,t)}(o,e);var t=Jo(o);function o(){Fo(this,o);var e;(e=t.apply(this,arguments)).handleContextMenu=function(t){var o=e.props.channel,i=at.Z.getGuild(o.getGuildId());null!=i&&(0,E.jW)(t,Vo((function(){var e,t;return $o(this,(function(a){switch(a.label){case 0:return[4,n.e(30847).then(n.bind(n,130847))];case 1:e=a.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,Ko(zo({},e),{channel:o,guild:i}))}]}}))})))};e.handleClick=function(e){ei(e)};return e}o.prototype.render=function(){
var e=this.props,t=e.channel,n=e.selected,o=e.connectChannelDropTarget,i=e.connectChannelDragSource,a=e.connectDragPreview,l=e.canReorderChannel,u=(0,r.jsx)("li",{className:g()(this.getClassName(),Wo({},cn().disabled,this.isDisabled())),"data-dnd-name":t.name,children:(0,r.jsxs)(xn.Z,{className:cn().iconVisibility,channel:t,selected:n,onClick:this.handleClick,onMouseDown:ti,onContextMenu:this.handleContextMenu,connectDragPreview:l?a:null,"aria-label":(0,Wr.Z)({channel:t}),children:[this.renderInviteButton(),this.renderEditButton()]})});return l?o(i(u)):u};return o}(wn),ri=Pt(ni);const oi=o.memo((function(e){var t=e.channel,n=e.guild,o=e.disableSorting,i=(0,c.cj)([se.Z,P.Z],(function(){var e=se.Z.getChannel(t.parent_id);return{canManageChannel:P.Z.can(Y.Plq.MANAGE_CHANNELS,t),canReorderChannel:!0!==o&&null!=e?P.Z.can(Y.Plq.MANAGE_CHANNELS,e):P.Z.can(Y.Plq.MANAGE_CHANNELS,n)}}));return(0,r.jsx)(ri,zo({},i,e))}));function ii(e){if(null==e)return null;switch(e.type){case"new-threads":
return{color:"text-brand",subtitle:z.Z.Messages.NEW_FORUM_POST_COUNT.format({count:e.count})};case"active-threads":return{subtitle:z.Z.Messages.ACTIVE_FORUM_POST_COUNT.format({count:e.count})};case"embedded-activities":case"event":return{subtitle:e.name};case"go-live":return{subtitle:z.Z.Messages.GO_LIVE_SUBTITLE}}}var ai=n(789105),li=n(26271),ui=n(551821),ci=n(859023),si=n(761434),fi=n(688087),di=n(577028),pi=n(437803),hi=n(917870),yi=n(346529),bi=n(690195),vi=n.n(bi);function mi(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function gi(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){mi(i,r,o,a,l,"next",e)}function l(e){mi(i,r,o,a,l,"throw",e)}a(void 0)}))}}function Oi(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var Ei=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1]
;return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}}
;function ji(e){var t=e.channel,i=(0,c.Wu)([di.Z,Pe.ZP,P.Z],(function(){var e=di.Z.getActiveJoinedRelevantThreadsForParent(t.guild_id,t.id);return a()(di.Z.getActiveJoinedThreadsForParent(t.guild_id,t.id)).values().map((function(e){return e.channel})).concat(a().values(di.Z.getActiveUnjoinedThreadsForParent(t.guild_id,t.id))).filter((function(t){return!(t.id in e)&&P.Z.can(Y.Plq.VIEW_CHANNEL,t)})).sort((function(e,t){var n=Pe.ZP.lastMessageId(e.id),r=Pe.ZP.lastMessageId(t.id);return yi.Z.compare(n,r)})).reverse().value()}));o.useEffect((function(){(0,pi.q)()}),[]);return(0,r.jsxs)("div",{className:vi().popout,children:[(0,r.jsx)(_.x,{className:vi().title,variant:"text-xs/bold",color:"header-secondary",children:z.Z.Messages.ACTIVE_THREADS_POPOUT_HEADER}),i.slice(0,3).map((function(e){return(0,r.jsx)(Si,{thread:e},e.id)})),(0,r.jsx)(I.Z,{className:vi().more,onClick:function(){(0,lt.ZD)(gi((function(){var e,o;return Ei(this,(function(i){switch(i.label){case 0:
return[4,Promise.all([n.e(40532),n.e(40397)]).then(n.bind(n,781009))];case 1:e=i.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Oi(e,t,n[t])}))}return e}({channel:t},e))}]}}))})))},children:(0,r.jsx)(_.x,{variant:"text-sm/normal",color:"none",children:z.Z.Messages.ACTIVE_THREADS_POPOUT_LINK})})]})}function Si(e){var t=e.thread,n=(0,c.e7)([ci.default],(function(){return ci.default.getUser(t.ownerId)})),o=(0,pi.Ye)(yi.Z.extractTimestamp(Pe.ZP.lastMessageId(t.id)));return(0,r.jsxs)(I.Z,{className:vi().row,onClick:function(e){e.shiftKey?(0,Er.ok)(t):(0,gr.ad)(t,Ir.on.POPOUT)},children:[null==n?(0,r.jsx)("img",{className:vi().avatar,src:hi.ZP.getDefaultAvatarURL(),alt:""}):(0,
r.jsx)(fi.Z,{className:vi().avatar,user:n,size:fi.u.SIZE_16}),(0,r.jsx)(_.x,{className:vi().name,variant:"text-sm/normal",color:"none",children:t.name}),(0,r.jsxs)(_.x,{className:vi().timestamp,variant:"text-sm/normal",color:"none",children:[(0,r.jsx)("span",{className:vi().bullet,children:""}),o]})]})}function Ci(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function Pi(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Ci(i,r,o,a,l,"next",e)}function l(e){Ci(i,r,o,a,l,"throw",e)}a(void 0)}))}}function Ii(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _i(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function wi(e){wi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return wi(e)}function xi(e){
for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){_i(e,t,n[t])}))}return e}function Ni(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Ti(e,t){return!t||"object"!==Zi(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ai(e,t){
Ai=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Ai(e,t)}var Zi=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Ri(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=wi(e);if(t){var o=wi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ti(this,n)}}var Mi=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,
r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},Di=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Ai(e,t)}(o,e);var t=Ri(o);function o(){Ii(this,o);var e
;(e=t.apply(this,arguments)).state={shouldShowThreadsPopout:!1};e.enterTimer=0;e.exitTimer=0;e.handleMouseEnter=function(){e.resetThreadPopoutTimers();e.enterTimer=setTimeout((function(){e.setState({shouldShowThreadsPopout:!0})}),200)};e.handleMouseLeave=function(){e.resetThreadPopoutTimers();e.exitTimer=setTimeout((function(){e.state.shouldShowThreadsPopout&&e.setState({shouldShowThreadsPopout:!1})}),250)};e.handleThreadsPopoutClose=function(){e.resetThreadPopoutTimers();e.setState({shouldShowThreadsPopout:!1})};e.handleMouseDown=function(){e.handleThreadsPopoutClose();var t=e.props,n=t.channel,r=t.highlighted,o=n.getGuildId();Qn.Z.preload(null!=o?o:Y.ME,n.id,r)};e.renderThreadsPopout=function(t){return(0,r.jsx)(ji,Ni(xi({},t),{channel:e.props.channel}))};e.handleContextMenu=function(t){var o=e.props.channel;if(o.type!==Y.d4z.GROUP_DM)if(o.type!==Y.d4z.DM){var i=at.Z.getGuild(o.getGuildId());null!=i&&(0,E.jW)(t,Pi((function(){var e,t;return Mi(this,(function(a){switch(a.label){case 0:
return[4,Promise.all([n.e(87996),n.e(57501),n.e(2464),n.e(22619)]).then(n.bind(n,922619))];case 1:e=a.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,Ni(xi({},e),{channel:o,guild:i}))}]}}))})))}else{var a=ci.default.getUser(o.getRecipientId());null!=a&&(0,E.jW)(t,Pi((function(){var e,t;return Mi(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(87996),n.e(45323),n.e(63952)]).then(n.bind(n,281327))];case 1:e=i.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,Ni(xi({},e),{user:a,channel:o,showModalItems:!1}))}]}}))})))}else(0,E.jW)(t,Pi((function(){var e,t;return Mi(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(87996),n.e(11499)]).then(n.bind(n,411499))];case 1:e=i.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,Ni(xi({},e),{channel:o,selected:!0}))}]}}))})))};return e}var i=o.prototype;i.componentWillUnmount=function(){this.resetThreadPopoutTimers()};i.resetThreadPopoutTimers=function(){clearTimeout(this.enterTimer)
;clearTimeout(this.exitTimer)};i.renderChannelInfo=function(){var e=this.props,t=e.channel,n=e.selected,o=e.highlighted,i=e.isSubscriptionGated,a=e.needSubscriptionToAccess,l=e.isNewChannel;return(0,r.jsx)("div",{className:cn().channelInfo,children:(0,r.jsx)(jo,{channel:t,highlighted:o,isChannelSelected:n,isChannelCollapsed:!1,isSubscriptionGated:i,needSubscriptionToAccess:a,isNewChannel:l})})};i.render=function(){var e,t=this,n=this.props,o=n.channel,i=n.guild,a=n.selected,l=n.muted,u=n.unread,c=n.canHaveDot,s=n.relevant,f=n.hasActiveThreads,d=n.hasMoreActiveThreads,p=n.mentionCount,h=n.connectChannelDropTarget,y=n.connectChannelDragSource,b=n.connectDragPreview,v=n.canReorderChannel,m=n.isSubscriptionGated,O=n.isFavoriteSuggestion,E=n.subtitle,j=d&&!o.isForumChannel(),S=ii(E),C=(0,r.jsx)("li",{className:g()(this.getClassName(),(e={},_i(e,cn().disabled,this.isDisabled()),_i(e,cn().selected,a),e)),"data-dnd-name":o.name,onMouseEnter:j?this.handleMouseEnter:void 0,
onMouseLeave:j?this.handleMouseLeave:void 0,children:(0,r.jsx)(si.ZP,{position:si.ZP.Positions.RIGHT,renderPopout:this.renderThreadsPopout,onRequestClose:this.handleThreadsPopoutClose,spacing:0,shouldShow:j&&this.state.shouldShowThreadsPopout,children:function(){return(0,r.jsxs)(xn.Z,{className:cn().iconVisibility,channel:o,guild:i,selected:!O&&a,muted:l,unread:u,canHaveDot:c,relevant:s,mentionCount:p,hasActiveThreads:f,subtitle:null==S?void 0:S.subtitle,subtitleColor:null==S?void 0:S.color,onMouseDown:t.handleMouseDown,onContextMenu:t.handleContextMenu,connectDragPreview:v?b:null,isFavoriteSuggestion:O,"aria-label":(0,Wr.Z)({channel:o,unread:u,mentionCount:p,isSubscriptionGated:m}),children:[O&&t.renderAcceptSuggestionButton(),O&&t.renderRemoveSuggestionButton(),!O&&t.renderInviteButton(),!O&&t.renderEditButton(),!O&&t.renderChannelInfo()]})}})});return v?h(y(C)):C};return o}(wn),Li=Pt(Di);function ki(e){var t=e.channel,n=e.guild,o=e.disableSorting,i=e.isFavoriteCategory,a=(0,
ui.JQ)(t),l=a.hasActiveThreads,u=a.hasMoreActiveThreads,s=(0,c.cj)([Pe.ZP],(function(){return{ackMessageId:Pe.ZP.ackMessageId(t.id),unread:Pe.ZP.hasUnread(t.id),mentionCount:Pe.ZP.getMentionCount(t.id)}})),f=(0,c.e7)([Pe.ZP],(function(){return Pe.ZP.hasNotableUnread(t.id)})),d=(0,c.cj)([se.Z,P.Z],(function(){var e=se.Z.getChannel(t.parent_id);return{canManageChannel:P.Z.can(Y.Plq.MANAGE_CHANNELS,t),canReorderChannel:!0!==o&&(n.id===Co._||(null!=e?P.Z.can(Y.Plq.MANAGE_CHANNELS,e):P.Z.can(Y.Plq.MANAGE_CHANNELS,n)))}})),p=(0,c.e7)([_t.Z],(function(){return _t.Z.isChannelRelevant(t)})),h=(0,ue.sk)(t.guild_id),y=(0,ai.rd)(t.id,s.ackMessageId).length>0,b=!(!h||!s.unread)&&y,v=(0,c.e7)([li.Z],(function(){return li.Z.shouldIndicateNewChannel(n.id,t.id)})),m=(0,Yr.Z)(t.id),g=m.needSubscriptionToAccess,O=m.isSubscriptionGated,E=(0,c.e7)([_t.Z],(function(){return _t.Z.isFavorite(n.id,t.id)}));return(0,r.jsx)(Li,Ni(xi({},s,d,e),{highlighted:b,canHaveDot:f,hasActiveThreads:l,hasMoreActiveThreads:u,
relevant:p,isSubscriptionGated:O,needSubscriptionToAccess:g,isNewChannel:v&&e.canBeNewChannel,isFavoriteSuggestion:i&&!E}))}var Ui=n(108870),Gi=n(426217),Hi=n(11605),Bi=n(221713),Vi=n(21979);function Fi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Wi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yi(e){Yi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Yi(e)}function zi(e,t){return!t||"object"!==Qi(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ki(e,t){Ki=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Ki(e,t)}function qi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){
var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Fi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Fi(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Xi,Qi=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Ji(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{
Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Yi(e);if(t){var o=Yi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return zi(this,n)}}!function(e){e.HIDDEN="hidden";e.UNREAD="unread";e.MENTIONS="mentions";e.VOICE_CHANNELS="voice-channels"}(Xi||(Xi={}));var $i={mode:Xi.HIDDEN,mentionCount:0,targetChannelId:null},ea={topBar:$i,bottomBar:$i},ta={},na={};function ra(e){var t=se.Z.getChannel(e);return null!=t&&null!=t.getGuildId()&&!t.isGuildVocal()&&(!(t.isThread()?Or.Z.isMuted(t.id):_t.Z.isChannelMuted(t.getGuildId(),t.id))&&Pe.ZP.hasRelevantUnread(t))}function oa(e){var t=se.Z.getChannel(e);if(null==t)return!1;var n=t.getGuildId();if(null==n)return!1;var r=_t.Z.isGuildCollapsed(n),o=_t.Z.isChannelMuted(n,t.id);return(!r||!o)&&Pe.ZP.getMentionCount(e)>0}function ia(e){
return e.isGuildStageVoice()?pe.Z.getMutableParticipants(e.id,he.pV.SPEAKER).length>0:fe.ZP.getVoiceStatesForChannel(e).length>0}function aa(e){var t=na[e],n=De.Z.getGuildWithoutChangingCommunityRows(e).guildChannels;if(null==t||0===t.length)return!1;for(var r,o=null,i=null,l=null,u=null,c=!0,s=!0,f=!1,d=n.getCategoryFromSection(n.voiceChannelsSectionNumber),p=null!==(r=null==d?void 0:d.getShownChannelIds())&&void 0!==r?r:[],h=qi(n.getSlicedChannels(t),3),y=h[0],b=h[1],v=h[2],m=0;m<b.length;m++){var g=b[m];(ra(g.id)||a().some(g.threadIds,ra))&&(s=!1);(oa(g.id)||a().some(g.threadIds,oa))&&(c=!1);p.includes(g.id)&&(f=!0);if(!s&&!c&&f)break}var O=0,E=!1,j=0,S=!1;if(s||c)for(var C=y.length-1;C>=0;C--){var P=y[C];if(ra(P.id)||a().some(P.threadIds,ra)){null==i&&(i=P.id);E=!0}if(oa(P.id)||a().some(P.threadIds,oa)){null==o&&(o=P.id);O+=Pe.ZP.getMentionCount(P.id);O+=a().sumBy(P.threadIds,Pe.ZP.getMentionCount)}}if(s||c)for(var I=0;I<v.length;I++){var _=v[I];if(!s&&!c)break
;if(ra(_.id)||a().some(_.threadIds,ra)){null==u&&(u=_.id);S=!0}if(oa(_.id)||a().some(_.threadIds,oa)){null==l&&(l=_.id);j+=Pe.ZP.getMentionCount(_.id);j+=a().sumBy(_.threadIds,Pe.ZP.getMentionCount)}}var w,x=null,N=null,T=null!==(w=null==d?void 0:d.getChannelRecords())&&void 0!==w?w:[];c&&j>0?x={mode:Xi.MENTIONS,mentionCount:j,targetChannelId:l}:!f&&a().some(T,ia)?x={mode:Xi.VOICE_CHANNELS,mentionCount:0,targetChannelId:null}:s&&S&&(x={mode:Xi.UNREAD,mentionCount:0,targetChannelId:u});c&&O>0?N={mode:Xi.MENTIONS,mentionCount:O,targetChannelId:o}:s&&E&&(N={mode:Xi.UNREAD,mentionCount:0,targetChannelId:i});var A=null!=N&&(null==x||x.mode!==Xi.MENTIONS&&N.mode===Xi.MENTIONS),Z=null!=x&&(x.mode===Xi.MENTIONS||!A);ta[e]={topBar:A&&null!=N?N:$i,bottomBar:Z&&null!=x?x:$i};return!0}var la=a().throttle(aa,200);function ua(e){var t=e.guildId;return!!(0,ue.pE)(t)&&la(t)}function ca(e){var t=e.id,n=se.Z.getChannel(t);return null!=n&&(!!(0,ue.pE)(n.guild_id)&&la(n.guild_id))}function sa(e){
var t=e.channel,n=se.Z.getChannel(t.id);return null!=n&&(!!(0,ue.pE)(n.guild_id)&&la(n.guild_id))}function fa(e){var t=e.channelId,n=se.Z.getChannel(t);return null!=n&&(!!(0,ue.pE)(n.guild_id)&&(Ie.Z.getGuildId()===n.guild_id&&la(n.guild_id)))}var da=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Ki(e,t)}(n,e);var t=Ji(n);function n(){Wi(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(){this.waitFor(De.Z,Pe.ZP,_t.Z,Or.Z,fe.ZP,Ie.Z)};r.getUnreadStateForGuildId=function(e){var t;return null!==(t=ta[e])&&void 0!==t?t:ea};r.__getLocalVars=function(){return{EMPTY_BAR:$i,EMPTY_STATE:ea,unreadStatesByGuildId:ta,visibleChannelsByGuildId:na,recalculate:la}};return n}(c.ZP.Store);da.displayName="ChannelListUnreadsStore";const pa=new da(T.Z,{UPDATE_CHANNEL_LIST_DIMENSIONS:function(e){
var t=e.guildId,n=e.channelIds;if(!(0,ue.pE)(t)||null==n)return!1;var r=De.Z.getGuildWithoutChangingCommunityRows(t).guildChannels.getChannels(n);if(!a().isEqual(na[t],r)){na[t]=r;return aa(t)}return!1},BULK_ACK:function(e){var t=e.channels,n=!1;a()(t).map((function(e){var t,n=e.channelId;return null===(t=se.Z.getChannel(n))||void 0===t?void 0:t.guild_id})).filter(de.lm).uniq().forEach((function(e){(0,ue.pE)(e)&&la(e)&&(n=!0)}));return n},CHANNEL_ACK:fa,CHANNEL_DELETE:sa,CHANNEL_LOCAL_ACK:fa,MESSAGE_ACK:fa,MESSAGE_CREATE:fa,MESSAGE_DELETE_BULK:fa,MESSAGE_DELETE:fa,PASSIVE_UPDATE_V1:function(e){return!(null==e.channels||!(0,ue.pE)(e.guildId))&&la(e.guildId)},RESORT_THREADS:fa,THREAD_CREATE:sa,THREAD_DELETE:sa,THREAD_LIST_SYNC:ua,THREAD_MEMBER_UPDATE:ca,THREAD_MEMBERS_UPDATE:ca,THREAD_UPDATE:sa,BULK_CLEAR_RECENTS:ua,CATEGORY_COLLAPSE_ALL:ua,CATEGORY_EXPAND_ALL:ua});var ha=n(366236),ya=n(561301),ba=n.n(ya);function va(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,
configurable:!0,writable:!0}):e[t]=n;return e}var ma={friction:30,tension:300};function ga(e){var t,n=e.guildChannels,i=e.jumpToVoiceChannels,a=n.getCategoryFromSection(n.voiceChannelsSectionNumber),l=(0,Ui.Z)(n.id),u=o.useCallback((function(e){e.preventDefault();e.stopPropagation();i()}),[i]),c=null!==(t=null==a?void 0:a.getChannelRecords())&&void 0!==t?t:[],s=(0,Ze.c4)(c,null,l);return(0,r.jsxs)(I.Z,{className:g()(ba().bar),onClick:u,children:[(0,r.jsx)(Zt.Z,{className:ba().voiceChannelsIcon,width:14,height:14,color:(0,kn.Lq)(Y.Ilk.STATUS_GREEN_560)}),(0,r.jsx)(_.x,{variant:"text-xs/semibold",color:"text-positive",className:ba().barText,children:z.Z.Messages.VOICE_CHANNEL_BAR_ACTIVE.format({count:s.length})}),(0,r.jsx)(Hi.Z,{guildId:n.id,className:ba().voiceChannelsUsers,users:s.slice(0,4),renderMoreUsers:function(){return null},max:4,size:ha.u8.SIZE_16})]})}function Oa(e){var t,n=e.position,i=e.guildChannels,a=e.guildChannelsVersion,l=e.jumpToVoiceChannels,u=e.jumpToChannel,s=(0,
c.cj)([pa],(function(){return pa.getUnreadStateForGuildId(i.id)})),f=s.bottomBar,d=s.topBar,h=(0,c.e7)([p.Z],(function(){return p.Z.useReducedMotion})),y=(0,c.e7)([Gi.Z],(function(){return Gi.Z.isFocused()})),b="bottom"===n?f:d,v=b.mode,m=b.mentionCount,E=b.targetChannelId,j=v===Xi.HIDDEN,S="bottom"===n?"translateY(180%)":"translateY(-180%)",C=(0,O.useSpring)({to:{transform:j?S:"translateY(0%)"},config:ma,immediate:h||!y}),P=o.useCallback((function(e){e.preventDefault();e.stopPropagation();null!=E&&u(E)}),[u,E]);return(0,r.jsx)("div",{className:g()(ba().container,(t={},va(t,ba().top,"top"===n),va(t,ba().bottom,"bottom"===n),t)),children:(0,r.jsx)(O.animated.div,{style:C,"aria-hidden":j,children:v===Xi.HIDDEN?(0,r.jsx)("div",{className:g()(ba().bar,ba().emptyBar)}):v===Xi.UNREAD?(0,r.jsxs)(I.Z,{className:ba().bar,onClick:P,children:["bottom"===n?(0,r.jsx)(Bi.Z,{className:ba().unreadIcon,height:14,width:14}):(0,r.jsx)(Vi.Z,{className:ba().unreadIcon,height:14,width:14}),(0,r.jsx)(_.x,{
variant:"text-xs/semibold",color:"interactive-normal",className:ba().barText,children:z.Z.Messages.NEW_UNREADS})]}):v===Xi.MENTIONS?(0,r.jsx)(I.Z,{className:g()(ba().bar,ba().mentionsBar),onClick:P,children:(0,r.jsx)(_.x,{variant:"text-xs/semibold",color:"status-danger-text",className:ba().barText,children:z.Z.Messages.NEW_MENTIONS_COUNT.format({count:m})})}):v===Xi.VOICE_CHANNELS?(0,r.jsx)(ga,{jumpToVoiceChannels:l,guildChannels:i,guildChannelsVersion:a}):void 0})})}var Ea=n(474935),ja=n(703164);function Sa(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Ca(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n
}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Pa(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function Ia(e){var t=se.Z.getChannel(e);return null!=t&&null!=t.getGuildId()&&(!(t.isThread()?Or.Z.isMuted(t.id):_t.Z.isChannelMuted(t.getGuildId(),t.id))&&Pe.ZP.hasRelevantUnread(t))}function _a(e){var t=se.Z.getChannel(e);if(null==t)return!1;var n=t.getGuildId();if(null==n)return!1;var r=_t.Z.isGuildCollapsed(n),o=_t.Z.isChannelMuted(n,t.id);return(!r||!o)&&Pe.ZP.getMentionCount(e)>0}const wa=o.forwardRef((function(e,t){
var n=e.guildId,o=e.guildChannels,i=e.guildChannelsVersion,a=Pa(e,["guildId","guildChannels","guildChannelsVersion"]),l=(0,Ea.T)(n,o,i,!1,{ignoreRecents:!0}),u=(0,c.e7)([Gi.Z],(function(){return Gi.Z.isFocused()}));return(0,r.jsx)(ja.Z,Ca(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Sa(e,t,n[t])}))}return e}({ref:t},a),{isUnread:Ia,isMentioned:_a,items:l,animate:u}))}));var xa=n(695756);function Na(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function Ta(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Na(i,r,o,a,l,"next",e)}function l(e){Na(i,r,o,a,l,"throw",e)}a(void 0)}))}}function Aa(e,t,n){
t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Za(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Aa(e,t,n[t])}))}return e}function Ra(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var Ma=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]}
;return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function Da(e){
var t,n=e.selected,o=e.showUnread,i=e.handleClick,a=e.handleContextMenu,l=e.eventsMuted,u=e.rowLabel,c=e.mentionCount,s=e.listItemProps;return(0,r.jsx)("li",{className:g()(cn().containerDefault,Aa({},cn().selected,n)),children:(0,r.jsxs)("div",{className:g()(cn().iconVisibility,Kn().wrapper,(t={},Aa(t,Kn().modeSelected,n),Aa(t,Kn().modeUnread,o),t)),children:[o&&(0,r.jsx)("div",{className:g()(Kn().unread,Kn().unreadRelevant)}),(0,r.jsx)("div",{className:Kn().content,children:(0,r.jsxs)(I.Z,Ra(Za({},s),{className:Kn().mainContent,onContextMenu:a,onClick:function(){i()},children:[(0,r.jsx)("div",{className:Kn().iconContainer,children:(0,r.jsx)(xa.Z,{className:Kn().icon})}),(0,r.jsx)("div",{className:Kn().name,children:u}),!l&&c>0&&(0,r.jsx)(Vn.mA,{className:Kn().numberBadge,disableColor:!0,count:c})]}))})]})})}function La(e){var t=e.guild,o=e.selected,i=(0,c.cj)([Pe.ZP],(function(){return{hasUnread:Pe.ZP.hasUnread(t.id,er.W.GUILD_EVENT),
mentionCount:Pe.ZP.getMentionCount(t.id,er.W.GUILD_EVENT)}}),[t.id]),a=i.hasUnread,l=i.mentionCount,s=(0,c.e7)([_t.Z],(function(){return _t.Z.isMuteScheduledEventsEnabled(t.id)})),f=(0,u.JA)("upcoming-events-".concat(t.id));function d(){d=Ta((function(){return Ma(this,(function(e){switch(e.label){case 0:return[4,(0,lt.ZD)(Ta((function(){var e,o;return Ma(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(55527),n.e(48657)]).then(n.bind(n,248657))];case 1:e=i.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,Ra(Za({},e),{guildId:t.id}))}]}}))})))];case 1:e.sent();(0,Un.EW)(Ln.z$.GUILD_HEADER_EVENT_UPSELL);return[2]}}))}));return d.apply(this,arguments)}var p=(0,Ke.ZP)(t.id),h=p.length>0?z.Z.Messages.GUILD_EVENTS_PLURAL.format({number:p.length}):z.Z.Messages.GUILD_EVENTS,y=a&&!s;return(0,r.jsx)(Da,{selected:o,showUnread:y,handleClick:function(){return d.apply(this,arguments)},handleContextMenu:function(e){(0,E.jW)(e,Ta((function(){var e,o
;return Ma(this,(function(i){switch(i.label){case 0:return[4,n.e(10874).then(n.bind(n,910874))];case 1:e=i.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,Ra(Za({},e),{guildId:t.id}))}]}}))})))},eventsMuted:s,rowLabel:h,mentionCount:l,listItemProps:f})}var ka=n(365523);function Ua(e){var t=e.channel,n=e.embeddedApps;if(t.type!==Y.d4z.GUILD_VOICE);else if(null!=n&&n.length>0){var r=n.map((function(e){return e.application.name}));return z.Z.Messages.GUILD_SIDEBAR_VOICE_CHANNEL_DESCRIBED_BY_LABEL_ACTIVITIES.format({activeActivities:r.join(", ")})}}var Ga=n(53211),Ha=n(836303),Ba=n(781479),Va=n(822567),Fa=n(767870),Wa=n(99918),Ya=n(851994),za=n(48843),Ka=n(30741),qa=n(330665),Xa=n(62857),Qa=n.n(Xa);function Ja(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function $a(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Ja(i,r,o,a,l,"next",e)}function l(e){
Ja(i,r,o,a,l,"throw",e)}a(void 0)}))}}function el(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function tl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){el(e,t,n[t])}))}return e}function nl(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var rl,ol=function(e,t){var n,r,o,i,a={label:0,
sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{
value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};!function(e){e[e.VOICE=0]="VOICE"}(rl||(rl={}));const il=function(e){var t=e.type,o=e.guildId,i=e.closePopout,a=(0,Ne.Dt)(),l=(0,c.e7)([to.Z],(function(){return to.Z.getCheck(o)}),[o]),u=l.notClaimed,s=l.notEmailVerified,f=l.notPhoneVerified,d=l.newAccount,p=l.newMember,h=t===rl.VOICE?z.Z.Messages.GUILD_VERIFICATION_VOICE_HEADER:null,y=null,b=null;if(t===rl.VOICE)if(u){y=z.Z.Messages.GUILD_VERIFICATION_VOICE_NOT_CLAIMED;b=z.Z.Messages.CLAIM_ACCOUNT}else if(f){y=z.Z.Messages.GUILD_VERIFICATION_VOICE_NOT_PHONE_VERIFIED;b=z.Z.Messages.VERIFY_PHONE}else if(s){y=z.Z.Messages.GUILD_VERIFICATION_VOICE_NOT_VERIFIED;b=z.Z.Messages.RESEND_VERIFICATION_EMAIL}else if(p){y=z.Z.Messages.GUILD_VERIFICATION_VOICE_MEMBER_AGE.format({min:Y.fDV.MEMBER_AGE});b=z.Z.Messages.OKAY}else if(d){y=z.Z.Messages.GUILD_VERIFICATION_VOICE_ACCOUNT_AGE.format({min:Y.fDV.ACCOUNT_AGE});b=z.Z.Messages.OKAY}if(null==h||null==y)return null;return(0,r.jsxs)(Ya.Z,{
className:Qa().container,"aria-labelledby":a,children:[(0,r.jsx)("img",{alt:"",className:Qa().image,src:n(522873)}),(0,r.jsxs)("div",{className:Qa().content,children:[(0,r.jsx)(za.X,{variant:"heading-md/medium",id:a,children:h}),(0,r.jsx)(_.x,{color:"header-secondary",variant:"text-sm/normal",children:y}),(0,r.jsxs)("div",{className:Qa().buttonContainer,children:[null!=b?(0,r.jsx)(wt.Co,{onClick:function(){if(u)Fa.j();else if(f)(0,lt.ZD)($a((function(){var e,t;return ol(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(97846)]).then(n.bind(n,997846))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,tl({reason:Wa.L.GUILD_PHONE_REQUIRED},e))}]}}))})),{modalKey:qa.M});else if(s){Va.Z.verifyResend();(0,lt.h7)((function(e){var t;return(0,r.jsx)(Ka.default,nl(tl({header:z.Z.Messages.VERIFICATION_EMAIL_TITLE,confirmText:z.Z.Messages.OKAY,confirmButtonColor:wt.Co.Colors.BRAND},e),{children:(0,r.jsx)(_.x,{variant:"text-md/normal",
children:z.Z.Messages.VERIFICATION_EMAIL_BODY.format({email:null===(t=ci.default.getCurrentUser())||void 0===t?void 0:t.email})})}))}))}i()},className:Qa().primaryButton,children:b}):null,u||f||s?(0,r.jsx)(wt.Co,{onClick:i,look:wt.Co.Looks.BLANK,className:Qa().cancel,children:z.Z.Messages.NEVERMIND}):null]})]})]})};var al=n(409271),ll=n(967250),ul=n(481542),cl=n(665733),sl=n(909890),fl=n(572561),dl=n(91144),pl=n(394803),hl=n(203919),yl=n(962564),bl=n(766936),vl=n(725002),ml=n(169061),gl=n(456843),Ol=n(685655),El=n(137861),jl=n(229835),Sl=n.n(jl);function Cl(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}var Pl=Te.u.SIZE_24;function Il(e){
var t,n=e.activity,i=e.user,a=e.embeddedApp,l=e.onOpenSpotifyAlbum,u=n.assets,c=n.application_id;if(null==u||null==u.large_image&&null==u.small_image)return null!=a?function(e){var t=hi.ZP.getApplicationIconURL({id:e.application.id,icon:e.application.icon}),n=e.application.name;return(0,r.jsx)(w.ZP,{text:n,position:w.ZP.Positions.TOP,children:function(){return(0,r.jsx)("img",{alt:n,src:t,className:Sl().applicationLargeImage})}})}(a):null;var s,f=null!==(t=u.large_image)&&void 0!==t?t:u.small_image,d=(0,fl.Z)(n),p=d?Sl().spotifyLargeImage:Sl().applicationLargeImage,h=null!=f?(0,r.jsx)("img",{alt:null!==(s=u.large_text)&&void 0!==s?s:"",src:(0,El.xF)(c,f,[128,128]),className:p}):null;if(d){h=(0,r.jsx)(I.Z,{className:Sl().clickable,onClick:function(){l(n,i.id)},children:h});return(0,r.jsx)(w.ZP,{text:null!=u.large_text?u.large_text:null,position:w.ZP.Positions.TOP,children:function(e){e.onClick;var t=Cl(e,["onClick"]);return null!=h?o.cloneElement(h,t):null}})}return h}function _l(e){
var t=e.activity,n=e.embeddedApp,o=e.onOpenSpotifyTrack,i=t.details,a=t.name,l=a;if(null!=n)l=n.application.name;else{if(!(0,fl.Z)(t)||null==t.sync_id||null==i)return null;a=i;l=(0,r.jsx)(I.Z,{className:Sl().headerLink,onClick:function(){o(t)},children:i})}return(0,r.jsx)(Ol.Z,{title:a,className:Sl().header,children:l})}function wl(e){var t=e.activity,n=e.user,o=e.onOpenSpotifyArtist,i=t.details,a=t.state,l=i;(0,fl.Z)(t)&&null!=a&&(l=[(0,r.jsx)(gl.Z,{artists:a,linkClassName:Sl().bodyLink,canOpen:null!=t.sync_id,onOpenSpotifyArtist:function(e){o(t,n.id,e)}},a)]);return null==l||""===l?null:(0,r.jsx)("div",{className:g()(Sl().ellipsisRow,Sl().colorHeaderSecondary,Sl().bodyTextSize),children:l})}function xl(e){var t=e.activity,n=t.state;return null==n||""===n||(0,fl.Z)(t)?null:(0,r.jsx)("div",{className:g()(Sl().ellipsisRow,Sl().colorHeaderSecondary,Sl().bodyTextSize,Sl().activity),children:n})}function Nl(e){var t=e.activity;if(!(0,fl.Z)(t))return null;var n=t.timestamps
;if(null==(null==n?void 0:n.start)||null==(null==n?void 0:n.end))return null;var o=n.start,i=n.end;return(0,r.jsx)(ml.Z,{start:o,end:i,className:Sl().timeBar,themed:!0,singleLine:!0})}function Tl(e){var t=e.activity,n=e.embeddedApp,i=e.user,a=e.channel,l=e.sortedVoiceStates,u=e.onOpenSpotifyTrack,s=e.onOpenSpotifyArtist,f=e.onOpenSpotifyAlbum,d=[];null!=n?d=Array.from(n.embeddedActivity.connections.keys()):(0,fl.Z)(t)&&(d=l.map((function(e){return e.user.id})));var p=(0,c.Wu)([ci.default],(function(){return d.map((function(e){return ci.default.getUser(e)})).filter(de.lm)})),h=null!=n||(0,fl.Z)(t),y=o.useMemo((function(){var e=new Map;h&&l.forEach((function(t){var n=t.member;null!=n&&e.set(t.user.id,n)}));return e}),[l,h]);if(!h)return null;return(0,r.jsxs)("div",{className:Sl().flexColumn,children:[(0,r.jsxs)("div",{className:Sl().flexRow,children:[(0,r.jsx)(Il,{activity:t,user:i,embeddedApp:n,onOpenSpotifyAlbum:f}),(0,r.jsxs)("div",{className:Sl().detailsAndAvatarsContainer,
children:[(0,r.jsx)(_l,{activity:t,embeddedApp:n,onOpenSpotifyTrack:u}),(0,r.jsx)(wl,{activity:t,user:i,onOpenSpotifyArtist:s}),(0,r.jsx)(xl,{activity:t}),d.length>0&&(0,r.jsx)(Te.Z,{className:Sl().usersSummary,guildId:a.guild_id,users:p,size:Pl,max:7,renderUser:function(e){if(null==e)return null;var t,n=y.get(e.id),o=null!==(t=null==n?void 0:n.nick)&&void 0!==t?t:e.username;return(0,r.jsx)(w.DY,{text:o,position:xt.v.BOTTOM,children:(0,r.jsx)("img",{src:e.getAvatarURL(a.guild_id,Pl),alt:o,className:Sl().avatar},e.id)},e.id)}})]})]}),(0,r.jsx)(Nl,{activity:t})]})}var Al=n(605390),Zl=n(668030),Rl=n.n(Zl);function Ml(e){var t=e.userCount;return(0,r.jsxs)("div",{className:Rl().container,children:[(0,r.jsx)(Al.Z,{width:12,height:12,className:Rl().peopleIcon}),(0,r.jsx)(_.x,{variant:"text-sm/normal",color:"header-secondary",className:Rl().userCountText,children:t})]})}var Dl=n(142469),Ll=n.n(Dl);function kl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n]
;return r}function Ul(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function Gl(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Ul(i,r,o,a,l,"next",e)}function l(e){Ul(i,r,o,a,l,"throw",e)}a(void 0)}))}}function Hl(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Bl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Hl(e,t,n[t])}))}return e}function Vl(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){
var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Fl(e){return function(e){if(Array.isArray(e))return kl(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return kl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kl(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Wl=function(e,t){var n,r,o,i,a={label:0,sent:function(){
if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}
}([i,l])}}};function Yl(e){var t=e.guildId,n=e.member,o=e.className,i=null!=n.member?(0,hi.CA)(n.member):null;return(0,r.jsx)(w.ZP,{text:n.nick,position:w.ZP.Positions.BOTTOM,children:function(e){return(0,r.jsx)(bl.ZP,Bl({src:null!=i?i:n.user.getAvatarURL(t,16),size:bl.ZP.Sizes.SIZE_16,className:g()(Ll().partyAvatar,o),"aria-label":n.nick},e))}})}function zl(e){var t=e.members,n=e.guildId;return(0,r.jsx)(Hi.Z,{className:Ll().partyMembers,guildId:n,users:t,max:6,renderUser:function(e,t,o){return(0,r.jsx)(Yl,{guildId:n,member:e,className:t},o)},renderMoreUsers:function(e,t,n){return(0,r.jsx)("div",{className:g()(Ll().morePartyMembers,t),children:e},n)}})}function Kl(e){var t=e.channel,i=e.guild,a=e.onAction,l=e.voiceStates,u=e.isChannelSelected,s=e.shouldShowSettingNudge;!function(e,t){var n=o.useMemo((function(){return null==t||t.length>50?{}:Hl({},e.getGuildId(),null!==(n=t.map((function(e){return e.user.id})))&&void 0!==n?n:[]);var n}),[e,t]);(0,ul.$)(n)}(t,l);var f,d=(0,
oo.Z)(t),p=new Map;d.forEach((function(e){p.set(e.application.id,e)}));var h,y=null!==(f=null==l?void 0:l.filter(de.lm))&&void 0!==f?f:[],b=function(e){return function(t){return[Y.IIU.PLAYING,Y.IIU.WATCHING].includes(t.type)&&(null!=t.assets||null!=t.state||null!=t.details||null!=t.party)&&(null==t.session_id||t.session_id===e.voiceState.sessionId)||t.type===Y.IIU.LISTENING}},v=(0,c.e7)([yl.Z],(function(){var e=new Map(p);y.forEach((function(t){var n=yl.Z.findActivity(t.user.id,b(t));if(null!=n&&(0,sl.Z)(n)){var r=null!=n.application_id?e.get(n.application_id):null;null!=r&&null!=n.application_id&&e.set(n.application_id,Vl(Bl({},r),{embeddedActivity:Vl(Bl({},n),{application_id:r.embeddedActivity.application_id,connections:r.embeddedActivity.connections,url:r.embeddedActivity.url,guildId:r.embeddedActivity.guildId,channelId:r.embeddedActivity.channelId})}))}}));return e}),[y,p],c.pF),m=(0,c.e7)([yl.Z],(function(){var e={};y.forEach((function(t){var n=yl.Z.findActivity(t.user.id,b(t))
;if(null!=n&&!(0,sl.Z)(n)){var r,o,i,a,l="".concat(null!==(o=n.application_id)&&void 0!==o?o:"",":").concat(null!==(i=null===(r=n.party)||void 0===r?void 0:r.id)&&void 0!==i?i:t.user.id),u=null!==(a=e[l])&&void 0!==a?a:{members:[],activity:n};u.members.push(t);(0,cl.Z)(u.activity,Y.xjy.JOIN)||(u.activity=n);e[l]=u}}));return Object.values(e)}),[y],c.pF),g=Fl(Array.from(v.values()).map((function(e){return{members:y,activity:e.embeddedActivity}}))).concat(Fl(m));return 0===g.length?null:(0,r.jsxs)(vl.ZP,{className:Ll().container,children:[(0,r.jsx)(Xl,{channel:t,isChannelSelected:u,voiceStatesCount:null!==(h=null==l?void 0:l.length)&&void 0!==h?h:0}),(0,r.jsx)("div",{className:Ll().headerDivider}),g.map((function(e,n){var o=e.members,i=e.activity,l=i.application_id,u=null!=l?v.get(l):void 0;return(0,r.jsx)(ql,{activity:i,embeddedApp:u,channel:t,members:o,onAction:a},n)})),s&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:Ll().headerDivider}),(0,r.jsx)("div",{
className:Ll().settingNudgeText,children:(0,r.jsx)(_.x,{variant:"text-xs/normal",tag:"span",children:z.Z.Messages.VOICE_CHANNEL_ACTIVITY_STATUS_REDIRECT.format({onClick:function(){(0,lt.ZD)(Gl((function(){var e,t;return Wl(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(42624)]).then(n.bind(n,198109))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,Vl(Bl({},e),{guild:i}))}]}}))})))}})})})]})]})}var ql=function(e){var t=e.channel,n=e.activity,o=e.members,i=e.embeddedApp,a=e.onAction,l=null!=i,u=l?Array.from(i.embeddedActivity.connections.keys()):[],s=(0,c.e7)([ci.default,qr.default],(function(){if(o.length<=0)return null;if(l){var e,t;return null!==(t=null===(e=o.find((function(e){return e.voiceState.sessionId===(null==n?void 0:n.session_id)})))||void 0===e?void 0:e.user)&&void 0!==t?t:ci.default.getUser(u[0])}var r,i;return null!==(i=null===(r=o.find((function(e){return e.user.id!==qr.default.getId()
})))||void 0===r?void 0:r.user)&&void 0!==i?i:o[0].user}));if(null==s)return null;var f=l||(0,fl.Z)(n);return(0,r.jsxs)("div",{className:Ll().activity,children:[(0,r.jsx)("div",{className:Ll().channelActivityContainer,children:f?(0,r.jsx)(Tl,{activity:n,embeddedApp:i,user:s,channel:t,sortedVoiceStates:o,onOpenSpotifyTrack:hl.aG,onOpenSpotifyArtist:hl.d$,onOpenSpotifyAlbum:hl.Z5}):(0,r.jsx)(ll.Z,{type:ll.P.VOICE_CHANNEL,activity:n,user:s,guildId:t.getGuildId(),channelId:t.id,renderHeaderAccessory:function(){return(0,r.jsx)(zl,{guildId:t.guild_id,members:o})},isEmbedded:l})}),(0,r.jsx)("div",{className:Ll().activityActionsContainer,children:(0,r.jsx)(dl.Z,{type:ll.P.VOICE_CHANNEL,activity:n,user:s,guildId:t.getGuildId(),channelId:t.id,color:Ll().button,onAction:a,isEmbedded:l})})]})};function Xl(e){var t=e.channel,n=e.isChannelSelected,o=e.voiceStatesCount,i=(0,c.e7)([P.Z],(function(){return!P.Z.can(Y.Plq.CONNECT,t)})),a=(0,c.e7)([no.Z],(function(){return no.Z.hasVideo(t.id)})),l=ho({
channel:t,locked:i,video:a,selected:n}),u=(0,c.e7)([at.Z],(function(){return at.Z.getGuild(t.guild_id)})),s=(0,pl.KS)(t,u);return null==s?null:(0,r.jsxs)("div",{className:Ll().popoutHeaderContainer,children:[(0,r.jsxs)("div",{className:Ll().channelNameContainer,children:[(0,r.jsx)(s,{className:Ll().channelIcon}),(0,r.jsx)(_.x,{variant:"text-md/semibold",color:"interactive-normal",className:Ll().channelName,children:t.name})]}),l?(0,r.jsx)(Eo,{userCount:o,video:a,channel:t}):(0,r.jsx)(Ml,{userCount:o})]})}function Ql(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function Jl(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Ql(i,r,o,a,l,"next",e)}function l(e){Ql(i,r,o,a,l,"throw",e)}a(void 0)}))}}function $l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eu(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,
configurable:!0,writable:!0}):e[t]=n;return e}function tu(e){tu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return tu(e)}function nu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){eu(e,t,n[t])}))}return e}function ru(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function ou(e,t){
if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function iu(e,t){return!t||"object"!==lu(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function au(e,t){au=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return au(e,t)}var lu=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function uu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0
}catch(e){return!1}}();return function(){var n,r=tu(e);if(t){var o=tu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return iu(this,n)}}var cu=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}
if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},su=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&au(e,t)}(o,e);var t=uu(o);function o(){$l(this,o);var e;(e=t.apply(this,arguments)).state={shouldShowActivities:!1,shouldShowGuildVerificationPopout:!1};e.activitiesHideTimeout=new ka.V7;e.closeGuildVerificationPopout=function(){e.setState({shouldShowGuildVerificationPopout:!1})};e.handleVoiceConnect=function(){var t=e.props,n=t.locked,r=t.connected,o=t.channel,i=t.unverifiedAccount,a=t.needSubscriptionToAccess;i&&e.setState({shouldShowGuildVerificationPopout:!0});Ha.Z.handleVoiceConnect({
channel:o,connected:r,needSubscriptionToAccess:a,locked:n})};e.handleContextMenu=function(t){var o=e.props.channel,i=at.Z.getGuild(o.getGuildId());null!=i&&(0,E.jW)(t,Jl((function(){var e,t;return cu(this,(function(a){switch(a.label){case 0:return[4,Promise.all([n.e(87996),n.e(57501),n.e(2464),n.e(13277)]).then(n.bind(n,213277))];case 1:e=a.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,ru(nu({},e),{channel:o,guild:i}))}]}}))})))};e.handleMouseEnter=function(){e.activitiesHideTimeout.stop();e.setState({shouldShowActivities:!0})};e.handleMouseLeave=function(){e.activitiesHideTimeout.start(100,(function(){return e.setState({shouldShowActivities:!1})}))};e.closePopout=function(){e.activitiesHideTimeout.stop();e.setState({shouldShowActivities:!1})};e.handleClick=function(){e.handleVoiceConnect()};e.renderPopout=function(){
var t=e.props,n=t.channel,o=t.voiceStates,i=t.sorting,a=t.isUserOver,l=t.selected,u=t.guild,c=e.state,s=c.shouldShowActivities,f=c.shouldShowGuildVerificationPopout;if(s&&!i&&!a&&!f){var d=al.SE.getSetting().includes(u.id);return(0,r.jsx)(Kl,{onAction:e.closePopout,guild:u,channel:n,voiceStates:o,isChannelSelected:l,shouldShowSettingNudge:d})}if(f)return(0,r.jsx)(il,{type:rl.VOICE,guildId:n.guild_id,closePopout:e.closeGuildVerificationPopout});throw new Error("VoiceChannel.renderPopout: There must always be something to render")};e.renderOpenChatButton=function(){var t=e.props,n=t.channel;if(!t.locked)return(0,r.jsx)(w.ZP,{text:z.Z.Messages.OPEN_CHAT,spacing:2,children:function(e){var t=e.onMouseEnter,o=e.onMouseLeave,i=e.onFocus,a=e.onBlur;return(0,r.jsx)(I.Z,{className:g()(cn().iconItem,cn().openChatIconItem),onClick:function(){Vr.Z.updateChatOpen(n.id,!0);(0,gr.Kh)(n.id)},"aria-label":z.Z.Messages.OPEN_CHAT,onMouseEnter:t,onMouseLeave:o,onFocus:i,onBlur:a,children:(0,r.jsx)(ro.Z,{
width:16,height:16,className:cn().actionIcon})})}})};e.getTooltipText=function(){var t=e.props.connected;return e.isFull()&&!t?z.Z.Messages.UNABLE_TO_JOIN_CHANNEL_FULL:null};return e}var i=o.prototype;i.componentWillUnmount=function(){this.activitiesHideTimeout.stop()};i.getVoiceStatesCount=function(){var e,t=this.props.voiceStates;return null!==(e=null==t?void 0:t.length)&&void 0!==e?e:0};i.isFull=function(){var e=this.props.channel;return(0,Ze.rY)(e,no.Z,at.Z)};i.getModeClass=function(){var e=this.props,t=e.position,n=e.sortingPosition;return e.isUserOver?cn().containerUserOver:null!=n?t>n?cn().containerDragAfter:cn().containerDragBefore:cn().containerDefault};i.renderVoiceUsers=function(){var e=this.props,t=e.channel,n=e.voiceStates,o=e.collapsed,i=e.tabIndex;return(0,r.jsx)(So.Z,{channel:t,collapsed:o,collapsedMax:6,voiceStates:n,tabIndex:i,location:Y.Sbl.GUILD_CHANNEL_LIST})};i.renderChannelInfo=function(){
var e=this.props,t=e.channel,n=e.selected,o=e.collapsed,i=e.voiceStates,a=e.isSubscriptionGated,l=e.needSubscriptionToAccess;return(0,r.jsx)("div",{className:cn().channelInfo,children:(0,r.jsx)(jo,{channel:t,highlighted:!1,isChannelSelected:n,isChannelCollapsed:o,voiceStates:i,isSubscriptionGated:a,needSubscriptionToAccess:l,enableConnectedUserLimit:!0,enableActivities:!0})})};i.render=function(){var e=this,t=this.props,n=t.channel,o=t.selected,i=t.connected,a=t.unread,l=t.mentionCount,u=t.locked,c=t.sorting,s=t.isUserOver,f=t.connectChannelDropTarget,d=t.connectChannelDragSource,p=t.connectUserDropTarget,h=t.connectDragPreview,y=t.canReorderChannel,b=t.canMoveMembers,v=t.showTutorial,m=t.hasActiveEvent,O=t.subtitle,E=t.embeddedApps,j=t.isSubscriptionGated,S=t.isFavoriteSuggestion,C=this.state,P=C.shouldShowActivities,I=C.shouldShowGuildVerificationPopout,_=this.getVoiceStatesCount(),x=(0,r.jsxs)("li",{className:g()(this.getModeClass(),eu({},cn().disabled,this.isDisabled())),
"data-dnd-name":n.name,children:[(0,r.jsx)("div",{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,children:(0,r.jsx)(si.ZP,{position:si.ZP.Positions.RIGHT,renderPopout:this.renderPopout,spacing:0,onRequestClose:this.closeGuildVerificationPopout,shouldShow:P&&!c&&!s&&!I||I,children:function(){return(0,r.jsx)(w.ZP,{text:e.getTooltipText(),children:function(t){var c,s=t.onClick,f=t.onContextMenu,d=ou(t,["onClick","onContextMenu"]);return(0,r.jsxs)(xn.Z,ru(nu({className:cn().iconVisibility,iconClassName:g()(eu({},cn().iconLive,m)),channel:n,selected:!S&&o,connected:i,unread:i?a:void 0,mentionCount:l,locked:u,subtitle:null===(c=ii(O))||void 0===c?void 0:c.subtitle,onClick:function(){e.handleClick();null==s||s()},onContextMenu:function(t){e.handleContextMenu(t);null==f||f()},connectDragPreview:h,isFavoriteSuggestion:S,"aria-label":(0,Wr.Z)({channel:n,unread:a,mentionCount:l,userCount:_,embeddedActivitiesCount:E.length,isSubscriptionGated:j}),"aria-describedby":Ua({
channel:n,embeddedApps:E})},d),{children:[S&&e.renderAcceptSuggestionButton(),S&&e.renderRemoveSuggestionButton(),!S&&e.renderOpenChatButton(),!S&&e.renderInviteButton(),!S&&e.renderEditButton(),!S&&e.renderChannelInfo()]}))}})}})}),this.renderVoiceUsers()]});b&&(x=p(x));y&&(x=f(d(x)));v&&(x=(0,r.jsx)(ge.Z,{tutorialId:"voice-conversations",position:_e.q_.RIGHT,offsetX:-20,children:x}));return x};return o}(wn),fu=Pt((0,Fr.Q)(su));function du(e){var t,n,o=e.guild,i=e.channel,a=e.disableSorting,l=e.isFavoriteCategory,u=(0,c.cj)([Pe.ZP],(function(){return{unread:Pe.ZP.hasUnread(i.id),mentionCount:Pe.ZP.getMentionCount(i.id)}})),s=(0,c.cj)([se.Z,to.Z,P.Z],(function(){var e=se.Z.getChannel(i.parent_id),t=to.Z.getCheck(i.guild_id);return{canManageChannel:P.Z.can(Y.Plq.MANAGE_CHANNELS,i),canReorderChannel:!0!==a&&(o.id===Co._||(null!=e?P.Z.can(Y.Plq.MANAGE_CHANNELS,e):P.Z.can(Y.Plq.MANAGE_CHANNELS,o))),canMoveMembers:P.Z.can(Y.Plq.MOVE_MEMBERS,i),locked:!P.Z.can(Y.Plq.CONNECT,i),
bypassLimit:P.Z.can(Y.Plq.MOVE_MEMBERS,i),unverifiedAccount:!t.canChat}})),f=(0,c.e7)([no.Z],(function(){return no.Z.hasVideo(i.id)})),d=(0,oo.Z)(i),p=(0,Ga.Z)(i),h=(0,Ke.qY)(i.id),y=(0,Yr.Z)(i.id),b=y.isSubscriptionGated,v=y.needSubscriptionToAccess,m=(0,Ba.Z)(),g=(0,c.e7)([_t.Z],(function(){return _t.Z.isFavorite(o.id,i.id)}));return(0,r.jsx)(fu,ru(nu({channelName:p,embeddedApps:d,embeddedActivityType:null===(t=d[0])||void 0===t||null===(n=t.embeddedActivity)||void 0===n?void 0:n.type,video:f,hasActiveEvent:null!=h,isSubscriptionGated:b,needSubscriptionToAccess:v},u,s,e),{connected:e.connected||(null==m?void 0:m.channelId)===i.id,isFavoriteSuggestion:l&&!g}))}var pu=n(147085),hu=n.n(pu);function yu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function bu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vu(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,
writable:!0}):e[t]=n;return e}function mu(e){mu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return mu(e)}function gu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){vu(e,t,n[t])}))}return e}function Ou(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Eu(e,t){if(null==e)return{}
;var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function ju(e,t){return!t||"object"!==Pu(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Su(e,t){Su=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Su(e,t)}function Cu(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{
if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return yu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yu(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Pu=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Iu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=mu(e);if(t){var o=mu(this).constructor;n=Reflect.construct(r,arguments,o)
}else n=r.apply(this,arguments);return ju(this,n)}}var _u=12,wu=12,xu=34,Nu=32,Tu={origin:{x:-36,y:7},targetWidth:232,targetHeight:40,offset:{x:0,y:0}},Au=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Su(e,t)}(n,e);var t=Iu(n);function n(){bu(this,n);var e;(e=t.apply(this,arguments))._list=null;e.unreadTopRef=o.createRef();e.unreadBottomRef=o.createRef();e.state={initialized:!1,isUnreadVisible:!0,topUnread:null,topMention:null,bottomUnread:null,bottomMention:null};e.setListRef=function(t){var n;e.context.ref.current=null!==(n=null==t?void 0:t.getScrollerNode())&&void 0!==n?n:null;e._list=t};e.jumpToVoiceChannels=function(){
for(var t,n,r,o=e.props,i=o.guildChannels,a=o.voiceStates,l=0,u=null!==(r=null===(t=i.getCategoryFromSection(i.voiceChannelsSectionNumber))||void 0===t?void 0:t.getShownChannelIds())&&void 0!==r?r:[],c=0;c<u.length-1;c++){var s;if((null!==(s=a[u[c]])&&void 0!==s?s:[]).length>0){l=c+1;break}}null===(n=e._list)||void 0===n||n.scrollToIndex({section:i.voiceChannelsSectionNumber,row:l,animate:!0,padding:8})};e.jumpToChannel=function(t){return e.scrollToChannel(t,!0,32)};e.jumpToChannelWithMentionsAndUnreads=function(t,n){var r=Cu(n,2),o=r[0],i=r[1];return e.scrollToChannel(t,!0,null!=o&&null!=i?32:8)};e.isChannelVisible=function(t,n){var r=e.getSectionRowsFromChannel(t),o=e._list;if(null==o)return!1;var i=!0,a=!1,l=void 0;try{for(var u,c=r[Symbol.iterator]();!(i=(u=c.next()).done);i=!0){var s=u.value,f=s.row,d=s.section,p=Cu(o.getScrollPosition(d,f),2),h=p[0],y=p[1],b=o.getScrollerState();if(n&&h+y<b.scrollTop+b.offsetHeight)return!0;if(!n&&h>b.scrollTop)return!0}}catch(e){a=!0;l=e
}finally{try{i||null==c.return||c.return()}finally{if(a)throw l}}return!1};e.getVisibleChannels=function(){var t=e._list;if(null==t)return[];for(var n=t.getItems(),r=t.getScrollerState(),o=[],i=0;i<n.length;i++){var a=n[i];if((0,je.o)(a)&&a.section>=e.props.guildChannels.favoritesSectionNumber){var l=e.props.guildChannels.getChannelFromSectionRow(a.section,a.row),u=Cu(t.getScrollPosition(a.section,a.row),2),c=u[0],s=u[1];null!=l&&c+s<r.scrollTop+r.offsetHeight&&c>r.scrollTop&&o.push(l.channel.id)}}return o};e.handleResize=function(){var t,n,r=e.props.showNewUnreadsBar,o=null!==(n=null===(t=e._list)||void 0===t?void 0:t.getScrollerState())&&void 0!==n?n:null;e.setState({isUnreadVisible:e.isUnreadVisible()});if(r&&null!=o){var i=o.scrollTop;e.updateChannelListScroll(i)}};e.handleListScroll=function(){var t,n,r=e.props.onScroll,o=null!==(n=null===(t=e._list)||void 0===t?void 0:t.getScrollerState())&&void 0!==n?n:null;if(null!=o){var i=o.scrollTop;null!=r&&r(o);e.updateChannelListScroll(i)
}null!=e.unreadTopRef.current&&e.unreadTopRef.current.calculateState();null!=e.unreadBottomRef.current&&e.unreadBottomRef.current.calculateState()};e.handleUnreadCalculate=function(t,n,r){var o=e.isUnreadVisible();r?e.setState({isUnreadVisible:o,bottomUnread:n,bottomMention:t}):e.setState({isUnreadVisible:o,topUnread:n,topMention:t})};e.updateChannelListScroll=a().throttle((function(t){s.Z.updateChannelListScroll(e.props.guildId,t,e.getVisibleChannels())}),100);e.getSectionHeight=function(t){var n=e.props,r=n.guild,o=n.guildChannels;if(t===Me.zm)return wu;if(t===Me.wd)return r.hasFeature(Y.oNc.HUB)?0:wu;if(t===o.voiceChannelsSectionNumber){var i,a=o.getCategoryFromSection(t);if(null==a||a.isEmpty())return 0;if(a.isCollapsed)return 52;var l=null===(i=o.getChannelFromSectionRow(t,0))||void 0===i?void 0:i.channel;return null==l||l.record.type===Y.d4z.GUILD_CATEGORY?12:28}return 40};e.getSectionFooterHeight=function(t){
var n=e.props,r=n.guildChannels,o=n.voiceStates,i=n.selectedVoiceChannelId,a=n.optInEnabled;if(t===r.voiceChannelsSectionNumber)return 44;var l=He(r,a,t),u=l.hasDivider,c=l.hasVoiceSummary,s=u?_u:0;if(!c)return s;var f=r.getNamedCategoryFromSection(t);return null!=f&&(0,Ze.af)(f.id,f.getChannelRecords(),i,o)?xu+s:s};e.getRowHeight=function(t,n){var r=e.props,o=r.guildChannels,i=r.voiceStates,a=r.stageChannelSpeakerVoiceStates,l=r.guild,u=xu;if(t===Me.zm){var c=o.getCommunitySection();return c.isEmpty()?0:c.getRow(n)===ke.f.GUILD_PREMIUM_PROGRESS_BAR?56:u}if(o.isPlaceholderRow(t,n))return 0;var s=o.getChannelFromSectionRow(t,n);if(null==s)return 0;var f=s.channel,d=s.category;if(f.record.type===Y.d4z.GUILD_DIRECTORY&&l.hasFeature(Y.oNc.HUB))return 0;if(f.record.type===Y.d4z.GUILD_CATEGORY)return 40;u+=f.threadCount*xu;if(f.record.isGuildVoice()){var p=i[f.id];if(null!=p&&p.length>0){var h=p.length*Nu;(f.isCollapsed||d.isCollapsed)&&(h=Nu);u+=h+8}}null!=f.subtitle&&(u+=16)
;if(f.record.isGuildStageVoice()){var y,b,v=null!==(y=i[f.id])&&void 0!==y?y:[],m=null!==(b=a[f.id])&&void 0!==b?b:[];if(null!=v&&v.length>0){var g=m.length*Nu;f.isCollapsed||d.isCollapsed?g=Math.ceil(g/5):g+=Nu;u+=g+8}}return u};e.dismissRecents=function(){var t=e.props,n=t.guild,r=t.guildChannels,o=t.selectedChannelId,i=r.getCategoryFromSection(r.recentsSectionNumber);if(null!=i){var a=null,l=i.getShownChannelAndThreadIds();null!=o&&l.includes(o)&&(a=(0,le.KY)(r));(0,le.Uo)(n.id,l,a)}};e.renderSection=function(t){var n=t.section,o=e.props,i=o.guildChannels,a=o.disableManageChannels,l=o.guild;if(n===Me.zm)return(0,r.jsx)("div",{style:{height:wu}},"hoisted-spacer");if(n===Me.wd)return l.hasFeature(Y.oNc.HUB)?null:(0,r.jsx)("div",{style:{height:wu}},"uncategorized-spacer");if(n===Me.p2)return(0,r.jsx)(zt,{name:z.Z.Messages.FAVORITES},"favorites");if(n===i.recentsSectionNumber)return(0,r.jsx)(zt,{name:z.Z.Messages.RECENTS_CATEGORY_HEADER,onDismiss:e.dismissRecents},"recents-header")
;if(n===i.voiceChannelsSectionNumber){var u,c=i.getCategoryFromSection(i.voiceChannelsSectionNumber);if(null==c||c.isEmpty())return null;var s=null===(u=i.getChannelFromSectionRow(n,0))||void 0===u?void 0:u.channel;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:hu().sectionDivider},"divider-".concat(n)),(0,r.jsx)(qt,{category:c,channel:s},"voice-channels")]})}var f=i.getNamedCategoryFromSection(n);return null==f?null:(0,r.jsx)(Yt,{channel:f.record,position:f.position,disableManageChannels:a,children:n===Me.wF?e.renderCachedTutorialIndicator(f.id):void 0},f.id)};e.renderCachedTutorialIndicator=(0,Re.oH)((function(e){return(0,r.jsx)(ge.Z,{inlineSpecs:Tu,arrowAlignment:xe.cy.TOP,tutorialId:"organize-by-topic",position:_e.q_.RIGHT},e)}));e.renderRow=function(t){
var n=t.section,i=t.row,a=e.props,l=a.guild,u=a.selectedChannel,c=a.selectedChannelId,s=a.selectedVoiceChannelId,f=a.guildChannels,d=a.voiceStates,p=a.disableManageChannels,h=a.stageChannelSpeakerVoiceStates,y=a.optInEnabled;if(n===Me.zm){var b=f.getCommunitySection().getRow(i);if(null==b)return null;switch(b){case ke.f.GUILD_HUB_HEADER_OPTIONS:return(0,r.jsx)(ae.Z,{guild:l,channel:Ce.ZP.getDefaultChannel(l.id)},ke.f.GUILD_HUB_HEADER_OPTIONS);case ke.f.GUILD_PREMIUM_PROGRESS_BAR:return(0,r.jsx)(ie,{guild:l},ke.f.GUILD_PREMIUM_PROGRESS_BAR);case ke.f.GUILD_HOME:return(0,r.jsx)(lr,{guild:l,selected:c===Fn.oC.GUILD_HOME},ke.f.GUILD_HOME);case ke.f.GUILD_SCHEDULED_EVENTS:return(0,r.jsx)(La,{guild:l,selected:c===ke.f.GUILD_SCHEDULED_EVENTS},ke.f.GUILD_SCHEDULED_EVENTS);case ke.f.GUILD_ROLE_SUBSCRIPTIONS:return(0,r.jsx)(mr,{guild:l,selected:c===Fn.oC.ROLE_SUBSCRIPTIONS},ke.f.GUILD_ROLE_SUBSCRIPTIONS);case ke.f.GUILD_MEMBER_APPLICATIONS:return(0,r.jsx)(sr,{guild:l,
selected:c===Fn.oC.MEMBER_APPLICATIONS},ke.f.GUILD_MEMBER_APPLICATIONS);case ke.f.CHANNELS_AND_ROLES:return(0,r.jsx)(Xn,{guild:l,selected:c===Fn.oC.CHANNEL_BROWSER||c===Fn.oC.CUSTOMIZE_COMMUNITY},ke.f.CHANNELS_AND_ROLES);default:return null}}if(f.isPlaceholderRow(n,i))return null;var v=f.getChannelFromSectionRow(n,i);if(null==v)return null;var m=v.category,g=v.channel,O=m instanceof Me.VR,E=g.record,j="".concat(n).concat(g.id);switch(E.type){case Y.d4z.GUILD_ANNOUNCEMENT:case Y.d4z.GUILD_TEXT:case Y.d4z.GUILD_FORUM:case Y.d4z.DM:case Y.d4z.GROUP_DM:return(0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)(ki,{channel:E,guild:l,position:g.position,selected:c===g.id,muted:g.isMuted,subtitle:g.subtitle,disableManageChannels:p,canBeNewChannel:y&&n===f.recentsSectionNumber,isFavoriteCategory:O}),g.threadCount>0?(0,r.jsx)(Ur,{channel:E,sortedThreadIds:g.threadIds,selectedChannel:null==u||u.id!==g.id&&u.parent_id!==E.id?null:u}):null]},j);case Y.d4z.GUILD_DIRECTORY:
return l.hasFeature(Y.oNc.HUB)?null:(0,r.jsx)(Dn,{channel:E,guild:l,selected:c===g.id,disableManageChannels:p},j);case Y.d4z.GUILD_STAGE_VOICE:var S,C;return(0,r.jsx)(Ho,{channel:E,guild:l,position:g.position,selected:c===g.id,connected:s===g.id,collapsed:g.isCollapsed||m.isCollapsed,voiceStates:null!==(S=d[g.id])&&void 0!==S?S:[],speakerVoiceStates:null!==(C=h[g.id])&&void 0!==C?C:[],disableManageChannels:p,isFavoriteCategory:O},j);case Y.d4z.GUILD_VOICE:return(0,r.jsx)(du,{channel:E,guild:l,position:g.position,selected:c===g.id,connected:s===g.id,collapsed:g.isCollapsed||m.isCollapsed,voiceStates:d[g.id],subtitle:g.subtitle,disableManageChannels:p,showTutorial:g.isFirstVoiceChannel,isFavoriteCategory:O},j);case Y.d4z.GUILD_STORE:return(0,r.jsx)(oi,{channel:E,guild:l,position:g.position,selected:c===g.id},j);case Y.d4z.GUILD_CATEGORY:return n!==f.voiceChannelsSectionNumber?null:(0,r.jsx)(Xt,{channel:E},"readonly-".concat(E.id));default:return null}};e.renderSectionFooter=function(t){
var n=t.section,i=e.props,a=i.guildChannels,l=i.voiceStates,u=i.selectedVoiceChannelId,c=i.optInEnabled;if(n===a.voiceChannelsSectionNumber){var s=a.getCategoryFromSection(a.voiceChannelsSectionNumber);return null==s?null:(0,r.jsx)(Kt,{category:s},"voice-channels-button")}var f=He(a,c,n),d=f.hasDivider,p=f.hasVoiceSummary,h=d?(0,r.jsx)("div",{className:hu().sectionDivider},"divider-".concat(n)):null;if(!p)return h;var y=a.getCategoryFromSection(n);if(null==y||!y.isCollapsed)return h;var b=(0,Ze.c4)(y.getChannelRecords(),u,l);return 0===b.length?h:(0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)("div",{className:hu().voiceUserSummary,children:(0,r.jsx)(Te.Z,{renderIcon:!0,users:b,max:8,showUserPopout:!0,guildId:e.props.guildId})}),h]},"".concat(n,"-footer"))};e.getAnchorId=function(t,n){var r,o,i=e.props.guildChannels;if(t!==Me.zm){if(null==n){var a
;return t===Me.p2?"favorites-header":t===i.recentsSectionNumber?"recents-header":t===i.voiceChannelsSectionNumber?"voice-channels":t===Me.wd?"uncategorized-header":null===(a=i.getNamedCategoryFromSection(t))||void 0===a?void 0:a.id}if(!i.isPlaceholderRow(t,n))return null===(r=i.getChannelFromSectionRow(t,n))||void 0===r||null===(o=r.channel)||void 0===o?void 0:o.id}};e.testShouldSkipTutorial=function(){if(Oe.Z.shouldShow("voice-conversations")){var t=e.props.guildChannels.getFirstVoiceChannel();if(null!=t){var n=e._list;if(null!=n){var r=e.getSectionRowsFromChannel(t.id),o=!0,i=!1,a=void 0;try{for(var l,u=r[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value,s=c.section,d=c.row;n.isItemVisible(s,d)||f.Z.dismiss("voice-conversations")}}catch(e){i=!0;a=e}finally{try{o||null==u.return||u.return()}finally{if(i)throw a}}}}else f.Z.dismiss("voice-conversations")}};return e}var i=n.prototype;i.componentDidMount=function(){this.setState({initialized:!0})}
;i.componentWillUnmount=function(){this.updateChannelListScroll.cancel()};i.componentDidUpdate=function(e,t){var n=this.props,r=n.scrollToChannel,o=n.guildId,i=n.selectedChannelId,a=this.state.initialized,l=Se.Z.getGuildDimensions(o).scrollTop;if(null!=r){this.scrollToChannel(r);s.Z.clearChannelListScrollTo(o)}else o!==e.guildId?null!=l&&this.scrollTo(l):i!==e.selectedChannelId?this.scrollToChannel(i):!t.initialized&&a&&(null==l&&null!=i?this.scrollToChannel(i,!1,8,this.handleListScroll):this.scrollTo(null!=l?l:0,this.handleListScroll));this.testShouldSkipTutorial()};i.getSectionRowsFromChannel=function(e){return this.props.guildChannels.getSectionRowsFromChannel(e)};i.scrollTo=function(e,t){var n;null===(n=this._list)||void 0===n||n.scrollTo({to:e,animate:!1,callback:t})};i.scrollToChannel=function(e){
var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8,r=arguments.length>3?arguments[3]:void 0,o=this._list,i=this.getSectionRowsFromChannel(e)[0];if(null!=i&&null!=o)if(null!=i.threadOffset){var a=Cu(o.getScrollPosition(i.section,i.row),1),l=a[0],u=i.threadOffset*xu;o.scrollIntoViewRect({start:l+u,end:l+u+xu,padding:n,animate:t,callback:r})}else o.scrollToIndex({section:i.section,row:i.row,animate:t,padding:n,callback:r})};i.isUnreadVisible=function(){var e=this.props.guildChannels,t=this._list;return null!=t&&t.getItems().some((function(n){if("row"!==n.type)return!1;var r=n.section,o=n.row;if(r<Me.wd)return!1;if(e.isPlaceholderRow(r,o))return!1;var i=e.getChannelFromSectionRow(r,o);if(null==i)return!1;var a=i.channel,l=i.category;return!!(0,Ee.vc)(a.record.type)&&(!(l.isCollapsed&&l.isMuted||a.isMuted||!t.isItemVisible(r,o,!0))&&Pe.ZP.hasRelevantUnread(a.record))}))};i.renderTopUnread=function(){
var e=this.state,t=e.topMention,n=e.bottomUnread,o=e.bottomMention,i=e.isUnreadVisible,a=this.props,l=a.guildId,u=a.guildChannels,c=a.guildChannelsVersion,s=null==t&&(i||null!=n||null!=o);return(0,r.jsx)("div",{className:hu().positionedContainer,children:(0,r.jsx)(wa,{ref:this.unreadTopRef,textUnread:z.Z.Messages.NEW_UNREADS,textMention:z.Z.Messages.NEW_MENTIONS,hide:s,className:hu().unreadTop,barClassName:hu().unreadBar,guildId:l,guildChannels:u,guildChannelsVersion:c,isVisible:this.isChannelVisible,onJumpTo:this.jumpToChannelWithMentionsAndUnreads,onCalculate:this.handleUnreadCalculate})})};i.renderBottomUnread=function(){var e=this.props,t=e.guildId,n=e.guildChannels,o=e.guildChannelsVersion,i=this.state,a=i.bottomMention,l=i.isUnreadVisible,u=null==a&&l;return(0,r.jsx)(wa,{reverse:!0,ref:this.unreadBottomRef,textUnread:z.Z.Messages.NEW_UNREADS,textMention:z.Z.Messages.NEW_MENTIONS,hide:u,className:hu().unreadBottom,barClassName:hu().unreadBar,guildId:t,guildChannels:n,
guildChannelsVersion:o,isVisible:this.isChannelVisible,onJumpTo:this.jumpToChannelWithMentionsAndUnreads,onCalculate:this.handleUnreadCalculate})};i.renderList=function(){var e=this,t=this.props,n=t.guildChannels,o=t.guild,i=t.guildBanner,a=t.hasGuildSubheader,l=this.context,u=(l.ref,Eu(l,["ref"])),c=0;null!=i?c=84:o.hasCommunityInfoSubheader()&&!a&&(c=16);return(0,r.jsx)(v.Wd,{children:function(t){return(0,r.jsx)(Ae.ZP,gu({ref:e.setListRef,className:hu().scroller,fade:!0,sectionHeight:e.getSectionHeight,footerHeight:e.getSectionFooterHeight,rowHeight:e.getRowHeight,paddingTop:c,paddingBottom:wu,renderSection:e.renderSection,renderFooter:e.renderSectionFooter,renderRow:e.renderRow,onScroll:e.handleListScroll,onResize:e.handleResize,onContentResize:e.handleResize,sections:n.getSections(),innerAriaLabel:z.Z.Messages.CHANNELS,innerTag:"ul",getAnchorId:e.getAnchorId},u,t),"guild-channels")}})};i.render=function(){var e=this,t=this.props,n=t.guildChannels,i=t.guildChannelsVersion
;return t.showNewUnreadsBar?(0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)("div",{className:hu().positionedContainer,children:(0,r.jsx)(Oa,{position:"top",guildChannels:n,guildChannelsVersion:i,jumpToVoiceChannels:this.jumpToVoiceChannels,jumpToChannel:this.jumpToChannel})}),this.renderList(),(0,r.jsx)(Oa,{position:"bottom",guildChannels:n,guildChannelsVersion:i,jumpToVoiceChannels:this.jumpToVoiceChannels,jumpToChannel:this.jumpToChannel})]}):(0,r.jsx)(o.Fragment,{children:(0,r.jsx)(Ne.FG,{children:function(t){return(0,r.jsxs)(we.y,{component:(0,r.jsx)(h.Z,{children:(0,r.jsx)(we.H,{id:t,children:z.Z.Messages.CHANNELS})}),children:[e.renderTopUnread(),e.renderList(),e.renderBottomUnread()]})}})})};return n}(o.PureComponent);Au.contextType=u.qB;var Zu=function(e){var t=e.guildId,n=e.selectedChannelId,i=(0,c.e7)([p.Z],(function(){return p.Z.keyboardModeEnabled})),a=(0,b.Z)(y.Z.GUILD_CHANNEL_LIST).AnalyticsLocationProvider,s=(0,c.e7)([se.Z],(function(){return se.Z.getChannel(n)})),f=(0,
c.e7)([Ie.Z],(function(){return Ie.Z.getGuildId()})),h=(0,ue.DM)(t),v=o.useRef(null),m=o.useCallback((function(e,t){var n=v.current;if(null!=n)if(Y.Xyh.test(t)||(0,Fn.AB)(t))n.scrollToChannel(t,!1,16,(function(){requestAnimationFrame((function(){var t;return null===(t=document.querySelector(e))||void 0===t?void 0:t.focus()}))}));else{var r;null===(r=document.querySelector(e))||void 0===r||r.focus()}}),[]),g=o.useCallback((function(){return new Promise((function(e){var t=v.current;if(null==t)return e();t.scrollTo(0,(function(){return requestAnimationFrame((function(){return e()}))}))}))}),[]),O=o.useCallback((function(){return new Promise((function(e){var t=v.current;if(null==t)return e();t.scrollTo(Number.MAX_SAFE_INTEGER,(function(){return requestAnimationFrame((function(){return e()}))}))}))}),[]),E=(0,l.ZP)({id:"channels",defaultFocused:null!=n?n:void 0,isEnabled:i,setFocus:m,scrollToStart:g,scrollToEnd:O}),j=E.setFocus;o.useEffect((function(){null!=n&&j(n)}),[n,j])
;var S=function(e){return ve((0,c.e7)([pe.Z,se.Z,ce.Z],(function(){var t;return[(t=e===Y.I_8?Object.keys(ce.Z.getFavoriteChannels()).map((function(e){return se.Z.getChannel(e)})).filter(de.lm).filter((function(e){return e.isGuildStageVoice()})):pe.Z.getChannels(e)).reduce((function(e,t){var n=pe.Z.getMutableParticipants(t.id,he.pV.SPEAKER);e[t.id]=n.filter((function(e){return e.type===he.Ui.VOICE})).map(me);return e}),{}),t.reduce((function(e,t){var n=t.id;return e+pe.Z.getParticipantsVersion(n)}),0)]}),[e],ye.QF),1)[0]}(t);return(0,r.jsx)(a,{children:(0,r.jsx)(d.Z,{section:Y.jXE.GUILD_CHANNEL_LIST,children:(0,r.jsx)(u.bG,{navigator:E,children:(0,r.jsx)(Au,Ou(gu({},e),{listNavigator:E,ref:v,selectedChannel:s,stageChannelSpeakerVoiceStates:S,selectedGuildId:f,optInEnabled:h}))})})})};function Ru(e){var t=(0,Le.o)();return(0,r.jsx)(Zu,Ou(gu({},e),{guildChannels:t,guildChannelsVersion:0}))}function Mu(e){var t=qe(e.guild),n=(0,c.cj)([De.Z],(function(){return De.Z.getGuild(e.guildId,t)}))
;return(0,r.jsx)(Zu,gu({},e,n))}},807370:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>N});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),l=n(248088),u=n(606076),c=n(39802),s=n(629590),f=n(685351),d=n(757987),p=n(436035),h=n(811442),y=n(917870),b=n(387736),v=n(461061),m=n(733346),g=n(959797),O=n(125686),E=n.n(O);function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function S(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){S(e,t,n[t])}))}return e}function P(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e){var t,n=e.guild,i=e.controller,s=e.guildBanner,f=e.animate,d=i.springs.value,p=o.useContext(c.S).reducedMotion;return(0,r.jsx)(l.animated.div,{className:E().animatedContainer,style:{opacity:d,transform:d.to((function(e){return"translateY(-".concat(90*(1-e),"px)")}))},children:(0,r.jsx)(l.animated.div,{className:a()(E().bannerImage,S({},E().bannerImgFullWidth,u.tq)),style:{transform:d.to((function(e){return p.enabled?"translateY(".concat(90*(1-e),"px)"):"translateY(".concat(60*(1-e),"px) scale(").concat(1+.2*(1-e),")")}))},children:(0,r.jsx)("img",{className:a()(E().bannerImg,S({},E().bannerImgFullWidth,u.tq)),src:null!==(t=y.ZP.getGuildBannerURL({id:n.id,banner:s
},f))&&void 0!==t?t:"",alt:"",height:135,width:240,"aria-hidden":!0})})})}function w(e){var t=e.guild,n=e.controller,o=e.hasBanner,i=e.hasSubheader,a=n.springs.value,u=t.hasFeature(v.oNc.DISCOVERABLE),c=(0,r.jsx)("div",{className:E().communityInfo,children:u&&(0,r.jsx)(d.ZP,{text:g.Z.Messages.DISCOVERABLE_GUILD_HEADER_PUBLIC_INFO,position:d.ZP.Positions.RIGHT,children:function(e){return(0,r.jsxs)("div",P(C({className:E().communityInfoPill},e),{children:[(0,r.jsx)(h.Z,{width:12,height:12,className:E().communityIcon}),(0,r.jsx)(f.x,{variant:"text-xs/normal",color:"none",children:g.Z.Messages.DISCOVERABLE_GUILD_HEADER_PUBLIC})]}))}})});return i?(0,r.jsx)("div",{className:E().communityInfoContainer,children:c}):(0,r.jsx)(l.animated.div,{className:E().communityInfoContainer,style:o?{opacity:a}:{height:a.to((function(e){return"".concat(20*e,"px")}))},children:c})}function x(e){return e.guild.id===m._?(0,r.jsx)(d.ZP,{
text:"Super-duper alpha! This may break, change, or be removed at any time. One day real users can use this. :')",children:function(e){return(0,r.jsx)(p.Z,C({className:E().favoritesInfo},e))}}):null}const N=o.memo((function(e){var t=e.bannerVisible,n=e.controller,i=e.className,l=e.onClick,u=e.onContextMenu,d=e.onMouseDown,p=e.disableBannerAnimation,h=e["aria-expanded"],m=e["aria-controls"],O=e.guild,j=e.guildBanner,C=e.animationOverlayHeight,P=e.children,N=e.headerClassName,T=e.communityInfoVisible,A=e.hasSubheader,Z=O.hasFeature(v.oNc.ANIMATED_BANNER),R=O.hasCommunityInfoSubheader(),M=(0,y.xR)(j)&&Z&&!p,D=I(o.useState(!1),2),L=D[0],k=D[1],U=o.useRef(),G=o.useRef(null),H=o.useRef(),B=o.useContext(c.S).reducedMotion;o.useEffect((function(){if(M&&t&&!U.current&&!B.enabled){k(!0);H.current=setTimeout((function(){k(!1)}),5e3);return function(){clearTimeout(H.current)}}}),[M,t,B]);o.useEffect((function(){U.current=t}),[t]);var V,F,W=function(){var t=e.renderBanner
;return null!=e.guildBanner&&!t};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{ref:G,className:a()(i,(F={},S(F,E().container,!0),S(F,E().clickable,null!=l),S(F,E().selected,null!=l&&h),S(F,E().hasBanner,W()),S(F,E().bannerVisible,t),S(F,E().communityInfoVisible,T||A&&O.hasCommunityInfoSubheader()),F)),onMouseDown:d,onContextMenu:u,onClick:l,children:[(0,r.jsxs)("header",{className:a()(E().header,N),children:[(0,r.jsxs)("div",{className:a()(E().headerContent,E().primaryInfo),children:[(0,r.jsx)(b.Z,{guild:O,isBannerVisible:t}),(0,r.jsxs)(f.x,{color:"none",variant:"text-md/semibold",lineClamp:1,className:E().name,children:[O.toString(),(0,r.jsx)(x,{guild:O})]}),null!=l&&(0,r.jsx)(s.Z,{className:E().headerButton,"aria-controls":m,"aria-expanded":h,focusProps:{ringTarget:G,offset:4},onClick:l,onContextMenu:u,"aria-label":g.Z.Messages.GUILD_SIDEBAR_ACTIONS_BUTTON.format({guildName:null!==(V=null==O?void 0:O.toString())&&void 0!==V?V:""})}),(0,r.jsx)("div",{
className:E().headerChildren,children:P})]}),R&&(0,r.jsx)(w,{guild:O,controller:n,hasBanner:null!=j,hasSubheader:null!=A&&A})]}),null!=j?(0,r.jsx)(_,{guild:O,controller:n,guildBanner:j,animate:L}):null]}),M&&W()?(0,r.jsx)("div",{className:E().animatedBannerHoverLayer,onMouseEnter:function(){k(!0);clearTimeout(H.current)},onMouseLeave:function(){return k(!1)},style:{height:C}}):null]})}))},443785:(e,t,n)=>{"use strict";n.d(t,{Z:()=>Ke});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),l=n(791462),u=n(365523),c=n(623899),s=n(320115),f=n(667805),d=n(18416),p=n(631134),h=n(934714),y=n(940712),b=n(963886),v=n(248604),m=n(109707),g=n(825524),O=n(281081),E=n(804626),j=n(370442),S=n(401953),C=n(430923),P=n(259849),I=n(959797);function _(e){if(e===P.YE.XBOX)return I.Z.Messages.XBOX_REMOTE_CONNECTED_RAW}
var w=n(997163),x=n(337160),N=n(357523),T=n(967250),A=n(481542),Z=n(91144),R=n(653772),M=n(962564),D=n(882687),L=n(629590),k=n(812895),U=n(685351),G=n(932847),H=n(573643),B=n(62214),V=n(306599),F=n(461061),W=n(569365),Y=n.n(W);function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function K(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function q(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function X(e){X=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return X(e)}function Q(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})))
;n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function J(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function $(e,t){return!t||"object"!==ne(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ee(e,t){ee=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return ee(e,t)}function te(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){
var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return z(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ne=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function re(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{
Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=X(e);if(t){var o=X(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return $(this,n)}}var oe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&ee(e,t)}(n,e);var t=re(n);function n(){K(this,n);return t.apply(this,arguments)}var o=n.prototype;o.componentDidMount=function(){var e=this.props,t=e.user,n=e.streamApplication;G.default.track(F.rMx.OPEN_POPOUT,{type:"Stream Preview",other_user_id:t.id,application_id:null!=n?n.id:null,application_name:null!=n?n.name:null,game_id:null!=n?n.id:null,is_streaming:!0})};o.renderPreview=function(e){var t=this.props,n=t.onWatch,o=t.activeStream,i=t.currentUserId,a=t.canWatch,l=t.unavailableReason;return(0,
r.jsxs)(L.Z,{onClick:n,className:Y().previewContainer,children:[(0,r.jsx)(V.Z,{className:Y().previewImage,stream:e}),a?(0,r.jsx)("div",{className:Y().previewHover,children:(0,r.jsx)(U.x,{variant:"text-sm/normal",color:"none",className:Y().white,children:(0,B.Z)(e,o,i,l)})}):null]})};o.render=function(){var e=this.props,t=e.activity,n=e.user,o=e.stream,i=e.previewIsOpen;return null==o?null:(0,r.jsx)("div",{className:a()(Y().streamPreviewWrapper,q({},Y().mounted,i)),children:(0,r.jsxs)("div",{className:Y().streamPreview,children:[this.renderPreview(o),(0,r.jsxs)("div",{className:Y().body,children:[null!=t?(0,r.jsx)(T.Z,{hideHeader:!0,type:T.P.STREAM_PREVIEW,activity:t,user:n,guildId:o.guildId,channelId:o.channelId}):(0,r.jsx)(Z.Z,{type:T.P.STREAM_PREVIEW,applicationStream:o,user:n,guildId:o.guildId,channelId:o.channelId,className:Y().activityActions,color:Y().watchButton}),(0,r.jsx)(k.Z,{type:k.Z.Types.INLINE,className:Y().protip,
children:__OVERLAY__?I.Z.Messages.WATCH_STREAM_IN_APP:I.Z.Messages.WATCH_STREAM_TIP})]})]})})};return n}(o.PureComponent);function ie(e){var t=e.user,n=e.channel,i=J(e,["user","channel"]),a=te((0,l.Wu)([D.Z,R.Z,y.Z,C.Z],(function(){return(0,x.p9)(n,D.Z,R.Z,y.Z,C.Z)})),2),u=a[0],c=a[1],s=(0,l.e7)([d.Z],(function(){return d.Z.getStreamForUser(t.id)})),f=(0,l.e7)([d.Z],(function(){return d.Z.getActiveStreamForApplicationStream(s)})),h=(0,l.e7)([p.default],(function(){return p.default.getId()})),b=(0,l.e7)([M.Z],(function(){return(0,H.L2)(s,M.Z)})),v=(0,l.e7)([M.Z],(function(){return(0,H.Um)(s,M.Z)})),m=o.useMemo((function(){return q({},n.guild_id,[t.id])}),[n.guild_id,t.id]);(0,A.$)(m);return(0,r.jsx)(oe,Q(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))))
;r.forEach((function(t){q(e,t,n[t])}))}return e}({},i),{canWatch:u,unavailableReason:c,user:t,streamApplication:b,stream:s,activeStream:f,currentUserId:h,activity:v}))}var ae=n(356002),le=n(553314),ue=n(761434),ce=n(757987),se=n(449223),fe=n(855846),de=n(245693),pe=n.n(de);function he(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function ye(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){he(i,r,o,a,l,"next",e)}function l(e){he(i,r,o,a,l,"throw",e)}a(void 0)}))}}function be(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ve(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function me(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function ge(e){
ge=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return ge(e)}function Oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){me(e,t,n[t])}))}return e}function Ee(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function je(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{}
;var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function Se(e,t){return!t||"object"!==Pe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ce(e,t){Ce=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Ce(e,t)}var Pe=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Ie(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=ge(e);if(t){
var o=ge(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Se(this,n)}}var _e=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2]
;a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function we(e){var t=e.numUsers;return(0,r.jsx)("div",{className:pe().moreContainer,children:(0,r.jsxs)(U.x,{color:"text-muted",variant:"text-sm/medium",children:["+",t]})})}function xe(e){var t=e.numAudience,n=e.collapsed,o=n?t:I.Z.Messages.LISTENING_COUNT.format({count:t});return(0,r.jsxs)("div",{className:a()(pe().audienceContainer,me({},pe().audienceContainerCollapsed,n)),children:[(0,r.jsx)("div",{className:pe().audienceIconContainer,children:(0,r.jsx)(se.Z,{className:pe().audienceIcon})}),(0,r.jsx)(U.x,{color:"text-muted",variant:"text-sm/medium",children:o})]})}var Ne=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}})
;t&&Ce(e,t)}(i,e);var t=Ie(i);function i(){be(this,i);var e;(e=t.apply(this,arguments)).domElementRef=o.createRef();e.state={userPopoutOpen:!1};e.handleClickUser=function(){e.setState({userPopoutOpen:!e.state.userPopoutOpen})};e.handleCloseUserPopout=function(){e.setState({userPopoutOpen:!1})};e.handleHidePreview=function(){var t=e.props,n=t.hidePreview,r=t.isStreaming,o=t.user;r&&(null==n||n(o.id))};e.handleMouseEnter=function(){var t=e.props,n=t.user,r=t.showPreview;t.isStreaming&&(null==r||r(n.id))};e.handleWatchStream=function(){var t=e.props,n=t.user,r=t.channel,o=t.isWatching,i=t.hidePreview;if(e.canWatchStream){var a={streamType:fe.lo.GUILD,ownerId:n.id,channelId:r.id,guildId:r.guild_id};p.default.getId()!==n.id&&E.default.selectVoiceChannel(r.id);if(o){(0,N.Z)(a);g.Z.selectParticipant(a.channelId,(0,w.V9)(a))}else(0,j.iV)(a);null==i||i(n.id)}};e.handleUserContextMenu=function(t){var o=e.props,i=o.channel,a=o.user;(0,O.jW)(t,ye((function(){var e,t;return _e(this,(function(o){
switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(87996),n.e(45323),n.e(1951),n.e(36401),n.e(34076)]).then(n.bind(n,536401))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,Ee(Oe({},e),{user:a,guildId:i.guild_id,channelId:i.id,showMediaItems:!0,showStageChannelItems:i.isGuildStageVoice()}))}]}}))})))};e.renderUserPopout=function(t){var n=e.props,o=n.channel,i=n.user,a=o.getGuildId();return(0,r.jsx)(le.Z,Oe({userId:i.id,guildId:null!=a?a:void 0,channelId:o.id},t))};e.renderStreamPopout=function(){var t=e.props,n=t.user,o=t.channel,i=t.previewIsOpen,a=t.location;return(0,r.jsx)(ie,{user:n,channel:o,onWatch:e.handleWatchStream,previewIsOpen:i,location:a})};e.renderUser=function(t){
var n=e.props,o=n.isSelfOnOtherClient,i=n.otherClientSessionType,l=n.shouldShowPreview,u=n.mute,c=n.localMute,s=n.localVideoDisabled,f=n.speaking,d=n.user,p=n.deaf,h=n.priority,y=n.collapsed,b=n.isStreaming,v=n.nick,g=n.video,O=n.serverMute,E=n.serverDeaf,j=n.tabIndex,S=n.embeddedApplication,C=n.channel,w=e.state.userPopoutOpen,x=P.al.has(null!=i?i:""),N={user:d,speaking:f,mute:u,localMute:c,localVideoDisabled:s,isStreaming:b,video:g,priority:h,deaf:p,nick:v,collapsed:y,overlap:y,serverMute:O,serverDeaf:E,tabIndex:j,otherClientSessionType:i,embeddedApplication:S,avatarContainerClass:a()(me({},pe().userAvatar,!0)),disabled:o&&!x,selected:w,onClick:x?void 0:e.handleClickUser,onDoubleClick:e.handleWatchStream,onContextMenu:e.handleUserContextMenu,guildId:C.guild_id};if(o){var T;return(0,r.jsx)(ce.ZP,{text:null!==(T=_(i))&&void 0!==T?T:I.Z.Messages.CONNECTED_ON_ANOTHER_CLIENT,children:function(e){e.onClick,e.onContextMenu;var t=je(e,["onClick","onContextMenu"]);return(0,
r.jsx)(m.Z,Oe({},N,t))}})}return(0,r.jsx)(ue.ZP,{position:ue.ZP.Positions.RIGHT,renderPopout:e.renderStreamPopout,shouldShow:l&&!w,onRequestClose:e.handleHidePreview,spacing:0,children:function(){return(0,r.jsx)(m.Z,Ee(Oe({},N),{onMouseDown:t.onMouseDown,onKeyDown:t.onKeyDown}))}})};return e}i.prototype.render=function(){var e=this,t=this.state.userPopoutOpen,n=this.props,o=n.connectUserDragSource,i=n.canDrag,a=n.isSelfOnOtherClient,l=n.user,u=n.channel,c=(0,r.jsx)("div",{className:pe().draggable,"data-dnd-name":u.name,onMouseEnter:a?void 0:this.handleMouseEnter,onMouseLeave:a?void 0:this.handleHidePreview,children:(0,r.jsx)(ue.ZP,{preload:function(){return(0,ae.Z)(l.id,l.getAvatarURL(u.guild_id,80),{guildId:u.guild_id,channelId:u.id})},position:ue.ZP.Positions.RIGHT,renderPopout:this.renderUserPopout,shouldShow:t,onRequestClose:this.handleCloseUserPopout,children:function(t){return e.renderUser(t)}})});return i?o(c):c};!function(e,t,n){t&&ve(e.prototype,t);n&&ve(e,n)}(i,[{
key:"canWatchStream",get:function(){var e=this.props,t=e.channel;return e.isStreaming&&(0,x.p9)(t,D.Z,R.Z,y.Z,C.Z)[0]}}]);return i}(o.PureComponent);Ne.defaultProps={isSelfOnOtherClient:!1};const Te=(0,S.$)(Ne);var Ae=n(452689),Ze=n(971810),Re=n.n(Ze);function Me(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function De(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Le(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function ke(e){ke=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return ke(e)}function Ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))))
;r.forEach((function(t){Le(e,t,n[t])}))}return e}function Ge(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function He(e,t){return!t||"object"!==Fe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Be(e,t){Be=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Be(e,t)}function Ve(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1
;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Me(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Me(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Fe=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function We(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{
Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=ke(e);if(t){var o=ke(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return He(this,n)}}var Ye=o.memo((function(e){var t,n=e.mute,o=e.deaf,i=e.user.id,a=e.channel,u=e.sessionId,y=(0,l.e7)([p.default],(function(){return p.default.getId()===i}),[i]),m=Ve((0,l.Wu)([h.Z],(function(){return y?[!h.Z.isSupported()||h.Z.isSelfMute()||h.Z.isSelfMutedTemporarily(),h.Z.isSelfDeaf(),!1]:[!h.Z.isSupported()||h.Z.isLocalMute(i),!1,h.Z.isLocalVideoDisabled(i)]}),[y,i]),3),g=m[0],O=m[1],E=m[2],j=Ve((0,l.Wu)([v.Z],(function(){return[v.Z.isPrioritySpeaker(i),v.Z.isSpeaking(i)||v.Z.isSoundSharing(i)]}),[i]),2),S=j[0],C=j[1],P=(0,l.e7)([c.ZP],(function(){return c.ZP.getEmbeddedActivitiesForChannel(a.id).find((function(e){return e.connections.has(i)}))}),[i,a.id]),I=(0,s.Z)(null!=P?[P.application_id]:[]),_=Ve((0,l.Wu)([d.Z],(function(){
return[d.Z.getStreamForUser(i),d.Z.getActiveStreamForUser(i)]}),[i]),2),w=_[0],x=_[1],N=(0,l.e7)([b.Z],(function(){return b.Z.getSessionById(u)}));return(0,r.jsx)(f.Z,{shakeLocation:Ae.oZ.VOICE_USER,isShaking:C,children:(0,r.jsx)(Te,Ge(Ue({},e),{otherClientSessionType:null==N||null===(t=N.clientInfo)||void 0===t?void 0:t.os,localMute:g&&!y,localVideoDisabled:E,mute:n||g,deaf:o||O,speaking:C,priority:S,embeddedApplication:I[0],isStreaming:null!=w&&w.channelId===a.id,isWatching:null!=x&&x.state!==F.jm8.ENDED}))})}));Ye.displayName="ConnectedVoiceUser";var ze=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Be(e,t)}(n,e);var t=We(n);function n(){De(this,n);var e;(e=t.apply(this,arguments)).showPreview=new u.sW(50,(function(){e.setState({previewUserId:e.previewUserIdAfterDelay});e.previewUserIdAfterDelay=null
}));e.hidePreview=new u.sW(175,(function(){e.setState({previewUserId:null})}));e.previewUserIdAfterDelay=null;e.state={previewUserId:null,previewIsOpen:!1};e.handleShowPreview=function(t){if(e.props.allowPreviews){e.setState({previewIsOpen:!0});e.hidePreview.cancel();e.previewUserIdAfterDelay=t;e.showPreview.delay()}};e.handleHidePreview=function(t){if(e.props.allowPreviews){var n=e.state.previewUserId;e.showPreview.cancel();if(n===t){e.setState({previewIsOpen:!1});e.hidePreview.delay()}}};return e}var o=n.prototype;o.renderVoiceUsers=function(){var e=this,t=this.props,n=t.channel,o=t.allowDragging,i=t.voiceStates,a=t.collapsed,l=t.collapsedMax,u=void 0===l?6:l,c=t.tabIndex,s=t.location,f=t.numAudience,d=this.state,h=d.previewUserId,b=d.previewIsOpen;if(null==i||0===i.length)return null;var v=(a&&i.length>u+1?i.slice(0,u):i).map((function(t){var i,l=t.user,u=t.nick,f=t.voiceState;return(0,r.jsx)(Ye,{user:l,nick:u,
isSelfOnOtherClient:p.default.getId()===l.id&&f.sessionId!==p.default.getSessionId(),mute:f.isVoiceMuted(),deaf:f.isVoiceDeafened(),video:f.selfVideo,serverMute:f.mute,serverDeaf:f.deaf,sessionId:null!==(i=f.sessionId)&&void 0!==i?i:"",channel:n,collapsed:a,canDrag:o&&y.Z.can(F.Plq.MOVE_MEMBERS,n),showPreview:e.handleShowPreview,hidePreview:e.handleHidePreview,previewIsOpen:b,shouldShowPreview:h===l.id,tabIndex:c,location:s},l.id)}));null!=f&&f>0?v.push((0,r.jsx)(xe,{collapsed:a,numAudience:f})):a&&i.length>u+1&&v.push((0,r.jsx)(we,{numUsers:i.length-u}));return v};o.render=function(){var e=this.renderVoiceUsers(),t=this.props,n=t.collapsed,o=t.className,i=t.children;return null==e&&null==i?null:(0,r.jsxs)(m.e,{className:a()(o,Re().list,Le({},Re().collapsed,n)),collapsed:n,children:[e,i]})};return n}(o.Component);ze.defaultProps={allowPreviews:!0,allowDragging:!0};const Ke=ze},227562:(e,t,n)=>{"use strict";n.d(t,{eD:()=>r,g8:()=>s,Mg:()=>f,qQ:()=>d});var r,o=n(441143),i=n.n(o)
;function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function u(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}!function(e){e.ROOT="root";e.FOLDER="folder";e.GUILD="guild"
}(r||(r={}));function c(){return Math.floor(4294967296*Math.random())}var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);this.root={type:r.ROOT,children:[]};this.nodes={};this.version=0}var t=e.prototype;t.moveNextTo=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this._pluckNode(e);var o=null!=t.parentId?this.nodes[t.parentId]:this.root,a=o.children.indexOf(t);i()(!(e.type===r.FOLDER&&o.type===r.FOLDER),"[GUILDS TREE] Tried moving a folder (".concat(e.id,") inside of another folder (").concat(o.id,")"));i()(a>=0,"[GUILDS TREE] target node (".concat(t.id,") did not exist within its specified parent (").concat(t.parentId,")"));var l=n?1:0;o.children=u(o.children);o.children.splice(a+l,0,e);e.parentId=o.id;this.version++;return this};t.moveInto=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this._pluckNode(e);var r=n?t.children.length:0
;t.children=u(t.children);t.children.splice(r,0,e);e.parentId=t.id;this.version++;return this};t.addNode=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.root,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];i()(e.type!==r.ROOT,"[GUILDS TREE] Tried adding another root node into the tree");i()(null!=e.id,"[GUILDS TREE] Tried adding a node without an id");i()(null==this.nodes[e.id],"[GUILDS TREE] Tried adding a node that already exists (".concat(e.id,")"));this.nodes[e.id]=e;this.version++;return this.moveInto(e,t,n)};t.removeNode=function(e){i()(e!==this.root,"[GUILDS TREE] Tried removing the root node from the tree");i()(null!=e.id,"[GUILDS TREE] Tried removing a node without an id");this._pluckNode(e);e.parentId=void 0;delete this.nodes[e.id];this.version++;return this};t.replaceNode=function(e,t){i()(e!==this.root,"[GUILDS TREE] Tried replacing the root node of the tree");i()(null!=e.id,"[GUILDS TREE] Tried replacing a node without an id")
;i()(null!=t.id,"[GUILDS TREE] Tried replacing a node with one that does not have an id");i()(t.type!==r.ROOT,"[GUILDS TREE] Tried adding another root node into the tree");var n=null!=e.parentId?this.nodes[e.parentId]:this.root,o=n.children.indexOf(e);i()(o>=0,"[GUILDS TREE] existing node (".concat(e.id,") did not exist within its specified parent (").concat(e.parentId,")"));n.children.splice(o,1,t);t.parentId=n.id;delete this.nodes[e.id];this.nodes[t.id]=t;this.version++;return this.removeNode(e)};t.convertToFolder=function(e){for(var t=c();null!=this.getNode(t);)t=c();var n={type:r.FOLDER,id:t,expanded:!1,children:[]};this.replaceNode(e,n);this.addNode(e,n,!1);this.version++;return n};t.allNodes=function(){return Object.values(this.nodes)};t.getNode=function(e){return this.nodes[e]};t.getRoots=function(){return this.root.children};t.sortedGuildNodes=function(){return function e(t){return null==t.children?[]:t.children.map((function(t){return e(t)})).flat()}(this.root)}
;t._pluckNode=function(e){var t=null!=e.parentId?this.nodes[e.parentId]:this.root;i()(null!=t,"[GUILDS TREE] source node (".concat(e.id,") had a parent id (").concat(e.parentId,") which doesn't exist in the tree"));var n=t.children;i()(null!=n,"[GUILDS TREE] source node (".concat(e.id,") had a parent id (").concat(e.parentId,") which contains no children"));t.children=n.filter((function(t){return t!==e}));e.parentId=void 0;this.version++};!function(e,t,n){t&&l(e.prototype,t);n&&l(e,n)}(e,[{key:"size",get:function(){return this.allNodes().length}}]);return e}();function f(e,t){return{type:r.GUILD,id:e,parentId:t,children:[],unavailable:!1}}function d(e,t){var n,o,i;return{type:r.FOLDER,id:e.folderId,parentId:t,name:null!==(n=e.folderName)&&void 0!==n?n:void 0,color:null!==(o=e.folderColor)&&void 0!==o?o:void 0,expanded:null!==(i=e.expanded)&&void 0!==i&&i,children:[]}}},713711:(e,t,n)=>{"use strict";n.d(t,{n:()=>a});var r=n(751615),o=n(551433),i=n(461061);function a(){var e=(0,
o.Z)((function(e){return e.guildId})),t=(0,r.TH)().pathname,n=t.startsWith(i.Z5c.GUILD_DISCOVERY),a=t.startsWith(i.Z5c.GUILD_MEMBER_VERIFICATION("")),l=t.startsWith(i.Z5c.GUILD_MEMBER_VERIFICATION_FOR_HUB("")),u=t.startsWith(i.Z5c.PREMIUM_MARKETING_SURFACE);return null==e&&!(n||a||l||u)}},61129:(e,t,n)=>{"use strict";n.d(t,{Z:()=>Pl});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),l=n(496486),u=n.n(l),c=n(973935),s=n(751615),f=n(125447),d=n(388721),p=n(791462),h=n(606750),y=n(365523),b=n(8062),v=n(922932),m=n(155208),g=n(67874),O=n(474946),E=n(805448),j=n(692410),S=(n(841372),n(653772)),C=n(73462),P=n(932847);n(224244);const I=(0,n(553494).B)({kind:"user",id:"2022-01_server_recommendations_rollout",label:"Rollout experiment for server recommendations.",defaultConfig:{showRecs:!1},treatments:[{id:1,label:"Show server recommendations",config:{showRecs:!0}}]});var _=n(461061),w=n(659086)
;var x=n(630695),N=n(268301),T=n(277660),A=n(551433),Z=n(145072),R=n(859023),M=n(318937),D=n(742269),L=n(863419),k=n(170729),U=n(227562),G=n(461181),H=n(280671),B=n(9906),V=n(520134),F=n(784238),W=n(173436);function Y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function z(e){z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return z(e)}function K(e,t){return!t||"object"!==X(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function q(e,t){q=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return q(e,t)}var X=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{
Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=z(e);if(t){var o=z(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return K(this,n)}}var J={};var $=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&q(e,t)}(n,e);var t=Q(n);function n(){Y(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(e){var t=e;null!=t&&Object.keys(t).forEach((function(e){"number"==typeof t[e]&&(J[e]=t[e])}))};r.getState=function(){return J};r.hasViewed=function(e){return null!=J[e]};r.__getLocalVars=function(){return{lastViewed:J}};return n}(p.ZP.PersistedStore);$.displayName="ViewHistoryStore";$.persistKey="ViewHistoryStore";const ee=new $(W.Z,{VIEW_HISTORY_MARK_VIEW:function(e){
var t=e.key;J[t]=Date.now()}});var te=n(426217),ne=n(703164),re=n(604860),oe=n(959797);function ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ae(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function le(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function ue(e){return function(e){if(Array.isArray(e))return ie(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return
;if("string"==typeof e)return ie(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ie(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ce="app-download-item",se="add-server-item";function fe(e){var t;if(!(0,G.c)())return!1;var n=B.Z.getMutableGuildStates();return e!==ce&&e!==se&&(null===(t=n[null!=e?e:"null"])||void 0===t?void 0:t.unread)}function de(e){var t,n=B.Z.getMutableGuildStates();return e===_.x8Z.SERVER_DISCOVERY_BADGE&&!ee.hasViewed(_.x8Z.SERVER_DISCOVERY_BADGE)||e!==ce&&e!==se&&(null===(t=n[null!=e?e:"null"])||void 0===t?void 0:t.mentionCount)>0}var pe=(0,re.oH)((function(e,t,n){return["null"].concat(ue(t),ue(e),[se,_.x8Z.E3_SERVER_DISCOVERY_BADGE,ce])}))
;const he=o.forwardRef((function(e,t){var n=(0,p.Wu)([F.Z,V.Z,B.Z],(function(){return pe(F.Z.guildFolders,V.Z.getUnreadPrivateChannelIds(),B.Z.getStoreChangeSentinel())})),o=(0,p.e7)([te.Z],(function(){return te.Z.isFocused()})),i=(0,p.e7)([H.Z],(function(){return H.Z.getExpandedFolders()}));return(0,r.jsx)(ne.Z,le(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){ae(e,t,n[t])}))}return e}({},e),{ref:t,items:n,isUnread:fe,textUnread:oe.Z.Messages.NEW,textMention:oe.Z.Messages.NEW,isMentioned:de,animate:o,expandedFolders:i}))}));var ye=n(7564),be=n(589175),ve=n(356004),me=n(733285),ge=n(248088),Oe=n(281081),Ee=n(125628),je=n(53211),Se=n(18416),Ce=n(365667),Pe=n(379822),Ie=n(115293),_e=n.n(Ie),we=Object.freeze({tension:400,friction:30
}),xe=Object.freeze({opacity:0,height:8,x:-4});function Ne(e){var t=e.selected,n=void 0!==t&&t,o=e.hovered,i=void 0!==o&&o,l=e.unread,u=void 0!==l&&l,c=e.disabled,s=void 0!==c&&c,f=e.className;i=!s&&i;u=!s&&u;var d={opacity:1,height:(n=!s&&n)?40:i?20:8,x:0},p=(0,ge.useTransition)(n||i||u,{config:we,keys:function(e){return e?"pill":"empty"},immediate:!i&&!document.hasFocus(),initial:n||i||u?d:null,from:xe,leave:xe,enter:d,update:d});return(0,r.jsx)("div",{className:a()(f,_e().wrapper),"aria-hidden":!0,children:p((function(e,t){return t&&(0,r.jsx)(ge.animated.span,{className:_e().item,style:e})}))})}var Te=n(226300),Ae=n(695334),Ze=n(683608),Re=n.n(Ze),Me=n(468811),De=n.n(Me),Le=n(65441),ke=n.n(Le);function Ue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ge(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function He(e){He=Object.setPrototypeOf?Object.getPrototypeOf:function(e){
return e.__proto__||Object.getPrototypeOf(e)};return He(e)}function Be(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Fe(e,t)}function Ve(e,t){return!t||"object"!==We(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Fe(e,t){Fe=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Fe(e,t)}var We=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Ye(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=He(e);if(t){
var o=He(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ve(this,n)}}var ze=24,Ke=48,qe={friction:13,tension:240,duration:150},Xe={duration:150,friction:3},Qe={friction:30,tension:900,mass:1},Je={duration:150,friction:10,tension:100,mass:1},$e=(0,Ae.interpolate)("M48 24C48 37.2548 37.2548 48 24 48C10.7452 48 0 37.2548 0 24C0 10.7452 10.7452 0 24 0C37.2548 0 48 10.7452 48 24Z","M0 24C0 16.5449 0 12.8174 1.21793 9.87706C2.84183 5.95662 5.95662 2.84183 9.87706 1.21793C12.8174 0 16.5449 0 24 0C31.4551 0 35.1826 0 38.1229 1.21793C42.0434 2.84183 45.1582 5.95662 46.7821 9.87706C48 12.8174 48 16.5449 48 24C48 31.4551 48 35.1826 46.7821 38.1229C45.1582 42.0434 42.0434 45.1582 38.1229 46.7821C35.1826 48 31.4551 48 24 48C16.5449 48 12.8174 48 9.87706 46.7821C5.95662 45.1582 2.84183 42.0434 1.21793 38.1229C0 35.1826 0 31.4551 0 24Z",{maxSegmentLength:1.5}),et=function(e){Be(n,e);var t=Ye(n);function n(){Ue(this,n);return t.apply(this,arguments)}
var o=n.prototype;o.componentDidMount=function(){this.forceUpdate()};o.componentWillAppear=function(e){e()};o.componentWillEnter=function(e){e()};o.componentWillLeave=function(e){this.timeoutId=setTimeout(e,300)};o.componentWillUnmount=function(){clearTimeout(this.timeoutId)};o.render=function(){var e=this.props,t=e.children,n=e.className,o=e.animatedStyle;return(0,r.jsx)(ge.animated.div,{className:n,style:o,children:t})};return n}(o.Component);function tt(e){var t=e.selected,n=e.upperBadge,r=e.lowerBadge;return t||null!=n||null!=r}var nt=function(e){Be(n,e);var t=Ye(n);function n(){Ue(this,n);var e;(e=t.apply(this,arguments)).timeout=new y.V7;e.state={renderComplex:!1,hasRenderedBadge:!1,maskId:De().v4(),focused:!1};e.handleTimeout=function(){e.timeout.stop();e.setState({renderComplex:!1})};e.handleFocus=function(){e.setState({focused:!0})};e.handleBlur=function(){e.setState({focused:!1})};return e}var i=n.prototype;i.componentDidMount=function(){
var e=this.props,t=e.selected,n=e.lowerBadge,r=e.upperBadge,o=this.state,i=o.borderRadiusMask,a=o.lowerBadgeMask,l=o.upperBadgeMask;null==i||i.update({spring:t?1:0,immediate:!0}).start();null==a||a.update({spring:null!=n?1:0,immediate:!0}).start();null==l||l.update({spring:null!=r?1:0,immediate:!0}).start()};i.componentWillUnmount=function(){var e=this.state,t=e.borderRadiusMask,n=e.lowerBadgeMask,r=e.upperBadgeMask;this.timeout.stop();null==t||t.dispose();null==n||n.dispose();null==r||r.dispose()};i.componentDidUpdate=function(e){var t=this.props,n=t.selected,r=t.lowerBadge,o=t.upperBadge,i=this.state,a=i.borderRadiusMask,l=i.lowerBadgeMask,u=i.upperBadgeMask,c=i.renderComplex;n&&!e.selected?null==a||a.update({spring:1,immediate:!1,config:qe}).start():!n&&e.selected&&(null==a||a.update({spring:0,immediate:!1,config:Xe}).start());null!=r&&null==e.lowerBadge?null==l||l.update({spring:1,immediate:!document.hasFocus(),config:Qe}).start():null==r&&null!=e.lowerBadge&&(null==l||l.update({
spring:0,immediate:!document.hasFocus(),config:Je}).start());null!=o&&null==e.upperBadge?null==u||u.update({spring:1,immediate:!document.hasFocus(),config:Qe}).start():null==o&&null!=e.upperBadge&&(null==u||u.update({spring:0,immediate:!document.hasFocus(),config:Je}).start());!c||tt(this.props)||this.timeout.isStarted()?tt(this.props)&&this.timeout.isStarted()&&this.timeout.stop():this.timeout.start(Re()(108e5,18e6),this.handleTimeout)};i.getBadgePositionInterpolation=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(null!=e){var n=e.springs.spring;return n.to([0,1],[20,0]).to((function(e){return"translate(".concat(e," ").concat(e*t,")")}))}};i.getLowerBadgeStyles=function(){var e=this.state.lowerBadgeMask;if(null!=e){var t=e.springs.spring;return{opacity:t.to([0,.5,1],[0,0,1]),transform:t.to((function(e){return"translate(".concat(16-16*e,"px, ").concat(16-16*e,"px)")}))}}};i.getUpperBadgeStyles=function(){var e=this.state.upperBadgeMask;if(null!=e){
var t=e.springs.spring;return{opacity:t.to([0,.5,1],[0,0,1]),transform:t.to((function(e){return"translate(".concat(16-16*e,"px, ").concat(-1*(16-16*e),"px)")}))}}};i.getPathInterpolation=function(){var e;return null===(e=this.state.borderRadiusMask)||void 0===e?void 0:e.springs.spring.to($e)};i.render=function(){var e=this.props,t=e.children,n=e.className,i=e.innerClassName,l=e.lowerBadge,u=e.lowerBadgeWidth,c=e.style,s=e.upperBadge,f=this.state,d=f.maskId,p=f.lowerBadgeMask,h=f.upperBadgeMask,y=f.focused,b=f.hasRenderedBadge;if(!f.renderComplex){var v;return(0,r.jsx)("div",{className:a()(n,(v={},Ge(v,ke().wrapperSimple,!0),Ge(v,ke().simpleFocused,y),v)),style:c,onFocus:this.handleFocus,onBlur:this.handleBlur,children:(0,r.jsx)("svg",{width:Ke,height:Ke,viewBox:"0 0 ".concat(Ke," ").concat(Ke),className:ke().svg,overflow:"visible",children:(0,r.jsx)("foreignObject",{mask:"url(#".concat(d,")"),x:0,y:0,className:i,width:Ke,height:Ke,children:t},"foreign-object")},"svg")},"wrapper")}
var m="".concat(d,"-upper_badge_masks"),g="".concat(d,"-lower_badge_masks"),O="".concat(d,"-blob_mask"),E="".concat(d,"-stroke_mask");return(0,r.jsxs)("div",{className:a()(n,ke().wrapper),style:c,onFocus:this.handleFocus,onBlur:this.handleBlur,children:[(0,r.jsxs)("svg",{width:Ke,height:Ke,viewBox:"0 0 ".concat(Ke," ").concat(Ke),className:ke().svg,overflow:"visible",children:[(0,r.jsxs)("defs",{children:[(0,r.jsx)(ge.animated.path,{d:this.getPathInterpolation(),id:O}),b?(0,r.jsx)(ge.animated.rect,{id:m,x:28,y:-4,width:ze,height:ze,rx:12,ry:12,transform:this.getBadgePositionInterpolation(h,-1)}):null,b?(0,r.jsx)(ge.animated.rect,{id:g,x:Ke-(u+8)+4,y:28,width:u+8,height:ze,rx:12,ry:12,transform:this.getBadgePositionInterpolation(p)}):null]}),(0,r.jsxs)("mask",{id:d,fill:"black",x:0,y:0,width:Ke,height:Ke,children:[(0,r.jsx)("use",{href:"#".concat(O),fill:"white"}),b?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("use",{href:"#".concat(m),fill:"black"}),(0,r.jsx)("use",{href:"#".concat(g),
fill:"black"})]}):null]}),b?(0,r.jsxs)("mask",{id:E,children:[(0,r.jsx)("rect",{width:"150%",height:"150%",x:"-25%",y:"-25%",fill:"white"}),(0,r.jsx)("use",{href:"#".concat(m),fill:"black"}),(0,r.jsx)("use",{href:"#".concat(g),fill:"black"})]}):null,y?(0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)("g",{className:ke().focusStroke,mask:"url(#".concat(E,")"),children:(0,r.jsx)("use",{href:"#".concat(O)})}),(0,r.jsxs)("g",{className:ke().focusFill,children:[null!=s?(0,r.jsx)("use",{href:"#".concat(m)}):null,null!=l?(0,r.jsx)("use",{href:"#".concat(g)}):null]})]}):null,(0,r.jsx)("foreignObject",{mask:"url(#".concat(d,")"),x:0,y:0,className:i,width:Ke,height:Ke,children:t},"foreign-object")]},"svg"),(0,r.jsxs)(be.Z,{component:o.Fragment,children:[null!=l?(0,r.jsx)(et,{className:ke().lowerBadge,animatedStyle:this.getLowerBadgeStyles(),children:l},"lower-badge"):null,null!=s?(0,r.jsx)(et,{className:ke().upperBadge,animatedStyle:this.getUpperBadgeStyles(),children:s},"upper-badge"):null]})]
},"wrapper")};n.getDerivedStateFromProps=function(e,t){var n=t.hasRenderedBadge,r=t.upperBadgeMask,o=t.lowerBadgeMask,i=t.borderRadiusMask,a=t.renderComplex,l=e.upperBadge,u=e.lowerBadge,c=!1;if(null!=l&&null==r||null!=u&&null==o){c=!0;n=!0;r=new ge.Controller({spring:0});o=new ge.Controller({spring:0})}if(tt(e)&&null==i){c=!0;i=new ge.Controller({spring:0})}if(!a&&tt(e)){c=!0;a=!0}return c?{hasRenderedBadge:n,lowerBadgeMask:o,upperBadgeMask:r,borderRadiusMask:i,renderComplex:a}:null};return n}(o.Component);nt.defaultProps={selected:!1,lowerBadgeWidth:16};const rt=nt;var ot=n(629590),it=n(912551),at=n(23592),lt=n.n(at);function ut(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function ct(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){
return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){ut(e,t,n[t])}))}return e}function st(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function ft(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}var dt=[18,18,16,16,14,12,10];const pt=function(e){
var t,n,i=e.children,l=e.icon,u=e.name,c=e.ariaLabel,f=e.className,d=e.style,p=e.to,h=e.onClick,y=e.selected,b=void 0!==y&&y,v=ft(e,["children","icon","name","ariaLabel","className","style","to","onClick","selected"]),m=(0,s.k6)();null==l&&null!=u&&(n=function(e){var t;return null!==(t=dt[e.length-1])&&void 0!==t?t:dt[dt.length-1]}(t=(0,it.Zg)(u)));var g=o.useCallback((function(e){if(null==p);else if("string"==typeof p)m.push(p);else{var t=p.pathname,n=void 0===t?"":t,r=p.state;m.push(n,r)}null!=h&&h(e)}),[m,p,h]);return(0,r.jsxs)(ot.Z,st(ct({},v),{onClick:g,className:a()(f,lt().wrapper,ut({},lt().selected,b)),"aria-label":null!=c&&""!==c?c:null!=u?u:"",style:st(ct({},d),{fontSize:n}),focusProps:{enabled:!1},children:[null!=t?(0,r.jsx)("div",{className:a()(lt().childWrapper,lt().acronym),"aria-hidden":!0,children:t}):null,null!=l?(0,r.jsx)("img",{className:lt().icon,src:l,alt:" ",width:48,height:48,"aria-hidden":!0}):null,null!=i?(0,r.jsx)("div",{className:lt().childWrapper,children:i
}):null]}))};var ht=n(757987),yt=n(60836),bt=n.n(yt);function vt(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function mt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){vt(e,t,n[t])}))}return e}function gt(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Ot(e){
var t=e.children,n=e.text,i=e.color,l=e.disableWrapper,u=void 0!==l&&l,c=e.disabled,s=void 0!==c&&c,f=e.hideOnClick,d=void 0===f||f,p=e.shouldShow,h=e.forceOpen,y=e.selected,b=void 0!==y&&y,v=e.tooltipClass;return(0,r.jsx)(ht.ZP,{shouldShow:p,forceOpen:h,spacing:20,hideOnClick:d,text:s?null:n,position:ht.ZP.Positions.RIGHT,color:i,"aria-label":!1,tooltipClassName:a()(bt().listItemTooltip,v),children:function(e){return u?o.cloneElement(o.Children.only(t),mt({},e)):(0,r.jsx)("div",gt(mt({className:a()(bt().listItemWrapper,vt({},bt().selected,b))},e),{children:t}))}})}var Et=n(803547),jt=n.n(Et);function St(e,t){return(0,r.jsx)("div",{className:jt().listItem,ref:t,children:e})}var Ct=n(832010),Pt=n(570239),It=n(3776),_t=n(695756),wt=n(701197),xt=n(983067),Nt=n(719455),Tt=n(559675),At=n(71284),Zt=n(878627),Rt=n(4258),Mt=n(915306),Dt=n(806008);function Lt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function kt(e,t,n){
t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Ut(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Lt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Lt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gt(e){return(0,
r.jsx)(Te.mA,{count:e})}function Ht(e){var t,n=e.audio,r=e.video,o=e.screenshare,i=e.participating,a=e.liveStage,l=e.hasActiveEvent,u=e.participatingInStage,c=e.activity;if(!l||i||u)if(a&&!i||u)t=Dt.Z;else if(c)t=Rt.Z;else if(o)t=At.Z;else if(r)t=wt.Z;else{if(!n)return null;t=Mt.Z}else t=_t.Z;return Vt({icon:t,participating:i||u})}function Bt(e){var t=Ut(function(e){switch(e){case Pt.wB.SUBMITTED:return[void 0,Tt.Z];case Pt.wB.REJECTED:return[_.Ilk.STATUS_RED_500,Nt.Z];case Pt.wB.APPROVED:return[_.Ilk.STATUS_GREEN_600,xt.Z];default:return[void 0,Zt.Z]}}(e.guildJoinRequestStatus),2),n=t[0];return Vt({icon:t[1],color:n})}function Vt(e){var t=e.icon,n=e.color,o=e.participating,i=null==n?{disableColor:!0}:{color:(0,Ct.Lq)(n)};return(0,r.jsx)(Te.G2,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){
return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){kt(e,t,n[t])}))}return e}({icon:t,className:a()(jt().iconBadge,kt({},jt().participating,o))},i))}var Ft=n(961262),Wt=n.n(Ft);function Yt(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function zt(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Yt(i,r,o,a,l,"next",e)}function l(e){Yt(i,r,o,a,l,"throw",e)}a(void 0)}))}}function Kt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qt(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Xt(e){Xt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Xt(e)}function Qt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){qt(e,t,n[t])}))}return e}function Jt(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function $t(e,t){return!t||"object"!==tn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function en(e,t){en=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return en(e,t)}var tn=function(e){
return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function nn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Xt(e);if(t){var o=Xt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return $t(this,n)}}var rn=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,
o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},on={friction:28,tension:600};function an(e){switch(e){case"height":case"opacity":return Qt({duration:150},on);case"scale":return Qt({},on);default:throw new Error("DirectMessage: getSpringConfigs() - Invalid spring ".concat(String(e)))}}var ln=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function")
;e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&en(e,t)}(i,e);var t=nn(i);function i(){Kt(this,i);var e;(e=t.apply(this,arguments)).state={hovered:!1,animating:!0,controller:new ge.Controller({scale:0,height:0,opacity:0,config:an})};e.handleContextMenu=function(t){var o=e.props.channel,i=o.type===_.d4z.DM?R.default.getUser(o.getRecipientId()):null;null!=i?(0,Oe.jW)(t,zt((function(){var e,t;return rn(this,(function(a){switch(a.label){case 0:return[4,Promise.all([n.e(87996),n.e(45323),n.e(63952)]).then(n.bind(n,281327))];case 1:e=a.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,Jt(Qt({},e),{channel:o,user:i}))}]}}))}))):(0,Oe.jW)(t,zt((function(){var e,t;return rn(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(87996),n.e(11499)]).then(n.bind(n,411499))];case 1:e=i.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,Jt(Qt({},e),{channel:o,selected:!1}))}]}}))})))};return e}var a=i.prototype
;a.componentWillEnter=function(e){var t=this,n=this.state.controller;e();n.update({immediate:!te.Z.isFocused(),height:1,opacity:1,scale:1,config:an}).start().then((function(){return t.setState({animating:!1})}))};a.componentWillAppear=function(e){this.state.controller.update({immediate:!0,scale:1,opacity:1,height:1,config:an}).start().then(e)};a.componentWillLeave=function(e){var t=this.state.controller;this.setState({animating:!0},(function(){return t.update({immediate:!te.Z.isFocused(),height:0,opacity:0,scale:0,config:an}).start().then(e)}))};a.componentWillUnmount=function(){this.state.controller.dispose()};a.getAnimatedStyle=function(){var e=this.state.controller.springs,t=e.opacity,n=e.height,r=e.scale;return{opacity:t,height:n.to([0,1],[0,56]),transform:r.to([0,1],[.5,1]).to((function(e){return"scale(".concat(e,")")}))}};a.getChannelIcon=function(){var e=this.props.channel,t=e.type===_.d4z.DM?R.default.getUser(e.getRecipientId()):null
;return null!=t?t.getAvatarURL(void 0,48,!1):(0,Ee.x)(e)};a.render=function(){var e=this,t=this.props,n=t.channel,i=t.channelName,a=t.selected,l=t.badge,u=t.audio,c=t.video,s=t.stream,d=t.isCurrentUserInThisDMCall,p=t.unread,h=this.state,y=h.hovered,b=h.animating;return(0,r.jsx)(ge.animated.div,{style:this.getAnimatedStyle(),children:St((0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)(Ne,{hovered:!b&&y,selected:!b&&a,unread:!b&&p,className:Wt().pill}),(0,r.jsx)(Ot,{text:null!=i?i:"",selected:a,children:(0,r.jsx)(rt,{selected:a||y,lowerBadge:l>0?Gt(l):null,upperBadge:Ht({audio:u,video:c,screenshare:s,participating:d}),lowerBadgeWidth:(0,Te.OV)(l),children:(0,r.jsx)(f.mh,{id:n.id,children:function(t){return(0,r.jsx)(pt,Qt({to:_.Z5c.CHANNEL(_.ME,n.id),onMouseEnter:function(){return e.setState({hovered:!0})},onMouseLeave:function(){return e.setState({hovered:!1})},icon:e.getChannelIcon(),selected:a||y,ariaLabel:null!=i?i:"",onContextMenu:e.handleContextMenu},t))}})})})]}))})};return i
}(o.PureComponent);ln.defaultProps={badge:0,audio:!1,video:!1,isCurrentUserInThisDMCall:!1};const un=o.forwardRef((function(e,t){var n=e.channel.id,o=(0,je.Z)(e.channel),i=(0,p.e7)([me.Z],(function(){return me.Z.getChannelId()}),[]),a=(0,p.e7)([g.Z],(function(){return null!=i?g.Z.getMode(i):_.WtW.VOICE}),[i]),l=(0,p.e7)([Se.Z],(function(){return Se.Z.getAllApplicationStreamsForChannel(n).length>0})),u=(0,p.e7)([Pe.Z],(function(){return Pe.Z.getChannelId()}),[]),c=(0,p.e7)([Ce.ZP],(function(){return Ce.ZP.getMentionCount(n)}),[n]),s=i===n,f=!1,d=!1;if(s){f=a===_.WtW.VOICE;d=a===_.WtW.VIDEO}return(0,r.jsx)(ln,Jt(Qt({},e),{ref:t,channelName:o,unread:c>0,selected:u===n,badge:c,audio:f,video:d,stream:l,isCurrentUserInThisDMCall:s}))}));function cn(){(0,p.e7)([ve.Z],(function(){return ve.Z.getPrivateChannelsVersion()}));var e=ve.Z.getMutablePrivateChannels(),t=(0,p.Wu)([V.Z],(function(){return V.Z.getUnreadPrivateChannelIds()})),n=(0,p.cj)([me.Z],(function(){return{
selectedVoiceGuildId:me.Z.getGuildId(),selectedVoiceChannelId:me.Z.getChannelId()}})),i=n.selectedVoiceGuildId,a=n.selectedVoiceChannelId,l=t.map((function(t){var n=e[t];return null==n||n.id===a?null:(0,r.jsx)(un,{channel:n},n.id)}));if(null==i&&null!=a){var u=e[a];null!=u&&l.unshift((0,r.jsx)(un,{channel:u},u.id))}return(0,r.jsx)(be.Z,{component:o.Fragment,children:l})}var sn=n(606076),fn=n(100133),dn=n(575921),pn=n(897576),hn=n(152024),yn=n.n(hn);function bn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function vn(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function mn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){vn(e,t,n[t])
}))}return e}function gn(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function On(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return bn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const En=o.forwardRef((function(e,t){var n=e.id,i=e.onClick,l=e.onContextMenu,u=e.icon,c=e.selected,s=e.tooltip,d=e.upperBadge,p=e.lowerBadge,h=e.lowerBadgeWidth,y=e.showPill,b=void 0===y||y,v=e.className,m=e["aria-label"],g=e.children,O=e.onMouseEnter,E=e.onMouseLeave,j=e.onMouseDown,S=(0,f.Ie)(n),C=On(o.useState(!1),2),P=C[0],I=C[1],_="string"==typeof s&&null==m?s:m;return St((0,r.jsxs)(r.Fragment,{children:[b?(0,r.jsx)("div",{className:yn().pill,children:(0,r.jsx)(Ne,{hovered:P,selected:c})}):null,(0,r.jsx)(Ot,{text:s,selected:c,children:(0,r.jsx)(rt,{className:yn().circleButtonMask,selected:c||P,upperBadge:d,lowerBadge:p,
lowerBadgeWidth:h,children:(0,r.jsx)(ot.Z,gn(mn({innerRef:t,onMouseEnter:function(){null==O||O();I(!0)},onMouseLeave:function(){null==E||E();I(!1)},onMouseDown:j,className:a()(yn().circleIconButton,v,vn({},yn().selected,c||P)),onClick:i,"aria-label":_,onContextMenu:l,focusProps:{enabled:!1}},S),{children:null!=u&&(0,r.jsx)(u,{className:yn().circleIcon})}))})}),g]}))}));function jn(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function Sn(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){jn(i,r,o,a,l,"next",e)}function l(e){jn(i,r,o,a,l,"throw",e)}a(void 0)}))}}function Cn(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var Pn=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},
"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},In="DOWNLOAD_APPS";function _n(){var e=(0,pn.s9)((function(e){return(0,pn.DE)(e,In)
}));return(0,r.jsx)(En,{id:"app-download-button",onClick:function(){sn.tq?(0,fn.$)("Download Apps"):(0,pn.ZD)(Sn((function(){var e,t;return Pn(this,(function(o){switch(o.label){case 0:return[4,Promise.resolve().then(n.bind(n,884994))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Cn(e,t,n[t])}))}return e}({source:"Guilds"},e))}]}}))})),{modalKey:In})},selected:e,tooltip:oe.Z.Messages.DOWNLOAD_APPS,icon:dn.Z})}var wn=n(64833),xn=n(670529),Nn=n(762018),Tn=n(513284),An=n(875673),Zn=n(796080),Rn=n(542448),Mn=n(441143),Dn=n.n(Mn),Ln=n(698534),kn=n(354290),Un=n(673336),Gn=n.n(Un);function Hn(e,t){(null==t||t>e.length)&&(t=e.length)
;for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Bn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Hn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Hn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vn(e){var t=o.useRef(null),n=e.map((function(e){return e[0]}))
;o.useLayoutEffect((function(){var n=requestAnimationFrame((function(){var n=t.current;if(null!=n){var r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){var u=Bn(a.value,2),c=u[0],s=u[1];c?n.classList.add(s):n.classList.remove(s)}}catch(e){o=!0;i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}}}));return function(){return cancelAnimationFrame(n)}}),n);return t}function Fn(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];Dn()(t.type!==U.eD.ROOT,"[GuildDropTarget] Tried using a root node as a drop target.");return{accept:e,canDrop:function(e){return e.nodeId!==t.id&&((!r||e.type!==U.eD.FOLDER||t.type!==U.eD.FOLDER)&&(e.type!==U.eD.FOLDER||null==t.parentId))},drop:function(e){var o=e.nodeId;kn.Z.moveById(o,t.id,n,r)},collect:function(e){return{canDrop:e.canDrop(),isOver:e.isOver()}}}}function Wn(e){
var t=e.name,n=e.targetNode,i=e.combine,l=e.below,u=o.useMemo((function(){return Fn([U.eD.GUILD,U.eD.FOLDER],n,l,i)}),[n,l,i]),c=Bn((0,Ln.L)(u),2),s=c[0],f=s.canDrop,d=s.isOver,p=c[1],h=Vn([[f,Gn().autoPointerEvents],[d,Gn().dragOver]]);return(0,r.jsx)("div",{ref:function(e){h.current=e;p(e)},"data-dnd-name":oe.Z.Messages.DND_DROP_ABOVE.format({itemName:t}),className:a()(Gn().target)})}function Yn(e){var t=e.name,n=e.targetNode,i=e.onDragOverChanged,l=Bn((0,Ln.L)((function(){return Fn([U.eD.GUILD],n,!0,!0)})),2),u=l[0],c=u.canDrop,s=u.isOver,f=l[1];o.useEffect((function(){null==i||i(s)}),[i,s]);var d=Vn([[c,Gn().autoPointerEvents],[s,Gn().dragOver]]);return(0,r.jsx)(Ot,{text:t,shouldShow:s,forceOpen:s,disableWrapper:!0,tooltipClass:Gn().centerTargetTooltip,children:(0,r.jsx)("div",{ref:function(e){d.current=e;f(e)},"data-dnd-name":oe.Z.Messages.DND_DROP_COMBINE.format({itemName:t}),className:a()(Gn().centerTarget,{})})})}const zn=o.memo((function(e){
var t=e.name,n=e.targetNode,o=e.noCombine,i=void 0!==o&&o,a=e.below,l=void 0!==a&&a,u=e.onDragOverChanged,c=!i&&null==n.parentId;return(0,r.jsxs)("div",{className:Gn().wrapper,"aria-hidden":!0,children:[(0,r.jsx)(Wn,{name:t,targetNode:n,below:l}),c?(0,r.jsx)(Yn,{name:t,targetNode:n,onDragOverChanged:u}):null]})}));function Kn(e){var t=e.name,n=e.targetNode,o=Bn((0,Ln.L)((function(){return Fn([U.eD.GUILD],n,!0,!0)})),2),i=o[0],l=i.canDrop,u=i.isOver,c=o[1],s=Vn([[u,Gn().wrapperOver]]),f=Vn([[u,Gn().dragOver],[l,Gn().autoPointerEvents]]);return(0,r.jsx)("div",{ref:s,className:a()(Gn().folderEndWrapper),"aria-hidden":!0,children:(0,r.jsx)("div",{className:Gn().folderTarget,children:(0,r.jsx)("div",{ref:function(e){f.current=e;c(e)},"aria-label":"At end of ".concat(t),className:a()(Gn().target)})})})}function qn(e){var t=e.children,n=Bn((0,Ln.L)({accept:[]}),2)[1];return(0,r.jsx)("div",{ref:n,children:t})}var Xn=n(452185);function Qn(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e)
;return}l.done?t(u):Promise.resolve(u).then(r,o)}function Jn(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Qn(i,r,o,a,l,"next",e)}function l(e){Qn(i,r,o,a,l,"throw",e)}a(void 0)}))}}function $n(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var er=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:
i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},tr={origin:{x:-16,y:0},targetWidth:48,targetHeight:48,offset:{x:0,y:0}};function nr(e){(0,Oe.jW)(e,Jn((function(){var e,t;return er(this,(function(o){switch(o.label){case 0:return[4,n.e(89603).then(n.bind(n,389603))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){
return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){$n(e,t,n[t])}))}return e}({},e))}]}}))})))}function rr(e){var t=e.disableTooltip,n=e.lastTargetNode,i=(0,p.e7)([S.Z],(function(){return S.Z.getGuilds()})),a=o.useMemo((function(){return Object.values(i)}),[i]),l=(0,p.e7)([R.default],(function(){return R.default.getCurrentUser()})),u=o.useMemo((function(){return a.some((function(e){return e.isOwner(l)}))}),[a,l]),c=(0,pn.s9)((function(e){return(0,pn.DE)(e,Xn.P)})),s=(0,wn.Z)().analyticsLocations,f=(0,r.jsx)(En,{showPill:!1,id:"create-join-button",onClick:function(){(0,Nn.yU)()?(0,Tn.Z)({analyticsSource:{page:_.Sbl.CREATE_JOIN_GUILD_MODAL},analyticsLocation:{page:_.Sbl.CREATE_JOIN_GUILD_MODAL,section:_.jXE.GUILD_CAP_UPSELL_MODAL},analyticsLocations:s}):xn.Z.openCreateGuildModal({location:"Guild List"})},selected:c,onContextMenu:nr,tooltip:oe.Z.Messages.ADD_A_SERVER,icon:Rn.Z});return t?f:(0,r.jsx)("div",{className:jt().tutorialContainer,children:(0,
r.jsxs)(An.Z,{tutorialId:u?"create-more-servers":"create-first-server",inlineSpecs:tr,position:Zn.q_.RIGHT,children:[f,null!=n&&(0,r.jsx)(zn,{name:oe.Z.Messages.DND_END_OF_LIST,targetNode:n,below:!0,noCombine:!0})]})})}var or=n(642400),ir=n(623899),ar=n(987762),lr=n(940712),ur=n(609993);var cr=n(820498),sr=n(312855),fr=n(645897),dr=n(685351),pr=n(449223),hr=n(805931),yr=n(436053),br=n(90816),vr=n(115545),mr=n.n(vr),gr=n(310246),Or=n.n(gr);function Er(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function jr(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Sr(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})))
;n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Cr(e){return function(e){if(Array.isArray(e))return Er(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Er(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Er(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pr(e,t){return 0===t.length?null:(0,r.jsxs)("div",{className:mr().row,children:[(0,r.jsx)(e,{className:mr().activityIcon}),(0,r.jsx)(yr.Z,{guildId:void 0,users:t,max:6})]})}function Ir(){
var e,t,n=(0,p.Wu)([ar.Z,ve.Z],(function(){return Object.keys(ar.Z.getFavoriteChannels()).map((function(e){return ve.Z.getChannel(e)})).filter(br.lm)})),o=n.map((function(e){return e.id})),i=n.filter((function(e){return e.type===_.d4z.GUILD_VOICE})),a=n.filter((function(e){return e.type===_.d4z.GUILD_STAGE_VOICE})).map((function(e){return e.id})),l=(0,p.Wu)([fr.ZP],(function(){return u().flatMap(i,(function(e){return fr.ZP.getVoiceStatesForChannel(e).map((function(e){return e.user}))}))}),[i]),c=(0,p.Wu)([cr.Z],(function(){return u().flatMap(a,(function(e){return cr.Z.getMutableParticipants(e,sr.pV.SPEAKER).filter((function(e){return e.type===sr.Ui.VOICE})).map((function(e){return e.user}))}))})),s=(0,p.e7)([cr.Z],(function(){var e=0,t=!0,n=!1,r=void 0;try{for(var o,i=a[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var l=o.value;e+=cr.Z.getParticipantCount(l,sr.pV.AUDIENCE)}}catch(e){n=!0;r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return e})),f=(0,
p.Wu)([Se.Z],(function(){return Se.Z.getAllApplicationStreams().filter((function(e){return o.includes(e.channelId)})).map((function(e){return e.ownerId}))}),[o]),d=(0,p.Wu)([ir.ZP],(function(){var e=ir.ZP.getEmbeddedActivitiesByChannel(),t=[],n=!0,r=!1,i=void 0;try{for(var a,l=o[Symbol.iterator]();!(n=(a=l.next()).done);n=!0){var u,c,s,f=a.value;(u=t).push.apply(u,Cr(null!==(s=null===(c=e.get(f))||void 0===c?void 0:c.flatMap((function(e){return Array.from(e.connections.keys())})))&&void 0!==s?s:[]))}}catch(e){r=!0;i=e}finally{try{n||null==l.return||l.return()}finally{if(r)throw i}}return t}),[o]),h=(0,p.Wu)([R.default],(function(){return d.map((function(e){return R.default.getUser(e)}))}),[d]),y=(0,p.Wu)([R.default],(function(){return f.map((function(e){return R.default.getUser(e)}))}),[f]),b=Pr(Mt.Z,l.filter((function(e){return!f.includes(e.id)&&!d.includes(e.id)}))),v=(t=s,0===(e=c).length?null:(0,r.jsxs)("div",{className:mr().row,children:[(0,r.jsx)(Dt.Z,{className:mr().activityIcon
}),(0,r.jsx)(yr.Z,{guildId:void 0,users:e,max:3}),(0,r.jsxs)("div",{className:mr().stageListenerPill,children:[(0,r.jsx)(pr.Z,{width:16,height:16}),(0,r.jsx)(dr.x,{className:mr().stageListenerCount,color:"text-normal",variant:"text-xs/medium",children:t})]})]})),m=Pr(hr.Z,y.filter((function(e){return null!=e&&!d.includes(e.id)}))),g=Pr(Rt.Z,h);return(0,r.jsxs)(r.Fragment,{children:[v,b,m,g]})}function _r(){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:a()(mr().row,mr().rowGuildName),children:(0,r.jsx)("span",{className:a()(mr().guildNameText,mr().guildNameTextLimitedSize),children:oe.Z.Messages.FAVORITES_GUILD_NAME})}),(0,r.jsx)(Ir,{})]})}function wr(e){var t=e["aria-label"],n=void 0!==t&&t,o=e.children;return(0,r.jsx)(ht.ZP,{hideOnClick:!0,spacing:20,position:ht.ZP.Positions.RIGHT,text:(0,r.jsx)(_r,{}),"aria-label":n,tooltipClassName:Or().listItemTooltip,children:function(e){return(0,r.jsx)("div",Sr(function(e){for(var t=1;t<arguments.length;t++){
var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){jr(e,t,n[t])}))}return e}({},e),{children:o}))}})}var xr=n(631134),Nr=n(882687),Tr=n(415397),Ar=n(84397),Zr=n(217481),Rr=n.n(Zr);function Mr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Dr(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function Lr(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Dr(i,r,o,a,l,"next",e)}function l(e){Dr(i,r,o,a,l,"throw",e)}a(void 0)}))}}function kr(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Ur(e){for(var t=1;t<arguments.length;t++){
var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){kr(e,t,n[t])}))}return e}function Gr(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Hr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){
i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||Vr(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Br(e){return function(e){if(Array.isArray(e))return Mr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Vr(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vr(e,t){if(e){if("string"==typeof e)return Mr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Mr(e,t):void 0}}
var Fr=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}
if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},Wr={analyticsSource:{page:_.ZY5.GUILD_CHANNEL,section:_.jXE.CHANNEL_LIST,object:_.qAy.CHANNEL}};function Yr(){var e=(0,f.Ie)("favorites"),t=Hr(o.useState(!1),2),i=t[0],a=t[1],l=(0,p.cj)([ar.Z],(function(){return{favoriteChannels:ar.Z.getFavoriteChannels(),favoriteServerMuted:ar.Z.favoriteServerMuted}})),u=l.favoriteServerMuted,c=l.favoriteChannels,s=(0,p.e7)([Pe.Z],(function(){return Pe.Z.getChannelId(_.I_8)})),d=(0,p.e7)([ve.Z],(function(){return ve.Z.getChannel(s)})),h=(0,A.Z)((function(e){return e.guildId}))===_.I_8,y=function(e){return(0,p.cj)([ve.Z,Ce.ZP,lr.Z],(function(){return Object.keys(e).reduce((function(e,t){var n=ve.Z.getChannel(t),r=null==n?void 0:n.isGuildVocal();e.badge=e.badge+Ce.ZP.getMentionCount(t);e.unread=e.unread||!r&&lr.Z.can(ur.Pl.VIEW_CHANNEL,n)&&Ce.ZP.hasUnread(t);return e}),{badge:0,unread:!1})}))}(c),b=y.badge,v=y.unread,m=function(e){var t=(0,p.e7)([Pe.Z],(function(){
return Pe.Z.getVoiceChannelId()})),n=null!=t&&null!=e[t],r=(0,p.e7)([xr.default],(function(){return xr.default.getId()})),o=(0,p.e7)([Se.Z],(function(){if(!n)return!1;var t=Se.Z.getActiveStreamForUser(r);return null!=t&&null!=e[t.channelId]})),i=(0,p.e7)([Se.Z],(function(){return Se.Z.getAllApplicationStreams().some((function(t){return null!=e[t.channelId]}))})),a=(0,p.e7)([Nr.Z],(function(){return n&&null!=t&&Nr.Z.hasVideo(t)}),[n,t]),l=(0,p.Wu)([ir.ZP],(function(){return Object.keys(e).reduce((function(e,t){var n;(n=e).push.apply(n,Br(ir.ZP.getEmbeddedActivitiesForChannel(t)));return e}),[])})),u=(0,p.e7)([ir.ZP],(function(){return Array.from(ir.ZP.getSelfEmbeddedActivities().values()).some((function(t){var n=t.channelId;return null!=e[n]}))})),c=l.length>0,s=!1,f=!1,d=!1,h=!1;if(n){s=!a;f=a;d=o;h=u}else{d=i;h=c}return Ht({audio:s,video:f,screenshare:d,liveStage:!1,participating:n,participatingInStage:!1,activity:h})}(c),g=b>0?(0,Ar.Ne)(b):null;return St((0,r.jsxs)(r.Fragment,{
children:[(0,r.jsx)(Ne,{selected:h,hovered:i,unread:v&&!u,className:Rr().pill}),(0,r.jsx)(wr,{children:(0,r.jsx)(rt,{selected:h||i,upperBadge:m,lowerBadge:g,children:(0,r.jsx)(pt,Gr(Ur({},e),{ariaLabel:oe.Z.Messages.GUILD_TOOLTIP_A11Y_LABEL.format({guildName:oe.Z.Messages.FAVORITES_GUILD_NAME,mentions:b}),to:{pathname:_.Z5c.CHANNEL(_.I_8,s),state:Wr},selected:h||i,onMouseEnter:function(){return a(!0)},onMouseLeave:function(){return a(!1)},onMouseDown:function(){null!=d&&or.Z.preload(d.guild_id,d.id)},onContextMenu:function(e){(0,Oe.jW)(e,Lr((function(){var e,t;return Fr(this,(function(o){switch(o.label){case 0:return[4,n.e(66886).then(n.bind(n,766886))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,Ur({},e))}]}}))})))},children:(0,r.jsx)(Tr.Z,{className:Rr().favoriteIcon,width:20,height:20})}))})})]}))}var zr=n(420202),Kr=n(732031),qr=n(54168),Xr=n(298716),Qr=n(334996),Jr=n.n(Qr);function $r(e,t){(null==t||t>e.length)&&(t=e.length)
;for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function eo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return $r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $r(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function to(){var e=(0,
wn.Z)().analyticsLocations,t=eo(o.useState(!1),2),n=t[0],i=t[1];o.useEffect((function(){P.default.track(_.rMx.PREMIUM_UPSELL_VIEWED,{type:Xr.cd.GUILD_CAP_INLINE_SERVER_LIST,location:{page:_.ZY5.GUILD_LIST},location_stack:e})}),[e]);return(0,r.jsx)(En,{id:"nitro-guild-cap-upsell",className:Jr().nitroUpsell,tooltip:(0,r.jsxs)("div",{className:Jr().upsellTooltip,children:[(0,r.jsx)(Kr.Z,{width:22,height:22,className:Jr().upsellIcon,color:zr.JX.PREMIUM_TIER_2}),(0,r.jsx)("span",{className:Jr().upsellText,children:oe.Z.Messages.GUILD_CAP_UPSELL_TOOLTIP})]}),"aria-label":oe.Z.Messages.GUILD_CAP_UPSELL_TOOLTIP,upperBadge:(0,r.jsx)(Te.G2,{icon:It.Z,color:(0,Ct.Lq)(_.Ilk.PREMIUM_TIER_2_PURPLE)}),onClick:function(){i(!n);n||(0,Tn.Z)({analyticsSource:{page:_.ZY5.GUILD_LIST},analyticsLocation:{page:_.ZY5.GUILD_LIST,section:_.jXE.GUILD_CAP_UPSELL_MODAL},onCloseCallback:function(){(0,Nn.Lx)();i(!1)},analyticsLocations:e})},selected:n,icon:function(e){var t=e.className;return(0,r.jsx)(qr.Z,{
className:t,foreground:Jr().nitroUpsellIcon})}})}const no=o.memo((function(){return(0,Nn.Gn)()?(0,r.jsx)(to,{}):null}));var ro=n(898378),oo=n(655695),io=n(922237);function ao(){if(window.location.pathname.startsWith(_.Z5c.GUILD_DISCOVERY)){(0,ro.AQ)();(0,ro.uY)(w.Hk,!0)}var e=(0,oo.s1)().location.search;(0,oo.uL)(_.Z5c.GUILD_DISCOVERY,{search:e})}const lo=o.forwardRef((function(e,t){var n=e.selected,o=e.tooltip;return(0,r.jsx)(En,{id:"guild-discover-button",ref:t,onClick:ao,selected:n,tooltip:null!=o?o:oe.Z.Messages.GUILD_DISCOVERY_TOOLTIP,icon:io.Z})}));var uo=n(444450),co=n(647334),so=n(136770),fo=n(776624),po=n(114929),ho=n(105405),yo=n(339678),bo=n(974949),vo=n(134734),mo=n(937689),go=n(254580),Oo=n(57203),Eo=n(402801),jo=n(713711),So=n(253410),Co=n.n(So);function Po(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Io(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}
function _o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Io(e,t,n[t])}))}return e}function wo(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function xo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{
for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Po(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Po(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var No={origin:{x:-16,y:0},targetWidth:48,targetHeight:48,offset:{x:0,y:0}};function To(e){var t=e.selected,n=e.user,i=e.badge,a=e.link,l=e.showProgressBadge,u=xo(o.useState(!1),2),c=u[0],s=u[1],d=xo(o.useState(!1),2),p=d[0],h=d[1],y=xo(o.useState(null),2),b=y[0],v=y[1],m=xo(o.useState(0),2),g=m[0],O=m[1],E=(0,
f.Ie)("home"),j=function(){v(null);O(0);clearTimeout(b)};if(null==n)return null;var S=oe.Z.Messages.DIRECT_MESSAGES;p&&(S=uo.Z.get(_.wli)?oe.Z.Messages.DISCODO_ENABLED:oe.Z.Messages.DISCODO_DISABLED);return(0,r.jsx)("div",{className:Co().tutorialContainer,children:(0,r.jsx)(An.Z,{inlineSpecs:No,tutorialId:"friends-list",position:Zn.q_.RIGHT,children:St((0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)(Ne,{selected:t,hovered:c,className:Co().pill}),(0,r.jsx)(Ot,{color:ht.ZP.Colors.PRIMARY,hideOnClick:!0,text:S,selected:t,children:(0,r.jsx)(rt,{selected:t||c,lowerBadge:i>0?Gt(i):null,upperBadge:!t&&l?(0,r.jsx)(co.Z,{className:Co().downloadProgress,determineOwnVisibility:!1}):null,lowerBadgeWidth:(0,Te.OV)(i),children:(0,r.jsx)(pt,wo(_o({onMouseEnter:function(){return s(!0)},onMouseLeave:function(){return s(!1)},onClick:function(){if(!__OVERLAY__){null!=b&&clearTimeout(b);v(setTimeout(j,500));O(g+1);if(15===g){j();var e=!uo.Z.get(_.wli);uo.Z.set(_.wli,e);e?(0,Eo.GN)("discodo"):(0,
Eo.GN)("user_leave");h(!0);setTimeout((function(){h(!1)}),1e3)}}},selected:t||c,ariaLabel:oe.Z.Messages.DIRECT_MESSAGES},E),{to:{pathname:a,state:{analyticsSource:{page:_.ZY5.GUILD_CHANNEL,section:_.jXE.NAVIGATION,object:_.qAy.BUTTON_HOME}}},children:(0,r.jsx)(go.Z,{className:Co().homeIcon})}))})})]}))})})}function Ao(){var e=(0,po.sv)(),t=(0,jo.n)(),n=(0,p.e7)([mo.Z,vo.Z],(function(){var e=(0,co.E)(mo.Z.activeItems,vo.Z),t=Oo.lK(e),n=t.total,r=t.progress,o=Oo.xI(r,n);return o>0&&o<100})),o=(0,p.e7)([ho.Z],(function(){return ho.Z.getPendingCount()}));e&&(o=0);var i=Object.keys(Xr.nG),a=(0,p.e7)([yo.Z],(function(){return yo.Z.getUnacknowledgedOffers(i).length})),l=(0,p.e7)([R.default],(function(){return R.default.getCurrentUser()})),u=(0,fo.q)(),c=o+a+((0,so.Td)({maybeTrackExposure:!0})?u:0);return(0,r.jsx)(To,{selected:t,user:l,selectedChannelId:Pe.Z.getChannelId(_.ME),badge:c,link:bo.Z.getHomeLink(),showProgressBadge:n})}
var Zo=n(989232),Ro=n(142583),Mo=n(45183),Do=n(176907),Lo=n(830395),ko=n(510174),Uo=n(969225),Go=n(440455),Ho=n(211224),Bo=n.n(Ho);function Vo(e){var t=e.className;return(0,r.jsx)(Go.ZP,{mask:Go.ZP.Masks.SQUIRCLE,className:a()(t,Bo().placeholderMask),width:48,height:48,style:{display:"block"},children:(0,r.jsx)("div",{className:Bo().dragInner})})}var Fo=n(415457),Wo=n.n(Fo);function Yo(e){var t=e.guild,n=e.show,o=e.active,i=e.onAnimationStart,l=e.onAnimationRest,u={},c={};u.transform="translate3d(10px, 10px, 0) scale3d(3, 3, 1)";c.transform="translate3d(0, 0, 0) scale3d(1, 1, 1)";var s=(0,Ct.Sl)(_.Ilk.BRAND_500).hex,f=(0,Ct.Sl)(_.Ilk.PRIMARY_DARK_630).hex;if(o&&null==t.icon){u.backgroundColor=s;c.backgroundColor=f}var d=(0,ge.useTransition)(n,{from:u,enter:c,leave:u,config:{duration:100},onStart:i,onRest:l});return(0,r.jsx)(r.Fragment,{children:d((function(e,n,o){return n&&(0,r.jsx)("div",{className:a()(Wo().folder,Wo().hover),children:(0,r.jsx)("div",{className:Wo().folderIconWrapper,
children:(0,r.jsxs)("div",{className:Wo().closedFolderIconWrapper,children:[(0,r.jsx)(ge.animated.div,{className:Wo().folderIconPreview,style:e,children:(0,r.jsx)(Uo.Z,{guild:t,size:Uo.Z.Sizes.SMOL,className:Wo().guildIcon})}),(0,r.jsx)(Vo,{className:Wo().miniPlaceholder})]})})},o.key)}))})}var zo=n(352923),Ko=n(691921),qo=n.n(Ko);function Xo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Qo(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function Jo(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Qo(i,r,o,a,l,"next",e)}function l(e){Qo(i,r,o,a,l,"throw",e)}a(void 0)}))}}function $o(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function ei(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){$o(e,t,n[t])}))}return e}function ti(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function ni(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{
try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Xo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xo(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ri=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),
0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},oi={analyticsSource:{page:_.ZY5.GUILD_CHANNEL,section:_.jXE.CHANNEL_LIST,object:_.qAy.CHANNEL}};function ii(e,t){(0,Oe.jW)(e,Jo((function(){var e,o;return ri(this,(function(i){switch(i.label){case 0:
return[4,Promise.all([n.e(40532),n.e(92224),n.e(7943),n.e(42185),n.e(42348),n.e(93558),n.e(34076),n.e(5864),n.e(27565),n.e(32597),n.e(47018),n.e(43208)]).then(n.bind(n,847018))];case 1:e=i.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,ti(ei({},e),{guild:t}))}]}}))})))}const ai=o.memo((function(e){var t,n,i,l=e.guildNode,u=e.setRef,c=e.onDragStart,s=e.onDragEnd,d=e.route,p=e.guild,h=e.animatable,b=e.selected,v=void 0!==b&&b,m=e.unread,g=void 0!==m&&m,O=e.muted,E=void 0!==O&&O,j=e.mediaState,S=e.unavailable,C=void 0!==S&&S,P=e.badge,I=void 0===P?0:P,_=e.contextMenu,w=void 0===_?ii:_,x=e.draggable,N=void 0!==x&&x,T=e.sorting,A=void 0!==T&&T,Z=e.preloadOnClick,R=void 0===Z||Z,M=e.guildJoinRequestStatus,D=l.id,L=l.parentId,k=null!==(t=e.upperBadge)&&void 0!==t?t:C?(0,r.jsx)(Te.G2,{icon:It.Z,disableColor:!0,className:jt().unavailableBadge}):null!=j?Ht(j):void 0,H=null!==(n=e.lowerBadge)&&void 0!==n?n:void 0;if(null==H&&I>0){var B;H=null!==(B=Gt(I))&&void 0!==B?B:void 0
}else if(null==H&&null!=M){var V;H=null!==(V=Bt({guildJoinRequestStatus:M}))&&void 0!==V?V:void 0}var F=null!==(i=e.lowerBadgeWidth)&&void 0!==i?i:(0,Te.OV)(I),W=ni((0,Do.c)({type:U.eD.GUILD,item:function(){requestAnimationFrame((function(){null==c||c()}));return{type:l.type,nodeId:l.id}},end:function(){null==s||s();(0,Lo.V)(ye.Z.getCompatibleGuildFolders())},collect:function(e){return{dragging:e.isDragging()}}}),2),Y=W[0].dragging,z=W[1],K=(0,f.Ie)(null!=D?D:""),q=ni(o.useState(!1),2),X=q[0],Q=q[1],J=!A&&X,$=ni(o.useState(!1),2),ee=$[0],te=$[1],ne=ni(o.useState(!1),2),re=ne[0],ie=ne[1],ae=ni(o.useState((function(){return new y.sW(70,(function(){return ie(!0)}))})),1)[0];o.useEffect((function(){return function(){return ae.cancel()}}),[ae]);var le=o.useCallback((function(){null==d?(0,ko.X)(D,{state:oi}):(0,oo.uL)(d,{state:oi})}),[D,d]),ue=o.useCallback((function(){if(null==d&&null!=p&&!C&&R){var e=(0,ko.V)(p.id);null!=e&&or.Z.preload(p.id,e)}}),[d,p,C,R]),ce=o.useCallback((function(e){
null!=p&&w(e,p)}),[p,w]),se=o.useCallback((function(e){if("ArrowLeft"===e.key&&null!=L){var t;null===(t=document.querySelector("[aria-owns=folder-items-".concat(L,"]")))||void 0===t||t.focus()}}),[L]),fe=o.useCallback((function(e){if(e)ae.delay();else{ae.cancel();ie(!1)}}),[ae]),de=o.useCallback((function(e){null==u||u(D,e)}),[D,u]);if(null==p)return null;var pe,he=re||ee?(0,r.jsx)(Yo,{guild:p,show:re,active:v,onAnimationStart:function(){te(re)},onAnimationRest:function(){!re&&te(!1)}}):(0,r.jsx)(pt,ti(ei({ariaLabel:oe.Z.Messages.GUILD_TOOLTIP_A11Y_LABEL.format({guildName:p.toString(),mentions:I}),name:p.toString(),onClick:le,onMouseEnter:function(){!A&&Q(!0)},onMouseLeave:function(){!A&&Q(!1)},onMouseDown:ue,onContextMenu:ce,onKeyDown:se,icon:p.getIconURL(96,J&&h),selected:v||J},K),{role:"treeitem"})),be=Y?(0,r.jsx)(qn,{children:(0,r.jsx)(Vo,{})}):(0,r.jsx)("div",{ref:N?z:void 0,"data-dnd-name":p.toString(),className:a()(qo().blobContainer,(pe={},$o(pe,qo().sorting,A),
$o(pe,qo().wobble,re),$o(pe,qo().selected,re||v),pe)),children:(0,r.jsx)(rt,{selected:re||v||J,innerClassName:E&&(0,G.c)()?qo().muted:void 0,upperBadge:k,lowerBadge:H,lowerBadgeWidth:F,children:he})});return St((0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)(Ne,{hovered:!Y&&J,selected:!Y&&v,unread:!Y&&g,className:qo().pill}),(0,r.jsx)(zo.Z,{guild:p,disabled:A,children:be}),N?(0,r.jsx)(zn,{name:p.name,targetNode:l,onDragOverChanged:fe}):null]}),de)}));function li(e){var t=e.guild,n=e.invite,i=o.useMemo((function(){return(0,U.Mg)(t.id)}),[t.id]),a=(0,p.e7)([te.Z],(function(){return te.Z.isFocused()}));return null==t?null:(0,r.jsx)(ai,{guildNode:i,guild:t,animatable:a,draggable:!1,contextMenu:function(){},selected:!0,route:_.Z5c.GUILD_MEMBER_VERIFICATION_FOR_HUB(t.id,n.code)})}function ui(e){var t,n=e.isOnHubVerificationRoute,o=(0,s.LX)(null!==(t=window.location.pathname)&&void 0!==t?t:"",{path:_.Z5c.GUILD_MEMBER_VERIFICATION_FOR_HUB(":guildId",":inviteCode")}),i=(0,p.e7)([Ro.Z],(function(){
if(null==o)return null;var e=o.params.inviteCode;return null!=e?Ro.Z.getInvite(e):null})),a=null!=(null==i?void 0:i.guild)?new Zo.Z(null==i?void 0:i.guild):null;return n?null!=a&&null!=i?(0,r.jsx)(li,{guild:a,invite:i}):(0,r.jsx)(En,{tooltip:oe.Z.Messages.HUB_DISCORD_HUBS,id:"guild-hub-button",icon:Mo.Z}):null}var ci=n(278846),si=n(836075),fi=n(925741);var di=n(761434),pi=n(971856),hi=n(644765),yi=n.n(hi);function bi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function vi(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function mi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){vi(e,t,n[t])}))}return e}function gi(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Oi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return bi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bi(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ei(e){var t=e.inboxExperimentConfig,n=t.badgeable;return t.inLeftNav?n?(0,r.jsx)(ji,{}):(0,r.jsx)(Si,{badgeState:{badgeable:!1}}):null}function ji(){var e,t,n=Oi((e=(0,p.e7)([fi.Z],(function(){return fi.Z.mentionsAreStale})),t=(0,p.e7)([B.Z],(function(){return B.Z.getTotalMentionCount(!0)>0})),[!e&&t,o.useCallback((function(){si.Z.setRecentMentionsStale()}),[])]),2),i=n[0],a=n[1],l={badgeable:!0,badged:i};return(0,r.jsx)(Si,{badgeState:l,onClose:a})}function Si(e){var t=e.badgeState,n=e.onClose;return(0,r.jsx)(ci.k,{onClose:n,badgeState:t,popoutPosition:di.vK.RIGHT,popoutAlign:di.xM.TOP,expandedHeader:!0,children:function(e,n,o){return(0,r.jsx)(Ci,gi(mi({},o),{
onClick:e,selected:n,badged:t.badgeable&&t.badged}))}})}var Ci=o.forwardRef((function(e,t){var n=e.onClick,i=e.selected,l=e.badged,u=(0,f.Ie)("inbox-button"),c=Oi(o.useState(!1),2),s=c[0],d=c[1];return St((0,r.jsx)(Ot,{text:oe.Z.Messages.INBOX,children:(0,r.jsxs)(ot.Z,gi(mi({innerRef:t,onMouseEnter:function(){return d(!0)},onMouseLeave:function(){return d(!1)},className:a()(yi().iconButton,vi({},yi().selected,i||s)),onClick:n,"aria-label":oe.Z.Messages.INBOX,focusProps:{enabled:!1}},u),{children:[l?(0,r.jsx)(Go.ZP,{mask:Go.ZP.Masks.HEADER_BAR_BADGE,className:yi().iconMask,children:(0,r.jsx)(pi.Z,{})}):(0,r.jsx)(pi.Z,{}),l?(0,r.jsx)("span",{className:yi().iconBadge}):null]}))}))})),Pi=n(700207),Ii=n(952013),_i=n(738549),wi=n(122906),xi=n(854039),Ni=n(625661),Ti=n.n(Ni);function Ai(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Zi(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}
l.done?t(u):Promise.resolve(u).then(r,o)}function Ri(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Zi(i,r,o,a,l,"next",e)}function l(e){Zi(i,r,o,a,l,"throw",e)}a(void 0)}))}}function Mi(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Di(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ai(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ai(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Li,ki,Ui=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,
o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};!function(e){e.STATIC="static";e.HOVER_START="hover start";e.HOVER_LOOP="hover loop";e.CLICK="click";e.END="end"}(Li||(Li={}));var Gi=(Mi(ki={},Li.STATIC,{BEG:0,END:1}),Mi(ki,Li.HOVER_START,{BEG:1,END:79}),Mi(ki,Li.HOVER_LOOP,{BEG:79,END:147,shouldForcePlayAfter:!0}),Mi(ki,Li.CLICK,{BEG:147,END:188}),Mi(ki,Li.END,{BEG:188,END:189,shouldForcePlayAfter:!0}),ki);function Hi(){return Bi.apply(this,arguments)}function Bi(){return(Bi=Ri((function(){var e;return Ui(this,(function(t){switch(t.label){case 0:return[4,n.e(23783).then(n.t.bind(n,503592,19))];case 1:e=t.sent();return[2,e.default]}}))
}))).apply(this,arguments)}function Vi(){return Fi.apply(this,arguments)}function Fi(){return(Fi=Ri((function(){var e;return Ui(this,(function(t){switch(t.label){case 0:return[4,n.e(32840).then(n.t.bind(n,766496,19))];case 1:e=t.sent();return[2,e.default]}}))}))).apply(this,arguments)}const Wi=o.forwardRef((function(e,t){var n,i=e.selected,a=Di(o.useState((function(){return i?Li.CLICK:Li.STATIC})),2),l=a[0],u=a[1],c=Di(o.useState(!0),2),s=c[0],f=c[1],d=o.useRef(null),p=(0,Ii.ZP)(),h=null===(n=(0,_i.n)())||void 0===n?void 0:n.countryCode;o.useEffect((function(){if(!i){f(!0);u(Li.STATIC)}}),[i]);return(0,r.jsx)(En,{className:Ti().button,showPill:!0,id:"nitro-subscription-button",onClick:function(){f(!1);u(Li.CLICK);(0,oo.uL)(_.Z5c.PREMIUM_MARKETING_SURFACE)},selected:i,tooltip:oe.Z.Messages.PREMIUM,onMouseDown:function(){if(!i){(0,wi.e)(h);u(Li.CLICK)}},onMouseEnter:function(){if(!i){f(!1);u(Li.HOVER_START)}},onMouseLeave:function(){if(!i){f(!0);u(Li.STATIC)}},children:(0,r.jsx)(Pi.$,{
onChange:function(e){e&&P.default.track(_.rMx.PREMIUM_MARKETING_GUILD_SIDEBAR_ENTRYPOINT_VIEWED)},threshold:.75,children:(0,r.jsx)("div",{className:Ti().animationWrapper,ref:t,children:(0,r.jsx)(xi.Z,{className:Ti().animation,importData:p===_.BRd.DARK?Vi:Hi,nextScene:l,sceneSegments:Gi,onScenePlay:function(e){s||u(function(e){switch(e){case Li.STATIC:return Li.HOVER_START;case Li.HOVER_START:return Li.HOVER_LOOP;case Li.CLICK:return Li.END;default:return e}}(e));if(e===Li.END){var t,n;null===(t=d.current)||void 0===t||null===(n=t.animation)||void 0===n||n.pause();f(!0)}},pauseWhileUnfocused:!0,pause:s,componentRef:d},p)})})})}));var Yi=n(267742),zi=n.n(Yi);function Ki(){return St((0,r.jsx)("div",{className:zi().guildSeparator}))}var qi=n(355543),Xi=n(152666),Qi=n(892472),Ji=n(461979),$i=n.n(Ji);function ea(){var e=(0,p.e7)([Xi.Z,S.Z],(function(){return Xi.Z.unavailableGuilds.filter((function(e){return null==S.Z.getGuild(e)})).length}));return e>0?St((0,r.jsx)(Ot,{
text:oe.Z.Messages.PARTIAL_OUTAGE.format({count:e}),color:ht.ZP.Colors.RED,children:(0,r.jsx)(Qi.Z,{href:(0,qi.Z)(_.RK.TWITTER),target:"_blank",className:$i().guildsError,"aria-label":oe.Z.Messages.PARTIAL_OUTAGE_A11Y.format({count:e}),children:(0,r.jsx)("span",{"aria-hidden":!0,className:$i().errorInner,children:"!"})})})):null}var ta=n(316921),na=n(390504),ra=n(892994);function oa(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ia(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function aa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){ia(e,t,n[t])}))}return e}function la(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function ua(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function ca(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){
var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return oa(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oa(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var sa=(0,it.Mg)(Wo().animationDuration),fa=(0,it.Mg)(Wo().guildIconSize);function da(e){var t=e.guildId,n=e.animate,o=(0,p.e7)([S.Z],(function(){return S.Z.getGuild(t)}),[t]),i=(0,p.e7)([na.Z],(function(){return na.Z.isMuted(t)}));return null==o?(0,r.jsx)("div",{className:Wo().guildIconUnavailable,
children:"!"}):(0,r.jsx)(Uo.Z,{guild:o,animate:n,size:Uo.Z.Sizes.SMOL,className:a()(Wo().guildIcon,i&&(0,G.c)()&&Wo().guildIconMuted),tabIndex:-1})}function pa(e){var t,n,i=e.folderNode,a=e.hovered,l=e.expanded,u=i.color,c=i.children,s=null!=u?u:_.Wyy,f=c.map((function(e){return e.id})),d=ca(o.useState(!1),2),p=d[0],h=d[1],y=ca(o.useState(l),2),b=y[0],v=y[1],m=l?0:-fa,g=(0,ge.useSpring)({transform:"translate3d(0, ".concat(m,"px, 0)"),config:{duration:sa},onStart:function(){h(!0);v(l)},onRest:function(){h(!1)}}),O=p?g:void 0;(p||b)&&(t=(0,r.jsx)(ge.animated.div,{style:O,className:Wo().expandedFolderIconWrapper,children:(0,r.jsx)(ra.Z,{style:{color:(0,ta.Rf)(s)}})}));!p&&b||(n=(0,r.jsx)(ge.animated.div,{style:O,className:Wo().closedFolderIconWrapper,children:f.slice(0,4).map((function(e){return(0,r.jsx)(da,{guildId:e,animate:a},e)}))}));return(0,r.jsxs)("div",{"aria-hidden":!0,style:l?void 0:{backgroundColor:(0,ta.br)(s,.4)},className:Wo().folderIconWrapper,children:[t,n]})}
function ha(e){var t=e.folderNode,n=e.forceCircular,i=e.expanded,l=e.sorting,u=e.mediaState,c=e.mentionCount,s=void 0===c?0:c,f=e.tooltipName,d=e.folderGroupId,p=e.folderIconContent,h=e.onClick,y=e.onContextMenu,b=e.onHoverChange,v=e.onKeyDown,m=e.treeItemProps.onFocus,g=ua(e.treeItemProps,["onFocus"]),O=ca(o.useState(!1),2),E=O[0],j=O[1],S=o.useCallback((function(){!l&&j(!0);null==b||b(!0)}),[l,b]),C=o.useCallback((function(){!l&&j(!1);null==b||b(!1)}),[l,b]),P=i||null==u?null:Ht(u),I=!i&&s>0?Gt(s):null;return(0,r.jsx)(rt,{selected:!n,upperBadge:P,lowerBadge:I,lowerBadgeWidth:(0,Te.OV)(s),children:(0,r.jsx)(ot.Z,la(aa({className:a()(Wo().folder,ia({},Wo().hover,E)),onClick:h,onContextMenu:y,onMouseEnter:S,onMouseLeave:C,onKeyDown:v,onFocus:m,"aria-label":oe.Z.Messages.GUILD_FOLDER_TOOLTIP_A11Y_LABEL.format({folderName:f,mentions:s}),"aria-expanded":i,"aria-owns":d,focusProps:{enabled:!1}},g),{role:"treeitem",children:null!=p?(0,r.jsx)("div",{className:Wo().expandedFolderIconWrapper,
children:p}):(0,r.jsx)(pa,{folderNode:t,hovered:E,expanded:i})}))})}function ya(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ba(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function va(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ya(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ya(e,t)
}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ma=(0,it.Mg)(Wo().animationDuration),ga=(0,it.Mg)(Wo().guildIconSize),Oa=(0,it.Mg)(Wo().guildIconMargin);function Ea(e){var t=e.folderNode,n=e.setNodeRef,i=e.selected,l=e.expanded,u=e.mediaState,c=e.mentionCount,s=void 0===c?0:c,d=e.unread,p=void 0!==d&&d,h=e.defaultFolderName,y=e.useCircleMask,b=void 0!==y&&y,v=e.draggable,m=void 0!==v&&v,g=e.sorting,O=void 0!==g&&g,E=e.onDragStart,j=e.onDragEnd,S=e.onExpandCollapse,C=e.onContextMenu,P=e.renderChildNode,I=e.folderIconContent,_=t.id,w=t.name,x=t.children,N=va(o.useState(!1),2),T=N[0],A=N[1],Z=va(o.useState(!1),2),R=Z[0],M=Z[1],D=T||R;o.useEffect((function(){O&&A(!1)}),[O]);var L,k=va((0,Do.c)({type:U.eD.FOLDER,item:function(){null==E||E();return{type:U.eD.FOLDER,nodeId:t.id}},end:function(){null==j||j();(0,Lo.V)(ye.Z.getCompatibleGuildFolders())},
collect:function(e){return{dragging:e.isDragging()}}}),2),G=k[0].dragging,H=k[1],B=o.useCallback((function(e){M(e)}),[]),V=o.useCallback((function(e){("ArrowRight"===e.key&&!l||"ArrowLeft"===e.key&&l)&&S()}),[S,l]),F=null!=w&&""!==w?w:null!=h&&""!==h?h:oe.Z.Messages.SERVER_FOLDER_PLACEHOLDER,W=(0,f.Ie)("".concat(_)),Y="folder-items-".concat(_),z=x.length*(ga+Oa),K=(0,ge.useTransition)(!G&&l,{from:{height:0},enter:{height:1},leave:{height:0},config:{duration:ma}}),q=o.useCallback((function(e){return null==n?void 0:n(_,e)}),[n,_]),X=St((0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)(Ne,{disabled:G||l,hovered:T,selected:i,unread:p,className:qo().pill}),(0,r.jsx)(Ot,{text:F,disabled:O,selected:i,disableWrapper:!0,children:(0,r.jsx)("div",{ref:m?H:void 0,className:a()(ba({},qo().wobble,!G&&R&&!l)),"data-dnd-name":F,children:G?(0,r.jsx)(Vo,{}):(0,r.jsx)(ha,{folderNode:t,expanded:l,forceCircular:b,sorting:O,mediaState:u,mentionCount:s,tooltipName:F,folderGroupId:Y,onClick:S,onContextMenu:C,
onHoverChange:A,onKeyDown:V,treeItemProps:W,folderIconContent:I})})}),m?(0,r.jsx)(zn,{name:F,targetNode:t,onDragOverChanged:B}):null]}));return(0,r.jsxs)("div",{ref:q,className:Wo().wrapper,children:[!G&&(0,r.jsx)("span",{className:a()(Wo().expandedFolderBackground,(L={},ba(L,Wo().collapsed,!l),ba(L,Wo().hover,D),L))}),X,K((function(e,t,n){var o=n.key;return t&&(0,r.jsx)(ge.animated.ul,{id:Y,style:{height:e.height.to((function(e){return e*z}))},className:Wo().expandedGuilds,role:"group",children:x.map(P)},o)})),m&&l?(0,r.jsx)(Kn,{name:F,targetNode:t}):null]})}function ja(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function Sa(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){ja(i,r,o,a,l,"next",e)}function l(e){ja(i,r,o,a,l,"throw",e)}a(void 0)}))}}function Ca(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n
;return e}function Pa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Ca(e,t,n[t])}))}return e}function Ia(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function _a(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t)
;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}var wa=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}
if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};const xa=o.memo((function(e){var t=e.folderNode,i=_a(e,["folderNode"]),a=t.id,l=t.name,u=t.color,c=t.children.map((function(e){return e.id})),s=(0,A.Z)((function(e){return e.guildId})),f=(0,p.e7)([H.Z],(function(){return H.Z.isFolderExpanded(a)})),d=function(e){var t=e.children.map((function(e){var t=e.id,n=S.Z.getGuild(t);return null!=n?n.name:null})).filter(br.lm),n=2*_.dYL,r=[],o=!0,i=!1,a=void 0;try{for(var l,u=t[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value;if(c.length<n||0===r.length){r.push(c);n-=c.length}}}catch(e){i=!0;a=e}finally{try{o||null==u.return||u.return()}finally{if(i)throw a}}return"".concat(r.join(", ")).concat(r.length<t.length?", ...":"")}(t),h=function(e){var t,n=(0,
p.e7)([me.Z],(function(){return me.Z.getGuildId()})),r=e.children.map((function(e){return e.id})),i=null!=n&&r.includes(n),a=!1,l=!1,u=!1,c=(0,p.e7)([me.Z],(function(){return me.Z.getChannelId()})),s=(0,p.e7)([ve.Z],(function(){return ve.Z.getChannel(c)}),[c]),f=(0,p.e7)([Nr.Z],(function(){return null!=c&&Nr.Z.hasVideo(c)}),[c]),d=(0,p.e7)([Se.Z,xr.default],(function(){return Se.Z.getActiveStreamForUser(xr.default.getId())}));if(i){a=!f;l=f;u=null!=d&&null!=d.guildId&&r.includes(d.guildId);t=null==s?void 0:s.type}return o.useMemo((function(){return{audio:a,video:l,screenshare:u,currentActiveVoiceType:t}}),[a,l,u,t])}(t),y=(0,p.cj)([B.Z],(function(){return{mentionCount:c.map((function(e){return B.Z.getMentionCount(e)})).reduce((function(e,t){return e+t}),0),unread:c.some((function(e){return B.Z.hasUnread(e)}))}})),b=y.mentionCount,v=y.unread,m=o.useCallback((function(){kn.Z.toggleGuildFolderExpand(a)}),[a]),g=o.useCallback((function(e){(0,Oe.jW)(e,Sa((function(){var e,t
;return wa(this,(function(o){switch(o.label){case 0:return[4,n.e(40946).then(n.bind(n,640946))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,Ia(Pa({},e),{folderId:a,folderName:l,folderColor:u,unread:v||b>0}))}]}}))})))}),[a,l,u,v,b]);return(0,r.jsx)(Ea,Ia(Pa({},i),{folderNode:t,expanded:f,selected:null!=s&&c.includes(s),mentionCount:b,unread:v,mediaState:h,defaultFolderName:d,onExpandCollapse:m,onContextMenu:g}))}));var Na=n(368816),Ta=n(43822),Aa=n(240243);function Za(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Ra(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){
Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Ma(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function Da(e){var t=e.width,n=void 0===t?48:t,o=e.height,i=void 0===o?48:o,a=e.color,l=void 0===a?"currentColor":a,u=Ma(e,["width","height","color"]);return(0,r.jsxs)("svg",Ra(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Za(e,t,n[t])}))}return e}({},(0,Aa.Z)(u)),{width:n,height:i,fill:l,
viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{d:"M19 6H13C11.9 6 11 6.9 11 8V40C11 41.1 11.9 42 13 42H19C20.1 42 21 41.1 21 40V8C21 6.9 20.1 6 19 6Z",fill:"white"}),(0,r.jsx)("path",{d:"M35 6H29C27.9 6 27 6.9 27 8V40C27 41.1 27.9 42 29 42H35C36.1 42 37 41.1 37 40V8C37 6.9 36.1 6 35 6Z",fill:"white"})]}))}var La=n(217891),ka=n(20086),Ua=n(738022);function Ga(e){var t,n,r=(0,p.e7)([na.Z],(function(){return na.Z.isMuted(e)})),i=(null===(t=(0,ka.ZP)(e))||void 0===t?void 0:t.length)>0,a=null!=(0,La.k5)(e),l=(null===(n=(0,Ua.Z)())||void 0===n?void 0:n.guild_id)===e,u=(0,p.e7)([xr.default],(function(){return xr.default.getId()})),c=(0,p.cj)([me.Z],(function(){return{selectedVoiceGuildId:me.Z.getGuildId(),selectedVoiceChannelId:me.Z.getChannelId()}})),s=c.selectedVoiceGuildId,f=c.selectedVoiceChannelId,d=s===e,h=(0,p.e7)([Se.Z],(function(){if(!d)return!1;var t=Se.Z.getActiveStreamForUser(u);return null!=t&&t.guildId===e})),y=(0,p.e7)([Se.Z],(function(){
return Se.Z.getAllApplicationStreams().some((function(t){return t.guildId===e}))})),b=(0,p.e7)([Nr.Z],(function(){return d&&null!=f&&Nr.Z.hasVideo(f)}),[d,f]),v=(0,p.e7)([ir.ZP],(function(){return ir.ZP.getEmbeddedActivitiesForGuild(e)})),m=(0,p.e7)([ir.ZP],(function(){return Array.from(ir.ZP.getSelfEmbeddedActivities().values()).some((function(t){return t.guildId===e}))})),g=v.length>0,O=!1,E=!1,j=!1,S=!1;if(d){O=!b;E=b;j=h;S=m}else{j=!r&&y;S=!r&&g}return o.useMemo((function(){return{audio:O,video:E,screenshare:j,liveStage:i,hasActiveEvent:a,participating:d,participatingInStage:l,activity:S}}),[i,d,a,l,O,E,j,S])}var Ha=n(592061),Ba=n.n(Ha);function Va(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Fa(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){
var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}const Wa=o.memo((function(e){var t=e.guildNode,n=e.lowerBadge,i=t.id,a=(0,p.e7)([S.Z],(function(){return S.Z.getGuild(i)})),l=(0,Na.E)(i),u=(0,p.e7)([te.Z],(function(){return te.Z.isFocused()})),c=(0,p.e7)([Xi.Z],(function(){return Xi.Z.isUnavailable(i)})),s=(0,p.e7)([na.Z],(function(){return na.Z.isMuted(i)})),f=(0,A.Z)((function(e){return e.guildId})),d=Ga(i),h=(0,p.cj)([B.Z],(function(){return{badge:B.Z.getMentionCount(i),unread:B.Z.hasUnread(i)}})),y=h.badge,b=h.unread,v=(0,Ta.Ij)(a)&&0==y,m=o.useMemo((function(){return null!=n?n:v?(0,r.jsx)("div",{className:Ba().pauseBackground,children:(0,r.jsx)(Da,{className:Ba().pause,width:10,height:10})}):null}),[n,v]);return(0,r.jsx)(ai,Fa(function(e){
for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Va(e,t,n[t])}))}return e}({},e),{guild:a,unavailable:c,animatable:u,selected:f===i,badge:y,lowerBadge:m,unread:b,muted:s,mediaState:d,guildJoinRequestStatus:l}))}));function Ya(e){var t=e.guildId,n=o.useMemo((function(){return(0,U.Mg)(t)}),[t]),i=(0,p.e7)([S.Z],(function(){return S.Z.getGuild(t)})),a=(0,p.e7)([te.Z],(function(){return te.Z.isFocused()})),l=t===(0,A.Z)((function(e){return e.guildId})),u=Ga(t);return null==i?null:(0,r.jsx)(ai,{guildNode:n,guild:i,animatable:a,selected:l,draggable:!1,mediaState:u})}var za,Ka=n(57859),qa=n(748737),Xa=n(971738);function Qa(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Ja(e,t){
t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function $a(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function el(e){var t=e.width,n=void 0===t?16:t,o=e.height,i=void 0===o?16:o,a=e.color,l=void 0===a?"currentColor":a,u=e.foreground,c=$a(e,["width","height","color","foreground"])
;return(0,r.jsx)("svg",Ja(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Qa(e,t,n[t])}))}return e}({},(0,Aa.Z)(c)),{width:n,height:i,viewBox:"0 0 24 24",children:(0,r.jsx)("path",{className:u,fill:l,
d:"M7 1C6.73479 1.00003 6.48045 1.10539 6.29292 1.29292C6.10539 1.48045 6.00003 1.73479 6 2V6C6.00009 6.23417 6.08234 6.46088 6.23242 6.64062L10.6992 12L6.23242 17.3594C6.08234 17.5391 6.00009 17.7658 6 18V22C6.00003 22.2652 6.10539 22.5195 6.29292 22.7071C6.48045 22.8946 6.73479 23 7 23H17C17.2652 23 17.5195 22.8946 17.7071 22.7071C17.8946 22.5195 18 22.2652 18 22V18C17.9999 17.7658 17.9177 17.5391 17.7676 17.3594L13.3008 12L17.7676 6.64062C17.9177 6.46088 17.9999 6.23417 18 6V2C18 1.73479 17.8946 1.48045 17.7071 1.29292C17.5195 1.10539 17.2652 1.00003 17 1H7ZM12 13.5625L16 18.3613V21H8V18.3613L12 13.5625Z"})}))}!function(e){e[e.PENDING_JOIN_REQUESTS_FOLDER=1]="PENDING_JOIN_REQUESTS_FOLDER"}(za||(za={}));function tl(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function nl(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){tl(i,r,o,a,l,"next",e)}function l(e){
tl(i,r,o,a,l,"throw",e)}a(void 0)}))}}function rl(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function ol(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var il=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,
r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function al(e,t){(0,Oe.jW)(e,nl((function(){var e,o;return il(this,(function(i){switch(i.label){case 0:return[4,n.e(40639).then(n.bind(n,40639))];case 1:e=i.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,ol(function(e){for(var t=1;t<arguments.length;t++){
var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){rl(e,t,n[t])}))}return e}({},e),{guild:t}))}]}}))})))}function ll(e){var t=e.guildNode,n=t.id,o=(0,Na.E)(n),i=(0,p.e7)([qa.Z],(function(){return qa.Z.getJoinRequestGuild(n)}),[n]),a=(0,p.e7)([te.Z],(function(){return te.Z.isFocused()})),l=(0,p.e7)([Xa.Z],(function(){return Xa.Z.getGuildId()}));return null==i?null:(0,r.jsx)(ai,{guildNode:t,guild:i,animatable:a,draggable:!1,selected:n===l,preloadOnClick:!1,contextMenu:al,lowerBadge:null!=o?Bt({guildJoinRequestStatus:o}):void 0,route:_.Z5c.GUILD_MEMBER_VERIFICATION(n)})}var ul=n(982735),cl=n.n(ul);function sl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function fl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){
var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return sl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sl(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dl(){var e=fl(o.useState(!1),2),t=e[0],n=e[1],i=(0,p.e7)([Xa.Z],(function(){return Xa.Z.getGuildId()})),a=(0,p.e7)([qa.Z],(function(){return qa.Z.hasFetchedRequestToJoinGuilds})),l=(0,
p.Wu)([qa.Z,S.Z],(function(){var e=qa.Z.computeGuildIds(),t=S.Z.getGuilds();return e.filter((function(e){return null==t[e]}))})),u=o.useMemo((function(){var e=(0,U.qQ)({folderId:za.PENDING_JOIN_REQUESTS_FOLDER,folderName:oe.Z.Messages.MEMBER_VERIFICATION_FOLDER_NAME,expanded:t,guildIds:[]}),n=!0,r=!1,o=void 0;try{for(var i,a=l[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=i.value;e.children.push((0,U.Mg)(u,e.id))}}catch(e){r=!0;o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}return e}),[l,t]);o.useEffect((function(){t&&!a&&Ka.Z.fetchRequestToJoinGuilds()}),[t,a]);if(0===l.length)return null;var c=null!=i&&l.includes(i);return(0,r.jsx)(Ea,{folderNode:u,expanded:t,useCircleMask:!t&&!c,selected:c,draggable:!1,sorting:!1,onExpandCollapse:function(){return n(!t)},folderIconContent:(0,r.jsx)("div",{className:cl().expandedFolderIconWrapper,children:(0,r.jsx)(el,{width:24,height:24,className:cl().pendingIcon})}),renderChildNode:function(e){
return e.type!==U.eD.GUILD?null:(0,r.jsx)(ll,{guildNode:e})}})}var pl=n(781153),hl=n.n(pl);function yl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function bl(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function vl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){bl(e,t,n[t])}))}return e}function ml(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n
}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function gl(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function Ol(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return yl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yl(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var El=(0,D.ED)()?4:(0,D.id)()?0:12,jl=El+10,Sl=function(){function e(t,n,r){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);this.guildsTree=t;this.setScrolling=n;this.onScroll=r;this.scrollerRef=o.createRef();this.guildDiscoveryRef=o.createRef();this.nodeRefs={};this.timeout=new y.V7;this.isScrolling=!1;this.scrollToGuild=function(e,t){var n=i.scrollerRef.current;if(null!=n)if(null==e&&window.location.pathname.startsWith(_.Z5c.GUILD_DISCOVERY)||e===_.x8Z.SERVER_DISCOVERY_BADGE||e===_.x8Z.E3_SERVER_DISCOVERY_BADGE){var r=(0,
c.findDOMNode)(i.guildDiscoveryRef.current);(0,d.k)(r,HTMLElement)?n.scrollIntoViewNode({node:r,animate:t,padding:8}):n.scrollTo({to:0,animate:t})}else if(null!=e){for(var o=i.nodeRefs[e];null==o;){var a=i.guildsTree.getNode(e);if(null==(null==a?void 0:a.parentId))break;o=i.nodeRefs[a.parentId]}null!=o&&(0,d.k)(o)?n.scrollIntoViewNode({node:o,animate:t,padding:8}):n.scrollTo({to:0,animate:t})}else n.scrollTo({to:0,animate:t})};this.handleJumpToGuild=function(e){i.scrollToGuild(e,!0)};this.scrollTo=function(e){var t;null===(t=i.scrollerRef.current)||void 0===t||t.scrollTo(e)};this.isItemVisible=function(e,t,n){var r=i.scrollerRef.current;if(null==r)return!1;var o=n.findIndex((function(t){return"string"==typeof t||null==t?t===e:t.includes(e)}));if(o<0)return!1;var a=56*o+jl;t||(a+=40);var l=r.getScrollerState();return!!(!t&&a>=l.scrollTop||t&&a+56<=l.scrollTop+l.offsetHeight)};this.handleScroll=function(){i.isScrolling||i.setScrolling(!0);i.timeout.start(200,(function(){
return i.setScrolling(!1)}));i._handleScroll()};this._handleScroll=u().debounce((function(){var e=i.scrollerRef.current;if(null!=e){var t=e.getScrollerState().scrollTop;b.Z.updateGuildListScrollTo(t);i.onScroll()}}),200);this.setNodeRef=function(e,t){i.nodeRefs[e]=t}}e.prototype.setGuildsTree=function(e){this.guildsTree=e};return e}();function Cl(e){var t=e.disableAppDownload,n=void 0===t?D.FB:t,i=e.isOverlay,l=void 0!==i&&i,u=e.className,c=e.themeOverride,d=Ol((0,p.Wu)([ye.Z],(function(){var e=ye.Z.getGuildsTree();return[e,e.version]})),1)[0],h=(0,p.e7)([x.Z],(function(){return x.Z.lurkingGuildIds()})),b=o.useMemo((function(){return l?[]:h}),[h,l]),v=(0,p.e7)([R.default],(function(){var e;return null===(e=R.default.getCurrentUser())||void 0===e?void 0:e.isStaff()})),P=(0,p.e7)([g.Z],(function(){return g.Z.isFullscreenInContext()})),w=(0,p.e7)([R.default],(function(){return R.default.getCurrentUser()})),G=Ol(o.useState(!1),2),H=G[0],B=G[1],V=o.useCallback((function(){return B(!0)
}),[]),F=o.useCallback((function(){return B(!1)}),[]),W=o.useRef(!1),Y=Ol(o.useState((function(){return new y.V7})),1)[0],z=o.useRef(null),K=o.useRef(null),q=(0,f.OP)(),X=q.ref,Q=gl(q,["ref"]),J=(0,E.mF)(),$=Ol(o.useState(!1),2),ee=$[0],te=$[1],ne=Ol(o.useState((function(){return new Sl(d,te,(function(){var e,t;null===(e=z.current)||void 0===e||e.calculateState();null===(t=K.current)||void 0===t||t.calculateState()}))})),1),re=ne[0],ie=(0,s.TH)().pathname,ae=ie.startsWith(_.Z5c.GUILD_DISCOVERY),le=ie.startsWith(_.Z5c.GUILD_MEMBER_VERIFICATION_FOR_HUB("")),ue=ie.startsWith(_.Z5c.PREMIUM_MARKETING_SURFACE);o.useLayoutEffect((function(){if(!W.current&&0!==d.size){if(ae)re.scrollToGuild(null,!1);else{var e=Z.Z.getGuildListDimensions().scrollTop;re.scrollTo({to:e,animate:!1})}W.current=!0;return function(){return Y.stop()}}}),[]);o.useEffect((function(){re.setGuildsTree(d);if(!W.current&&0!==d.size){var e=A.Z.getState().guildId;re.scrollToGuild(e,!1);var t=null,n=A.Z.subscribe((function(e){
var n=e.guildId;if(n!==t){t=n;re.scrollToGuild(t,!1)}}));return n}}),[d,re]);var ce,se,fe,de,pe,be,ve=(ce=(0,p.e7)([S.Z],(function(){return S.Z.getGuildCount()})),se=(0,p.Wu)([C.Z],(function(){return C.Z.getGamesSeen(!1)})).filter((function(e){return e.verified})),fe=(0,p.e7)([j.Z],(function(){return j.Z.hasConsented(_.pjP.PERSONALIZATION)})),de=I.useExperiment({}).showRecs,fe&&de&&ce<4&&se.length>=2),me=d.getRoots(),ge=(0,O.Z)(),Oe=(0,T.X)("guilds_bar"),Ee=(0,m.Q)(),je=N.Z.useExperiment({},{autoTrackExposure:!0,disable:Ee||L.ZP.isPremium(w)&&null!==(pe=!(null==w?void 0:w.isStaff()))&&void 0!==pe&&pe}).entrypointPosition;return(0,r.jsxs)("nav",{className:a()(hl().wrapper,u,(0,k.Q)(c),bl({},hl().hidden,P)),"aria-label":oe.Z.Messages.GUILDS_BAR_A11Y_LABEL,children:[(0,r.jsxs)("ul",ml(vl({ref:X},Q,J),{role:"tree",className:hl().tree,children:[(0,r.jsx)(he,{ref:z,isVisible:re.isItemVisible,onJumpTo:re.handleJumpToGuild,className:hl().unreadMentionsIndicatorTop,
barClassName:hl().unreadMentionsBar}),(0,r.jsxs)(M.xV,{className:a()((be={},bl(be,hl().scroller,!0),bl(be,hl().scrolling,ee),be)),ref:re.scrollerRef,onScroll:re.handleScroll,children:[(0,r.jsx)(Ei,{inboxExperimentConfig:Oe}),(0,r.jsx)(Ao,{}),je===N.k.TOP&&(0,r.jsx)(Wi,{selected:ue}),ge?(0,r.jsx)(Yr,{}):null,(0,r.jsx)(ui,{isOnHubVerificationRoute:le}),(0,r.jsx)(cn,{}),b.map((function(e){return(0,r.jsx)(Ya,{guildId:e},e)})),v?(0,r.jsx)(dl,{}):null,(0,r.jsx)(no,{}),!l&&ve?(0,r.jsx)(lo,{ref:re.guildDiscoveryRef,selected:ae,tooltip:oe.Z.Messages.GUILD_DISCOVERY_TOOLTIP}):null,(0,r.jsx)(Ki,{}),(0,r.jsx)("div",{"aria-label":oe.Z.Messages.SERVERS,children:me.map((function e(t){switch(t.type){case U.eD.FOLDER:return(0,r.jsx)(xa,{folderNode:t,setNodeRef:re.setNodeRef,draggable:!0,sorting:H,onDragStart:V,onDragEnd:F,renderChildNode:e},t.id);case U.eD.GUILD:return(0,r.jsx)(Wa,{guildNode:t,setRef:re.setNodeRef,draggable:!0,sorting:H,onDragStart:V,onDragEnd:F},t.id);default:return null}}))
}),je===N.k.BOTTOM&&(0,r.jsx)(Wi,{selected:ue}),l?null:(0,r.jsx)(rr,{disableTooltip:b.length>0,lastTargetNode:me[me.length-1]}),l||ve?null:(0,r.jsx)(lo,{ref:re.guildDiscoveryRef,selected:ae}),(0,r.jsx)(ea,{}),n?null:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Ki,{}),(0,r.jsx)(_n,{})]})]}),(0,r.jsx)(he,{reverse:!0,ref:K,isVisible:re.isItemVisible,onJumpTo:re.handleJumpToGuild,className:hl().unreadMentionsIndicatorBottom,barClassName:hl().unreadMentionsBar})]})),je===N.k.BOTTOM_FIXED&&(0,r.jsx)("div",{className:hl().fixedBottomList,children:(0,r.jsx)(Wi,{selected:ue})})]})}const Pl=o.memo((function(e){var t=(0,v.Z)("guildsnav");return(0,r.jsx)(f.bG,{navigator:t,children:(0,r.jsx)(Cl,vl({},e))})}),(function(e,t){return!1===t.isVisible||(0,h.Z)(e,t)}))},7564:(e,t,n)=>{"use strict";n.d(t,{Z:()=>w});var r=n(110251),o=n.n(r),i=n(441143),a=n.n(i),l=n(791462),u=n(173436),c=n(630695),s=n(537127),f=n(152666),d=n(653772),p=n(390504),h=n(859023),y=n(90816),b=n(227562);function v(e,t){
if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e){m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return m(e)}function g(e,t){return!t||"object"!==E(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function O(e,t){O=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return O(e,t)}var E=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=m(e);if(t){var o=m(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments)
;return g(this,n)}}var S,C=new b.g8;function P(e,t){var n=C;C=new b.g8;if(0===e.length&&t.length>0){var r=!0,i=!1,a=void 0;try{for(var l,u=t[Symbol.iterator]();!(r=(l=u.next()).done);r=!0){var s=l.value;C.addNode((0,b.Mg)(s))}}catch(e){i=!0;a=e}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}}else{var p=!0,h=!1,y=void 0;try{for(var v,m=e[Symbol.iterator]();!(p=(v=m.next()).done);p=!0){var g=v.value;if(0!==g.guildIds.length)if(null==g.folderId)C.addNode((0,b.Mg)(g.guildIds[0]));else{var O=(0,b.qQ)(g);C.addNode(O);var E=!0,j=!1,S=void 0;try{for(var P,I=g.guildIds[Symbol.iterator]();!(E=(P=I.next()).done);E=!0){var _=P.value;C.addNode((0,b.Mg)(_),O)}}catch(e){j=!0;S=e}finally{try{E||null==I.return||I.return()}finally{if(j)throw S}}}}}catch(e){h=!0;y=e}finally{try{p||null==m.return||m.return()}finally{if(h)throw y}}}var w=!0,x=!1,N=void 0;try{for(var T,A=C.allNodes()[Symbol.iterator]();!(w=(T=A.next()).done);w=!0){var Z=T.value
;Z.type===b.eD.GUILD&&(c.Z.isLurking(Z.id)||null==d.Z.getGuild(Z.id)&&!f.Z.isUnavailable(Z.id))&&C.removeNode(Z)}}catch(e){x=!0;N=e}finally{try{w||null==A.return||A.return()}finally{if(x)throw N}}var R=!0,M=!1,D=void 0;try{for(var L,k=Object.values(C.nodes)[Symbol.iterator]();!(R=(L=k.next()).done);R=!0){var U=L.value;U.type===b.eD.FOLDER&&0===U.children.length&&C.removeNode(U)}}catch(e){M=!0;D=e}finally{try{R||null==k.return||k.return()}finally{if(M)throw D}}for(var G in d.Z.getGuilds())null!=C.nodes[G]||c.Z.isLurking(G)||C.addNode((0,b.Mg)(G),C.root,!1);return!o()(n,C)}function I(){var e,t,n;return P(null!==(t=s.Z.getGuildFolders())&&void 0!==t?t:[],null!==(n=null===(e=s.Z.settings.guildFolders)||void 0===e?void 0:e.guildPositions)&&void 0!==n?n:[])}var _=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}})
;t&&O(e,t)}(n,e);var t=j(n);function n(){v(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(){this.waitFor(d.Z,p.Z,s.Z,f.Z,c.Z)};r.getGuildsTree=function(){return C};r.getFlattenedGuilds=function(){return C.sortedGuildNodes().map((function(e){return d.Z.getGuild(e.id)})).filter(y.lm)};r.getFlattenedGuildIds=function(){return C.sortedGuildNodes().map((function(e){return e.id}))};r.getCompatibleGuildFolders=function(){return function(){var e=[],t=!0,n=!1,r=void 0;try{for(var o,i=C.root.children[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;switch(a.type){case b.eD.FOLDER:e.push({folderId:a.id,folderName:a.name,folderColor:a.color,expanded:a.expanded,guildIds:a.children.map((function(e){return e.id}))});break;case b.eD.GUILD:e.push({folderId:void 0,guildIds:[a.id]})}}}catch(e){n=!0;r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return e}()};r.__getLocalVars=function(){return{guildsTree:C,foldersSource:S}};return n
}(l.ZP.Store);_.displayName="SortedGuildStore";const w=new _(u.Z,{CONNECTION_OPEN:I,OVERLAY_INITIALIZE:I,CACHE_LOADED_LAZY:I,GUILD_CREATE:I,GUILD_DELETE:I,GUILD_MEMBER_ADD:function(e){var t=e.guildId,n=e.joinedAt,r=e.user,o=h.default.getCurrentUser(),i=d.Z.getGuild(t);if((null==o?void 0:o.id)!==r.id||null==i)return!1;var a="string"==typeof n?new Date(n):n;return a!==i.joinedAt&&null!=a&&I()},USER_SETTINGS_PROTO_UPDATE:function(){var e,t,n=s.Z.getGuildFolders();return(null==S||!o()(S,n))&&P(null!=(S=n)?S:[],null!==(t=null===(e=s.Z.settings.guildFolders)||void 0===e?void 0:e.guildPositions)&&void 0!==t?t:[])},GUILD_MOVE_BY_ID:function(e){var t=e.sourceId,n=e.targetId,r=e.moveToBelow,o=e.combine,i=C.getNode(t),l=C.getNode(n);if(null==i||null==l)return!1;a()(!(o&&i.type===b.eD.FOLDER),"[SORTED GUILDS] Can't combine a folder ".concat(i.id," with another guilds list item"))
;a()(!(o&&null!=l.parentId),"[SORTED GUILDS] Can't combine with a guild ".concat(l.id," that's already inside of a folder"));a()(!(i.type===b.eD.FOLDER&&null!=l.parentId),"[SORTED GUILDS] Can't move a folder ".concat(i.id," to inside of another folder ").concat(l.parentId));if(o){var u=l.type!==b.eD.FOLDER?C.convertToFolder(l):l;C.moveInto(i,u,r)}else C.moveNextTo(i,l,r)}})},84397:(e,t,n)=>{"use strict";n.d(t,{Ne:()=>i});var r=n(785893),o=(n(667294),n(294184),n(832010),n(570239),n(3776),n(695756),n(701197),n(983067),n(719455),n(559675),n(71284),n(878627),n(915306),n(806008),n(226300));n(461061),n(310246);function i(e){return(0,r.jsx)(o.mA,{count:e})}},282528:(e,t,n)=>{"use strict";n.d(t,{Z:()=>S});var r=n(785893),o=n(667294),i=n(791462),a=n(688417),l=n(390504),u=n(761434),c=n(946596),s=n(680977),f=n(905567),d=n(882699),p=n(387661),h=n(461061),y=n(959797),b=n(750322),v=n.n(b);function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}
function g(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){g(e,t,n[t])}))}return e}function E(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){
var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e){var t=e.channel,n=j((0,i.Wu)([l.Z],(function(){return[l.Z.isChannelMuted(t.getGuildId(),t.id),l.Z.resolvedMessageNotifications(t)]}),[t]),2),b=n[0],m=n[1],g=j(o.useState(!1),2),S=g[0],C=g[1]
;o.useEffect((function(){var e=function(){return C(!0)};d.S.subscribe(h.CkL.OPEN_THREAD_NOTIFICATION_SETTINGS,e);return function(){d.S.unsubscribe(h.CkL.OPEN_THREAD_NOTIFICATION_SETTINGS,e)}}),[]);var P=function(e){e.shiftKey?a.Z.updateChannelOverrideSettings(t.guild_id,t.id,{muted:!b}):C((function(e){return!e}))},I=y.Z.Messages.NOTIFICATION_SETTINGS;return(0,r.jsx)(u.ZP,{shouldShow:S,animation:u.ZP.Animation.NONE,position:u.ZP.Positions.BOTTOM,align:u.ZP.Align.RIGHT,autoInvert:!1,onRequestClose:function(){return C(!1)},renderPopout:function(e){return(0,r.jsx)(p.Z,E(O({},e),{channel:t,navId:"channel-context",label:y.Z.Messages.CHANNEL_ACTIONS_MENU_LABEL}))},children:function(e,t){var n=t.isShown;return(0,r.jsx)(f.ZP.Icon,E(O({},e),{onClick:P,tooltip:n?null:I,icon:b||m!==h.bL.ALL_MESSAGES?s.Z:c.Z,foreground:b?v().strikethrough:null,"aria-label":I,selected:n}))}})}},772235:(e,t,n)=>{"use strict";n.d(t,{TS:()=>Ke,ud:()=>Fe,v0:()=>Ye})
;var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),l=n(791462),u=n(152250),c=n(962564),s=n(757987),f=n(409830),d=n(71531),p=n(761222),h=n(588641),y=n(921729),b=n.n(y);function v(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function m(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var g=h.default.getEnableHardwareAcceleration()?d.P5:d.qb;const O=l.ZP.connectStores([c.Z],(function(e){var t=e.userId,n=e.defaultStatus;return{status:null!=t?c.Z.getStatus(t,null,n):null,streaming:null!=t&&(0,u.Z)(c.Z.getActivities(t))}}))((function(e){
var t=e.streaming,n=e.status,o=e.hideTooltip,i=e.className,l=e.style,u=e.isMobile,c=e.size,h=e.defaultStatus,y=e.position,O=void 0===y?f.vK.TOP:y,E=t?d.Sk.STREAMING:null!=n?n:h;return(0,r.jsx)(s.ZP,{text:o?null:(0,p.u5)(E),position:O,children:function(e){return(0,r.jsx)("div",m(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){v(e,t,n[t])}))}return e}({},e),{className:a()(i,b().disableFlex),style:l,children:(0,r.jsx)(g,{isMobile:u,status:E,size:c})}))}})}))
;var E=n(747465),j=n(53211),S=n(987928),C=n(655695),P=n(356002),I=n(105405),_=n(971738),w=n(893321),x=n(859023),N=n(649762),T=n(969225),A=n(496486),Z=n.n(A),R=n(598627),M=n(194807),D=n(212218),L=n(653772),k=n(629590),U=n(810873),G=n(855550),H=n(226300),B=n(905567),V=n(436053),F=n(604860),W=n(90816),Y=n(461061),z=n(570459),K=n(959797),q=n(293090),X=n.n(q);function Q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function J(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Q(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var $=function(){function e(t,n){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);this.generateNicknameGuildPairs=(0,F.oH)((function(e){var t;return Z()(D.ZP.getNicknameGuildsMapping(null!==(t=null==e?void 0:e.id)&&void 0!==t?t:o.userId)).toPairs().map((function(e){var t=J(e,2);return[t[0],t[1].map((function(e){var t;return null===(t=L.Z.getGuild(e))||void 0===t?void 0:t.name})).filter(W.lm)]})).value()}));this.renderMoreAvatars=function(){return(0,r.jsx)(s.DY,{text:K.Z.Messages.AKA_MORE_AVATARS_OVERFLOW,position:U.v.BOTTOM,children:(0,r.jsx)(k.Z,{
className:X().moreAvatars,onClick:o.handleClick,children:(0,r.jsx)(G.Z,{className:X().plusIcon})})},"more-avatars")};this.handleClick=function(){(0,M.m)({userId:o.userId,section:z.oh.MUTUAL_GUILDS,analyticsLocation:{section:Y.jXE.CHANNEL_HEADER}})};this.userId=t;this.user=n}var t=e.prototype;t.updateData=function(e,t){this.userId=e;this.user=t};t.getNicknameGuildPairs=function(){return this.generateNicknameGuildPairs(this.user)};t.renderNicknamePairs=function(){var e=this;return this.getNicknameGuildPairs().map((function(t,n){var i=J(t,2),a=i[0],l=i[1],u=(0,r.jsx)(k.Z,{tag:"span",onClick:e.handleClick,children:a});l.length>0&&(u=(0,r.jsx)(s.DY,{className:X().tooltip,text:l.join(", "),position:U.v.BOTTOM,children:u}));return(0,r.jsxs)(o.Fragment,{children:[0!==n?", ":null,u]},n)}))};return e}();function ee(e){var t=e.channel.getRecipientId(),n=(0,R.gc)(t),i=new Array(n.length).fill(null),a=function(e){var t=(0,l.e7)([x.default],(function(){return x.default.getUser(e)
}),[e]),n=J(o.useState((function(){return new $(e,null!=t?t:void 0)})),1)[0];n.updateData(e,null!=t?t:void 0);return n}(t);return 0===a.getNicknameGuildPairs().length&&0===n.length?(0,r.jsx)("div",{className:X().spacer}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(B.iz,{}),(0,r.jsx)(H.IG,{text:K.Z.Messages.AKA,disableColor:!0,className:X().akaBadge}),n.length>0?(0,r.jsx)(V.Z,{size:16,users:i,showUserPopout:!1,renderUser:function(e,t,o){var i,l=a.user,u=n[o];return null==u||null==l?null:(0,r.jsx)(s.DY,{text:null===(i=L.Z.getGuild(u))||void 0===i?void 0:i.name,position:U.v.BOTTOM,children:(0,r.jsx)("img",{alt:"",className:X().avatar,onClick:a.handleClick,src:l.getAvatarURL(u,16),"aria-hidden":!0})},u[1])},renderMoreUsers:a.renderMoreAvatars,guildId:void 0,max:3,className:X().avatars}):null,a.getNicknameGuildPairs().length>0?(0,r.jsx)(U.Z,{position:U.v.BOTTOM,className:X().nicknames,children:a.renderNicknamePairs()}):null]})}var te=n(642400),ne=n(422010),re=n.n(ne);function oe(e,t){
if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ie(e){ie=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return ie(e)}function ae(e,t){return!t||"object"!==ue(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function le(e,t){le=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return le(e,t)}var ue=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function ce(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=ie(e);if(t){var o=ie(this).constructor;n=Reflect.construct(r,arguments,o)
}else n=r.apply(this,arguments);return ae(this,n)}}var se=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&le(e,t)}(n,e);var t=ce(n);function n(){oe(this,n);var e;(e=t.apply(this,arguments)).inputRef=o.createRef();e.state={focused:!1,lastGoodValue:e.props.value,value:e.props.value};e.handleChange=function(t){var n=e.props.onChange;e.setState({value:t.currentTarget.value});null==n||n(t)};e.handleFocus=function(t){var n=e.props.onFocus;e.setState({focused:!0,lastGoodValue:t.currentTarget.value});null==n||n(t)};e.handleBlur=function(t){if(fe("",e.props,e.state)){e.setState({focused:!1});var n=e.props.onBlur;null==n||n(t)}else e.setState({focused:!1,value:e.state.lastGoodValue})};e.handleKeyPress=function(t){if(t.which===Y.yXg.ENTER){var n;null===(n=e.inputRef.current)||void 0===n||n.blur()}};return e}
var i=n.prototype;i.componentDidUpdate=function(e,t){if(t.focused!==this.state.focused&&this.state.focused){var n;null===(n=this.inputRef.current)||void 0===n||n.focus()}null!==this.props.value&&this.props.value!==e.value&&this.props.value!==this.state.value&&fe(this.props.value,this.props,this.state)&&this.setState({value:this.props.value})};i.render=function(){var e,t=this.props,n=t.className,o=t.name,i=t.autoComplete,l=t.maxLen,u={position:"absolute",left:0,width:"100%",opacity:1};this.state.focused?e={visibility:"hidden",pointerEvents:"none"}:u.opacity=0;return(0,r.jsx)("div",{className:a()(re().outer,n),children:(0,r.jsxs)("div",{className:re().container,children:[(0,r.jsx)("input",{type:"text",className:re().input,ref:this.inputRef,style:u,value:this.state.value,name:o,maxLength:l,autoComplete:i,onKeyPress:this.handleKeyPress,onChange:this.handleChange,onFocus:this.handleFocus,onBlur:this.handleBlur}),(0,r.jsx)("div",{className:re().input,style:e,children:this.state.value})]})})}
;return n}(o.Component);function fe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=""!==e?e:null!=n.value&&""!==n.value?n.value:"";return!(null!=t.minLen&&r.length<t.minLen||null!=t.maxLen&&r.length>t.maxLen)}var de=n(439881),pe=n.n(de);const he=function(e){var t=e.channel,n=(0,j.Z)(t);return(0,r.jsx)("div",{className:pe().container,onDoubleClick:function(e){return e.stopPropagation()},children:(0,r.jsx)(se,{minLen:1,maxLen:Y.HN8,className:pe().channelName,name:"channel_name",autoComplete:"off",value:null!=n?n:"",onBlur:function(e){n!==e.currentTarget.value&&te.Z.setName(t.id,e.currentTarget.value)}})})};var ye=n(388721),be=n(281081),ve=n(97672),me=n(74907),ge=n(48843),Oe=n(685351),Ee=n(67416),je=n(897576),Se=n(782226),Ce=n(789278),Pe=n.n(Ce);function Ie(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function _e(e){
return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Ie(i,r,o,a,l,"next",e)}function l(e){Ie(i,r,o,a,l,"throw",e)}a(void 0)}))}}function we(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xe(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Ne(e){Ne=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Ne(e)}function Te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){xe(e,t,n[t])}))}return e}function Ae(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Ze(e,t){return!t||"object"!==Me(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Re(e,t){Re=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Re(e,t)}var Me=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function De(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{
Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Ne(e);if(t){var o=Ne(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ze(this,n)}}var Le=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0
;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function ke(e){var t=e.channel,n=e.onClose,o=e.transitionState,i=(0,j.Z)(t,!0);return(0,r.jsx)(Ee.Y0,{transitionState:o,"aria-label":K.Z.Messages.FORM_LABEL_CHANNEL_TOPIC,children:(0,r.jsx)(Ee.hz,{children:(0,r.jsx)(ve.Z,{selectable:!0,onClose:n,renderHeader:function(){return(0,r.jsx)(ge.X,{variant:"heading-lg/medium",children:i})},children:(0,r.jsx)(Oe.x,{selectable:!0,variant:"text-md/normal",className:Pe().content,children:me.Z.parseTopic(t.topic,!0,{channelId:t.id})})})})})}function Ue(e){return e.matches("a")||"highlight"===e.className||e.className.includes("mention")}const Ge=function(e){!function(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Re(e,t)}(i,e);var t=De(i);function i(){we(this,i);var e;(e=t.apply(this,arguments))._mouseDown=!1;e._mouseUp=!1;e.handleOpenTopic=function(t){var n=t.target;if((0,ye.k)(n)){if(Ue(n))return;var o=n.parentNode;if((0,ye.k)(o)&&Ue(o))return}(0,je.h7)((function(t){return(0,r.jsx)(ke,Te({},t,e.props))}))};e.onMouseDown=function(){e._mouseDown=!0};e.onMouseMove=function(){e._mouseDown&&(e._mouseDown=!1)};e.onMouseUp=function(t){e._mouseDown&&t.button!==Y.AeJ.SECONDARY&&e.handleOpenTopic(t);e._mouseUp=!0;e._mouseDown=!1};e.handleContextMenu=function(t){var o=e.props,i=o.channel,a=o.guild;(0,be.jW)(t,_e((function(){var e,t;return Le(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(57501),n.e(12746)]).then(n.bind(n,612746))];case 1:e=o.sent(),t=e.default;return[2,function(e){
return(0,r.jsx)(t,Ae(Te({},e),{channel:i,guild:a,includeTopic:!0}))}]}}))})))};e.handleClick=function(t){e._mouseUp?e._mouseUp=!1:e.handleOpenTopic(t)};return e}i.prototype.render=function(){var e=this.props.channel;return e.isMultiUserDM()||null==e.topic||0===e.topic.length?null:(0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)(Se.Z.Divider,{}),(0,r.jsxs)("div",{className:a()(Pe().topic,Pe().expandable),onMouseDown:this.onMouseDown,onMouseMove:this.onMouseMove,onMouseUp:this.onMouseUp,onContextMenu:this.handleContextMenu,onClick:this.handleClick,children:[(0,r.jsx)(k.Z,{onClick:this.handleClick,"aria-label":K.Z.Messages.OPEN_CHANNEL_TOPIC,className:Pe().topicClickTarget}),me.Z.parseTopic(e.topic,!0,{channelId:e.id})]})]})};return i}(o.Component);var He=n(149563),Be=n.n(He);function Ve(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Fe(e){
var t=e.channel,n=e.channelName,i=e.parentChannel,l=e.guild,u=e.isMobile,c=void 0!==u&&u,d=e.inSidebar,p=void 0!==d&&d,h=e.handleClick,y=e.handleContextMenu,b=e.handleParentClick,v=e.handleParentContextMenu,m=e.renderFollowButton,g=(0,S.Z)(t,l),C=function(e,t){switch(e){case Y.d4z.DM:return{prefix:K.Z.Messages.DIRECT_MESSAGE,level:1};case Y.d4z.GROUP_DM:return{prefix:K.Z.Messages.GROUP_DM,level:1};case Y.d4z.GUILD_DIRECTORY:var n;return{prefix:null!==(n=null==t?void 0:t.name)&&void 0!==n?n:"",level:1};case Y.d4z.GUILD_ANNOUNCEMENT:case Y.d4z.GUILD_TEXT:case Y.d4z.GUILD_FORUM:case Y.d4z.GUILD_STAGE_VOICE:case Y.d4z.GUILD_VOICE:var r;return{prefix:null!==(r=null==t?void 0:t.name)&&void 0!==r?r:"",level:1};case Y.d4z.ANNOUNCEMENT_THREAD:case Y.d4z.PUBLIC_THREAD:case Y.d4z.PRIVATE_THREAD:return{prefix:K.Z.Messages.THREAD,level:2};default:return{prefix:null,level:1}}}(t.type,l),P=C.prefix,_=C.level,N=(0,r.jsxs)(r.Fragment,{children:[null!=P?(0,r.jsxs)(E.Z,{children:[P,":"]}):null," ",n]})
;switch(t.type){case Y.d4z.DM:var T,A,Z=t.getRecipientId(),R=t.isSystemDM(),M=w.Z.hidePersonalInformation?null===(T=x.default.getUser(Z))||void 0===T?void 0:T.username:null===(A=x.default.getUser(Z))||void 0===A?void 0:A.tag,D=null!=I.Z.getNickname(Z)?M:null,L=(0,r.jsx)(Se.Z.Title,{level:_,onContextMenu:y,onClick:h,className:null!=h?Be().cursorPointer:null,children:N});return(0,r.jsxs)(r.Fragment,{children:[ze(g,K.Z.Messages.DIRECT_MESSAGE),null!=D?(0,r.jsx)(s.DY,{text:D,position:f.vK.BOTTOM,children:L}):L,R?null:(0,r.jsx)(O,{size:10,userId:Z,className:Be().status,isMobile:c,position:f.vK.BOTTOM},Z)]});case Y.d4z.GROUP_DM:return t.isManaged()?N:(0,r.jsxs)(o.Fragment,{children:[ze(g,K.Z.Messages.GROUP_DM),(0,r.jsx)(he,{channel:t},"channel-".concat(t.id))]});case Y.d4z.GUILD_ANNOUNCEMENT:case Y.d4z.GUILD_TEXT:case Y.d4z.GUILD_FORUM:return(0,r.jsxs)(o.Fragment,{children:[ze(g,t.type===Y.d4z.GUILD_ANNOUNCEMENT?K.Z.Messages.NEWS_CHANNEL:K.Z.Messages.TEXT_CHANNEL),(0,r.jsx)(Se.Z.Title,{
level:_,onContextMenu:y,onClick:h,children:N}),null!=m?m():null]});case Y.d4z.GUILD_VOICE:return(0,r.jsxs)(o.Fragment,{children:[ze(g,K.Z.Messages.VOICE_CHANNEL),(0,r.jsx)(Se.Z.Title,{level:_,onContextMenu:y,onClick:h,children:N})]});case Y.d4z.GUILD_STAGE_VOICE:return(0,r.jsxs)(o.Fragment,{children:[ze(g,K.Z.Messages.STAGE_CHANNEL),(0,r.jsx)(Se.Z.Title,{level:_,onContextMenu:y,onClick:h,children:N})]});case Y.d4z.ANNOUNCEMENT_THREAD:case Y.d4z.PUBLIC_THREAD:case Y.d4z.PRIVATE_THREAD:var k=null;if(!p&&null!=i){var U=(0,S.Z)(i,l);k=(0,r.jsxs)(o.Fragment,{children:[ze(U,K.Z.Messages.TEXT_CHANNEL),(0,r.jsx)(Se.Z.Title,{level:_,onContextMenu:v,onClick:b,className:a()(Be().parentChannelName,Be().cursorPointer),children:(0,j.F)(i,x.default,I.Z)}),(0,r.jsx)(Se.Z.Caret,{})]})}var G,H=(null==i?void 0:i.type)===Y.d4z.GUILD_FORUM;return(0,r.jsxs)(o.Fragment,{children:[k,ze(H?null:g,K.Z.Messages.THREAD),(0,r.jsx)(Se.Z.Title,{level:_,onContextMenu:y,onClick:h,className:a()((G={},
Ve(G,Be().cursorPointer,p),Ve(G,Be().forumPostTitle,H),G)),children:N})]});case Y.d4z.GUILD_DIRECTORY:var B=(null==l?void 0:l.hasFeature(Y.oNc.HUB))?K.Z.Messages.HUB_DIRECTORY_CHANNEL_TITLE.format({guildName:n}):n;return(0,r.jsxs)(o.Fragment,{children:[null!==g?(0,r.jsx)(Se.Z.Icon,{iconClassName:Be().icon,icon:g,"aria-hidden":!0}):null,(0,r.jsxs)(Se.Z.Title,{level:_,onContextMenu:y,onClick:h,children:[null!=P?(0,r.jsxs)(E.Z,{children:[P,":"]}):null," ",B]})]});default:return null}}var We=function(e){var t=e.channel,n=(0,l.e7)([x.default],(function(){return x.default.getCurrentUser()})),i=(0,l.e7)([x.default],(function(){return x.default.getUser(t.getRecipientId())}));o.useEffect((function(){(null==n?void 0:n.isStaff())&&(0,P.Z)(i.id,i.getAvatarURL(void 0,80),{dispatchWait:!0,withMutualGuilds:!0})}),[n,i]);return t.isDM()&&(null==n?void 0:n.isStaff())&&(null==i?void 0:i.isStaff())?(0,r.jsx)(N.Z,{type:N.Z.Types.STAFF_ONLY_DM}):null};function Ye(e,t){switch(e.type){case Y.d4z.DM:return(0,
r.jsxs)(r.Fragment,{children:[(0,r.jsx)(We,{channel:e}),(0,r.jsx)(ee,{channel:e},e.id)]});case Y.d4z.GUILD_ANNOUNCEMENT:case Y.d4z.GUILD_TEXT:case Y.d4z.GUILD_VOICE:case Y.d4z.GUILD_STAGE_VOICE:case Y.d4z.GROUP_DM:return null!=t?(0,r.jsx)(Ge,{channel:e,guild:t},e.id):null;default:return null}}function ze(e,t){return(0,r.jsxs)(r.Fragment,{children:[null!==e&&(0,r.jsx)(Se.Z.Icon,{iconClassName:Be().icon,icon:e,"aria-hidden":!0}),(0,r.jsx)(E.Z,{children:t})]})}function Ke(e){var t=e.guild,n=e.channel;if((0,l.e7)([_.Z],(function(){return _.Z.getGuildId()}))!==Y.I_8)return null;if(null==t)return null;return(0,r.jsxs)("div",{className:Be().guildBreadcrumbContainer,children:[(0,r.jsx)(Se.Z.Caret,{direction:"left"}),(0,r.jsx)(T.Z,{guild:t,size:T.Z.Sizes.SMALLER,className:Be().guildBreadcrumbIcon,active:!0}),(0,r.jsx)(Se.Z.Title,{onClick:function(){(0,C.XU)(t.id,n.id)},className:a()(Be().parentChannelName,Be().cursorPointer),children:t.name})]})}},861925:(e,t,n)=>{"use strict";n.d(t,{Z:()=>rt})
;var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),l=n(496486),u=n.n(l),c=n(730381),s=n.n(c),f=n(647446),d=n(606076),p=n(791462),h=n(173436),y=n(650331),b=n(642400),v=n(723714),m=n(671018);const g=function(e,t){h.Z.dispatch({type:"PRIVATE_CHANNEL_RECIPIENTS_INVITE_QUERY",query:e,channelId:t})},O=function(e){h.Z.dispatch({type:"PRIVATE_CHANNEL_RECIPIENTS_INVITE_QUERY",query:"",channelId:e})},E=function(e){h.Z.dispatch({type:"PRIVATE_CHANNEL_RECIPIENTS_INVITE_SELECT",row:e})},j=function(e){h.Z.dispatch({type:"PRIVATE_CHANNEL_RECIPIENTS_ADD_USER",userId:e})},S=function(e){h.Z.dispatch({type:"PRIVATE_CHANNEL_RECIPIENTS_REMOVE_USER",userId:e})},C=function(e){h.Z.dispatch({type:"PRIVATE_CHANNEL_RECIPIENTS_INVITE_OPEN",channelId:e})},P=function(){h.Z.dispatch({type:"PRIVATE_CHANNEL_RECIPIENTS_INVITE_CLOSE"})}
;var I=n(735713),_=n(104203),w=n(97638),x=n(35599),N=n(23816),T=n(125628),A=n(53211),Z=n(108268),R=n(655695),M=n(53551),D=n(464623),L=n(356004),k=n(287452),U=n(19710),G=n(105405),H=n(893321),B=n(859023),V=n(191940),F=n(629590),W=n(487502),Y=n(48843),z=n(761434),K=n(685351),q=n(801593),X=n(757987),Q=n(272729),J=n(562181),$=n(240243);function ee(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function te(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function ne(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{}
;var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function re(e){var t=e.width,n=void 0===t?24:t,o=e.height,i=void 0===o?24:o,a=e.color,l=void 0===a?"currentColor":a,u=e.foreground,c=ne(e,["width","height","color","foreground"]);return(0,r.jsx)("svg",te(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){ee(e,t,n[t])}))}return e}({},(0,$.Z)(c)),{width:n,height:i,viewBox:"0 0 24 24",children:(0,r.jsx)("path",{className:u,fill:l,fillRule:"evenodd",clipRule:"evenodd",
d:"M20.998 0V3H23.998V5H20.998V8H18.998V5H15.998V3H18.998V0H20.998ZM2.99805 20V24L8.33205 20H14.998C16.102 20 16.998 19.103 16.998 18V9C16.998 7.896 16.102 7 14.998 7H1.99805C0.894047 7 -0.00195312 7.896 -0.00195312 9V18C-0.00195312 19.103 0.894047 20 1.99805 20H2.99805Z"})}))}var oe=n(620741),ie=n(30741),ae=n(67416),le=n(897576),ue=n(766936),ce=n(905567),se=n(880068),fe=n(725002),de=n(932847),pe=n(726283),he=n(882699),ye=n(90816);const be=(0,n(553494).B)({kind:"user",id:"2021-04_longer_group_dm_invites",label:"Longer Group DM Invites",defaultConfig:{inviteMaxAgeSeconds:86400},treatments:[{id:1,label:"Makes group DM invites expire after 1 week.",config:{inviteMaxAgeSeconds:604800}}]});var ve=n(125447),me=n(895076),ge=n(565922),Oe=n(962564),Ee=n(146530),je=n(169304),Se=n.n(je);function Ce(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Pe(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Ie(e){var t=e.user,n=e.row,o=e.hideDiscriminator,i=e.comparator,l=e.selected,u=e.checked,c=e.onClick,s=e.onMouseEnter,f=e["aria-setsize"],d=e["aria-posinset"],h=(0,p.e7)([Oe.Z],(function(){return Oe.Z.getStatus(t.id)})),y=(0,ve.JA)(String(t.id));return(0,r.jsx)(F.Z,Pe(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))))
;r.forEach((function(t){Ce(e,t,n[t])}))}return e}({id:"user-row-".concat(n),className:Se().friendWrapper,onClick:function(){null!=c&&c(t.id)},onMouseEnter:function(){null!=s&&s(n)}},y),{role:"option","aria-selected":u,"aria-setsize":f,"aria-posinset":d,children:(0,r.jsxs)(W.Z,{align:W.Z.Align.CENTER,className:a()(Se().friend,Ce({},Se().friendSelected,l)),children:[(0,r.jsx)(ge.Z,{user:t,status:h,className:Se().avatar}),(0,r.jsxs)(W.Z,{className:Se().match,align:W.Z.Align.BASELINE,children:[(0,r.jsx)(K.x,{tag:"strong",className:Se().nickname,"aria-hidden":!0,variant:"text-sm/normal",children:null!=i&&i===t.tag?t.username:null!=i&&""!==i?i:t.username}),(0,r.jsx)(me.Z,{user:t,hideDiscriminator:o,className:Se().discordTag,usernameClass:Se().weightMedium,discriminatorClass:Se().weightMedium})]}),(0,r.jsx)(Ee.Z,{displayOnly:!0,size:22,value:u,className:Se().checkbox})]})}))}var _e=n(461061),we=n(86030),xe=n(959797),Ne=n(73989),Te=n.n(Ne),Ae=n(380203),Ze=n.n(Ae),Re=n(641501),Me=n.n(Re)
;function De(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Le(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ke(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Ue(e){Ue=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Ue(e)}function Ge(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){ke(e,t,n[t])}))}return e}function He(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){
var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Be(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function Ve(e,t){return!t||"object"!==ze(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Fe(e,t){Fe=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Fe(e,t)}function We(e,t){return function(e){if(Array.isArray(e))return e
}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||Ke(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ye(e){return function(e){if(Array.isArray(e))return De(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ke(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ze=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Ke(e,t){
if(e){if("string"==typeof e)return De(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?De(e,t):void 0}}function qe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Ue(e);if(t){var o=Ue(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ve(this,n)}}var Xe=(0,Q.hQ)(),Qe=(0,Q.hQ)();function Je(e){var t=e.className,n=e.children;return(0,r.jsxs)(W.Z,{align:W.Z.Align.CENTER,justify:W.Z.Justify.CENTER,direction:W.Z.Direction.VERTICAL,className:a()(Te().errorState,t),children:[(0,r.jsx)("div",{className:a()(Te().errorStateIcon,Ze().marginBottom20)}),n]
})}var $e=function(e){var t,n=e.channel,o=e.onClose,i=null!==(t=(0,A.Z)(n))&&void 0!==t?t:"";return(0,r.jsx)(F.Z,{onClick:function(){(0,R.XU)(_e.ME,n.id);o()},children:(0,r.jsxs)("div",{className:Te().confirmChannelItemContainer,children:[(0,r.jsx)(ue.ZP,{src:(0,T.x)(n),size:ue.ZP.Sizes.SIZE_24,"aria-label":i}),(0,r.jsx)("span",{className:Te().confirmChannelName,children:i}),(0,r.jsx)("span",{className:Te().lastActiveTimestamp,children:s()(n.lastActiveTimestamp).fromNow()})]})})},et=function(e){var t=e.onConfirm,n=e.channelIds,o=Be(e,["onConfirm","channelIds"]),i=(0,p.e7)([L.Z],(function(){return Array.from(n).map(L.Z.getChannel)}),[n]);return(0,r.jsxs)(ie.default,He(Ge({header:xe.Z.Messages.GROUP_DM_INVITE_CONFIRM,confirmText:xe.Z.Messages.GROUP_DM_INVITE_CONFIRM_BUTTON,cancelText:xe.Z.Messages.CANCEL,onConfirm:t,confirmButtonColor:V.Co.Colors.BRAND},o),{children:[(0,r.jsx)(K.x,{variant:"text-md/normal",children:xe.Z.Messages.GROUP_DM_INVITE_CONFIRM_DESCRIPTION}),(0,r.jsx)(J.vw,{
className:Te().selectExistingFormHeader,children:xe.Z.Messages.GROUP_DM_INVITE_SELECT_EXISTING}),(0,r.jsx)(fe.ZP,{className:Te().confirmInviteScroller,children:i.filter(ye.lm).sort((function(e,t){return t.lastActiveTimestamp-e.lastActiveTimestamp})).map((function(e){return(0,r.jsx)($e,{onClose:o.onClose,channel:e},e.id)}))})]}))},tt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Fe(e,t)}(n,e);var t=qe(n);function n(){Le(this,n);var e;(e=t.apply(this,arguments)).state={separator:!1,copied:!1};e.scrollerRef=o.createRef();e.searchBarRef=o.createRef();e._mobileCloseRef=o.createRef();e.scrollPageUp=function(){var t;null===(t=e.scrollerRef.current)||void 0===t||t.scrollPageUp({animate:!0})};e.scrollPageDown=function(){var t;null===(t=e.scrollerRef.current)||void 0===t||t.scrollPageDown({animate:!0})}
;e.renderMobileCloseButton=function(){return(0,r.jsx)("div",{className:a()(Te().mobileToolsContainer),ref:e._mobileCloseRef,children:(0,r.jsx)(f.Jc,{containerRef:e._mobileCloseRef,children:(0,r.jsx)("div",{children:(0,r.jsx)(_.Z,{className:Te().mobileToolsCloseIcon,closeAction:e.props.onClose,keybind:"ESC"})})})})};e.getRowHeight=function(t,n){return t>0?0:null!=e.props.results[n]?42:0};e.renderRow=function(t){var n=t.section,o=t.row;if(n>0)return null;var i=e.props,a=i.results,l=i.selectedUsers,u=i.selectedRow,c=i.hideDiscriminator,s=a[o];if(null==s)return null;var f=s.user,d=s.comparator,p=l.has(f.id);return(0,r.jsx)(Ie,{row:o,user:f,hideDiscriminator:c,comparator:d,checked:p,selected:o===u,onClick:e.handleClick,onMouseEnter:e.focusResult,"aria-posinset":o+1,"aria-setsize":a.length},f.id)};e.forceFocus=function(){var t=e.searchBarRef.current;null==t||t.focus()};e.focusResult=function(e){E(e)};e.handleSelect=function(t,n){var r=e.props,o=r.results,i=r.channel
;null==n?O(null==i?void 0:i.id):null!=o&&e.handleClick(o[n].user.id)};e.handleSelectionChange=function(t,n){E(n);var r=e.scrollerRef.current;null!=r&&r.scrollToIndex({section:t,row:n,padding:8})};e.handleQueryChange=function(t){var n=e.props.channel;g(t,null==n?void 0:n.id)};e.handleRemoveUser=function(t){var n=Array.from(e.props.selectedUsers);S(n[t]);e.forceFocus()};e.handleClick=function(t){var n=e.props,r=n.selectedUsers,o=n.query,i=n.channel;if(!r.has(t)){j(t);o.length>0&&O(null==i?void 0:i.id)}else S(t);e.forceFocus()};e.handleAddFriendNavigation=function(){(0,R.uL)(_e.Z5c.FRIENDS);v.Z.setSection(_e.pJs.ADD_FRIEND);e.props.onClose()};e.handleScroll=function(){var t=e.scrollerRef.current;null!=t&&e.setState({separator:!t.isScrolledToTop()})};e.createNewDM=function(e){b.Z.openPrivateChannel(e,!1,!1,"New Group DM")};e.pushToExistingDM=function(e,t){var n=D.Z.isCallActive(e.id);b.Z.addRecipients(e.id,t,_e.Sbl.ADD_FRIENDS_TO_DM).then((function(e){n&&y.Z.ring(e,t)}))}
;e.handleInviteUsers=function(){var t=e.props,n=t.channel,o=t.selectedUsers,i=t.onClose,a=Array.from(o);if(null!=n){var l=ot(Array.from(new Set(Ye(n.recipients).concat(Ye(a)))));l.size>0?(0,le.h7)((function(t){return(0,r.jsx)(et,He(Ge({},t),{onConfirm:function(){return e.pushToExistingDM(n,a)},channelIds:l}))}),{},(0,le.Vn)(e.context.appContext)):e.pushToExistingDM(n,a)}else{var u=ot(a);a.length>1&&u.size>0?(0,le.h7)((function(t){return(0,r.jsx)(et,He(Ge({},t),{onConfirm:function(){return e.createNewDM(a)},channelIds:u}))}),{},(0,le.Vn)(e.context.appContext)):e.createNewDM(a)}i()};e.handleCopyInvite=function(t){var n=e.props,r=n.channel,o=n.invite;null!=o&&(0,pe.JG)(t);null!=e.copyTimeout&&clearTimeout(e.copyTimeout);e.setState({copied:!0});e.copyTimeout=setTimeout((function(){e.setState({copied:!1})}),1e3);de.default.track(_e.rMx.COPY_INSTANT_INVITE,{server:null,channel:null!=r?r.id:null,channel_type:null!=r?r.type:null,location:_e.Sbl.ADD_FRIENDS_TO_DM,code:null!=o?o.code:null})}
;return e}var i=n.prototype;i.componentDidMount=function(){var e=this.props.channel;h.Z.wait((function(){return C(null==e?void 0:e.id)}));var t=(0,N.v_)(e);null!=e?e.isDM()?de.default.track(_e.rMx.OPEN_POPOUT,He(Ge({},t),{type:"Add Friends to DM",source:"DM",is_friend:!this.isNotFriends()})):de.default.track(_e.rMx.OPEN_POPOUT,He(Ge({},t),{type:"Add Friends to DM",source:"Group DM"})):de.default.track(_e.rMx.OPEN_POPOUT,He(Ge({},t),{type:"New Group DM",source:"Friends List"}));he.S.subscribe(_e.CkL.SCROLL_PAGE_UP,this.scrollPageUp);he.S.subscribe(_e.CkL.SCROLL_PAGE_DOWN,this.scrollPageDown)};i.componentWillUnmount=function(){he.S.unsubscribe(_e.CkL.SCROLL_PAGE_UP,this.scrollPageUp);he.S.unsubscribe(_e.CkL.SCROLL_PAGE_DOWN,this.scrollPageDown);null!=this.copyTimeout&&clearTimeout(this.copyTimeout);h.Z.wait((function(){return P()}))};i.isNotFriends=function(){var e=this.props.channel;if(null==e||!e.isDM())return!1;var t=e.getRecipientId();if(null==t)throw new Error("no recipient in DM")
;return!G.Z.isFriend(t)};i.createInvite=function(){var e=this.props.channel;if(null!=e&&e.isMultiUserDM()&&!this.isPartyFull()){var t=be.getCurrentConfig({}).inviteMaxAgeSeconds;m.Z.createInvite(e.id,{max_age:t},"Group DM Invite Create")}};i.isPartyFull=function(){var e=this.props.channel;return null!=e&&e.recipients.length+1>=this.getMaxParticipants()};i.getMaxParticipants=function(){var e=this.props.channel,t=B.default.getCurrentUser();return null!=t&&t.isStaff()?_e.p3w:null!=e&&e.userLimit>0?e.userLimit:_e.pAY};i.getRemaining=function(){var e=this.props,t=e.channel,n=e.selectedUsers,r=(null==t?0:t.recipients.length)+1;return this.getMaxParticipants()-n.size-r};i.renderCreateGroupButton=function(){var e=this.props,t=e.channel,n=e.selectedUsers,o=this.getRemaining(),i=null!=t&&0===n.size||o<0;return(0,r.jsx)(V.Co,{fullWidth:!0,disabled:i,onClick:this.handleInviteUsers,children:xe.Z.Messages.CREATE_GROUP_DM})};i.renderAddUsersButton=function(){
var e=this.props,t=e.channel,n=e.selectedUsers;if(null!=t&&!t.isDM()){var o=this.getRemaining(),i=0===n.size||o<0;return(0,r.jsx)("div",{className:Te().addButton,children:(0,r.jsx)(V.Co,{size:V.Co.Sizes.SMALL,disabled:i,onClick:this.handleInviteUsers,children:xe.Z.Messages.ADD})})}};i.renderSubtitle=function(){if(!this.props.hasFriends||this.isNotFriends()||this.isPartyFull())return null;var e=this.getRemaining(),t=e<=0?xe.Z.Messages.GROUP_DM_INVITE_FULL_SUB2.format({number:this.getMaxParticipants()}):xe.Z.Messages.GROUP_DM_INVITE_REMAINING.format({number:e});return(0,r.jsx)(K.x,{variant:"text-xs/normal",className:a()(Te().subtitle,ke({},Te().subtitleWarning,e<0),Ze().marginTop4),children:t})};i.renderSearchBar=function(){var e=this.props,t=e.query,n=e.hasFriends,o=e.results,i=e.selectedRow,l=e.selectedUsers;if(!n||this.isNotFriends())return null;var u,c=[];l.forEach((function(e){var t=B.default.getUser(e);null!=t&&c.push(t.username)}));return(0,r.jsxs)(W.Z,{
className:a()(Te().searchBar,Ze().marginTop20),children:[(0,r.jsx)(w.ZP,{ref:this.searchBarRef,className:Te().searchBarComponent,autoFocus:!0,placeholder:0===l.size?xe.Z.Messages.GROUP_DM_SEARCH_PLACEHOLDER:void 0,disabled:this.isPartyFull(),size:w.ZP.Sizes.MEDIUM,query:t,selectedRow:i,sections:[null!==(u=null==o?void 0:o.length)&&void 0!==u?u:0],tags:c,onSelect:this.handleSelect,onSelectionChange:this.handleSelectionChange,onQueryChange:this.handleQueryChange,onRemoveTag:this.handleRemoveUser,inputProps:{"aria-labelledby":Xe,"aria-controls":Qe,"aria-expanded":!0,"aria-activedescendant":"user-row-".concat(i)}}),this.renderAddUsersButton()]})};i.renderHeader=function(){var e=null!=this.scrollerRef.current&&this.state.separator,t=this.isNotFriends()?xe.Z.Messages.GROUP_DM_ADD_FRIENDS:xe.Z.Messages.GROUP_DM_HEADER;return(0,r.jsxs)(ae.xB,{direction:W.Z.Direction.VERTICAL,align:W.Z.Align.STRETCH,className:Te().header,separator:e,children:[d.tq?this.renderMobileCloseButton():null,(0,
r.jsx)(Y.X,{id:Xe,variant:"heading-lg/medium",children:t}),this.renderSubtitle(),this.renderSearchBar()]})};i.renderBody=function(){var e=this,t=this.props,n=t.channel,o=t.hasFriends,i=t.results;if(this.isNotFriends()){var l=null!=n?n.getRecipientId():null;if(null==l)throw new Error("no recipient in DM");var u=B.default.getUser(l),c=null!=u?u.username:"",s=null!=u&&G.Z.getRelationshipType(u.id)===_e.OGo.PENDING_OUTGOING;return(0,r.jsxs)(Je,{className:Te().notFriends,children:[(0,r.jsx)("div",{children:xe.Z.Messages.GROUP_DM_INVITE_NOT_FRIENDS.format({username:c})}),(0,r.jsx)(V.Co,{disabled:s,size:V.Co.Sizes.SMALL,onClick:function(){return null!=u?e.handleAddFriend(u):null},className:Ze().marginTop20,children:s?xe.Z.Messages.ADD_FRIEND_BUTTON_AFTER:xe.Z.Messages.ADD_FRIEND_BUTTON})]})}return o?this.isPartyFull()?(0,r.jsxs)(Je,{className:Te().partyFull,children:[(0,r.jsx)("div",{children:xe.Z.Messages.GROUP_DM_INVITE_FULL_MAIN}),(0,r.jsx)("div",{
children:xe.Z.Messages.GROUP_DM_INVITE_FULL_SUB2.format({number:this.getMaxParticipants()})})]}):0===i.length?(0,r.jsx)(Je,{className:a()(Te().noResults,Ze().marginBottom20),children:(0,r.jsx)("div",{children:xe.Z.Messages.GROUP_DM_INVITE_EMPTY})}):(0,r.jsx)(se.ZP,{ref:this.scrollerRef,sections:[i.length],className:Te().scroller,renderRow:this.renderRow,rowHeight:this.getRowHeight,renderSection:this.renderSection,sectionHeight:0,onScroll:this.handleScroll,paddingTop:0,paddingBottom:14,fade:!0,role:void 0,innerRole:"listbox",innerId:Qe,innerAriaMultiselectable:!0,innerAriaOrientation:"vertical"}):(0,r.jsxs)(Je,{className:Te().noFriends,children:[(0,r.jsx)("div",{children:xe.Z.Messages.GROUP_DM_INVITE_NO_FRIENDS}),(0,r.jsx)(V.Co,{autoFocus:!0,color:V.Co.Colors.GREEN,fullWidth:!0,size:V.Co.Sizes.SMALL,onClick:this.handleAddFriendNavigation,className:Ze().marginTop20,children:xe.Z.Messages.ADD_FRIEND})]})};i.renderSection=function(){return null};i.renderInviteLink=function(){
var e=this,t=this.props,n=t.channel,i=t.invite,l=t.hideInstantInvites,u=this.state.copied;if(null==n||!n.isMultiUserDM()||this.isPartyFull())return null;var c=null!=i?(0,Z.Z)(i.code):"";return(0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)(J.vw,{tag:"h5",className:Ze().marginBottom8,children:xe.Z.Messages.GROUP_DM_INVITE_LINK_TITLE}),(0,r.jsxs)(W.Z,{className:a()(Me().input,ke({},Me().success,u)),justify:W.Z.Justify.BETWEEN,align:W.Z.Align.CENTER,children:[c.length>0?(0,r.jsx)(q.ZP,{className:Te().copyInput,name:"invite",value:l?xe.Z.Messages.INSTANT_INVITE_HIDDEN:c,editable:!1,inputClassName:Te().noBorder,spellCheck:"false",onClick:function(e){return e.currentTarget.select()}}):(0,r.jsx)(q.ZP,{className:Te().copyInput,name:"invite",value:c,placeholder:(0,Z.Z)(xe.Z.Messages.GROUP_DM_INVITE_LINK_EXAMPLE),editable:!1,inputClassName:Te().noBorder,spellCheck:"false",onClick:function(){return e.createInvite()}}),pe.wS&&c.length>0?(0,r.jsx)(V.Co,{size:V.Co.Sizes.SMALL,
color:u?V.Co.Colors.GREEN:V.Co.Colors.BRAND,className:Te().copyButton,onClick:function(){return e.handleCopyInvite(c)},children:u?xe.Z.Messages.INVITE_COPIED:xe.Z.Messages.COPY}):null,0===c.length?(0,r.jsx)(V.Co,{size:V.Co.Sizes.SMALL,color:V.Co.Colors.BRAND,className:Te().copyButton,onClick:function(){return e.createInvite()},children:xe.Z.Messages.GROUP_DM_INVITE_LINK_CREATE}):null]}),c.length>0?(0,r.jsx)(K.x,{variant:"text-xs/normal",className:a()(Ze().marginTop8,Te().footerText),children:xe.Z.Messages.INVITE_EXPIRES_HOURS.format({numHours:"".concat(24)})}):null]})};i.renderFooter=function(){var e=this.props,t=e.hasFriends,n=e.channel;if(this.isNotFriends()||!t||this.isPartyFull())return null;var i=null==n||n.isDM()?this.renderCreateGroupButton():this.renderInviteLink();return null!=i?(0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)("div",{className:Te().footerSeparator}),(0,r.jsx)(W.Z,{direction:W.Z.Direction.VERTICAL,className:Te().footer,children:i})]}):void 0};i.render=function(){
var e=this.props.transitionState;return(0,r.jsxs)(ae.Y0,{transitionState:null!=e?e:we.Dv.ENTERED,className:Te().popout,children:[this.renderHeader(),this.renderBody(),this.renderFooter()]})};i.handleAddFriend=function(e){this.props.onClose();I.Z.sendRequest(e.tag,{location:"Group DM"})};return n}(o.PureComponent);tt.contextType=x.ZP;var nt=p.ZP.connectStores([U.Z,k.Z,H.Z],(function(e){var t,n=e.channel;null!=n&&null!=(t=k.Z.getInvite(n.id))&&t.isExpired()&&(t=null);return He(Ge({},U.Z.getState()),{invite:t,hideDiscriminator:H.Z.hidePersonalInformation,hideInstantInvites:H.Z.hideInstantInvites})}))(tt);function rt(e){var t=e.channel,n=e.iconClassName,i=e.icon,a=e.tooltip,l=e.tooltipPosition,u=void 0===l?X.ZP.Positions.BOTTOM:l,c=e.popoutPosition,s=void 0===c?z.ZP.Positions.BOTTOM:c,f=e.popoutAlign,d=void 0===f?z.ZP.Align.RIGHT:f,p=e.subscribeToGlobalHotkey,h=void 0!==p&&p,y=We(o.useState(null!=t&&t.isGroupDM()&&0===t.recipients.length),2),b=y[0],v=y[1],m=function(){
return v((function(e){return!e}))};o.useEffect((function(){h&&he.S.subscribe(_e.CkL.TOGGLE_DM_CREATE,m);return function(){he.S.unsubscribe(_e.CkL.TOGGLE_DM_CREATE,m)}}),[h]);return(0,r.jsx)(z.ZP,{renderPopout:function(e){return(0,r.jsx)(nt,He(Ge({},e),{onClose:e.closePopout,channel:t}))},position:s,shouldShow:b,align:d,onRequestClose:function(){return v(!1)},animation:z.ZP.Animation.NONE,children:function(e){return(0,r.jsx)(ce.ZP.Icon,He(Ge({},e),{onClick:m,icon:null!=i?i:null==t?re:oe.Z,className:n,iconClassName:n,tooltip:a,tooltipPosition:u}))}})}function ot(e){var t=it(e);return new Set(u()(L.Z.getMutablePrivateChannels()).values().filter((function(e){return(0,M.bc)(e.type)})).filter((function(e){return it(e.recipients)===t})).map((function(e){return e.id})).value())}function it(e){return JSON.stringify(e.sort())}},225691:(e,t,n)=>{"use strict";n.d(t,{tF:()=>r,fQ:()=>o});var r;!function(e){e.STUDENT_PROMPT="STUDENT_PROMPT";e.VERIFY_EMAIL="VERIFY_EMAIL";e.VERIFY_PIN="VERIFY_PIN"
;e.SELECT_SCHOOL="SELECT_SCHOOL";e.SELECT_SCHOOL_SEARCH="SELECT_SCHOOL_SEARCH";e.SUBMIT_SCHOOL="SUBMIT_SCHOOL";e.EMAIL_CONFIRMATION="EMAIL_CONFIRMATION";e.EMAIL_WAITLIST="EMAIL_WAITLIST"}(r||(r={}));var o="884924873015689226"},517959:(e,t,n)=>{"use strict";n.d(t,{Z:()=>A});var r=n(785893),o=n(667294),i=n(791462),a=n(217891),l=n(84397),u=n(655695),c=n(379822),s=n(695756),f=n(922237),d=n(620741),p=n(542448),h=n(897576),y=n(923412),b=n(825816),v=n(277563),m=n(23698),g=n(798634),O=n(365667);var E=n(461061),j=n(959797),S=n(458495),C=n.n(S);function P(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function I(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){P(i,r,o,a,l,"next",e)}function l(e){P(i,r,o,a,l,"throw",e)}a(void 0)}))}}function _(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function w(e){
for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){_(e,t,n[t])}))}return e}function x(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var N=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i
;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},T=[{icon:(0,r.jsx)(s.Z,{className:C().icon}),key:"EVENTS",getName:function(e){var t=e.numEvents;return t>0?j.Z.Messages.GUILD_EVENTS_PLURAL.format({number:t
}):j.Z.Messages.GUILD_EVENTS},handler:function(e){return(0,h.ZD)(I((function(){var t,o;return N(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(55527),n.e(48657)]).then(n.bind(n,248657))];case 1:t=i.sent(),o=t.default;return[2,function(t){return(0,r.jsx)(o,x(w({},t),{guildId:e.id}))}]}}))})))}},{icon:(0,r.jsx)(f.Z,{className:C().icon}),key:"JOIN_SERVERS",getName:function(){return j.Z.Messages.HUB_SIDEBAR_JOIN_SERVERS},handler:function(e,t){return(0,u.XU)(e.id,t.id)}},{icon:(0,r.jsx)(p.Z,{className:C().icon}),key:"ADD_SERVERS",getName:function(){return j.Z.Messages.HUB_SIDEBAR_ADD_SERVERS},handler:function(e,t){return(0,h.ZD)(I((function(){var o,i;return N(this,(function(a){switch(a.label){case 0:return[4,Promise.all([n.e(40532),n.e(18734),n.e(53907)]).then(n.bind(n,235199))];case 1:o=a.sent(),i=o.default;return[2,function(n){return(0,r.jsx)(i,x(w({},n),{directoryGuildName:e.name,directoryGuildId:e.id,directoryChannelId:t.id}))}]}}))})))}},{icon:(0,
r.jsx)(d.Z,{className:C().icon}),key:"INVITE_MEMBERS",getName:function(){return j.Z.Messages.HUB_SIDEBAR_INVITE_MEMBERS},handler:function(e,t){return(0,h.ZD)(I((function(){var o,i;return N(this,(function(a){switch(a.label){case 0:return[4,Promise.all([n.e(40532),n.e(15793),n.e(42348),n.e(23647)]).then(n.bind(n,715793))];case 1:o=a.sent(),i=o.default;return[2,function(n){return(0,r.jsx)(i,x(w({},n),{guild:e,channel:t,source:E.t4x.HUB_SIDEBAR}))}]}}))})))}}];const A=function(e){var t=e.guild,n=e.channel,u=(0,a.ZP)(t.id);o.useEffect((function(){b.Z.trackExposure({guildId:t.id})}),[t.id]);var s=b.Z.useExperiment({guildId:t.id}).showHubEventsList,f=(0,i.e7)([c.Z],(function(){return null!=n&&c.Z.getChannelId()===n.id})),d=o.useMemo((function(){return{numEvents:u.length}}),[u.length]),p=function(e){return(0,i.e7)([m.Z,O.ZP],(function(){if(null==e)return 0;var t,n=O.ZP.ackMessageId(e.id);if(null==n)return 0
;var r=Object.values(null!==(t=m.Z.getDirectoryEntries(e.id))&&void 0!==t?t:{}).filter((function(e){var t=v.default.fromTimestamp(new Date(e.createdAt).getTime());return(0,g.gX)(e)&&t>n}));return Math.min(g._N,r.length)}),[e])}(n);return(0,r.jsx)("div",{children:T.map((function(e){if(!s&&"EVENTS"===e.key)return null;var o=f&&"JOIN_SERVERS"===e.key;return(0,r.jsx)(y.Z,{avatar:e.icon,name:e.getName(d),focusProps:{offset:{right:4,top:1,bottom:1}},onClick:function(){return function(e){if(null!=n){var r=T.find((function(t){return t.key===e}));null==r||r.handler(t,n)}}(e.key)},selected:o,className:C().optionItem,selectedClassName:C().selected,innerClassName:C().itemInner,avatarClassName:C().avatar,children:"JOIN_SERVERS"===e.key&&p>0?(0,l.Ne)(p):null},e.key)}))})}},125315:(e,t,n)=>{"use strict";n.d(t,{Z:()=>_e})
;var r=n(785893),o=n(667294),i=n(173436),a=n(245189),l=n(897576),u=n(294184),c=n.n(u),s=n(441143),f=n.n(s),d=n(496486),p=n.n(d),h=n(738017),y=n(791462),b=n(589175),v=n(627838),m=n(16122),g=n(78979),O=n(730189),E=n(629590),j=n(48843),S=n(94813),C=n(685351),P=n(15063),I=n(67416),_=n(318937),w=n(882699),x=n(402801),N=n(848828),T=n(461061),A=n(38820),Z=n.n(A);function R(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function D(e){D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return D(e)}function L(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&U(e,t)}function k(e,t){
return!t||"object"!==G(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function U(e,t){U=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return U(e,t)}var G=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function H(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=D(e);if(t){var o=D(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return k(this,n)}}var B=function(){return!0},V=function(){return!0},F=function(){return(0,r.jsxs)("div",{className:Z().symbol,children:[(0,r.jsx)("div",{className:Z().symbolBackground}),(0,r.jsx)("img",{alt:"",src:n(492137)})]
},"symbol")},W=140,Y=function(e){L(o,e);var t=H(o);function o(){R(this,o);var e;(e=t.apply(this,arguments))._renderSecondaryTimeout=null;e._doneTimeout=null;e.state={animating:!1,renderSecondary:!1,scale:p().random(.6,1,!0),offsetX:p().random(0,W,!1)-70,offsetY:p().random(0,W,!1)-70};e.done=function(){e.props.onAnimationComplete(e.props.componentId)};return e}var i=o.prototype;i.componentDidMount=function(){var e=this;this.setState({animating:!0});this._renderSecondaryTimeout=setTimeout((function(){e.setState({renderSecondary:!0})}),120);this._doneTimeout=setTimeout(this.done,1e3);B()};i.componentDidUpdate=function(e,t){this.state.renderSecondary&&!t.renderSecondary&&V()};i.componentWillUnmount=function(){clearTimeout(this._renderSecondaryTimeout);clearTimeout(this._doneTimeout)};i.renderPrimary=function(){return(0,r.jsxs)("div",{className:Z().primaryExplosion,children:[(0,r.jsx)("img",{alt:"",className:Z().circleInner,src:n(800193),width:70,height:69}),(0,r.jsx)("img",{alt:"",
className:Z().circleOuter,src:n(537687),width:96,height:95}),(0,r.jsx)("img",{alt:"",className:Z().linesSecondary,src:n(806956),width:183,height:104}),(0,r.jsx)("img",{alt:"",className:Z().linesMain,src:n(138e3),width:69,height:180})]},"primary-explosion")};i.renderSecondary=function(e,t){return(0,r.jsxs)("div",{className:Z().secondaryExplosion,style:{top:t,left:e},children:[(0,r.jsx)("img",{alt:"",className:Z().circleInner,src:n(166682),width:61,height:58},"circle-inner"),(0,r.jsx)("img",{alt:"",className:Z().circleOuter,src:n(532958),width:85,height:85},"circle-outer"),(0,r.jsx)("img",{alt:"",className:Z().linesSecondary,src:n(94672),width:162,height:173},"lines-secondary"),(0,r.jsx)("img",{alt:"",className:Z().linesMain,src:n(529753),width:156,height:306},"lines-main")]},"secondary-explosion")};i.render=function(){var e=this.state,t=e.renderSecondary,n=e.offsetX,o=e.offsetY,i=e.animating,a=e.scale,l=[this.renderPrimary()];t&&l.push(this.renderSecondary(n,o));return(0,r.jsx)("div",{
className:c()(Z().container,M({},Z().animate,i)),style:{top:this.props.top,left:this.props.left,transform:"scale(".concat(a,")")},children:l})};return o}(o.PureComponent);const z=function(e){L(n,e);var t=H(n);function n(){R(this,n);var e;(e=t.apply(this,arguments))._timeouts=[];e.children=[];e.state={explosions:0,visible:!1};e.setTimeout=function(t,n){var r=setTimeout(t,n);e._timeouts.push(r);return r};e.removeExplosion=function(t){var n=e.children,r=n.findIndex((function(e){if(e.type!==Y)return!1;var n=e.props;return null!=n.componentId&&n.componentId===t}));r>=0&&n.splice(r,1);e.forceUpdate()};e.createExplosion=function(){var t=e.children,n=window.innerWidth/2>>0,o=window.innerHeight/2>>0;if(e.state.explosions<8){var i="expl-".concat(e.state.explosions);t.push((0,r.jsx)(Y,{componentId:i,top:p().random(o-100,o+100,!1),left:p().random(n-200,n+200,!1),onAnimationComplete:e.removeExplosion},i));e.setTimeout(e.createExplosion,240);e.setState({explosions:e.state.explosions+1})
}else e.setTimeout(e.addSymbol,750)};e.addSymbol=function(){e.children=[(0,r.jsx)(F,{},"symbol")];e.forceUpdate();e.setTimeout(e.delayedClose,3e3)};e.delayedClose=function(){e.props.onClose()};return e}var o=n.prototype;o.componentDidMount=function(){var e=this;this.setTimeout((function(){e.setState({visible:!0});w.S.dispatch(T.CkL.SHAKE_APP,{duration:2400})}),1800);this.setTimeout(this.createExplosion,1800)};o.componentWillUnmount=function(){g.Z.enable();this.children.length=0;var e=!0,t=!1,n=void 0;try{for(var r,o=this._timeouts[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var i=r.value;clearTimeout(i)}}catch(e){t=!0;n=e}finally{try{e||null==o.return||o.return()}finally{if(t)throw n}}};o.render=function(){return(0,r.jsx)("div",{className:c()(Z().ragingDemon,M({},Z().visible,this.state.visible)),children:this.children})};return n}(o.PureComponent);var K=n(959797),q=n(661505),X=n.n(q),Q=n(634877),J=n.n(Q);function $(e,t){(null==t||t>e.length)&&(t=e.length)
;for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function te(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function ne(e){ne=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return ne(e)}function re(e,t){return!t||"object"!==ae(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function oe(e,t){oe=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return oe(e,t)}function ie(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0
;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return $(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ae=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function le(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=ne(e);if(t){
var o=ne(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return re(this,n)}}var ue,ce=100,se=(te(ue={},T.kir.UP,p().throttle((function(){return(0,x.GN)("ddr-up")}),ce)),te(ue,T.kir.DOWN,p().throttle((function(){return(0,x.GN)("ddr-down")}),ce)),te(ue,T.kir.LEFT,p().throttle((function(){return(0,x.GN)("ddr-left")}),ce)),te(ue,T.kir.RIGHT,p().throttle((function(){return(0,x.GN)("ddr-right")}),ce)),ue),fe=p()((0,v.Rv)()).groupBy((function(e){return e.group})).value();function de(e){switch(e.keyCode){case T.yXg.ARROW_UP:return T.kir.UP;case T.yXg.ARROW_DOWN:return T.kir.DOWN;case T.yXg.ARROW_LEFT:return T.kir.LEFT;case T.yXg.ARROW_RIGHT:return T.kir.RIGHT;default:return null}}var pe=1e3/60;function he(){var e=[v.Q2.MESSAGE,v.Q2.NAVIGATION,v.Q2.VOICE_AND_VIDEO,v.Q2.CHAT,v.Q2.MISCELLANEOUS];return(0,r.jsx)("div",{className:J().keyboardShortcutList,children:e.map((function(t,n){var o=n===e.length-1,i=0===n,a=fe[t],l=(0,v.UD)(t),u=(0,v.U6)(t);return(0,
r.jsxs)("div",{className:c()(J().keyboardShortcutListGroup,te({},J().firstGroup,i)),children:[(0,r.jsxs)("div",{className:c()(J().keybindGroup),children:[(0,r.jsx)(j.X,{variant:"heading-md/medium",children:l}),null!=u&&(0,r.jsx)(C.x,{className:J().keybindGroupDescription,variant:"text-sm/normal",children:u})]},t),a.map((function(e,t){var n;return!1===(null===(n=e.predicate)||void 0===n?void 0:n.call(e))?null:(0,r.jsxs)("div",{className:c()(J().keybindGroup),children:[(0,r.jsx)("div",{className:J().keybindDescription,children:e.description}),(0,r.jsx)("div",{className:"keybind-shortcuts",children:e.binds.map((function(e){return(0,r.jsx)(N.Z,{className:J().keybindKey,shortcut:e},e)}))})]},t)})),!o&&(0,r.jsx)(P.Z,{className:J().keybindGroupDivider})]},t)}))})}var ye=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}
});t&&oe(e,t)}(n,e);var t=le(n);function n(){ee(this,n);var e;(e=t.apply(this,arguments)).state={UP:!1,DOWN:!1,LEFT:!1,RIGHT:!1,opacity:new h.Z.Value(1),scaleX:new h.Z.Value(1),scaleY:new h.Z.Value(0),animating:!1};e.scrollerRef=o.createRef();e.lastInputedKeys=[];e.scrollPageUp=function(){var t=e.scrollerRef.current;f()(null!=t,"Scroller is pagedUp when not mounted");t.scrollPageUp({animate:!0})};e.scrollPageDown=function(){var t=e.scrollerRef.current;f()(null!=t,"Scroller is pagedDown when not mounted");t.scrollPageDown({animate:!0})};e.arrowUp=function(t){var n=t.direction;e.setState(te({},n,!1))};e.arrowDown=function(t){var n=t.direction;se[n]();e.setState(te({},n,!0))};e.componentWillLeave=function(t){e.setState({animating:!0});e.state.opacity.setValue(1);e.state.scaleX.setValue(.5);e.state.scaleY.setValue(1);h.Z.sequence([h.Z.timing(e.state.opacity,{toValue:.7,duration:2*pe}),h.Z.timing(e.state.opacity,{toValue:1,duration:2*pe}),h.Z.timing(e.state.opacity,{toValue:.7,duration:2*pe
}),h.Z.timing(e.state.opacity,{toValue:1,duration:2*pe}),h.Z.timing(e.state.opacity,{delay:300,toValue:.7,duration:2*pe}),h.Z.timing(e.state.opacity,{toValue:1,duration:2*pe}),h.Z.timing(e.state.opacity,{toValue:.7,duration:2*pe}),h.Z.timing(e.state.opacity,{toValue:1,duration:2*pe}),h.Z.timing(e.state.opacity,{toValue:.7,duration:2*pe}),h.Z.timing(e.state.opacity,{toValue:1,duration:2*pe}),h.Z.timing(e.state.opacity,{toValue:.7,duration:2*pe}),h.Z.timing(e.state.opacity,{toValue:1,duration:2*pe}),h.Z.timing(e.state.scaleY,{delay:100,toValue:.005,duration:8*pe,easing:h.Z.Easing.in(h.Z.Easing.ease)}),h.Z.parallel([h.Z.timing(e.state.scaleX,{toValue:1,duration:10*pe,easing:h.Z.Easing.out(h.Z.Easing.ease)}),h.Z.timing(e.state.opacity,{toValue:0,duration:200})])]).start(t)};e.toggleOpacity=function(){1===e.state.opacity._value?e.state.opacity.setValue(0):e.state.opacity.setValue(1)};e.getStyles=function(){return{opacity:e.state.opacity.interpolate({inputRange:[0,1],outputRange:[0,1]}),
transform:[{scaleX:e.state.scaleX.interpolate({inputRange:[0,1],outputRange:[0,2]})},{scaleY:e.state.scaleY.interpolate({inputRange:[0,1],outputRange:[0,1]})}]}};e.handleKeyDown=function(t){e.lastInputedKeys.push(t.keyCode);e.lastInputedKeys=e.lastInputedKeys.slice(-5);e.lastInputedKeys[0]===T.yXg.H&&e.lastInputedKeys[1]===T.yXg.H&&e.lastInputedKeys[2]===T.yXg.ARROW_RIGHT&&e.lastInputedKeys[3]===T.yXg.N&&e.lastInputedKeys[4]===T.yXg.K&&e.props.activateRagingDemon();if(!e.props.keyboardModeEnabled){var n=de(t);if(null!==n){t.stopPropagation();t.preventDefault();e.arrowDown({direction:n})}}};e.handleKeyUp=function(t){if(!e.props.keyboardModeEnabled){var n=de(t);if(null!==n){t.stopPropagation();t.preventDefault();e.arrowUp({direction:n})}}};e.onArrowClick=function(t){e.arrowDown({direction:t})};return e}var i=n.prototype;i.componentDidMount=function(){this.lastInputedKeys=[];w.S.subscribe(T.CkL.SCROLL_PAGE_UP,this.scrollPageUp);w.S.subscribe(T.CkL.SCROLL_PAGE_DOWN,this.scrollPageDown)
;window.addEventListener("keydown",this.handleKeyDown,{capture:!0});window.addEventListener("keyup",this.handleKeyUp,{capture:!0})};i.componentWillUnmount=function(){w.S.unsubscribe(T.CkL.SCROLL_PAGE_UP,this.scrollPageUp);w.S.unsubscribe(T.CkL.SCROLL_PAGE_DOWN,this.scrollPageDown);window.removeEventListener("keydown",this.handleKeyDown,{capture:!0});window.removeEventListener("keyup",this.handleKeyUp,{capture:!0})};i.render=function(){var e=this.state,t=e.UP,n=e.DOWN,o=e.LEFT,i=e.RIGHT;return(0,r.jsxs)(h.Z.div,{className:J().keyboardShortcutsModal,style:this.getStyles(),children:[(0,r.jsxs)(S.H,{className:J().modalTitle,children:[(0,r.jsx)("div",{className:J().content,children:K.Z.Messages.KEYBIND_DESCRIPTION_MODAL_TITLE}),(0,r.jsx)(N.Z,{shortcut:"mod+/",className:c()(X().keyboardShortcuts)})]}),(0,r.jsx)("div",{className:J().modalSubtitle,children:K.Z.Messages.KEYBIND_DESCRIPTION_MODAL_SUBTITLE}),(0,r.jsxs)("div",{className:J().ddrArrows,children:[(0,r.jsx)(be,{arrow:T.kir.LEFT,
isActive:o,className:J().left,children:"left"}),(0,r.jsx)(be,{arrow:T.kir.DOWN,isActive:n,className:J().down,children:"down"}),(0,r.jsx)(be,{arrow:T.kir.UP,isActive:t,className:J().up,children:"up"}),(0,r.jsx)(be,{arrow:T.kir.RIGHT,isActive:i,className:J().right,children:"right"})]}),(0,r.jsx)(_.yW,{ref:this.scrollerRef,fade:!0,children:(0,r.jsx)(S.y,{children:(0,r.jsx)(he,{})})})]})};return n}(o.PureComponent);function be(e){var t=e.isActive,n=e.arrow,i=e.className,a=e.children,l=ie(o.useState(t),2),u=l[0],s=l[1],f=o.useCallback((function(){se[n]();s(!0)}),[n]);o.useEffect((function(){if(u){var e=setTimeout((function(){return s(!1)}),500);return function(){return clearTimeout(e)}}}),[u]);return(0,r.jsx)(E.Z,{onClick:f,className:c()(J().arrow,i,te({},J().active,t||u)),children:a})}function ve(e){var t=e.transitionState,n=e.onClose,i=ie(o.useState(!1),2),a=i[0],l=i[1],u=o.useMemo((function(){return __OVERLAY__?(0,m.Zg)():(0,v.Rv)()}),[]),s=(0,y.e7)([O.Z],(function(){
return O.Z.keyboardModeEnabled}));return(0,r.jsx)(I.Y0,{className:c()(J().noBackground,te({},J().noShadow,a)),size:I.Cg.DYNAMIC,"aria-label":K.Z.Messages.KEYBINDS,transitionState:t,children:(0,r.jsx)(b.Z,{component:"div",children:a?(0,r.jsx)(z,{onClose:n},"raging-demo"):(0,r.jsx)(ye,{content:u,keyboardModeEnabled:s,activateRagingDemon:function(){g.Z.disable();l(!0)}},"modal")})})}var me=n(62230);function ge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Oe(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Ee(e){Ee=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Ee(e)}function je(e,t){return!t||"object"!==Ce(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Se(e,t){Se=Object.setPrototypeOf||function(e,t){
e.__proto__=t;return e};return Se(e,t)}var Ce=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Pe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Ee(e);if(t){var o=Ee(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return je(this,n)}}var Ie=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Se(e,t)}(n,e);var t=Pe(n);function n(){ge(this,n);return t.apply(this,arguments)}var o=n.prototype;o._initialize=function(){i.Z.subscribe("SHOW_KEYBOARD_SHORTCUTS",this.showKeyboardShortcuts)
;i.Z.subscribe("HIDE_KEYBOARD_SHORTCUTS",this.hideKeyboardShortcuts)};o._terminate=function(){i.Z.unsubscribe("SHOW_KEYBOARD_SHORTCUTS",this.showKeyboardShortcuts);i.Z.unsubscribe("HIDE_KEYBOARD_SHORTCUTS",this.hideKeyboardShortcuts)};o.showKeyboardShortcuts=function(){(0,l.h7)((function(e){return(0,r.jsx)(ve,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Oe(e,t,n[t])}))}return e}({},e))}),{modalKey:me.J})};o.hideKeyboardShortcuts=function(){(0,l.Mr)(me.J)};o.__getLocalVars=function(){return{}};return n}(a.Z);const _e=new Ie},42944:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(785893),o=n(667294),i=n(476213),a=n(353326),l=n.n(a),u=function(e){return"".concat(e.toFixed(0),"%")};const c=o.forwardRef((function(e,t){
var n=e.value,a=e.minValue,c=void 0===a?0:a,s=e.maxValue,f=void 0===s?100:s,d=e.onChange,p=e.renderValue,h=void 0===p?u:p,y=e["aria-label"],b=o.useRef(null);o.useImperativeHandle(t,(function(){return{focus:function(){var e;return null===(e=b.current)||void 0===e?void 0:e.focus()},blur:function(){var e;return null===(e=b.current)||void 0===e?void 0:e.blur()},activate:function(){return!1}}}),[]);return(0,r.jsx)("div",{className:l().sliderContainer,children:(0,r.jsx)(i.Z,{ref:b,mini:!0,handleSize:16,className:l().slider,initialValue:n,minValue:c,maxValue:f,onValueChange:d,asValueChanges:d,onValueRender:h,orientation:"horizontal","aria-label":y})})}))},169979:(e,t,n)=>{"use strict";n.d(t,{e4:()=>f,qR:()=>p,hi:()=>b,Xy:()=>h,gN:()=>y});var r,o=n(675860),i=n(173436),a=n(822567);!function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED";e[e.PENDING=1]="PENDING";e[e.ACCEPTED=2]="ACCEPTED";e[e.REJECTED=3]="REJECTED"}(r||(r={}));var l=n(461061);function u(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){
n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){u(i,r,o,a,l,"next",e)}function l(e){u(i,r,o,a,l,"throw",e)}a(void 0)}))}}var s=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}
if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function f(e){return d.apply(this,arguments)}function d(){return(d=c((function(e){return s(this,(function(t){switch(t.label){case 0:return[4,o.Z.put({url:l.ANM.CHANNEL_RECIPIENT_CONSENT(e),body:{consent_status:r.ACCEPTED}})];case 1:t.sent();i.Z.dispatch({type:"MESSAGE_REQUEST_ACCEPT_OPTIMISTIC",channelId:e});return[2]}}))}))).apply(this,arguments)}function p(e){return o.Z.put({url:l.ANM.CHANNEL_RECIPIENT_CONSENT(e),body:{consent_status:r.UNSPECIFIED}})}function h(e){return o.Z.put({url:l.ANM.CHANNEL_RECIPIENT_CONSENT(e),body:{consent_status:r.PENDING}})}function y(e){return o.Z.delete({url:l.ANM.CHANNEL_RECIPIENT_CONSENT(e)})}function b(){a.Z.getLocationMetadata()}},
911249:(e,t,n)=>{"use strict";n.d(t,{t9:()=>o,cl:()=>r,WN:()=>a,oi:()=>l,pS:()=>i});var r,o="Message Request Accept Confirmation";!function(e){e[e.ACCEPT=0]="ACCEPT";e[e.REJECT=1]="REJECT";e[e.ACCEPT_CONFIRMATION_PROMPT=2]="ACCEPT_CONFIRMATION_PROMPT";e[e.DISMISS_CONFIRMATION_PROMPT=3]="DISMISS_CONFIRMATION_PROMPT";e[e.ACCEPT_HAM_CONFIRMATION_PROMPT=4]="ACCEPT_HAM_CONFIRMATION_PROMPT";e[e.DISMISS_HAM_CONFIRMATION_PROMPT=5]="DISMISS_HAM_CONFIRMATION_PROMPT"}(r||(r={}));var i,a=73,l=26;!function(e){e.REQUESTS="REQUESTS";e.SPAM="SPAM"}(i||(i={}))},618451:(e,t,n)=>{"use strict";n.d(t,{Z:()=>P});var r=n(791462),o=n(173436),i=n(599414),a=n(819525),l=n(859023),u=n(35197),c=n(47195);function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n
;return e}function p(e){p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return p(e)}function h(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function y(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function b(e,t){b=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return b(e,t)}function v(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){
if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var m=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){
var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y(this,n)}}var O={},E=new Set;function j(e){return u.Z.isMessageRequest(e)||(0,i.c3)()&&c.Z.isSpam(e)}function S(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(j(e)&&(null==t||e===(null==t?void 0:t.channel_id))){var r=null==t?null:(0,a.e5)(t);O[e]={loaded:!0,error:n,message:r}}}var C=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&b(e,t)}(n,e);var t=g(n);function n(){f(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(){(0,i.c3)()?this.waitFor(u.Z,c.Z,l.default):this.waitFor(u.Z,l.default)};r.shouldLoadMessageRequestPreview=function(e){return!E.has(e)};r.getMessageRequestPreview=function(e){e in O||(O[e]={loaded:!1,error:!1,message:null});return O[e]}
;r.__getLocalVars=function(){return{messageRequestPreviews:O,shouldReceivePreviewStateFromGateway:E}};return n}(r.ZP.Store);C.displayName="MessageRequestPreviewStore";const P=new C(o.Z,{CONNECTION_OPEN:function(){O={};E.clear()},CHANNEL_CREATE:function(e){var t=e.channel;j(t.id)&&E.add(t.id)},CHANNEL_UPDATES:function(e){var t=e.updates,n=!0,r=!1,o=void 0;try{for(var i,a=t[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var l=i.value.channel;if(!j(l.id)){E.delete(l.id);delete O[l.id]}}}catch(e){r=!0;o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}},CHANNEL_DELETE:function(e){var t=e.channel;E.delete(t.id);delete O[t.id]},MESSAGE_CREATE:function(e){if(e.isPushNotification)return!1;S(e.message.channel_id,e.message)},MESSAGE_UPDATE:function(e){var t=e.message.channel_id;if(null==t)return!1;var n=O[t];if(null==n)return!1;if(null==n.message)return!1;O[t]=h(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){d(e,t,n[t])}))}return e}({},n),{message:(0,a.wi)(n.message,e.message)})},MESSAGE_DELETE:function(e){if(!j(e.channelId))return!1;O[e.channelId]={loaded:!0,error:!1,message:null}},LOAD_MESSAGE_REQUESTS_SUPPLEMENTAL_DATA_SUCCESS:function(e){var t=e.requestedChannelIds,n=e.supplementalData,r=new Set(v(t));n.forEach((function(e){S(e.channel_id,e.message_preview);r.delete(e.channel_id)}));var o=!0,i=!1,a=void 0;try{for(var l,u=Array.from(r)[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){S(l.value,null)}}catch(e){i=!0;a=e}finally{try{o||null==u.return||u.return()}finally{if(i)throw a}}},LOAD_MESSAGE_REQUESTS_SUPPLEMENTAL_DATA_ERROR:function(e){e.requestedChannelIds.forEach((function(e){S(e,null,!0)}))}})},681888:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c})
;var r=n(667294),o=n(791462),i=n(859023),a=n(169979),l=n(35197),u=new Set(["GB","US"]);function c(){var e=(0,o.e7)([l.Z],(function(){return l.Z.getUserCountryCode()})),t=!1===(0,o.e7)([i.default],(function(){var e;return null===(e=i.default.getCurrentUser())||void 0===e?void 0:e.nsfwAllowed}));r.useEffect((function(){null==e&&(0,a.hi)()}),[e]);return!(null==e||!u.has(e.alpha2))&&!!t}},266662:(e,t,n)=>{"use strict";n.d(t,{m:()=>x});var r=n(667294),o=n(735713),i=n(323657),a=n(599414),l=n(849832),u=n(36391),c=n(356002),s=n(409271),f=n(932847),d=n(169979),p=n(785893),h=n(897576),y=n(911249),b=n(461061);function v(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function m(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){v(i,r,o,a,l,"next",e)}function l(e){v(i,r,o,a,l,"throw",e)}a(void 0)}))}}function g(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,
configurable:!0,writable:!0}):e[t]=n;return e}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){g(e,t,n[t])}))}return e}var E=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:
i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};var j=n(136770),S=n(681888);function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function P(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function I(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){P(i,r,o,a,l,"next",e)}function l(e){P(i,r,o,a,l,"throw",e)}a(void 0)}))}}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){
var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var w=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){
return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function x(e){var t,v,g,C=e.user,P=e.onAcceptSuccess,x=e.onRejectSuccess,N=e.onError,T=(t=(0,S.Z)(),v=(0,j.ig)(),t||v),A=(0,
a.gA)(),Z=_(r.useState(!1),2),R=Z[0],M=Z[1],D=_(r.useState(!1),2),L=D[0],k=D[1],U=_(r.useState(!1),2),G=U[0],H=U[1],B=_(r.useState(!1),2),V=B[0],F=B[1],W=_(r.useState(!1),2),Y=W[0],z=W[1],K=R||L||G,q=r.useCallback((g=I((function(e){var t,n;return w(this,(function(r){switch(r.label){case 0:if(K)return[2];M(!0);r.label=1;case 1:r.trys.push([1,3,4,5]);return[4,(0,d.e4)(e)];case 2:r.sent();F(!0);null==P||P();return[3,5];case 3:t=r.sent();n=new i.Hx(t);null==N||N(n);return[3,5];case 4:M(!1);return[7];case 5:return[2]}}))})),function(e){return g.apply(this,arguments)}),[K,P,N]),X=r.useCallback((function(e){if(!K&&void 0!==e){var t=function(){var t=I((function(){return w(this,(function(t){switch(t.label){case 0:return[4,o.Z.addRelationship({userId:e,context:{location:b.ZY5.DM_CHANNEL},type:b.OGo.BLOCKED})];case 1:t.sent();return[2]}}))}));return function(){return t.apply(this,arguments)}}();!function(e){var t=e.onConfirm,r=e.onCancel;(0,h.ZD)(m((function(){var e,o;return E(this,(function(i){
switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(56680)]).then(n.bind(n,56680))];case 1:e=i.sent(),o=e.default;return[2,function(e){return(0,p.jsx)(o,O({onConfirm:t,onDismiss:r},e))}]}}))})))}({onConfirm:t,onCancel:function(){}})}}),[K]),Q=r.useCallback(function(){var e=I((function(e){var t,n;return w(this,(function(r){switch(r.label){case 0:if(K)return[2];k(!0);r.label=1;case 1:r.trys.push([1,3,4,5]);return[4,(0,d.gN)(e)];case 2:r.sent();z(!0);null==x||x();A&&X(null==C?void 0:C.id);return[3,5];case 3:t=r.sent();n=new i.Hx(t);null==N||N(n);return[3,5];case 4:k(!1);return[7];case 5:return[2]}}))}));return function(t){return e.apply(this,arguments)}}(),[K,x,X,N,A,null==C?void 0:C.id]),J=r.useCallback(function(){var e=I((function(e){var t,r;return w(this,(function(o){switch(o.label){case 0:if(K)return[2];if(null==C||null!=u.Z.getMutualGuilds(C.id))return[3,5];H(!0);o.label=1;case 1:o.trys.push([1,3,4,5]);return[4,(0,c.Z)(C.id,C.getAvatarURL(void 0,80),{withMutualGuilds:!0})]
;case 2:o.sent();return[3,5];case 3:o.sent();return[3,5];case 4:H(!1);return[7];case 5:t=function(){var t,n=null!=C?null===(t=u.Z.getMutualGuilds(C.id))||void 0===t?void 0:t.map((function(e){return e.guild.id})):[];f.default.track(b.rMx.MESSAGE_REQUEST_ACTION,{action:y.cl.DISMISS_CONFIRMATION_PROMPT,channel_id:e,mutual_guild_ids:null!=n?n:[],other_user_id:null==C?void 0:C.id})};r=function(){var t=I((function(){var t,n;return w(this,(function(r){switch(r.label){case 0:n=null!=C?null===(t=u.Z.getMutualGuilds(C.id))||void 0===t?void 0:t.map((function(e){return e.guild.id})):[];f.default.track(b.rMx.MESSAGE_REQUEST_ACTION,{action:y.cl.ACCEPT_CONFIRMATION_PROMPT,channel_id:e,mutual_guild_ids:null!=n?n:[],other_user_id:null==C?void 0:C.id});return[4,q(e)];case 1:r.sent();return[2]}}))}));return function(){return t.apply(this,arguments)}}();!function(e){var t=e.channelId,r=e.onConfirm,o=e.onCancel;f.default.track(b.rMx.OPEN_MODAL,{type:y.t9,channel_id:t});(0,h.ZD)(m((function(){var e,t
;return E(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(79022)]).then(n.bind(n,79022))];case 1:e=i.sent(),t=e.default;return[2,function(e){return(0,p.jsx)(t,O({onConfirm:r,onDismiss:o},e))}]}}))})))}({channelId:e,onConfirm:r,onCancel:t});return[2]}}))}));return function(t){return e.apply(this,arguments)}}(),[q,K,C]),$=r.useCallback((function(e,t){var r=function(n,r){r&&s.kJ.updateSetting(n);n&&null!=t&&(0,l.zd)(t);q(e.id);f.default.track(b.rMx.MESSAGE_REQUEST_ACTION,{action:y.cl.ACCEPT_HAM_CONFIRMATION_PROMPT,channel_id:e.id,is_dont_show_again_checked:r,non_spam_retraining_opt_in:n})},o=s.kJ.getSetting();null==o?function(e){var t=e.onConfirm,r=e.onCancel;(0,h.ZD)(m((function(){var e,o;return E(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(57346)]).then(n.bind(n,457346))];case 1:e=i.sent(),o=e.default;return[2,function(e){return(0,p.jsx)(o,O({onConfirm:t,onDismiss:r},e))}]}}))})))}({channel:e,onConfirm:r,
onCancel:function(){f.default.track(b.rMx.MESSAGE_REQUEST_ACTION,{action:y.cl.DISMISS_HAM_CONFIRMATION_PROMPT,channel_id:e.id})}}):r(o)}),[q]);return{acceptMessageRequest:T?J:q,rejectMessageRequest:Q,markAsNotSpam:$,isAcceptLoading:R,isRejectLoading:L,isUserProfileLoading:G,isOptimisticAccepted:V,isOptimisticRejected:Y}}},10559:(e,t,n)=>{"use strict";n.d(t,{a:()=>v});var r=n(496486),o=n.n(r),i=n(791462),a=n(675860),l=n(173436),u=n(356004),c=n(171447),s=n(618451),f=n(461061);function d(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function p(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){d(i,r,o,a,l,"next",e)}function l(e){d(i,r,o,a,l,"throw",e)}a(void 0)}))}}var h=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},
"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},y=new Set,b=null;function v(e){var t=e.id,n=(0,i.cj)([s.Z,c.Z,u.Z],(function(){
var e=u.Z.getChannel(t),n=null==e?void 0:e.lastMessageId,r=s.Z.getMessageRequestPreview(t);if(null==r.message&&null!=n){var o=c.Z.getMessage(t,n);if(null!=o)return{loaded:!0,error:!1,message:o}}return r}),[t]),r=n.loaded,o=n.message,a=n.error,l=(0,i.e7)([s.Z],(function(){return s.Z.shouldLoadMessageRequestPreview(t)}),[t]);!r&&null==o&&l&&function(e){y.add(e);null==b&&(b=setTimeout(m,0))}(t);return{loaded:r,error:a,message:o}}function m(){return g.apply(this,arguments)}function g(){return(g=p((function(){return h(this,(function(e){switch(e.label){case 0:e.trys.push([0,,3,4]);return o().isEmpty(y)?[3,2]:[4,O()];case 1:e.sent();return[3,0];case 2:return[3,4];case 3:b=null;return[7];case 4:return[2]}}))}))).apply(this,arguments)}function O(){return E.apply(this,arguments)}function E(){return(E=p((function(){var e,t,n,r,o,i,u,c;return h(this,(function(s){switch(s.label){case 0:e=Array.from(y).slice(0,25);s.label=1;case 1:s.trys.push([1,3,4,5]);return[4,a.Z.get({
url:f.ANM.MESSAGE_REQUESTS_SUPPLEMENTAL_DATA,query:{channel_ids:e}})];case 2:t=s.sent();l.Z.dispatch({type:"LOAD_MESSAGE_REQUESTS_SUPPLEMENTAL_DATA_SUCCESS",requestedChannelIds:e,supplementalData:t.body});return[3,5];case 3:s.sent();l.Z.dispatch({type:"LOAD_MESSAGE_REQUESTS_SUPPLEMENTAL_DATA_ERROR",requestedChannelIds:e});return[3,5];case 4:n=!0,r=!1,o=void 0;try{for(i=e[Symbol.iterator]();!(n=(u=i.next()).done);n=!0){c=u.value;y.delete(c)}}catch(e){r=!0;o=e}finally{try{n||null==i.return||i.return()}finally{if(r)throw o}}return[7];case 5:return[2]}}))}))).apply(this,arguments)}},781405:(e,t,n)=>{"use strict";n.d(t,{_:()=>a});var r=n(791462),o=n(664970),i=n(915354);function a(){var e=(0,r.e7)([i.ZP],(function(){return i.ZP.getSidebarState(i.uZ)})),t=(null==e?void 0:e.type)===o.t.VIEW_MESSAGE_REQUEST?e:null;return{channelId:null==t?void 0:t.channelId,hasSingleMessageRequest:null!=(null==t?void 0:t.details)&&t.details.type===o.F.MESSAGE_REQUEST&&t.details.hasSingleMessageRequest}}},
776624:(e,t,n)=>{"use strict";n.d(t,{q:()=>i});var r=n(791462),o=n(35197);function i(){return(0,r.e7)([o.Z],(function(){return o.Z.getMessageRequestsCount()}))}},905339:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(785893),o=(n(667294),n(642400)),i=n(849832),a=n(191940),l=n(10559),u=n(959797);function c(e){var t=e.channel,n=e.buttonSize,c=void 0===n?a.Ph.TINY:n,s=e.className,f=e.onReportClick,d=e.onReportSubmit,p=e.onMouseEnter,h=e.onMouseLeave,y=(0,l.a)(t),b=y.message,v=y.error,m=y.loaded;if(null==b&&(m||v))return null;var g=function(){null==d||d();o.Z.closePrivateChannel(t.id,!0)};return(0,r.jsx)(a.Co,{className:s,size:c,color:a.Co.Colors.RED,disabled:null==b,onClick:function(e){e.stopPropagation();null==f||f();null!=b&&(0,i.WL)(b,g)},onMouseEnter:p,onMouseLeave:h,children:u.Z.Messages.REPORT})}},290174:(e,t,n)=>{"use strict";n.d(t,{g:()=>g});var r=n(120053),o=n.n(r),i=n(645930),a=n(549425),l=n(23816),u=n(777647),c=n(101647),s=n(409271),f=n(721777),d=n(171447),p=n(461061)
;function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}
var b=/\\([*?+/])/g,v={tts:{action:function(){return{tts:s.OW.getSetting()}}},me:{action:function(e){return{content:"_".concat(e,"_")}}},tableflip:{action:function(e){return{content:"".concat(e," ( ").trim()}}},unflip:{action:function(e){return{content:"".concat(e,"  ( -)").trim()}}},shrug:{action:function(e){return{content:"".concat(e," \\_()_/").trim()}}},nick:{action:function(e,t){var n=t.channel;if(null!=n.guild_id){i.Z.changeNickname(n.guild_id,n.id,p.ME,e);return{content:""}}}},reaction:{match:o().anyScopeRegex(/^\+:(.+?): *$/),action:function(e,t){var n=t.isEdit,r=t.channel;if(!n&&d.Z.hasPresent(r.id)){var o=d.Z.getMessages(r.id).last();if(null!=o&&null!=o.id){var i=f.D.get(r.guild_id).getByName(e.trim().slice(2,-1));if(null!=i){(0,u.rU)(r.id,o.id,(0,c.g1)(i));return{content:""}}}}}},searchReplace:{match:o().anyScopeRegex(/^s\/((?:.+?)[^\\]|.)\/(.*)/),action:function(e,t){var n=t.isEdit,r=t.channel;if(!n){var o,i=d.Z.getLastEditableMessage(r.id)
;if(null==i||null==i.id)return{content:""};var l=y(Array.from(null!==(o=e.match(this.match.regex))&&void 0!==o?o:[]),3),u=l[1],c=l[2];u=u.replace(b,(function(e,t){return t}));c=c.replace(b,(function(e,t){return t}));var s=i.content.replace(u,c);null!=s&&""!==s||0!==i.attachments.length?e!==i.content&&a.Z.editMessage(r.id,i.id,{content:s}):a.Z.deleteMessage(r.id,i.id);return{content:""}}}},spoiler:{action:function(e){return{content:(0,p.XmY)(e).trim()}}}};Object.setPrototypeOf(v,null);function m(e,t,n,r){l.ZP.trackWithMetadata(p.rMx.SLASH_COMMAND_USED,{command:e});return t.action(n,r)}function g(e,t){for(var n in v){var r=v[n];if(null==r.match){if(s.dN.getSetting()&&"/"===e[0]){var o=e.split(" ");if(n===o[0].slice(1)&&null!=r.action)return m(n,r,o.slice(1).join(" "),t)}}else{var i;if(null===(i=r.match.regex)||void 0===i?void 0:i.test(e))return m(n,r,e,t)}}}},116252:(e,t,n)=>{"use strict";n.d(t,{W:()=>r,p:()=>o});var r="chat-messages";function o(e){return"".concat(r,"-").concat(e)}},
27029:(e,t,n)=>{"use strict";n.d(t,{V:()=>i});var r=n(791462),o=n(171447);function i(e,t){return(0,r.e7)([o.Z],(function(){var n=o.Z.getMessages(e),r=n.findOldest((function(e){return e.author.id===t}));if(null!=r){var i=n.toArray(),a=!0,l=!1,u=void 0;try{for(var c,s=i[Symbol.iterator]();!(a=(c=s.next()).done);a=!0){var f=c.value;if(f.author.id!==t)break;f.content.length>(null==r?void 0:r.content.length)&&(r=f)}}catch(e){l=!0;u=e}finally{try{a||null==s.return||s.return()}finally{if(l)throw u}}return r}}),[e,t])}},686012:(e,t,n)=>{"use strict";n.d(t,{$:()=>u});var r=n(791462),o=n(35197),i=n(171447),a=n(105405),l=n(461061);function u(e){var t=e.isDM()&&!e.isSystemDM()&&!e.rawRecipients.some((function(e){return e.bot})),n=t?e.getRecipientId():null;return(0,r.e7)([i.Z,o.Z,a.Z],(function(){if(!t)return!1;if(o.Z.isMessageRequest(e.id))return!1;if(null!=n&&a.Z.getRelationshipType(n)===l.OGo.BLOCKED)return!1;var r=i.Z.getMessages(e.id)
;return r.ready&&!r.hasMoreBefore&&!r.hasMoreAfter&&r.length<25&&!i.Z.hasCurrentUserSentMessage(e.id)}),[e.id,n,t])}},565469:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),l=n(369227),u=n(163329),c=n(814341),s=n(836634),f=n(46427),d=n.n(f);function p(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){p(e,t,n[t])}))}return e}function y(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){
return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function b(e){var t,n=e.message,o=e.channel,i=e.compact,f=e.className,b=e.isGroupStart,v=e.renderMediaEmbeds,m=void 0===v||v,g=e.disableInteraction,O=(0,u.Z)(n,{renderMediaEmbeds:m}).content;return(0,r.jsx)(l.Z,{compact:i,className:a()(f,(t={},p(t,d().message,!0),p(t,d().cozyMessage,!i),p(t,d().groupStart,b),t)),childrenHeader:(0,s.Z)(y(h({},e),{channel:o,guildId:void 0})),childrenMessageContent:(0,c.Z)(e,O),disableInteraction:g})}const v=o.memo(b)},833924:(e,t,n)=>{"use strict";n.d(t,{Rr:()=>p,aJ:()=>h,ZP:()=>y});var r=n(785893),o=n(667294),i=n(496486),a=n.n(i),l=n(615595),u=n(461061),c=n(170446),s=n.n(c);function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){
var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(){return{width:a().random(140,400),height:a().random(100,320)}}function h(e){var t=e.compact,n=e.messageGroups,r=e.groupRange,o=e.attachments,i=e.fontSize,c=e.groupSpacing
;if(o>n)throw new Error("generateMessageSpecs: too many attachments relative to messageGroups: ".concat(n,", ").concat(o));for(var s=i/u.yqN.FONT_SIZE_DEFAULT,f=t?l.iv:l.pk,d=t?l.Pb:l.XX,h=0,y=new Array(n).fill(null).map((function(){var e=a().random(1,r);h+=c*s;h+=f*s;h+=(e-1)*d*s;return e})),b=y.map((function(e,t){return t})),v=[];v.length<o;){var m=p();v.push([b.splice(a().random(0,b.length-1),1)[0],m]);h+=m.height+l.M9*s}return{messages:y,attachmentSpecs:v,totalHeight:h,groupSpacing:c}}function y(e){var t=e.compact,n=e.messages,i=e.attachmentSpecs,a=e.totalHeight,u=e.groupSpacing;return o.useMemo((function(){var e=new Array(n.length).fill(void 0),o=!0,c=!1,f=void 0;try{for(var p,h=i[Symbol.iterator]();!(o=(p=h.next()).done);o=!0){var y=d(p.value,2),b=y[0],v=y[1];e[b]=v}}catch(e){c=!0;f=e}finally{try{o||null==h.return||h.return()}finally{if(c)throw f}}return(0,r.jsx)("div",{className:s().wrapper,style:{height:a},children:n.map((function(n,o){return(0,r.jsx)(l.ZP,{groupSpacing:u,
compact:t,messages:n,attachmentSpecs:e[o]},o)}))})}),[t,n,i,a,u])}},748241:(e,t,n)=>{"use strict";n.d(t,{Z:()=>gu});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),l=n(125447),u=n(791462),c=n(549425),s=n(730189),f=n(495798),d=n(634267),p=n(805448),h=n(513073),y=n(409271),b=n(985836),v=n(631134),m=n(985009),g=n(243256),O=n(171447),E=n(940712),j=n(365667),S=n(173436);function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function P(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function _(e){_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return _(e)}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){I(e,t,n[t])}))}return e}function x(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function N(e,t){return!t||"object"!==Z(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function T(e,t){T=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return T(e,t)}function A(e){return function(e){
if(Array.isArray(e))return C(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Z=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}()
;return function(){var n,r=_(e);if(t){var o=_(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return N(this,n)}}var M=Object.freeze([]),D={},L={},k={},U={};function G(e,t){var n=D[e];if(null==n)return!1;D[e]=n.filter((function(e){return e.id!==t}));delete L[t];delete k[t];return n.length!==D[e].length}function H(e,t){var n=D[e];if(null==n)return!1;D[e]=n.map((function(e){return e.id===t.id?w({},e,t):e}));var r=k[t.id];null!=r&&null!=U[r.id]&&(U[r.id]=w({},U[r.id],t))}var B=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&T(e,t)}(n,e);var t=R(n);function n(){P(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(){this.waitFor(O.Z)};r.getFiles=function(e){var t;return null!==(t=D[e])&&void 0!==t?t:M};r.getMessageForFile=function(e){return k[e]}
;r.getUploaderFileForMessageId=function(e){return U[e]};r.__getLocalVars=function(){return{EMPTY:M,filesForChannel:D,uploaderForFiles:L,messageForFiles:k,uploaderFileForMessage:U}};return n}(u.ZP.Store);B.displayName="UploadStore";const V=new B(S.Z,{UPLOAD_START:function(e){var t=e.channelId,n=e.file,r=e.uploader,o=e.message;if(!r._aborted&&!r._errored){var i,a=null!==(i=D[t])&&void 0!==i?i:M;L[n.id]=r;D[t]=A(a).concat([n]);k[n.id]=o;var l=n.items;null!=l&&(U[o.id]=x(w({},n),{items:l}))}},UPLOAD_COMPRESSION_PROGRESS:function(e){H(e.channelId,e.file)},UPLOAD_PROGRESS:function(e){H(e.channelId,e.file)},UPLOAD_COMPLETE:function(e){return G(e.channelId,e.file.id)},UPLOAD_FAIL:function(e){return G(e.channelId,e.file.id)},UPLOAD_CANCEL_REQUEST:function(e){var t=e.file,n=L[t.id];if(null==n)return!1;setImmediate((function(){var e;return null===(e=n.cancel)||void 0===e?void 0:e.call(n)}))},UPLOAD_RESTORE_FAILED_UPLOAD:function(e){var t=e.file,n=e.messageId;U[n]=t}})
;var F,W,Y,z,K=n(859023),q=n(631512),X=n(753274),Q=n(647446),J=n(468068),$=n(850612),ee=n.n($);function te(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ne(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){ne(e,t,n[t])}))}return e}function oe(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n
}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function ie(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function ae(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return te(e,t);var n=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return te(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const le=(F=a()(ee().auto,ee().disableScrollAnchor),W=null!==ResizeObserver&&void 0!==ResizeObserver?ResizeObserver:X.d,Y=new Map,z=new W((function(e){e.forEach((function(e){var t,n=e.target;null===(t=Y.get(n))||void 0===t||t(e)}))})),o.forwardRef((function(e,t){var n=e.children,i=e.className,l=e.onResize,u=e.contentClassName,c=e.onScroll,s=e.dir,f=void 0===s?"ltr":s,d=e.fade,p=void 0!==d&&d,h=e.style,y=ie(e,["children","className","onResize","contentClassName","onScroll","dir","fade","style"]),b=o.useRef(null),v=o.useRef(null),m=ae(o.useState(!1),2),g=m[0],O=m[1],E=(0,J.Ke)(),j=E.scrollerRef,S=E.getScrollerState,C=(0,
J.t2)(j);o.useImperativeHandle(t,(function(){return re({getScrollerNode:function(){return j.current},isScrolling:function(){return null!=b.current},getScrollerState:S},(0,J.Ue)(j,S,C))}),[j,S,C]);var P,I=o.useCallback((function(e){null==b.current?O(!0):clearTimeout(b.current);b.current=setTimeout((function(){b.current=null;O(!1)}),200);null!=c&&c(e)}),[c]);o.useEffect((function(){return function(){return clearTimeout(b.current)}}),[]);(0,J.zn)({ref:j,key:"container",onUpdate:l,resizeObserver:z,listenerMap:Y});(0,J.zn)({ref:v,key:"content",onUpdate:l,resizeObserver:z,listenerMap:Y});return(0,r.jsx)("div",oe(re({ref:j,className:a()(i,(P={},ne(P,ee().fade,p),ne(P,F,!0),ne(P,ee().managedReactiveScroller,!0),ne(P,ee().scrolling,g),P)),style:h,dir:f,onScroll:I},y),{children:o.useMemo((function(){return(0,r.jsx)(Q.Jc,{containerRef:v,children:(0,r.jsx)("div",{ref:v,className:a()(u,ee().content),children:n})})}),[n,u])}))})))
;var ue=n(238585),ce=n(382394),se=n(549995),fe=n.n(se),de=n(522768),pe=n(493316),he=n(346529),ye=n(994060),be=n(351386),ve=n(6349),me=n(461061);function ge(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Oe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ge(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ge(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ee(e){var t,n,r,o=e.channel,i=e.messages,a=e.highlightedMessageIds,l=e.oldestUnreadMessageId,u=e.treatSpam,c=[],s=fe()(a),f=!1,p=0,h=null!=l?he.Z.extractTimestamp(l):null;i.forEach((function(e){var a=(0,pe.vc)(e.timestamp,"LL");if(a!==t){e.isFirstMessageInForumPost(o)||c.push({type:me.ys_.DIVIDER,content:a,contentKey:a});t=a}var d=c[c.length-1],y=null,b=(0,be.DQ)(e);f=f||b;var v=function(e,t,n){return de.V.NON_COLLAPSIBLE.has(t.type)?null:t.blocked?me.ys_.MESSAGE_GROUP_BLOCKED:(0,be.P1)(e)&&n?me.ys_.MESSAGE_GROUP_SPAMMER:null}(o,e,b&&u);if(null!==v){var m;m=Oe(function(e,t,n){var r,o=n;if(null==n||n.type!==t){r={type:t,content:[],key:e.id,isHighlight:!1};c.push(r)}else o=(r=n).content[r.content.length-1];return[r,o]}(e,v,d),2),y=m[0],d=m[1]}if(l===e.id&&null!=h)if(null!=d&&d.type===me.ys_.DIVIDER){d.unreadId=e.id
;h=null}else if(null!==y)!function(t){e.isFirstMessageInForumPost(o)||t.content.push({type:me.ys_.DIVIDER,unreadId:e.id});t.hasUnread=!0;h=null}(y);else{e.isFirstMessageInForumPost(o)||c.push({type:me.ys_.DIVIDER,unreadId:e.id});h=null}else if(null!=h&&he.Z.extractTimestamp(e.id)>h){e.isFirstMessageInForumPost(o)||c.push({type:me.ys_.DIVIDER,unreadId:e.id});h=null}(0,ye.J)(d,e)&&(n=e.id);var g={type:e.type===me.uaV.THREAD_STARTER_MESSAGE?me.ys_.THREAD_STARTER_MESSAGE:me.ys_.MESSAGE,content:e,groupId:n,isHighlight:null!=s[e.id]||n!==e.id&&(null==r?void 0:r.isHighlight)};if(n===e.id){r=g;p=c.length}var O=i.jumpSequenceId,E=i.jumpFlash,j=i.jumpTargetId;E&&e.id===j&&null!=O&&(g.flashKey=O);i.jumpTargetId===e.id&&(g.jumpTarget=!0);if(null!==y){y.content.push(g);g.jumpTarget&&(y.hasJumpTarget=!0)}else{if(g.isHighlight){r.isHighlight=!0;for(var S=c.length-1;S>p;S--){var C=c[S];(0,ve.Yh)(C)&&(C.isHighlight=!0)}}c.push(g)}e.isFirstMessageInForumPost(o)&&c.push({type:me.ys_.FORUM_POST_ACTION_BAR
})}));f&&(0,be.P1)(o)&&d.Z.trackExposure({});return c}var je=n(833924),Se=n(666164),Ce=n(882699),Pe=n(116252);function Ie(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}var _e=n(496486),we=n.n(_e),xe=n(388721),Ne=n(8062),Te=n(320646),Ae=n(35599),Ze=n(655695),Re=n(145072),Me=n(441143),De=n.n(Me),Le=n(100364),ke=n(966275),Ue=n(635448),Ge=n(508528),He=n(11870),Be=n(778667),Ve=n(356004),Fe=n(629590),We=n(685351),Ye=n(369227),ze=n(418674),Ke=n(719911),qe=n(60890),Xe=n(248088),Qe=n(952013),Je=n(832010),$e=n(959011);function et(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function tt(e,t){return function(e){
if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return et(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return et(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nt(e){var t=e.children,n=e.className,i=e.flashKey,a=(0,Qe.ZP)(),l=(0,Je.O0)(me.tPk.BACKGROUND_MESSAGE_HIGHLIGHT).hex,u=a===me.BRd.DARK?.08:.1,c=(0,
$e.Cj)(l,u),s=(0,$e.Cj)(l,0),f=tt((0,Xe.useSpring)((function(){return{immediate:!0,from:{backgroundColor:c}}})),2),d=f[0],p=f[1];o.useEffect((function(){p({reset:!0,immediate:!0,to:{backgroundColor:c}});p({delay:1e3,immediate:!1,to:{backgroundColor:s}})}),[i,p]);return(0,r.jsx)(Xe.animated.div,{style:d,className:n,children:t})}var rt=n(641082),ot=n(46427),it=n.n(ot);const at=function(e){var t=e.reactions,n=e.isHighlighted,i=o.useMemo((function(){var e=0,r=null;if(n)return null;for(var o=0;o<t.length;o++){var i=t[o];if(i.burst_count>0&&i.burst_count>e){e=i.burst_count;r=i}}return r}),[n,t]),a=o.useMemo((function(){return null==i||null==i.burst_colors||i.burst_colors.length<1?null:(0,rt.Uz)(i.burst_colors,!0).textColor}),[i]);return null==a?null:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:it().burstHighlightGradients,children:(0,r.jsx)("div",{className:it().burstHighlightGradient,style:{background:"linear-gradient(to right, ".concat((0,$e.aD)(a,.085)," 0%, ").concat((0,
$e.aD)(a,0)," 100%)")}})}),(0,r.jsx)("div",{className:it().burstHighlightBorder,style:{backgroundColor:a}})]})};var lt=n(369218),ut=n(777647),ct=n(883126);function st(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ft(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||pt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dt(e){return function(e){if(Array.isArray(e))return st(e)}(e)||function(e){
if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||pt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pt(e,t){if(e){if("string"==typeof e)return st(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?st(e,t):void 0}}const ht=function(e){var t=e.isHovered,n=e.messageId,r=e.reactions,i=ft(o.useState([]),2),a=i[0],l=i[1],u=ft(o.useState(!1),2),c=u[0],s=u[1];o.useEffect((function(){if(t&&!c){var e=function(e){var t=setTimeout((function(){(0,ut.iV)({messageId:n,emoji:r[e].emoji,key:ct.I.HOVER})}),1e3*e);o.push(t)};s(!0);S.Z.dispatch({type:"BURST_REACTION_CLEAR_ANIMATIONS",messageId:n,reactions:r});for(var o=[],i=0;i<r.length;i++)e(i)
;l(dt(o))}}),[t,n,c,r,a]);o.useEffect((function(){if(!t&&c){s(!1);a.forEach(clearTimeout);l([])}}),[t,c,a])};var yt=n(988233),bt=n(630695),vt=n(412323),mt=n(551821),gt=n(665357),Ot=n(726283),Et=n(272870),jt=n(332666);function St(e){return E.Z.can(me.Plq.MANAGE_MESSAGES,e)}const Ct=function(e,t,n){var r=o.useRef(n);r.current=n;return o.useCallback((function(n){if(r.current&&n.target===n.currentTarget){var o=!(n.altKey||n.ctrlKey||n.metaKey||n.shiftKey),i=n.altKey&&!(n.ctrlKey||n.metaKey||n.shiftKey),a=n.metaKey&&!(n.altKey||n.ctrlKey||n.shiftKey),l=n.shiftKey&&!(n.altKey||n.ctrlKey||n.metaKey),u=O.Z.getMessage(t,e),s=Ve.Z.getChannel(t);if(null!=u&&null!=s){var f=v.default.getId(),d=u.author.id===f;switch(n.key.toLowerCase()){case"backspace":if(o&&(St(s)||d)){n.preventDefault();(0,jt.$Z)(s,u,n)}break;case"c":if(a&&Ot.wS){n.preventDefault();(0,Ot.JG)(u.content)}break;case"e":if(o&&function(e,t,n){return!t.isSystemDM()&&!(0,Ke.Z)(n)&&n.author.id===e}(f,s,u)){n.preventDefault();(0,
jt.Hd)(s,u)}break;case"p":if((o||l)&&function(e,t){return!e.isSystemDM()&&!(0,Ke.Z)(t)&&(St(e)||e.isPrivate())}(s,u)){n.preventDefault();(0,jt.rY)(s,u,n)}break;case"+":if((o||l)&&function(e){var t=null==e.guild_id||g.Z.canChatInGuild(e.guild_id),n=y.nc.getSetting();return!(0,Et.Z)({channel:e,canChat:t,renderReactions:n,canAddNewReactions:t&&E.Z.can(me.Plq.ADD_REACTIONS,e),isLurking:null!=e.guild_id&&bt.Z.isLurking(e.guild_id),isActiveChannelOrUnarchivableThread:(0,mt.RG)(e)}).disableReactionCreates&&n}(s)){n.preventDefault();Ce.S.dispatchKeyed(me.LPv.TOGGLE_REACTION_POPOUT,u.id,!0)}break;case"r":if(o&&(0,vt.o)(s,u,E.Z)){n.preventDefault();(0,jt.HH)(s,u,n)}break;case"t":if(o&&(0,mt.ki)(s,u)){n.preventDefault();(0,gt.R6)(s,u,"Message Shortcut")}else if(u.hasFlag(me.iLy.HAS_THREAD)){var p=Ve.Z.getChannel(u.id);if(null!=p)if(o){n.preventDefault();(0,gt.ok)(p)}else if(l){n.preventDefault();(0,Ze.XU)(p.guild_id,p.id)}}break;case"enter":if(i){n.preventDefault();(0,jt.B8)(s,u)}break
;case"escape":m.Z.isEditing(s.id,u.id)?c.Z.endEditMessage(s.id):Ce.S.dispatch(me.CkL.TEXTAREA_FOCUS)}}}}),[e,t])};var Pt=n(42220),It=n(163329),_t=n(316685),wt=n(506907),xt=n.n(wt);var Nt=n(602184),Tt=n(95467),At=n(729263),Zt=n(43016),Rt=n(23552),Mt=n(959797),Dt=n(33771),Lt=n.n(Dt),kt=n(169595),Ut=n.n(kt),Gt=n(927570),Ht=n.n(Gt);function Bt(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var Vt=o.memo((function(e){var t=e.message,n=e.notice,o=e.compact,i=void 0!==o&&o,l=e.onDismiss;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:a()(Lt().blockedNoticeContainer,Bt({},Lt().compact,i)),children:[(0,r.jsx)("div",{className:Lt().blockedNoticeIcon,children:(0,r.jsx)(Nt.Z,{className:Lt().shieldIcon,width:16,height:16})}),(0,r.jsx)("div",{className:Lt().blockedNotice,children:(0,r.jsx)(We.x,{variant:"text-sm/normal",color:"interactive-normal",children:n})})]}),(0,r.jsx)("div",{
className:a()(Lt().ephemeralAccessories,Bt({},Lt().compact,i)),children:(0,r.jsx)(At.Z,{message:t,onDeleteMessage:l,children:(0,r.jsx)(We.x,{variant:"text-xs/normal",color:"interactive-normal",tag:"span",className:Lt().learnMore,children:Mt.Z.Messages.GUILD_AUTOMOD_BLOCKED_MESSAGE_LEARN_MORE.format({helpUrl:Tt.Z.getArticleURL(me.BhN.GUILD_AUTOMOD_BLOCKED_MESSAGE)})})})})]})}));function Ft(e){var t,n,i,l=e.className,s=e.compact,f=e.message,d=e.children,p=e.content,h=e.onUpdate,y=null===(t=f.editedTimestamp)||void 0===t?void 0:t.toString(),b=o.useRef(!1),v=(0,u.e7)([Ue.Z],(function(){return Ue.Z.getMessage(f.id)}),[f.id]),m=o.useCallback((function(){(null==v?void 0:v.isBlockedEdit)?(e=f.id,S.Z.dispatch({type:"REMOVE_AUTOMOD_MESSAGE_NOTICE",messageId:e})):c.Z.deleteMessage(f.channel_id,f.id,!0);var e}),[f,v]);o.useLayoutEffect((function(){b.current?null!=h&&h():b.current=!0}),[h,f.content,p,y,d]);return(0,r.jsxs)("div",{id:(0,lt.ut)(f),className:a()(l,Ut().markup,(i={},
Bt(i,Ht().messageContent,!0),Bt(i,Ht().markupRtl,"rtl"===xt()(f.content)),Bt(i,Lt().blockedEdit,null==v?void 0:v.isBlockedEdit),Bt(i,Lt().blockedSend,!(null==v?void 0:v.isBlockedEdit)),i)),children:[null!=d?d:(0,Zt.L5)(f,p),(null==v?void 0:v.isBlockedEdit)&&null!=f.timestamp&&(0,r.jsxs)(r.Fragment,{children:[" ",(0,r.jsx)(Rt.Z,{timestamp:f.timestamp,isEdited:!0,isInline:!1,children:(0,r.jsxs)("span",{className:Ht().edited,children:["(",Mt.Z.Messages.GUILD_AUTOMOD_BLOCKED_MESSAGE_EDIT_POSTFIX,")"]})})]}),(0,r.jsx)(Vt,{notice:null!==(n=null==v?void 0:v.errorMessage)&&void 0!==n?n:Mt.Z.Messages.GUILD_AUTOMOD_BLOCKED_MESSAGE_SEND_NOTICE,message:f,compact:s,onDismiss:m})]})}const Wt=o.memo(Ft,Zt.HR)
;var Yt=n(606076),zt=n(780921),Kt=n(103720),qt=n(536989),Xt=n(975207),Qt=n(391596),Jt=n(186121),$t=n(364209),en=n(741200),tn=n(101647),nn=n(723927),rn=n(641645),on=n(686924),an=n(653772),ln=n(761434),un=n(757987),cn=n(215556),sn=n(717700),fn=n(297609),dn=n(424210),pn=n(770336),hn=n(930615),yn=n(771795),bn=n(428142),vn=n(555784),mn=n(9507),gn=n(557328),On=n(878627),En=n(823584),jn=n(782634),Sn=n(812197),Cn=n(961635),Pn=n(151843),In=n(770212),_n=n(330275),wn=n(340034),xn=n(819525),Nn=n(96048),Tn=n(28996),An=n(736441),Zn=n(234743),Rn=n(423845),Mn=n(821096),Dn=n.n(Mn);function Ln(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function kn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){
Ln(e,t,n[t])}))}return e}function Un(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Gn(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function Hn(e){e.stopPropagation()}function Bn(e){
var t=e.message,n=e.channel,o=e.canCopy,i=e.canPin,a=e.canDelete,l=e.canReport,u=e.canConfigureJoin,c=e.canEdit,s=e.canReply,f=e.canStartThread,d=e.hasReactions,p=e.hasDeveloperMode,h=e.canSpeakMessage,y=e.isSpeakingMessage,b=e.onClose,v=e.isGuildInviteReminder,m=e.onSelect,g=e.updatePosition,O=e.showMessageTODOActions,E=e.isMessageTODO,j=(0,Tn.Z)(t,n,{hoist:!0});return(0,r.jsxs)(Jt.ZP,{onSelect:m,navId:"message-actions",onClose:b,style:Jt.gA.FLEXIBLE,"aria-label":Mt.Z.Messages.MESSAGE_UTILITIES_A11Y_LABEL,children:[c&&(0,r.jsx)(Jt.sN,{id:"edit",label:Mt.Z.Messages.EDIT_MESSAGE,icon:On.Z,action:function(){return(0,jt.Hd)(n,t)}}),i&&(0,r.jsx)(Jt.sN,{id:"pin",label:t.pinned?Mt.Z.Messages.UNPIN_MESSAGE:Mt.Z.Messages.PIN_MESSAGE,icon:En.Z,action:function(e){return(0,jt.rY)(n,t,e)}}),s&&(0,r.jsx)(Jt.sN,{id:"reply",label:Mt.Z.Messages.MESSAGE_ACTION_REPLY,icon:jn.Z,action:function(e){return(0,jt.HH)(n,t,e)}}),f?(0,r.jsx)(Jt.sN,{id:"thread",label:Mt.Z.Messages.CREATE_THREAD,icon:Pn.Z,
action:function(){return(0,jt.gK)(n,t)}}):t.hasFlag(me.iLy.HAS_THREAD)?(0,r.jsx)(Jt.sN,{id:"goto-thread",label:Mt.Z.Messages.VIEW_THREAD,icon:Pn.Z,action:function(){return(0,jt.Db)(n,t)}}):null,(0,on.Z)(zt.yU.MESSAGE,t.id,n.id,void 0,g),(0,mt.RG)(n)?(0,r.jsx)(Jt.sN,{id:"mark-unread",label:Mt.Z.Messages.MARK_UNREAD,icon:bn.Z,action:function(){return(0,jt.B8)(n,t)}}):null,O?(0,r.jsx)(Jt.sN,{id:"mark-todo",label:E?Mt.Z.Messages.MESSAGE_TODOS_MARK_AS_DONE:Mt.Z.Messages.MESSAGE_TODOS_MARK_AS_TODO,icon:E?sn.Z:mn.Z,action:function(){return E?(0,jt.sT)(n,t):(0,jt.JS)(n,t)}}):null,d&&(0,r.jsx)(Jt.sN,{id:"reactions",label:Mt.Z.Messages.REACTIONS,icon:dn.Z,action:function(){return(0,jt.op)(n,t)}}),u&&(0,r.jsx)(Jt.sN,{id:"configure",label:Mt.Z.Messages.CONFIGURE,icon:hn.Z,action:function(){return(0,jt.zW)(n)}}),o&&!v&&(0,r.jsx)(Jt.sN,{id:"copy-link",label:Mt.Z.Messages.COPY_MESSAGE_LINK,icon:yn.Z,action:function(){return(0,jt.fB)(n,t)}}),h&&(0,r.jsx)(Jt.sN,{id:"tts",
label:y?Mt.Z.Messages.STOP_SPEAKING_MESSAGE:Mt.Z.Messages.SPEAK_MESSAGE,icon:Cn.Z,action:function(){return y?(0,nn.NB)():(0,nn.LA)(n,t)}}),j,a&&(0,r.jsx)(Jt.sN,{id:"delete",label:Mt.Z.Messages.DELETE_MESSAGE,icon:In.Z,action:function(e){return(0,jt.$Z)(n,t,e)},color:Rn.g.DANGER}),l&&(0,r.jsx)(Jt.sN,{id:"report",label:Mt.Z.Messages.REPORT_MESSAGE_MENU_OPTION,icon:pn.Z,action:function(){return(0,jt.LF)(t)},color:Rn.g.DANGER}),o&&p&&(0,r.jsx)(Jt.sN,{id:"copy-id",label:Mt.Z.Messages.COPY_ID,icon:fn.Z,action:function(e){return(0,jt.F4)(n,t,e)}})]})}function Vn(e){var t=e.label,n=e.icon,o=e.channel,i=e.message,a=e.onClick,l=e.key,u=e.disabled,c=e.dangerous,s=Gn(e,["label","icon","channel","message","onClick","key","disabled","dangerous"]);return(0,r.jsx)(un.ZP,{text:t,hideOnClick:!0,children:function(e){var l=e.onMouseEnter,f=e.onMouseLeave,d=e.onClick;return(0,r.jsx)(_n.zx,Un(kn({onMouseEnter:l,onMouseLeave:f,onClick:function(e){null==d||d();a(o,i,e)},"aria-label":t,disabled:u,dangerous:c
},s),{children:(0,r.jsx)(n,{className:Dn().icon})}))}},l)}function Fn(e){var t=e.channel,n=e.message,i=e.expanded,a=e.canCopy,l=e.canPin,u=e.canDelete,c=e.canReport,s=e.canReact,f=e.canConfigureJoin,d=e.canEdit,p=e.canPublish,h=e.canReply,y=e.canStartThread,b=e.forceOpen,v=void 0!==b&&b,m=e.showMoreUtilities,g=e.showEmojiPicker,O=e.canSpeakMessage,E=e.isSpeakingMessage,j=e.showMessageTODOActions,S=e.isMessageTODO,C=e.setPopout,P=e.hasDeveloperMode,I=e.isGuildInviteReminder,_=n.reactions.length>0,w=o.useCallback((function(e){var o=e.closePopout,i=e.updatePosition;return(0,r.jsx)(Bn,{message:n,channel:t,canCopy:a,canPin:l,canDelete:u,canReport:c,canConfigureJoin:f,canEdit:d,canPublish:p,canReply:h,canStartThread:y,hasReactions:_,hasDeveloperMode:P,canSpeakMessage:O,isSpeakingMessage:E,onClose:o,isGuildInviteReminder:I,updatePosition:i,showMessageTODOActions:j,isMessageTODO:S})}),[n,t,a,l,u,c,f,d,p,h,y,_,P,O,E,I,j,S]),x=o.useCallback((function(){return C({moreUtilities:!m})
}),[m,C]),N=o.useCallback((function(){C({emojiPicker:!g})}),[g,C]),T=n.hasFlag(me.iLy.CROSSPOSTED);return i&&!g&&!m||v?(0,r.jsxs)(r.Fragment,{children:[p&&v?(0,r.jsxs)(r.Fragment,{children:[Vn({key:"publish",label:T?Mt.Z.Messages.NEWS_CHANNEL_PUBLISHED:Mt.Z.Messages.NEWS_CHANNEL_PUBLISH,icon:vn.Z,channel:t,message:n,disabled:T,onClick:jt.Xl}),(0,r.jsx)(_n.Z0,{})]}):null,h?Vn({key:"reply",label:Mt.Z.Messages.MESSAGE_ACTION_REPLY,icon:jn.Z,channel:t,message:n,onClick:jt.HH}):null,d?Vn({key:"edit",label:Mt.Z.Messages.EDIT,icon:On.Z,channel:t,message:n,onClick:jt.Hd}):null,y?Vn({key:"thread",label:Mt.Z.Messages.CREATE_THREAD,icon:Pn.Z,channel:t,message:n,onClick:jt.gK}):n.hasFlag(me.iLy.HAS_THREAD)?Vn({key:"view-thread",label:Mt.Z.Messages.VIEW_THREAD,icon:Pn.Z,channel:t,message:n,onClick:jt.Db}):null,Vn({key:"mark-unread",label:Mt.Z.Messages.MARK_UNREAD,icon:bn.Z,channel:t,message:n,onClick:jt.B8}),j?Vn({key:"mark-todo",
label:S?Mt.Z.Messages.MESSAGE_TODOS_MARK_AS_DONE:Mt.Z.Messages.MESSAGE_TODOS_MARK_AS_TODO,icon:S?sn.Z:mn.Z,channel:t,message:n,onClick:S?jt.sT:jt.JS}):null,l?Vn({key:"pin",label:n.pinned?Mt.Z.Messages.UNPIN_MESSAGE:Mt.Z.Messages.PIN_MESSAGE,icon:En.Z,channel:t,message:n,onClick:jt.rY}):null,a?(0,r.jsxs)(r.Fragment,{children:[I?null:Vn({key:"copy-link",label:Mt.Z.Messages.COPY_LINK,icon:yn.Z,channel:t,message:n,onClick:jt.fB}),Vn({key:"copy-id",label:Mt.Z.Messages.COPY_ID,icon:fn.Z,channel:t,message:n,onClick:jt.F4})]}):null,_?Vn({key:"reactions-modal",label:Mt.Z.Messages.REACTIONS,icon:dn.Z,channel:t,message:n,onClick:function(e,t){return(0,jt.op)(e,t)}}):null,u?Vn({key:"delete",label:Mt.Z.Messages.DELETE,icon:In.Z,dangerous:!0,channel:t,message:n,onClick:jt.$Z}):null,f?Vn({key:"configure",label:Mt.Z.Messages.CONFIGURE,icon:hn.Z,channel:t,message:n,onClick:jt.zW}):null]}):(0,r.jsxs)(r.Fragment,{children:[s&&!I?(0,r.jsx)(ln.ZP,{renderPopout:function(e){var o=e.closePopout
;return function(e,t,n){var o={openPopoutType:"message_reaction_emoji_picker"};return(0,r.jsx)(qt.Z,{channel:e,pickerIntention:me.HzX.REACTION,closePopout:n,onSelectEmoji:function(r,o,i){!function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];null!=e&&(0,ut.rU)(t.id,n.id,(0,tn.g1)(e),void 0,{burst:r})}(r,e,t,i);o&&n()},allowBurstEmoji:!0,analyticsOverride:o})}(t,n,o)},shouldShow:g,onRequestClose:N,position:Yt.tq?ln.vK.TOP:ln.vK.LEFT,align:Yt.tq?ln.xM.CENTER:ln.xM.TOP,children:function(e,r){e.onClick;var o=Gn(e,["onClick"]),i=r.isShown;return Vn(kn({key:"add-reaction",label:Mt.Z.Messages.ADD_REACTION,icon:cn.Z,channel:t,selected:i,message:n,onClick:N},o))}}):null,h&&!d?Vn({key:"reply",label:Mt.Z.Messages.MESSAGE_ACTION_REPLY,icon:jn.Z,channel:t,message:n,onClick:jt.HH}):null,d?Vn({key:"edit",label:Mt.Z.Messages.EDIT,icon:On.Z,channel:t,message:n,onClick:jt.Hd}):null,y?Vn({key:"thread",label:Mt.Z.Messages.CREATE_THREAD,icon:Pn.Z,channel:t,message:n,onClick:jt.gK
}):n.hasFlag(me.iLy.HAS_THREAD)?Vn({key:"view-thread",label:Mt.Z.Messages.VIEW_THREAD,icon:Pn.Z,channel:t,message:n,onClick:jt.Db}):null,p?(0,r.jsxs)(r.Fragment,{children:[Vn({key:"publish",label:T?Mt.Z.Messages.NEWS_CHANNEL_PUBLISHED:Mt.Z.Messages.NEWS_CHANNEL_PUBLISH,icon:vn.Z,channel:t,message:n,disabled:T,onClick:jt.Xl}),(0,r.jsx)(_n.Z0,{})]}):null,u&&I?(0,r.jsxs)(r.Fragment,{children:[Vn({key:"delete",label:Mt.Z.Messages.DELETE,icon:In.Z,dangerous:!0,channel:t,message:n,onClick:jt.$Z}),(0,r.jsx)(_n.Z0,{})]}):null,(0,r.jsx)(ln.ZP,{renderPopout:w,shouldShow:m,onRequestClose:x,position:ln.vK.LEFT,align:ln.xM.TOP,animation:ln.ZP.Animation.NONE,children:function(e,r){e.onClick;var o=Gn(e,["onClick"]),i=r.isShown;return Vn(kn({key:"more",label:Mt.Z.Messages.MORE,icon:gn.Z,channel:t,message:n,selected:i,onClick:x},o))}})]})}function Wn(e){var t=e.channel,n=e.message,o=(0,u.e7)([Ue.Z],(function(){return null!=Ue.Z.getMessage(n.id)
}),[n.id]),i=null==n.interaction||null!=n.interactionData&&(0,Qt.$s)(n.interactionData),a=!o&&i;return(0,r.jsxs)(r.Fragment,{children:[a&&Vn({key:"retry",label:Mt.Z.Messages.RETRY,icon:Sn.Z,channel:t,message:n,onClick:jt.mG}),Vn({key:"delete-usent",label:Mt.Z.Messages.DELETE,icon:In.Z,channel:t,message:n,onClick:jt.$Z})]})}const Yn=o.memo((function(e){var t,n,o,i,l=function(e){var t=e.channel,n=e.message,r=e.isHeader,o=e.showEmojiPicker,i=e.showMoreUtilities,a=e.setPopout,l=n.author,c=(0,u.e7)([an.Z],(function(){return an.Z.getGuild(t.guild_id)}),[t.guild_id]),s=(0,u.e7)([v.default],(function(){return v.default.getId()})),f=(0,Xt.Z)(Kt.t),d=(0,mt.$R)(t),p=y.nc.useSetting(),h=y.Sb.useSetting(),b=(0,u.e7)([g.Z],(function(){return null==t.guild_id||g.Z.canChatInGuild(t.guild_id)}),[t]),O=(0,u.cj)([E.Z],(function(){return{canAddNewReactions:b&&E.Z.can(me.Plq.ADD_REACTIONS,t),canManageMessages:E.Z.can(me.Plq.MANAGE_MESSAGES,t)}}),[t,b]),j=O.canManageMessages,S=O.canAddNewReactions,C=(0,
vt.U)(t,n),P=(0,mt.NE)(t,n),I=(0,u.e7)([bt.Z],(function(){return null!=t.guild_id&&bt.Z.isLurking(t.guild_id)}),[t]),_=l.id===s,w=(j||_)&&d&&n.type in me.HfH;n.type===me.uaV.AUTO_MODERATION_ACTION&&(w=w&&j);var x=(0,wn.a4)(n)&&null!=f&&f===Zn.N.TREATMENT_1,N=!t.isSystemDM()&&!(0,Ke.Z)(n),T=(0,Nn.Z)(n,t,j),A=N&&_&&(0,xn.lp)(n)&&d,Z=(0,Et.Z)({channel:t,canChat:b,renderReactions:p,canAddNewReactions:S,isLurking:I,isActiveChannelOrUnarchivableThread:d}).disableReactionCreates,R=t.type===me.d4z.GUILD_ANNOUNCEMENT&&null!=c&&c.hasFeature(me.oNc.NEWS)&&(_||j)&&n.type===me.uaV.DEFAULT,M=t.getGuildId(),D=null!=M&&(n.type===me.uaV.USER_JOIN||n.type===me.uaV.GUILD_INVITE_REMINDER)&&E.Z.canWithPartialContext(me.Plq.MANAGE_GUILD,{guildId:M}),L=t.id,k=n.id,U=(0,u.e7)([m.Z],(function(){return m.Z.isEditing(L,k)}),[L,k]),G=(0,u.e7)([rn.Z],(function(){return rn.Z.isSpeakingMessage(L,k)}),[L,k]),H=$t.Z.useExperiment({}).showTODOs,B=(0,u.e7)([en.Z],(function(){
return null!=en.Z.getTODOMessages().find((function(e){return e.messageId===k}))})),V=""!==n.content;return{channel:t,message:n,isHeader:r,canPin:T,canEdit:A,canDelete:w,canReport:x,canReply:C,canStartThread:P,canCopy:Ot.wS,hasDeveloperMode:h,canReact:!Z&&p,canPublish:R,canConfigureJoin:D,isEditing:U,showEmojiPicker:o,showMoreUtilities:i,canSpeakMessage:V,isSpeakingMessage:G,showMessageTODOActions:H,isMessageTODO:B,setPopout:a,experimentBucket:f,isGuildInviteReminder:n.type===me.uaV.GUILD_INVITE_REMINDER}}(e),c=l.isHeader,f=l.isEditing,d=(0,An.Z)(),p=(0,u.e7)([s.Z],(function(){return s.Z.keyboardModeEnabled})),h=d&&!p,b=(n=(t=l).channel,(o=t.message).state===me.yb.SEND_FAILED?(0,r.jsx)(Wn,{channel:n,message:o}):null),O=function(e,t){return e.message.state!==me.yb.SEND_FAILED?(0,r.jsx)(Fn,Un(kn({},e),{expanded:t})):null}(l,h);return f||null==b&&null==O?null:(0,r.jsx)("div",{className:a()(e.className,(i={},Ln(i,Dn().container,!0),Ln(i,Dn().isHeader,c),i)),onClick:Hn,onContextMenu:Hn,
role:"group","aria-label":Mt.Z.Messages.MESSAGE_UTILITIES_A11Y_LABEL,children:(0,r.jsxs)(_n.ZP,{children:[b,O]})})}));function zn(e,t,n){var o=e.message,i=e.channel,a=e.groupId,l=e.compact,u=void 0!==l&&l,c=n.emojiPicker,s=n.moreUtilities,f=o.state===me.yb.SENDING,d=o.id===a,p=(0,ze.yE)(o.flags,me.iLy.EPHEMERAL),h=o.state===me.yb.SEND_FAILED;return f||p&&!h?null:(0,r.jsx)(Yn,{className:it().buttons,isHeader:!u&&d&&!(0,Ke.Z)(o),channel:i,message:o,setPopout:t,showEmojiPicker:c,showMoreUtilities:s})}var Kn=n(315235),qn=n(735093),Xn=o.memo((function(e){var t=e.message,n=e.channel,i=e.compact,a=void 0!==i&&i,l=e.groupId,u=e.isGroupStart,c=e.usernameProfile,s=e.avatarProfile,f=e.setPopout,d=e.author,p=e.repliedMessage,h=e.roleIcon,y=(0,yt.wq)(t.author.id,n.id),b=(0,yt.XO)(t,n,c,f),v=(0,yt.R9)(s,f),m=o.useCallback((function(){return f({usernameProfile:!1,avatarProfile:!1,referencedUsernameProfile:!1})}),[f]);return(0,r.jsx)(Kn.ZP,{guildId:n.guild_id,message:t,channel:n,repliedMessage:p,
author:d,compact:a,subscribeToGroupId:l,showTimestampOnHover:!u&&a&&t.type!==me.uaV.REPLY,renderPopout:qn.Z,showAvatarPopout:s,showUsernamePopout:c,onClickAvatar:v,onClickUsername:b,onContextMenu:y,onPopoutRequestClose:m,roleIcon:h})})),Qn=o.memo(Rt.Z);function Jn(e){var t=e.messageProps,n=e.setPopout,o=e.messagePopouts,i=e.replyReference,a=e.author,l=e.repliedMessage,u=e.roleIcon,c=t.message,s=t.compact,f=t.channel,d=t.groupId,p=o.usernameProfile,h=o.avatarProfile;if((0,Ke.Z)(c))return null;var y=c.id===d;return y||s||null!=i?(0,r.jsx)(Xn,{message:c,channel:f,compact:s,subscribeToGroupId:d,isGroupStart:y,groupId:d,setPopout:n,usernameProfile:p,avatarProfile:h,author:a,repliedMessage:l,roleIcon:u}):(0,r.jsx)(Qn,{compact:!0,timestamp:c.timestamp,isInline:!1,id:(0,lt.Dv)(c),isVisibleOnlyOnHover:!0,cozyAlt:!0})}var $n=n(857542),er=n(691869),tr=n(85451),nr=n(290174),rr=n(640753),or=n(115657),ir=n.n(or);function ar(e,t){
if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lr(e){lr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return lr(e)}function ur(e,t){return!t||"object"!==sr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function cr(e,t){cr=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return cr(e,t)}var sr=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function fr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=lr(e);if(t){var o=lr(this).constructor;n=Reflect.construct(r,arguments,o)
}else n=r.apply(this,arguments);return ur(this,n)}}function dr(e){e.stopPropagation()}var pr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&cr(e,t)}(n,e);var t=fr(n);function n(){ar(this,n);var e;(e=t.apply(this,arguments)).node=o.createRef();e.onClickSave=function(){var t=e.props.textValue;e.onSubmit(t)};e.onSubmit=function(t){var n=e.props,r=n.message,o=n.channel,i=n.onConfirmDelete,a=n.onCancel,l=n.saveMessage,u=n.validateEdit;if(0===t.length){i(o,r);a(o.id);return Promise.resolve({shouldClear:!1,shouldRefocus:!1})}return u({value:t,channel:o}).then((function(n){if(!n.valid)return Promise.resolve({shouldClear:!1,shouldRefocus:!1});var r=(0,nr.g)(t,{channel:o,isEdit:!0});null!=(null==r?void 0:r.content)&&(t=r.content);var i=rr.ZP.parse(e.props.channel,t)
;i.content!==e.props.message.content&&l(e.props.channel.id,e.props.message.id,i);a(o.id);return Promise.resolve({shouldClear:!0,shouldRefocus:!0})}))};e.onChange=function(t,n,r){var o=e.props,i=o.channel;(0,o.onChange)(i.id,n,r)};e.onKeyDown=function(t){if(t.keyCode===me.yXg.ESCAPE&&!t.shiftKey){var n=e.props,r=n.channel,o=n.onCancel;t.preventDefault();t.stopPropagation();o(r.id)}};return e}n.prototype.render=function(){var e=this.props,t=e.className,n=e.textValue,o=e.richValue,i=e.message,a=e.channel,l=e.onCancel,u=e.children;return(0,r.jsxs)("div",{className:t,ref:this.node,onContextMenu:dr,children:[u({textValue:n,richValue:o,message:i,channel:a,onChange:this.onChange,onSubmit:this.onSubmit,onKeyDown:this.onKeyDown}),(0,r.jsx)("div",{className:ir().operations,children:Mt.Z.Messages.EDIT_TEXTAREA_HELP.format({onCancel:function(){return l(a.id)},onSave:this.onClickSave})})]})};return n}(o.PureComponent),hr=n(391595);function yr(e,t){(null==t||t>e.length)&&(t=e.length)
;for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function br(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function vr(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function mr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{
if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return yr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gr(e){var t=e.value,n=e.channel;return(0,hr.v)({type:er.I.EDIT,content:t,channel:n,restrictMentions:!1,respectCooldown:!1})}function Or(e){var t=e.channel,n=e.message,i=t.id,a=n.id,l=t.getGuildId(),s=(0,u.e7)([an.Z],(function(){return an.Z.getGuild(l)}),[l]),f=t.type===me.d4z.GUILD_ANNOUNCEMENT,d=null!=s&&s.hasFeature(me.oNc.NEWS),p=f&&d,h=(0,u.cj)([m.Z],(function(){return{editingMessage:m.Z.getEditingMessage(i),editingTextValue:m.Z.getEditingTextValue(i),
editingRichValue:m.Z.getEditingRichValue(i)}}),[i,a]),y=h.editingMessage,b=h.editingTextValue,g=h.editingRichValue,O=(0,u.e7)([v.default],(function(){return v.default.getId()})),j=o.useCallback((function(e,n,r){var o=r.content,i=E.Z.can(me.Plq.MANAGE_MESSAGES,t),a=null!=y&&null!=y.author?y.author.id:null;p&&(a===O||i)&&null!=y&&(0,ze.yE)(y.flags,me.iLy.CROSSPOSTED)?$n.Z.confirmEdit(e,n,o):c.Z.editMessage(e,n,{content:o});return Promise.resolve()}),[y,p,O,t]),S=o.useCallback((function(e){return(0,o.createElement)(Er,vr(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){br(e,t,n[t])}))}return e}({},e),{className:it().channelTextArea,key:a}))}),[a]);return null!=b&&null!=g?(0,r.jsx)(pr,{ref:void 0,channel:t,message:n,textValue:b,richValue:g,
onCancel:c.Z.endEditMessage,onChange:c.Z.updateEditMessage,onConfirmDelete:$n.Z.confirmDelete,saveMessage:j,validateEdit:gr,children:S}):null}function Er(e){var t=e.textValue,n=e.richValue,i=e.message,a=e.channel,l=e.onChange,u=e.onSubmit,c=e.onKeyDown,s=mr(o.useState(!0),2),f=s[0],d=s[1],p=o.useCallback((function(){return d(!0)}),[]),h=o.useCallback((function(){return d(!1)}),[]);o.useEffect((function(){Ce.S.subscribe(me.CkL.TEXTAREA_FOCUS,p);Ce.S.subscribe(me.CkL.TEXTAREA_BLUR,h);return function(){Ce.S.unsubscribe(me.CkL.TEXTAREA_FOCUS,p);Ce.S.unsubscribe(me.CkL.TEXTAREA_BLUR,h)}}),[p,h]);return(0,r.jsx)(tr.Z,{className:it().channelTextArea,textValue:t,richValue:n,channel:a,type:er.I.EDIT,onChange:l,onSubmit:function(e){var t=e.value;return u(t)},onKeyDown:c,focused:f,onFocus:p,onBlur:h},i.id)}function jr(e,t,n){var o=e.message,i=e.channel;return n?(0,r.jsx)(Or,{channel:i,message:o}):(0,r.jsx)(Zt.ZP,{message:o,content:t})}var Sr=n(105405),Cr=n(111582),Pr=o.memo((function(e){
var t,n=e.message,i=e.channel,a=e.compact,l=void 0!==a&&a,c=e.interactionUsernameProfile,s=e.interactionAvatarProfile,f=e.interactionData,d=e.setPopout,p=(0,u.e7)([Sr.Z],(function(){return null!=n.interaction&&Sr.Z.isBlocked(n.interaction.user.id)}),[n.interaction]),h=(0,yt.wq)(null===(t=n.interaction)||void 0===t?void 0:t.user.id,i.id),y=(0,yt.Nk)(n.interaction,i,c,d),b=(0,yt.NU)(s,d),v=(0,yt.Xn)(f,d),m=o.useCallback((function(){return d({interactionUsernameProfile:!1,interactionAvatarProfile:!1,interactionData:!1})}),[d]);return(0,r.jsx)(Cr.Z,{message:n,channel:i,compact:l,isInteractionUserBlocked:p,showAvatarPopout:s,showUsernamePopout:c,showDataPopout:f,onClickAvatar:b,onClickUsername:y,onClickCommand:v,onUserContextMenu:h,onPopoutRequestClose:m})}));function Ir(e,t,n){var o=e.message,i=e.channel,a=e.compact,l=n.interactionUsernameProfile,u=n.interactionAvatarProfile,c=n.interactionData;return null!=o.interaction?(0,r.jsx)(Pr,{message:o,channel:i,compact:a,setPopout:t,
interactionUsernameProfile:l,interactionAvatarProfile:u,interactionData:c}):null}var _r=n(744781),wr=n(17219),xr=n(233779),Nr=n(352297),Tr=n(388968),Ar=n(978571),Zr=o.memo((function(e){var t=e.baseMessage,n=e.referencedMessage,i=e.channel,a=e.compact,l=void 0!==a&&a,c=e.referencedUsernameProfile,s=e.referencedAvatarProfile,f=e.setPopout,d=n.state===Be.Y.LOADED?n.message:void 0,p=(0,qe.Uj)(d),h=o.useMemo((function(){if(null==d)return null;if(d.type===me.uaV.USER_JOIN)return(0,_r.Rp)(Tr.Z.getSystemMessageUserJoin(d.id).astFormat({username:null!=p?p.nick:d.author.username,usernameHook:function(e){return e}}));if(d.type===me.uaV.ROLE_SUBSCRIPTION_PURCHASE)return(0,_r.Rp)((0,xr.PA)({username:null!=p?p.nick:d.author.username,guildId:null==i?void 0:i.guild_id,roleSubscriptionData:d.roleSubscriptionData}));if(d.type===me.uaV.GUILD_APPLICATION_PREMIUM_SUBSCRIPTION)return(0,_r.Rp)((0,wr.Y)({application:null==d?void 0:d.application,username:null==p?void 0:p.nick}))
;if(null!=d.content&&""!==d.content){var e=d.isFirstMessageInForumPost(i)?{formatInline:!0,noStyleAndInteraction:!0,allowHeading:!0,allowList:!0}:{formatInline:!0};return(0,Ar.ZP)(d,e).content}return null}),[d,p,i]),y=(0,u.e7)([Sr.Z],(function(){return null!=d&&Sr.Z.isBlocked(d.author.id)}),[d]),b=(0,yt.wq)(null==d?void 0:d.author.id,i.id),v=(0,yt.$3)(t,d,y),m=(0,yt.Wl)(d,i,c,f),g=(0,yt.rY)(s,f),O=o.useCallback((function(){return f({referencedUsernameProfile:!1,referencedAvatarProfile:!1})}),[f]),E=(0,qe.Uj)(t);return(0,r.jsx)(Nr.Z,{repliedAuthor:p,baseMessage:t,channel:i,baseAuthor:E,referencedMessage:n,content:h,compact:l,isReplyAuthorBlocked:y,showAvatarPopout:s,showUsernamePopout:c,renderPopout:qn.Z,onClickAvatar:g,onClickUsername:m,onClickReply:v,onContextMenu:b,onPopoutRequestClose:O})}));function Rr(e,t,n,o,i){var a=e.message,l=e.channel,u=e.compact,c=n.referencedUsernameProfile,s=n.referencedAvatarProfile,f=a.type===me.uaV.REPLY&&null!=o&&(0,r.jsx)(Zr,{baseMessage:a,
replyReference:o,referencedMessage:i,channel:l,compact:u,setPopout:t,referencedUsernameProfile:c,referencedAvatarProfile:s});return(0,r.jsx)(r.Fragment,{children:f})}var Mr=n(88662);function Dr(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Lr(){Lr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return Lr.apply(this,arguments)}function kr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Dr(e,t,n[t])}))}return e}function Ur(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){
var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Gr(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function Hr(e){var t=e.id,n=e.message,i=e.message.id,c=e.channel,f=e.channel.id,d=e.compact,p=void 0!==d&&d,h=e.className,b=e.flashKey,v=e.groupId,g=e.isHighlight;De()(n.type!==me.uaV.THREAD_STARTER_MESSAGE,"Message must not be a thread starter message")
;var O,j=me.OBS.has(n.type)?n.messageReference:void 0,S=(0,l.JA)(null!==(O=e.id)&&void 0!==O?O:""),C=S.onFocus,P=Gr(S,["onFocus"]),I=y.RS.useSetting(),_=y.NA.useSetting(),w=I&&_,x=(0,u.e7)([Be.Z],(function(){return Be.Z.getMessageByReference(j)})),N=o.useMemo((function(){return n.reactions.filter((function(e){return e.burst_count>0}))}),[n.reactions]),T=(0,Pt.Z)(n.id,ve.d$),A=T.popouts,Z=T.selected,R=T.setPopout,M=(0,yt.qo)(n,c,R),D=(0,yt.Go)(n,c),L=(0,yt.tn)(v,n.author.id,Z),k=L.handleMouseEnter,U=L.handleMouseLeave,G=L.hasHovered,H=L.isHovered;ht({isHovered:H,messageId:i,reactions:N});var B,V=(0,yt.bb)(C),F=V.isFocused,W=V.hasFocused,Y=V.handleFocus,z=V.handleBlur,q=(0,u.e7)([m.Z],(function(){return m.Z.isEditing(f,i)}),[f,i]),X=(0,u.e7)([s.Z],(function(){return s.Z.keyboardModeEnabled})),J=Z||q||X&&F,$=J||H,ee=(0,u.e7)([Ve.Z],(function(){return n.hasFlag(me.iLy.HAS_THREAD)&&Ve.Z.getChannel(n.id)})),te=n.isFirstMessageInForumPost(c),ne=(0,It.Z)(n,{renderMediaEmbeds:w,isInteracting:$,
formatInline:!1,allowList:te,allowHeading:te}),re=ne.content,oe=ne.hasSpoilerEmbeds,ie=Ct(i,f,X),ae=(0,qe.ZP)(n),le=(0,u.e7)([He.Z],(function(){return He.Z.getPendingReply(f)})),ue=function(e){var t=o.useRef(e);o.useEffect((function(){t.current=null!=e?e:t.current}));return null!=e?e:t.current}(b),ce=(0,Ge.p9)({guildId:c.guild_id,roleId:ae.iconRoleId}),se=(0,lt.iG)(n,v),fe=(0,lt.Gx)(n),de=null!=(0,u.e7)([Ue.Z],(function(){return Ue.Z.getMessage(i)}),[i]),pe=!q&&de?function(e,t){var n=e.message,o=e.compact;return(0,r.jsx)(Wt,{message:n,content:t,compact:o})}(e,re):jr(e,re,q),he=n.id===v,ye=(0,Le.A)(),be=g&&he?(0,r.jsxs)("div",{className:it().highlightContainer,children:[(0,r.jsx)(ke.Z,{className:it().highlightIcon,width:10,height:10}),(0,r.jsx)(We.x,{style:{color:ye},variant:"text-sm/medium",children:Mt.Z.Messages.HIGHLIGHT})]}):null,ge=(0,u.e7)([E.Z],(function(){return E.Z.canWithPartialContext(me.Plq.MUTE_MEMBERS,{channelId:c.id})}),[c.id]),Oe=(0,u.e7)([K.default],(function(){
return K.default.getCurrentUser()}));if(n.type===me.uaV.STAGE_RAISE_HAND&&!ge&&n.author.id!==(null==Oe?void 0:Oe.id))return null;var Ee,je=(0,r.jsx)(Q.tE,{offset:{left:4,right:4},children:(0,r.jsxs)("li",{id:t,className:it().messageListItem,"aria-setsize":-1,children:[(0,r.jsx)(at,{reactions:n.reactions,isHighlighted:g||n.mentioned}),(0,r.jsx)(Ye.Z,Ur(kr({},P),{"aria-setsize":-1,"aria-roledescription":Mt.Z.Messages.MESSAGE_A11Y_ROLE_DESCRIPTION,"aria-labelledby":se,"aria-describedby":fe,onFocus:Y,onBlur:z,onContextMenu:M,onKeyDown:ie,onClick:D,compact:p,className:a()(h,(B={},Dr(B,it().message,!0),Dr(B,it().cozyMessage,!p),Dr(B,it().mentioned,n.mentioned&&!(0,Ke.Z)(n)),Dr(B,it().highlighted,g),Dr(B,it().ephemeral,(0,ze.yE)(n.flags,me.iLy.EPHEMERAL)),Dr(B,it().systemMessage,(0,Ke.Z)(n)),Dr(B,it().groupStart,he||n.type===me.uaV.REPLY),Dr(B,it().selected,J),Dr(B,it().replying,(null==le?void 0:le.message.id)===n.id),Dr(B,it().interactionSending,n.isCommandType()&&n.state===me.yb.SENDING),
Dr(B,it().automodMessage,de),B)),zalgo:!q,childrenHighlight:be,childrenRepliedMessage:Rr(e,R,A,j,x),childrenExecutedCommand:Ir(e,R,A),childrenHeader:Jn({messageProps:e,setPopout:R,messagePopouts:A,replyReference:j,author:ae,repliedMessage:x,roleIcon:ce}),childrenAccessories:(0,_t.Z)({channelMessageProps:e,hasSpoilerEmbeds:oe,handleContextMenu:M,isInteracting:$}),childrenButtons:G||W?zn(e,R,A):void 0,childrenSystemMessage:(0,Mr.Z)(e),childrenMessageContent:pe,onMouseMove:k,onMouseLeave:U,hasThread:n.hasFlag(me.iLy.HAS_THREAD)&&null!=ee,isSystemMessage:(0,Ke.Z)(n),hasReply:n.type===me.uaV.REPLY}))]})});return null!=ue?(0,r.jsx)(nt,{flashKey:ue,className:a()((Ee={},Dr(Ee,it().backgroundFlash,!0),Dr(Ee,it().groupStart,!p&&n.id===v),Ee)),children:je},"bg-flash-".concat(t)):je}function Br(e){var t,n=e.id,o=e.message,i=e.message.messageReference,c=e.compact,s=void 0!==c&&c,f=e.className;De()(o.type===me.uaV.THREAD_STARTER_MESSAGE,"Message must be a thread starter message");var d,p=Lr({},(0,
l.JA)(null!==(t=e.id)&&void 0!==t?t:"")),h=(0,u.e7)([Be.Z],(function(){return Be.Z.getMessageByReference(i)})),y=(0,Pt.Z)(o.id,ve.d$),b=y.popouts,v=y.setPopout,m=(0,qe.ZP)(o),g=(0,lt.iG)(o),O=(0,lt.Gx)(o);return o.type===me.uaV.THREAD_STARTER_MESSAGE&&null!=h&&h.state===Be.Y.LOADED?(0,r.jsx)(Vr,Ur(kr({},e),{message:h.message,groupId:h.message.id})):(0,r.jsx)(Ye.Z,Ur(kr({},p),{id:n,compact:s,className:a()(f,(d={},Dr(d,it().message,!0),Dr(d,it().cozyMessage,!s),Dr(d,it().systemMessage,!0),Dr(d,it().groupStart,!0),d)),childrenHeader:Jn({messageProps:e,setPopout:v,messagePopouts:b,replyReference:i,author:m}),childrenSystemMessage:(0,Mr.Z)(e),childrenMessageContent:null,"aria-labelledby":g,"aria-describedby":O,hasThread:!1}))}function Vr(e){var t,n=e.id,i=e.message,c=e.message,f=c.id,d=c.channel_id,p=e.channel.guild_id,h=e.compact,b=void 0!==h&&h,v=e.className,m=e.groupId,g=i.type===me.uaV.REPLY?i.messageReference:void 0,O=(0,
l.JA)(null!==(t=e.id)&&void 0!==t?t:""),E=O.onFocus,j=Gr(O,["onFocus"]),S=(0,yt.bb)(E),C=S.isFocused,P=S.handleFocus,I=S.handleBlur,_=(0,Pt.Z)(i.id,ve.d$),w=_.popouts,x=_.selected,N=_.setPopout,T=y.RS.useSetting(),A=y.NA.useSetting(),Z=T&&A,R=(0,u.e7)([Be.Z],(function(){return Be.Z.getMessageByReference(g)})),M=o.useMemo((function(){return i.reactions.filter((function(e){return e.burst_count>0}))}),[i.reactions]),D=(0,yt.tn)(m,i.author.id,x),L=D.handleMouseEnter,k=D.handleMouseLeave,U=D.isHovered;ht({isHovered:U,messageId:f,reactions:M});var G,H=(0,u.e7)([s.Z],(function(){return s.Z.keyboardModeEnabled})),B=x||H&&C,V=B||U,F=(0,It.Z)(i,{renderMediaEmbeds:Z,isInteracting:V,formatInline:!1}),W=F.content,Y=F.hasSpoilerEmbeds,z=Ct(f,d,H),K=(0,qe.ZP)(i),q=(0,lt.iG)(i,m),X=(0,lt.Gx)(i),Q=jr(e,W,!1),J=o.useCallback((function(){return(0,Ze.XU)(p,d,f)}),[p,d,f]),$=(0,Ge.p9)({guildId:p,roleId:K.iconRoleId});return(0,r.jsxs)("div",{className:it().quotedChatMessage,children:[(0,r.jsx)(Fe.Z,{
className:it().jump,onClick:J,"aria-label":Mt.Z.Messages.JUMP,children:Mt.Z.Messages.JUMP}),(0,r.jsx)(Ye.Z,Ur(kr({},j),{id:n,compact:b,className:a()(v,(G={},Dr(G,it().message,!0),Dr(G,it().cozyMessage,!b),Dr(G,it().mentioned,i.mentioned&&!(0,Ke.Z)(i)),Dr(G,it().ephemeral,(0,ze.yE)(i.flags,me.iLy.EPHEMERAL)),Dr(G,it().systemMessage,(0,Ke.Z)(i)),Dr(G,it().groupStart,i.id===m||i.type===me.uaV.REPLY),Dr(G,it().selected,B),G)),zalgo:!0,onKeyDown:z,onFocus:P,onBlur:I,childrenRepliedMessage:Rr(e,N,w,g,R),childrenHeader:Jn({messageProps:e,setPopout:N,messagePopouts:w,replyReference:g,author:K,repliedMessage:R,roleIcon:$}),childrenAccessories:(0,_t.Z)({channelMessageProps:e,hasSpoilerEmbeds:Y,isInteracting:V,renderThreadAccessory:!1,renderComponentAccessory:!1,renderSuppressEmbeds:!1}),childrenSystemMessage:(0,Mr.Z)(e),childrenMessageContent:Q,onMouseMove:L,onMouseLeave:k,"aria-labelledby":q,"aria-describedby":X,hasThread:!1}))]})}const Fr=o.memo(Hr);function Wr(e,t){
for(var n=e.offsetTop,r=e.offsetParent;null!=r&&r!==t&&(0,xe.k)(r,HTMLElement);){var o;n+=null!==(o=r.offsetTop)&&void 0!==o?o:0;r=r.offsetParent}return n}function Yr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function zr(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Kr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||Xr(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qr(e){return function(e){
if(Array.isArray(e))return Yr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Xr(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xr(e,t){if(e){if("string"==typeof e)return Yr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Yr(e,t):void 0}}function Qr(e){c.Z.jumpToPresent(e.id,me.AQB);var t;(0,Ze.XU)(null!==(t=e.getGuildId())&&void 0!==t?t:me.ME,e.id)}function Jr(e){if(null==e.jumpTargetId||!e.ready)return null;var t=e.jumpTargetId,n=e.jumpTargetOffset;if(e.has(t)||!e.hasMoreBefore&&t===e.channelId){if(0===n)return t;var r,o=e.getByIndex(e.indexOf(t)+n);return null!==(r=null==o?void 0:o.id)&&void 0!==r?r:t}
var i,a=[t].concat(qr(e.map((function(e){return e.id})))).sort(he.Z.compare),l=a.indexOf(t),u=null!==(i=a[l+(Math.abs(n)>0?n:1)])&&void 0!==i?i:a[l-1];return null!=u?u:null}var $r={scrollTop:0,scrollHeight:0,offsetHeight:0},eo=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);this.ref=o.createRef();this.automaticAnchor=null;this.messageFetchAnchor=null;this.focusAnchor=null;this.jumping=!1;this.dragging=!1;this.isAtBottom=!1;this.prevScrollTop=null;this.anchorTimeout=null;this.initialScrollTop=null;this.acking=!1;this.scrollCounter=0;this.offsetHeightCache=0;this.scrollHeightCache=0;this.scrollTopCache=-1;this._bottomAnchor=null;this._automaticAnchorCallback=null;this.handleScroll=function(e){var t;if(n.isInitialized()){var r=n.getScrollerState(),o=n.isScrolledToBottom(r);if(o!==n.isAtBottom)if(o){n.isAtBottom=!0;n.props.handleScrollToBottom()}else{n.isAtBottom=!1;n.props.handleScrollFromBottom()}
if(r.offsetHeight!==n.offsetHeightCache||r.scrollHeight!==n.scrollHeightCache){n.scrollCounter=0;clearTimeout(n.anchorTimeout);n.isPinned()||(null==n.automaticAnchor?n.setAutomaticAnchor(n.findAnchor()):n.updateAutomaticAnchor(r.scrollTop,!0));clearTimeout(n.anchorTimeout);n.fixScrollPosition(r.offsetHeight,r.scrollHeight);n.scrollTopCache=r.scrollTop}else{if(null!=e&&e.target!==(null===(t=n.ref.current)||void 0===t?void 0:t.getScrollerNode()))return;if(n.scrollTopCache!==r.scrollTop){n.pinned=o;n.scrollCounter=Math.min(n.scrollCounter+1,5);n.pinned?n.cleanAutomaticAnchor():null!=n.automaticAnchor?n.updateAutomaticAnchor(r.scrollTop,!0):n.setAutomaticAnchor(n.findAnchor());n.scrollTopCache=r.scrollTop;clearTimeout(n.anchorTimeout);n.anchorTimeout=setTimeout((function(){n.scrollCounter=0;n.anchorTimeout=null;n.prevScrollTop=null;var e=n.getScrollerState(),t=e.scrollHeight,r=e.offsetHeight;if(n.isHeightChange(r,t))n.handleScroll();else{n.cleanAutomaticAnchor()
;n.isPinned()||n.setAutomaticAnchor(n.findAnchor())}}),35)}}n.handleFocusAnchorScroll(r.scrollTop,r.offsetHeight);n.updateStoreDimensionsDebounced();if(n.isScrollLoadingDisabled()){n.props.canLoadMore||n.enableAutomaticAck();return n.handleScrollSpeed(r)}var i=n.isInScrollTriggerLoadingRegion(r);1===i?n.loadMore():2===i?n.loadMore(!0):n.enableAutomaticAck();n.handleScrollSpeed(r)}};this.handleResize=function(e,t){var r=n.offsetHeightCache,o=n.scrollHeightCache;"container"===t?r=e.contentRect.height:"content"===t&&(o=e.contentRect.height);n.isHeightChange(r,o)&&n.fixScrollPosition(r,o)};this.handleMouseDown=function(e){e.target===e.currentTarget&&(n.dragging=!0)};this.handleMouseUp=function(){n.dragging=!1;n.handleScroll()};this.loadMore=function(){var e,t,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0],o=n.props.messages;if(r){var i=o.last();null!=i&&(t=i.id)}else{var a=o.first();null!=a&&(e=a.id)}n.messageFetchAnchor=n.findFetchAnchor(r);n.loading=!0;c.Z.fetchMessages({
channelId:n.props.channel.id,before:e,after:t,limit:me.AQB,truncate:!0})};this.updateStoreDimensionsDebounced=we().debounce(this.updateStoreDimensions,200);this.props=t;this.loading=t.messages.loadingMore;var r=Re.Z.getChannelDimensions(t.channel.id);if(null!=t.messages.jumpTargetId)this.pinned=!1;else{var i;this.initialScrollTop=null!==(i=null==r?void 0:r.scrollTop)&&void 0!==i?i:null;this.pinned=null==r}}var t=e.prototype;t.isReady=function(){return this.props.messages.ready};t.isLoading=function(){return this.loading||this.props.messages.loadingMore};t.isPinned=function(){return this.pinned};t.isJumping=function(){return this.jumping};t.isDragging=function(){return this.dragging};t.isInitialized=function(){return void 0===this.initialScrollTop};t.isScrollLoadingDisabled=function(){return this.isLoading()||!this.isInitialized()||this.isJumping()||this.isDragging()||!this.props.canLoadMore};t.isActivelyScrolling=function(){return this.scrollCounter>=5};t.getDocument=function(){var e,t
;return null===(t=null===(e=this.ref.current)||void 0===e?void 0:e.getScrollerNode())||void 0===t?void 0:t.ownerDocument};t.getElementFromMessageId=function(e){var t=this.getDocument();return null==t?null:function(e,t){return e.getElementById((0,Pe.p)(t))}(t,e)};t.isScrolledToBottom=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getScrollerState(),t=e.scrollTop,n=e.scrollHeight,r=e.offsetHeight;return t>=n-r-ve.kQ&&!this.props.messages.hasMoreAfter};t.mergePropsAndUpdate=function(e){this.mergePropsAndUpdate_(e);this.props.messages.ready&&this.enableAutomaticAck()};t.mergePropsAndUpdate_=function(e){var t=this.props.messages,n=this.props.focusId;this.props=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){
zr(e,t,n[t])}))}return e}({},e);var r=this.getScrollerState(),o=r.offsetHeight,i=r.scrollHeight,a=this.isHeightChange(o,i);this.offsetHeightCache=o;this.scrollHeightCache=i;this.loading=e.messages.loadingMore;if(this.isInitialized()||this.isReady())if(this.isInitialized()){if(null!=e.messages.jumpTargetId){if(this.isLoading())return;var l=Jr(e.messages);if(null!=l&&!this.isJumping()&&e.messages.jumpSequenceId!==t.jumpSequenceId){var u,c=t.first();null!=c&&e.messages.last()!==t.last()&&e.messages.first()!==t.first()&&(u=he.Z.extractTimestamp(c.id));this.scrollToMessage(l,!0,u);return}if(this.isJumping()){null!=l?this.scrollToMessage(l,!0):this.jumping=!1;return}}if(e.messages.jumpedToPresent&&t.jumpSequenceId!==e.messages.jumpSequenceId){this.jumping=!0;this.scrollTo(0);this.setScrollToBottom(!0)}else{var s=e.messages.last(),f=t.last();if(null==s||s.state!==me.yb.SENDING||(null==f?void 0:f.id)===s.id){var d=this.props.focusId;if(null!=d&&n!==d){var p=this.getElementFromMessageId(d)
;if(null!=p){var h;null===(h=this.ref.current)||void 0===h||h.scrollIntoViewNode({node:p,padding:ve.kQ,callback:this.handleScroll});return}}a&&this.fixScrollPosition(o,i)}else this.setScrollToBottom()}}else this.restoreScroll();else null==e.messages.jumpTargetId&&this.scrollTo(Number.MAX_SAFE_INTEGER)};t.getAnchorData=function(e,t,n){var r,o=this.getElementFromMessageId(e),i=null===(r=this.ref.current)||void 0===r?void 0:r.getScrollerNode();if(!(0,xe.k)(o)||null==i)return null;var a=o.offsetHeight,l=Wr(o,i),u=l-t;null!=n&&(u=Math.max(-a,Math.min(n,u)));return{id:e,offsetFromTop:u,offsetTop:l,offsetHeight:a,clamped:null!=u}};t.cleanAutomaticAnchor=function(){this.setAutomaticAnchor(null)};t.newMessageBarBuffer=function(){return this.props.channel.isForumPost()?ve.R4:ve.Eo};t.findAnchor=function(){for(var e=this.props,t=e.messages,n=e.hasUnreads,r=e.channel,o=this.getScrollerState(),i=o.scrollTop,a=n&&i>=this.newMessageBarBuffer()?this.newMessageBarBuffer():0,l=null,u=function(e){var n
;return-1===e?r.id:null===(n=t._array[e])||void 0===n?void 0:n.id},c=-1,s=!1;;){var f=u(c);if(null==f)break;var d=this.getAnchorData(f,i);this._bottomAnchor=d;if(s&&null!=d&&d.offsetTop>i+a+o.offsetHeight)break;if(s)c++;else{if(null!=d&&(d.offsetTop>=i+a||c===t.length-1)){l=d;s=!0}c++}}return l};t.findFetchAnchor=function(e){for(var t=this.props.messages,n=this.getScrollerState().scrollTop,r=e?-1:1,o=null,i=t._array.length-1,a=e?i:0;null!=t._array[a];a+=r){var l=t._array[a],u=this.getAnchorData(l.id,n);if(null!=u){o=u;break}}return o};t.getAnchorFixData=function(){var e=[this.focusAnchor,this.isLoading()?null:this.messageFetchAnchor,this.automaticAnchor],t=!0,n=!1,r=void 0;try{for(var o,i=e[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;if(null!=a){var l=this.getElementFromMessageId(a.id);if((0,xe.k)(l)){var u=a===this.messageFetchAnchor?a.offsetHeight-l.offsetHeight:0;return{node:l,fixedScrollTop:l.offsetTop-(a.offsetFromTop+u)}}}}}catch(e){n=!0;r=e}finally{try{
t||null==i.return||i.return()}finally{if(n)throw r}}return null};t.fixAnchorScrollPosition=function(){var e=this.getAnchorFixData();if(null!=e){var t=e.node,n=e.fixedScrollTop;if(null!=this.focusAnchor){var r;this.isPinned()?this.scrollTo(Number.MAX_SAFE_INTEGER,!1,this.handleScroll):this.mergeTo(n,this.handleScroll);null===(r=this.ref.current)||void 0===r||r.scrollIntoViewNode({node:t,padding:ve.kQ,callback:this.handleScroll})}else this.mergeTo(n,this.handleScroll);this.isActivelyScrolling()?this.setAutomaticAnchor(null):this.setAutomaticAnchor(this.findAnchor());this.isLoading()||(this.messageFetchAnchor=null)}else this.handleScroll()};t.hasAnchor=function(){return null!=this.focusAnchor||null!=this.messageFetchAnchor||null!=this.automaticAnchor};t.updateFocusAnchor=function(e,t,n){var r=this.focusAnchor=null!=e?this.getAnchorData(e,t):null;null!=r&&(r.offsetFromTop>=n||t>r.offsetTop+r.offsetHeight)&&(this.focusAnchor=null)};t.handleFocusAnchorScroll=function(e,t){var n
;this.updateFocusAnchor(null===(n=this.focusAnchor)||void 0===n?void 0:n.id,e,t)};t.updateFetchAnchor=function(e,t,n){var r,o=null===(r=this.ref.current)||void 0===r?void 0:r.getScrollerNode();null!=this.messageFetchAnchor&&null!=o&&(this.messageFetchAnchor=this.getAnchorData(this.messageFetchAnchor.id,e,this.isInPlaceholderRegion({scrollTop:e,offsetHeight:t,scrollHeight:n})>0?t:void 0))};t.updateAutomaticAnchor=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=null===(t=this.ref.current)||void 0===t?void 0:t.getScrollerNode();if(null!=this.automaticAnchor&&null!=r){var o=this.getAnchorData(this.automaticAnchor.id,e);n&&null!=o&&null!=this.automaticAnchor&&(o.offsetFromTop=this.automaticAnchor.offsetFromTop);this.setAutomaticAnchor(o)}};t.setAutomaticAnchor=function(e){var t;this.automaticAnchor=e;null===(t=this._automaticAnchorCallback)||void 0===t||t.call(this,this.automaticAnchor,this._bottomAnchor)};t.getScrollerState=function(){var e,t
;return null!==(t=null===(e=this.ref.current)||void 0===e?void 0:e.getScrollerState())&&void 0!==t?t:$r};t.isHeightChange=function(e,t){return e!==this.offsetHeightCache||t!==this.scrollHeightCache};t.isInPlaceholderRegion=function(e){var t=e.scrollTop,n=e.offsetHeight,r=e.scrollHeight,o=this.props,i=o.messages,a=o.placeholderHeight,l=a,u=r-n-a;return i.hasMoreBefore&&t<l&&r>n?1:i.hasMoreAfter&&t>=u?2:0};t.isInScrollTriggerLoadingRegion=function(e){var t=e.scrollTop,n=e.offsetHeight,r=e.scrollHeight,o=this.props.messages;return o.hasMoreBefore&&t<=this.getOffsetToTriggerLoading("top",e)&&r>n?1:o.hasMoreAfter&&t>=this.getOffsetToTriggerLoading("bottom",e)?2:0};t.handleScrollSpeed=function(e){if(!this.isJumping()&&!this.isDragging()&&this.props.canLoadMore){var t=e.scrollTop,n=e.offsetHeight,r=e.scrollHeight,o=this.prevScrollTop,i=this.props.placeholderHeight;this.prevScrollTop=t;if(null!=o){var a=this.isInPlaceholderRegion(e),l=t-o;if(0!==a)if(1===a&&t+l<=0){this.mergeTo(i-n)
;this.prevScrollTop=i-n}else if(2===a&&t+l>=r-n){this.mergeTo(r-i);this.prevScrollTop=r-i}}}};t.enableAutomaticAck=function(){var e=this;if(this.isInitialized()&&!this.acking){this.acking=!0;this.updateStoreDimensions((function(){(0,Te.CZ)(e.props.channel.id,e.props.windowId)}))}};t.fixScrollPosition=function(e,t){this.offsetHeightCache=e;this.scrollHeightCache=t;this.fixJumpTarget();this.isPinned()&&null==this.messageFetchAnchor&&null==this.focusAnchor?this.scrollTo(Number.MAX_SAFE_INTEGER,!1,this.handleScroll):this.fixAnchorScrollPosition()};t.fixJumpTarget=function(){if(this.isJumping()){var e=this.props,t=e.messages,n=e.hasUnreads;if(null!=t.jumpTargetId){var r=Jr(t);if(null==r)return;var o=this.getElementFromMessageId(r);(0,xe.k)(o)?this.scrollTo(this.getOffsetOrientationFromNode(o,"middle",n?this.newMessageBarBuffer():ve.kQ),!0):this.scrollToNewMessages(!0,"middle")}else this.scrollTo(Number.MAX_SAFE_INTEGER,!0)}};t.scrollToNewMessages=function(){
var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top",r=arguments.length>2?arguments[2]:void 0,o=this,i=null===(e=this.getDocument())||void 0===e?void 0:e.getElementById(ve.j1),a=function(){o.jumping=!1;o.setAutomaticAnchor(o.findAnchor());null!=r&&r();o.handleScroll()};this.pinned=!1;this.jumping=t;null!=i?this.scrollTo(this.getOffsetOrientationFromNode(i,n,this.newMessageBarBuffer()),t,a):this.scrollTo(this.getOffsetToPreventLoading("top"),t,a)};t.getOffsetOrientationFromNode=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=null===(n=this.ref.current)||void 0===n?void 0:n.getScrollerNode();if(null==o)return 0;var i=this.getScrollerState(),a=Wr(e,o);return"middle"===t?Math.min(a-.5*i.offsetHeight+.5*e.offsetHeight-8,a-r):a-r};t.restoreScroll=function(){if(!this.isInitialized()){var e=this.initialScrollTop;this.initialScrollTop=void 0;var t=Jr(this.props.messages)
;null!=t?this.scrollToMessage(t,!1):this.props.hasUnreads&&this.props.channel.type!==me.d4z.GUILD_VOICE&&this.props.channel.type!==me.d4z.GUILD_STAGE_VOICE?this.scrollToNewMessages():null!=e?this.scrollTo(e+this.props.placeholderHeight,!1,this.handleScroll):this.setScrollToBottom()}};t.scrollTo=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2?arguments[2]:void 0;null===(t=this.ref.current)||void 0===t||t.scrollTo({to:e,animate:!s.Z.useReducedMotion&&n,callback:r});this.isPinned()?this.updateStoreDimensions():this.updateStoreDimensionsDebounced()};t.mergeTo=function(e,t){var n;null===(n=this.ref.current)||void 0===n||n.mergeTo({to:e,callback:t});this.isPinned()?this.updateStoreDimensions():this.updateStoreDimensionsDebounced()};t.setScrollToBottom=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this,n=this.props,r=n.messages,o=n.channel;r.hasMoreAfter?Qr(o):this.scrollTo(Number.MAX_SAFE_INTEGER,e,(function(){
t.jumping=!1;t.handleScroll()}))};t.updateStoreDimensions=function(e){if(!this.isJumping()&&this.isInitialized()){var t=this.props.channel;if(this.isPinned())Ne.Z.clearChannelDimensions(t.id,e);else{var n=this.props.placeholderHeight,r=this.getScrollerState(),o=r.scrollTop,i=r.scrollHeight,a=r.offsetHeight;Ne.Z.updateChannelDimensions(t.id,o-n,i-n,a,e)}}};t.scrollIntoViewRect=function(){};t.scrollPageUp=function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];null===(e=this.ref.current)||void 0===e||e.scrollPageUp({animate:t})};t.scrollPageDown=function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];null===(e=this.ref.current)||void 0===e||e.scrollPageDown({animate:t})};t.scrollToMessage=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0,r=this;if(null!=this.ref.current)if(e!==this.props.channel.id){var o=this.getElementFromMessageId(e)
;if(!this.isJumping()&&t&&null!=n&&!s.Z.useReducedMotion){var i=he.Z.extractTimestamp(e);i>n?this.scrollTo(0):this.scrollTo(Number.MAX_SAFE_INTEGER)}this.pinned=!1;this.jumping=!0;var a=function(){r.jumping=!1;(0,xe.k)(o)&&s.Z.keyboardModeEnabled&&o.focus({preventScroll:!0});r.scrollCounter=0;r.handleScroll()};(0,xe.k)(o)?this.scrollTo(this.getOffsetOrientationFromNode(o,"middle",this.props.hasUnreads?this.newMessageBarBuffer():ve.kQ),t,a):this.scrollToNewMessages(t,"middle",a)}else this.scrollTo(0)};t.getOffsetToTriggerLoading=function(e,t){var n=t.scrollHeight,r=t.offsetHeight,o=this.props,i=o.messages,a=o.hasUnreads,l=o.placeholderHeight;return"top"===e?i.hasMoreBefore?a?l-ve.D4-2:l+500:0:i.hasMoreAfter?n-r-l-500:n-r};t.getOffsetToPreventLoading=function(e){var t=this.props.messages,n=0;"top"===e&&t.hasMoreBefore?n=2:"bottom"===e&&t.hasMoreAfter&&(n=-2);return this.getOffsetToTriggerLoading(e,this.getScrollerState())+n};t.getSnapshotBeforeUpdate=function(e){
if(this.hasAnchor()||null!=e){var t=this.getScrollerState(),n=t.scrollTop,r=t.offsetHeight,o=t.scrollHeight;this.updateFocusAnchor(e,n,r);this.updateFetchAnchor(n,r,o);this.updateAutomaticAnchor(n)}};t.setAutomaticAnchorCallback=function(e){this._automaticAnchorCallback=e;e(this.automaticAnchor,this._bottomAnchor)};t.clearAutomaticAnchorCallback=function(){this._automaticAnchorCallback=null};t.cleanup=function(){this.acking=!1;this.updateStoreDimensionsDebounced.cancel();this._automaticAnchorCallback=null;(0,Te.jT)(this.props.channel.id,this.props.windowId)};return e}();var to=n(730381),no=n.n(to),ro=n(529245),oo=n(395590);function io(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function ao(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e)
;t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function lo(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}var uo=o.forwardRef((function(e,t){var n,o=e.className,i=e.isBeforeGroup,l=void 0!==i&&i,u=lo(e,["className","isBeforeGroup"]),c=u.children;return(0,r.jsx)(oo.Z,ao(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){
return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){io(e,t,n[t])}))}return e}({},u),{ref:t,role:"separator","aria-label":"string"==typeof c?c:void 0,className:a()(o,(n={},io(n,it().divider,!0),io(n,it().hasContent,null!=c),io(n,it().beforeGroup,l),n))}))}));const co=o.memo(uo);var so=n(191940),fo=n(523283),po=n(932847),ho=n(272609),yo=n.n(ho);function bo(e){var t=e.channel,n=e.count,o=e.showRedactedMessages;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(co,{}),(0,r.jsxs)("div",{className:yo().redactedMessages,children:[(0,r.jsx)(fo.Z,{className:yo().redactedMessageIcon}),(0,r.jsx)("div",{className:yo().redactedMessageText,children:Mt.Z.Messages.HIDDEN_SPAM_MESSAGE_COUNT.format({count:n})}),(0,r.jsx)(so.Co,{size:so.Co.Sizes.MIN,look:so.Co.Looks.LINK,color:so.Co.Colors.LINK,onClick:function(){po.default.track(me.rMx.DM_SAFETY,{channel_id:t.id,channel_type:t.type,safety_prompt:"DMSpamExperiment",response:"show_redacted_messages"});o()},
className:yo().showRedactedMessagesButton,children:Mt.Z.Messages.BLOCKED_MESSAGES_SHOW.format({count:n})})]})]})}var vo=n(53211),mo=n(304856),go=n(75720),Oo=n(36391),Eo=n(356002),jo=n(53551),So=n(1812),Co=n(735713),Po=n(599414),Io=n(47195),_o=n(266662),wo=n(781405),xo=n(905339),No=n(658620),To=n(194807),Ao=n(915354),Zo=n(440455),Ro=n(112712),Mo=n(911324),Do=n(917870),Lo=n(642400),ko=n(849832);var Uo=n(27029);function Go(e){var t,n,o=e.otherUserId,i=e.channel,a=e.buttonSize,l=void 0===a?so.Ph.TINY:a,c=e.className,s=e.buttonText,f=e.onReportClick,d=e.onReportSubmit,p=e.onMouseEnter,h=e.onMouseLeave,y=(t=o,(n=(0,u.e7)([Sr.Z],(function(){return Sr.Z.getRelationshipType(t)}),[t]))===me.OGo.NONE||n===me.OGo.BLOCKED||n===me.OGo.PENDING_INCOMING),b=(0,Uo.V)(i.id,o);if(!y||null==b)return null;var v=function(){null==d||d();Lo.Z.closePrivateChannel(i.id,!0)};return(0,r.jsx)(so.Co,{className:c,size:l,color:so.Co.Colors.RED,disabled:null==b,onClick:function(){null==f||f();(0,ko.WL)(b,v)},
onMouseEnter:p,onMouseLeave:h,children:null!=s?s:Mt.Z.Messages.REPORT_SPAM})}var Ho=n(570459),Bo=n(96650),Vo=n.n(Bo),Fo=function(e){var t=e.userId,n=(0,u.e7)([Oo.Z],(function(){return Oo.Z.getMutualGuilds(t)}),[t]),i=o.useMemo((function(){return null!=n?n.slice(0,3).map((function(e,t){var o=e.guild,i=null!=o?Do.ZP.getGuildIconURL({id:o.id,icon:o.icon,size:24}):null;if(null==i)return null;var a=t===(n.length>3?3:n.length)-1,l=(0,r.jsx)("img",{src:i,alt:"",className:Vo().avatar},t);return a?l:(0,r.jsx)(Zo.ZP,{className:Vo().avatarMask,mask:Zo.ZP.Masks.VOICE_USER_SUMMARY_ITEM,width:24,height:24,children:l},t)})).filter((function(e){return null!=e})):[]}),[n]);if(null==n||0===n.length)return(0,r.jsx)(We.x,{color:"header-secondary",variant:"text-sm/normal",children:Mt.Z.Messages.NO_MUTUAL_GUILDS});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:Vo().avatarContainer,children:i}),(0,r.jsx)(Fe.Z,{onClick:function(){(0,To.m)({userId:t,section:Ho.oh.MUTUAL_GUILDS,
analyticsLocation:{section:me.jXE.DIRECT_MESSAGE}})},children:(0,r.jsx)(We.x,{className:Vo().mutualGuilds,variant:"text-sm/normal",children:Mt.Z.Messages.USER_PROFILE_MUTUAL_GUILDS.format({count:n.length})})})]})},Wo=function(e){var t,n=e.relationshipType,o=e.userId,i=e.showingBanner,a=null===(t=K.default.getUser(o))||void 0===t?void 0:t.bot,l=function(){Co.Z.addRelationship({userId:o,context:{location:me.ZY5.DM_CHANNEL}})},u=(0,r.jsx)(so.Co,{className:Vo().action,size:so.Co.Sizes.TINY,color:so.Co.Colors.PRIMARY,onClick:function(){Co.Z.addRelationship({userId:o,context:{location:me.ZY5.DM_CHANNEL},type:me.OGo.BLOCKED})},children:Mt.Z.Messages.BLOCK});switch(n){case me.OGo.NONE:return(0,r.jsxs)(r.Fragment,{children:[!a&&!i&&(0,r.jsx)(so.Co,{className:Vo().action,size:so.Co.Sizes.TINY,onClick:l,children:Mt.Z.Messages.ADD_FRIEND}),u]});case me.OGo.FRIEND:return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(so.Co,{className:Vo().action,size:so.Co.Sizes.TINY,onClick:function(){
Co.Z.removeFriend(o,{location:me.ZY5.DM_CHANNEL})},color:so.Co.Colors.PRIMARY,children:Mt.Z.Messages.REMOVE_FRIEND}),u]});case me.OGo.BLOCKED:return(0,r.jsx)(so.Co,{className:Vo().action,size:so.Co.Sizes.TINY,onClick:function(){Co.Z.unblockUser(o,{location:me.ZY5.DM_CHANNEL})},color:so.Co.Colors.PRIMARY,children:Mt.Z.Messages.UNBLOCK});case me.OGo.PENDING_INCOMING:return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(We.x,{className:Vo().action,color:"header-secondary",variant:"text-sm/normal",children:Mt.Z.Messages.FRIEND_REQUEST_RECEIVED}),(0,r.jsx)(so.Co,{className:Vo().action,size:so.Co.Sizes.TINY,onClick:l,children:Mt.Z.Messages.FRIEND_REQUEST_ACCEPT}),(0,r.jsx)(so.Co,{className:Vo().action,size:so.Co.Sizes.TINY,color:so.Co.Colors.PRIMARY,onClick:function(){Co.Z.cancelFriendRequest(o,{location:me.ZY5.DM_CHANNEL})},children:Mt.Z.Messages.FRIEND_REQUEST_IGNORE}),u]});case me.OGo.PENDING_OUTGOING:return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(so.Co,{className:Vo().action,
size:so.Co.Sizes.TINY,disabled:!0,children:Mt.Z.Messages.ADD_FRIEND_BUTTON_AFTER}),u]});default:return null}},Yo=function(e){var t=e.channelId,n=e.otherUserId,i=o.useCallback((function(){(0,Mo.CF)((0,Ro.Yz)(Mt.Z.Messages.MESSAGE_REQUESTS_SPAM_REQUEST_ERROR_ALERT_TITLE,Ro.pC.FAILURE))}),[]),a=o.useCallback((function(){No.Z.closeChannelSidebar(Ao.uZ)}),[]),l=o.useCallback((function(){No.Z.closeChannelSidebar(Ao.uZ)}),[]),u=(0,_o.m)({user:K.default.getUser(n),onError:i,onAcceptSuccess:l,onRejectSuccess:a}),c=u.acceptMessageRequest,s=u.rejectMessageRequest,f=u.isAcceptLoading,d=u.isRejectLoading,p=u.isOptimisticAccepted,h=u.isOptimisticRejected,y=f||d||(p||h);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(so.Co,{className:Vo().action,size:so.Co.Sizes.TINY,onClick:function(){return c(t)},disabled:y,submitting:f,children:Mt.Z.Messages.MESSAGE_REQUEST_ACCEPT}),(0,r.jsx)(so.Co,{className:Vo().action,size:so.Co.Sizes.TINY,onClick:function(){return s(t)},color:so.Co.Colors.PRIMARY,disabled:y,
submitting:d,children:Mt.Z.Messages.MESSAGE_REQUEST_IGNORE})]})};const zo=function(e){var t=e.userId,n=e.channel,o=e.showingBanner,i=(0,wo._)().channelId,a=(0,Po.gA)(),l=(0,u.e7)([Io.Z],(function(){return null!=i&&Io.Z.isSpam(i)}),[i]),c=(0,u.e7)([Sr.Z],(function(){return Sr.Z.getRelationshipType(t)}),[t]),s=n.id===i;return a&&(l||s)?(0,r.jsxs)("div",{className:Vo().mobileContainer,children:[(0,r.jsx)("div",{className:Vo().mobileMutualGuilds,children:(0,r.jsx)(Fo,{userId:t})}),(0,r.jsxs)("div",{className:Vo().mobileButtons,children:[(0,r.jsx)(Yo,{channelId:n.id,otherUserId:t}),(0,r.jsx)(xo.Z,{channel:n})]})]}):!0===Yt.tq||s?(0,r.jsxs)("div",{className:Vo().mobileContainer,children:[(0,r.jsx)("div",{className:Vo().mobileMutualGuilds,children:(0,r.jsx)(Fo,{userId:t})}),(0,r.jsxs)("div",{className:Vo().mobileButtons,children:[(0,r.jsx)(Wo,{relationshipType:c,userId:t,showingBanner:o}),!o&&(0,r.jsx)(Go,{otherUserId:t,channel:n})]})]}):(0,r.jsxs)("div",{className:Vo().container,
children:[(0,r.jsx)(Fo,{userId:t}),(0,r.jsx)("div",{className:Vo().divider}),(0,r.jsx)(Wo,{relationshipType:c,userId:t,showingBanner:o}),!o&&(0,r.jsx)(Go,{otherUserId:t,channel:n})]})};var Ko=n(576085),qo=n(987928),Xo=n(743175),Qo=n(829568),Jo=n(240709),$o=n(833019),ei=n.n($o);function ti(e){var t=e.appliedTags,n=e.setAppliedTags,o=null!=n?function(e){if(t.has(e)){t.delete(e);n(new Set(t))}}:void 0;return(0,r.jsx)("div",{className:ei().tags,children:Array.from(t).map((function(e){return(0,r.jsx)(Jo.Z,{tag:e,onRemove:o,size:null==o?Jo.Z.Sizes.SMALL:Jo.Z.Sizes.MEDIUM},e.id)}))})}var ni=n(888312),ri=n(578849),oi=n.n(ri);function ii(e){var t,n=e.channel,i=(0,Xo.eV)(n),a=(0,u.cj)([Qo.Z],(function(){return Qo.Z.getMessage(n.id)})).firstMessage,l=o.useMemo((function(){return new Set(i)}),[i]),c=null!==(t=(0,qo.Z)(n))&&void 0!==t?t:ni.Z;return(0,r.jsxs)(Ko.ZP,{channelId:n.id,className:oi().container,children:[(0,r.jsx)("div",{className:oi().iconWrapper,children:(0,r.jsx)(c,{
className:oi().icon,strokeWidth:1.75})}),(0,r.jsx)(Ko.Ot,{className:oi().header,children:n.name}),null==a&&(0,r.jsx)(We.x,{variant:"text-md/normal",color:"header-secondary",children:Mt.Z.Messages.REPLY_QUOTE_MESSAGE_DELETED}),(0,r.jsx)(ti,{appliedTags:l})]})}var ai=n(125628),li=n(766936);function ui(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ci(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ui(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ui(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function si(e){var t,n=e.channel,i=e.children,a=ci(o.useState(!1),2),l=a[0],u=a[1],c=null!==(t=(0,vo.Z)(n))&&void 0!==t?t:"";return(0,r.jsxs)(Ko.ZP,{channelId:n.id,onMouseEnter:function(){return u(!0)},onMouseLeave:function(){return u(!1)},children:[(0,r.jsx)(li.ZP,{"aria-label":c,size:li.ZP.Sizes.SIZE_80,src:(0,ai.x)(n,80,l)}),(0,r.jsx)(Ko.Ot,{children:c}),(0,r.jsx)(Ko.jz,{children:i})]})}var fi=n(368365),di=n(316921),pi=n(483562),hi=n(87310),yi=n(7046),bi=n(74907),vi=n(605390),mi=n(67416),gi=n(719455),Oi=n(275550),Ei=n(726558),ji=n.n(Ei);function Si(e){var t,n=e.className,o=e.children,i=e.verified,l=e.roleColor,u=e.roleName;t=i?(0,r.jsx)(Oi.Z,{size:12,color:l,className:ji().roleColor}):(0,r.jsx)("div",{
className:ji().roleColor,style:{backgroundColor:l}});return(0,r.jsxs)("div",{className:a()(n,ji().role),children:[t,u,o]})}var Ci=n(978887),Pi=n.n(Ci);function Ii(e){var t=e.className,n=e.roleColor,o=e.roleName,i=e.hasRemoveIcon,l=void 0!==i&&i,u=e.onClick,c=e.disabled,s=void 0!==c&&c,f=e.verified,d=void 0!==f&&f;return(0,r.jsx)(so.Co,{className:a()(t,Pi().button),look:so.Co.Looks.BLANK,size:so.Co.Sizes.NONE,onClick:u,disabled:s,children:(0,r.jsx)(Si,{className:Pi().role,roleColor:n,roleName:o,verified:d,children:l&&(0,r.jsx)(gi.Z,{height:6,width:6,className:Pi().removeRole,foreground:Pi().removeRoleIcon})})})}var _i=n(108580),wi=n(487502),xi=n(223753),Ni=n.n(xi);function Ti(e){var t=e.icon,n=e.onClick,o=e.label;return(0,r.jsx)(so.Co,{look:so.Co.Looks.BLANK,size:so.Co.Sizes.MIN,className:Ni().button,onClick:n,children:(0,r.jsxs)(wi.Z,{align:wi.Z.Align.CENTER,children:[(0,r.jsx)("div",{className:Ni().buttonIcon,children:t}),(0,r.jsx)(We.x,{variant:"text-md/normal",color:"none",
children:o})]})})}var Ai=n(281081),Zi=n(338215),Ri=n(851994),Mi=n(725002),Di=n(285375),Li=n.n(Di);function ki(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ui(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function Gi(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Ui(i,r,o,a,l,"next",e)}function l(e){Ui(i,r,o,a,l,"throw",e)}a(void 0)}))}}function Hi(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Bi(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n
}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Vi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ki(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ki(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}
var Fi=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}
if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function Wi(e){var t=e.className,i=e.maxUsers,l=e.users,u=e.guildId,c=function(){return(0,r.jsx)(Ri.Z,{className:Li().popoutWrapper,children:(0,r.jsx)(Mi.ZP,{className:Li().scroller,children:l.map((function(e){return(0,r.jsx)(Zi.Z,{guildId:u,user:e,nick:e.toString(),onContextMenu:function(t){return(0,Ai.jW)(t,Gi((function(){var t,o;return Fi(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(87996),n.e(45323),n.e(64178)]).then(n.bind(n,90248))];case 1:t=i.sent(),o=t.default;return[2,function(t){return(0,r.jsx)(o,Bi(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Hi(e,t,n[t])}))}return e}({},t),{user:e}))}]}}))})),{onClose:function(){return d(!1)}})}
},e.id)}))})})},s=Vi(o.useState(!1),2),f=s[0],d=s[1];return l.length<=0?null:(0,r.jsx)("div",{className:a()(t,Li().avatars),children:function(){var e=we()(l).take(i).map((function(e){var t=e.toString();return(0,r.jsx)(un.DY,{text:t,className:Li().avatar,children:(0,r.jsx)(li.ZP,{src:e.getAvatarURL(u,24),"aria-label":t,size:li.ZP.Sizes.SIZE_24})},e.id)})).value(),t=l.length-i;t>0&&(e[e.length-1]=(0,r.jsx)(ln.ZP,{renderPopout:c,shouldShow:f,position:ln.ZP.Positions.BOTTOM,onRequestClose:function(){return d(!1)},children:function(){return(0,r.jsxs)(so.Co,{className:a()(Li().avatar,Li().overflow),onClick:function(){return d(!0)},look:so.Co.Looks.BLANK,size:so.Co.Sizes.NONE,children:["+",t+1]})}},"overflow"));return e}()})}var Yi=n(392922),zi=n.n(Yi);function Ki(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function qi(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}
function Xi(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Qi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ki(e,t);var n=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ki(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ji(e){var t=e.channel,n=function(){pi.ZP.open(t.id)},i=Qi(o.useState(!1),2),l=i[0],c=i[1],s=(0,vo.Z)(t,!0),f=(0,u.e7)([an.Z],(function(){return an.Z.getGuild(t.guild_id)})),d=(0,u.e7)([K.default],(function(){return K.default.getUser(null==f?void 0:f.ownerId)})),p=o.useMemo((function(){return null!=f?we()(f.roles).sortBy((function(e){return-e.position})).filter((function(e){return e.id!==f.id})).value():[]}),[f]),h=o.useMemo((function(){return we()(p).filter((function(e){if(null==f)return!1;var n=_i.ZP.computePermissionsForRoles({forceRoles:qi({},e.id,e),context:t})
;return fi.Z.has(n,me.Plq.ADMINISTRATOR)||fi.Z.has(n,me.Plq.VIEW_CHANNEL)})).value()}),[t,f,p]),y=(0,u.Wu)([K.default],(function(){var e={};null!=d&&(e[d.id]=d);var n=!0,r=!1,o=void 0;try{for(var i,a=Object.values(t.permissionOverwrites)[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var l=i.value;if(l.type===zt.BN.MEMBER&&null==e[l.id]){var u=K.default.getUser(l.id);null!=u&&(e[u.id]=u)}}}catch(e){r=!0;o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}return we()(e).filter((function(e){var n,r=_i.ZP.can({permission:me.Plq.ADMINISTRATOR,user:e,context:t}),o=null!==(n=t.permissionOverwrites[e.id])&&void 0!==n?n:_i.ZP.NONE,i=fi.Z.has(o.allow,me.Plq.VIEW_CHANNEL);return r||i})).value()}),[t,d]),b=E.Z.can(me.Plq.MANAGE_CHANNELS,t)||E.Z.can(me.Plq.MANAGE_ROLES,t),v=o.useCallback((function(){return c(!1)}),[]);return(0,r.jsxs)(Ko.ZP,{channelId:t.id,children:[(0,r.jsx)(Ko.Kq,{locked:!0,channelType:t.type}),(0,r.jsx)(Ko.Ot,{
children:Mt.Z.Messages.BEGINNING_CHANNEL_WELCOME.format({channelName:s})}),(0,r.jsx)(Ko.jz,{children:Mt.Z.Messages.BEGINNING_ROLE_REQUIRED_CHANNEL_DESCRIPTION.format({channelName:s,topicHook:function(){return bi.Z.parseTopic(t.topic,!0,{channelId:t.id})}})}),b?(0,r.jsxs)("div",{className:zi().channelSettingButtons,children:[(0,r.jsx)(Ti,{label:Mt.Z.Messages.CHANNEL_PERMISSIONS_ADD_MEMBERS_TITLE,onClick:function(){return c(!0)},icon:(0,r.jsx)(vi.Z,{width:16,height:16})}),(0,r.jsx)(Ti,{label:Mt.Z.Messages.EDIT_CHANNEL,onClick:n,icon:(0,r.jsx)(On.Z,{width:16,height:16})})]}):null,(0,r.jsxs)("div",{className:zi().members,children:[function(){if(1!==y.length||h.length>0)return(0,r.jsx)(Wi,{guildId:t.guild_id,className:zi().avatars,maxUsers:5,users:y});var e=y[0],n=e.toString();return(0,r.jsxs)("div",{className:zi().avatars,children:[(0,r.jsx)(li.ZP,{src:e.getAvatarURL(t.guild_id,24),"aria-label":n,size:li.ZP.Sizes.SIZE_24}),(0,r.jsx)(We.x,{tag:"span",className:zi().singleUserName,
variant:"text-md/normal",children:n}),"",(0,r.jsx)(We.x,{tag:"span",variant:"text-md/normal",color:"text-muted",children:Mt.Z.Messages.ROLE_REQUIRED_SINGLE_USER_MESSAGE})]})}(),h.map((function(e,n){var o,i,l=null!==(i=e.colorString)&&void 0!==i?i:(0,di.Rf)(me.p6O),u=void 0!==(null===(o=e.tags)||void 0===o?void 0:o.guild_connections);return b?(0,r.jsx)(Ii,{className:a()(zi().role,qi({},zi().last,n===h.length-1)),roleName:e.name,roleColor:l,disabled:!b,verified:u,onClick:function(){yi.Z.open(t.guild_id,me.pNK.MEMBERS);yi.Z.selectRole(e.id)}},e.id):(0,r.jsx)(Si,{className:a()(zi().role,qi({},zi().last,n===h.length-1)),roleName:e.name,roleColor:l,verified:u},e.id)}))]}),l?(0,r.jsx)(mi.ZP,{renderModal:function(e){return(0,r.jsx)(hi.default,Xi(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){
return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){qi(e,t,n[t])}))}return e}({},e),{onClose:function(){v();return e.onClose()},channelId:t.id}))},onCloseRequest:function(){return c(!1)}}):null]})}var $i=n(402411),ea=n(16870),ta=n(227225),na=n.n(ta),ra=n(558504),oa=n.n(ra),ia=function(){return(0,r.jsx)("svg",{width:"46",height:"34",viewBox:"0 0 46 34",className:na().chatBubbleLip,xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M0 33.4637C16.1697 28.954 21.1764 9.59155 19.2146 0L45.681 0.000148089C45.681 0.000148089 44.681 9.14498 40.1914 18.3023C34.4077 30.0996 6.2893 33.1232 0 33.4637Z"})})};function aa(e){var t,n=e.channel,o=null!==(t=(0,vo.Z)(n))&&void 0!==t?t:"";return(0,r.jsxs)("div",{id:(0,Pe.p)(n.id),className:na().headerContainer,children:[(0,r.jsx)("img",{src:oa(),className:na().wumpusImage,alt:""}),(0,r.jsxs)("div",{className:na().chatBubbleContainer,children:[(0,r.jsx)(ia,{}),(0,r.jsxs)("div",{className:na().chatBubble,
children:[(0,r.jsx)(li.ZP,{"aria-label":o,size:li.ZP.Sizes.SIZE_80,src:(0,ai.x)(n,80,!1)}),(0,r.jsxs)(Ko.Ot,{className:na().emptyMessageHeader,children:[o,(0,r.jsx)($i.Z,{className:na().flowerStar,size:24,children:(0,r.jsx)(ea.Z,{className:na().verified,width:24,height:24})})]}),(0,r.jsx)(Ko.jz,{children:Mt.Z.Messages.SYSTEM_DM_EMPTY_MESSAGE})]})]})]})}var la=n(800373),ua=n.n(la);function ca(e){var t=e.channel,n=(0,vo.Z)(t,!0),o=(0,u.e7)([E.Z],(function(){return E.Z.can(me.Plq.MANAGE_CHANNELS,t)&&jo.dF.has(t.type)}));return(0,r.jsxs)(Ko.ZP,{channelId:t.id,children:[(0,r.jsx)(Ko.Kq,{channelType:t.type}),(0,r.jsx)(Ko.Ot,{children:Mt.Z.Messages.BEGINNING_CHANNEL_WELCOME.format({channelName:n})}),(0,r.jsx)(Ko.jz,{children:Mt.Z.Messages.BEGINNING_CHANNEL_DESCRIPTION.format({channelName:n,topicHook:function(){return bi.Z.parseTopic(t.topic,!0,{channelId:t.id})}})}),o?(0,r.jsx)("div",{className:ua().buttonContainer,children:(0,r.jsx)(Ti,{label:Mt.Z.Messages.EDIT_CHANNEL,onClick:function(){
pi.ZP.open(t.id)},icon:(0,r.jsx)(On.Z,{width:16,height:16})})}):null]})}var sa=n(553314),fa=n(212218),da=n(220033),pa=n(704586),ha=n.n(pa);function ya(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function ba(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){ya(i,r,o,a,l,"next",e)}function l(e){ya(i,r,o,a,l,"throw",e)}a(void 0)}))}}function va(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function ma(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){va(e,t,n[t])}))}return e}function ga(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var Oa=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],
done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function Ea(e){var t,o,i=e.userId,l=e.channel,c=function(e){if(null==s)return null;(0,Ai.jW)(e,ba((function(){var e,t;return Oa(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(87996),n.e(45323),n.e(16779)]).then(n.bind(n,16779))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,ga(ma({},e),{user:s,guildId:l.guild_id,channelId:l.id}))}]}}))})))},s=(0,u.e7)([K.default],(function(){return K.default.getUser(i)})),f=(0,u.e7)([fa.ZP],(function(){
return null!=i?fa.ZP.getMember(l.guild_id,i):null})),d=null!==(o=null!==(t=null==f?void 0:f.nick)&&void 0!==t?t:null==s?void 0:s.username)&&void 0!==o?o:"???",p=null==f?void 0:f.colorString;return null==s?(0,r.jsx)("span",{className:a()(ha().threadCreatorName,ha().unknownCreatorName),children:d}):(0,r.jsx)(ln.ZP,{preload:function(){return(0,Eo.Z)(s.id,s.getAvatarURL(l.guild_id,80),{guildId:l.guild_id,channelId:l.id})},renderPopout:function(e){return(0,r.jsx)(sa.Z,ma({userId:s.id,guildId:l.guild_id,channelId:l.id},e))},position:ln.ZP.Positions.RIGHT,children:function(e){return(0,r.jsx)(Fe.Z,ga(ma({},e),{tag:"span",className:ha().threadCreatorName,onContextMenu:c,children:(0,r.jsx)(da.Z,{name:d,color:null!=p?p:void 0})}))}})}function ja(e){var t=e.channel;return null==t.threadMetadata?(0,r.jsx)("div",{style:{marginTop:-8}}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(We.x,{variant:"text-md/normal",color:"header-secondary",children:(0,r.jsx)("div",{className:ha().subtitle,
children:Mt.Z.Messages.THREAD_STARTED_BY.format({usernameHook:function(e,n){return(0,r.jsx)(Ea,{userId:t.ownerId,channel:t},n)}})})}),t.type===me.d4z.PRIVATE_THREAD?(0,r.jsx)(We.x,{variant:"text-md/normal",color:"header-secondary",children:Mt.Z.Messages.EMPTY_MESSAGE_PRIVATE_THREAD_INSTRUCTIONS}):null]})}function Sa(e){var t,n=e.channel,o=null!==(t=(0,qo.Z)(n))&&void 0!==t?t:Pn.Z;return(0,r.jsxs)(Ko.ZP,{channelId:n.id,children:[(0,r.jsx)("div",{className:ha().iconWrapper,children:(0,r.jsx)(o,{className:ha().icon})}),(0,r.jsx)(Ko.Ot,{children:n.name}),(0,r.jsx)(ja,{channel:n})]})}var Ca=n(661523);function Pa(e){var t=e.canManageRoles,n=e.channel,o=t&&(0,mo.Yk)(n),i=(0,u.e7)([So.ZP],(function(){return null!=n.guild_id&&n===So.ZP.getDefaultChannel(n.guild_id)}),[n]);return n.isForumPost()?(0,r.jsx)(ii,{channel:n}):jo.Ec.has(n.type)?(0,r.jsx)(Sa,{channel:n}):i?(0,r.jsx)(Ca.Z,{channel:n}):o?(0,r.jsx)(Ji,{channel:n}):(0,r.jsx)(ca,{channel:n})}function Ia(e){
var t,n=e.channel,i=e.showingBanner,a=(0,vo.Z)(n),l=n.type,c=n.getRecipientId(),s=(0,u.e7)([K.default],(function(){return K.default.getUser(c)})),f=(0,u.cj)([E.Z],(function(){return{canManageRoles:E.Z.can(me.Plq.MANAGE_ROLES,n),canReadMessageHistory:E.Z.can(me.Plq.READ_MESSAGE_HISTORY,n)}})),d=f.canManageRoles,p=f.canReadMessageHistory,h=(0,u.e7)([Oo.Z],(function(){return l===me.d4z.DM?Oo.Z.getMutualGuilds(c):null}),[l,c]),y=go.Z.useExperiment({},{autoTrackExposure:null!==(t=n.isSystemDM())&&void 0!==t&&t}).systemDMRedesignEnabled;o.useEffect((function(){l===me.d4z.DM&&null==h&&null!=s&&S.Z.wait((function(){return(0,Eo.Z)(c,s.getAvatarURL(null,80),{withMutualGuilds:!0})}))}),[h,l,c,s]);return n.isSystemDM()?y?(0,r.jsx)(aa,{channel:n}):(0,r.jsx)(si,{channel:n,children:Mt.Z.Messages.SYSTEM_DM_EMPTY_MESSAGE}):l===me.d4z.DM?(0,r.jsxs)(si,{channel:n,children:[Mt.Z.Messages.BEGINNING_DM.format({username:a}),(0,r.jsx)(zo,{userId:c,channel:n,showingBanner:i})]
}):n.isMultiUserDM()?n.isManaged()?(0,r.jsxs)(Ko.ZP,{channelId:n.id,children:[(0,r.jsx)(Ko.Ot,{children:Mt.Z.Messages.BEGINNING_CHANNEL_WELCOME.format({channelName:a})}),(0,r.jsx)(Ko.jz,{children:Mt.Z.Messages.BEGINNING_GROUP_DM_MANAGED})]}):(0,r.jsx)(si,{channel:n,children:Mt.Z.Messages.BEGINNING_GROUP_DM.format({name:a})}):p?(0,r.jsx)(Pa,{channel:n,canManageRoles:d}):(0,r.jsx)(Ko.ZP,{channelId:n.id,children:(0,r.jsx)(Ko.jz,{children:Mt.Z.Messages.BEGINNING_CHANNEL_NO_HISTORY.format({channelName:a})})})}var _a=n(776319),wa=n(812314),xa=n(444354),Na=n(48843),Ta=n(304546),Aa=n(38258),Za=n.n(Aa),Ra=function(){return n.e(61029).then(n.t.bind(n,640002,19)).then((function(e){return e.default}))};function Ma(e){var t=e.channel,n=e.isLastItem,o=(0,u.e7)([s.Z],(function(){return s.Z.useReducedMotion})),i=(0,u.e7)([E.Z],(function(){return E.Z.can(me.Plq.SEND_MESSAGES_IN_THREADS,t)})),a=(0,u.e7)([v.default],(function(){return v.default.getId()}));return n?i&&t.ownerId!==a?(0,r.jsxs)("div",{
className:Za().box,children:[(0,r.jsx)(Ta.Z,{importData:Ra,shouldAnimate:!o,className:Za().animation}),(0,r.jsxs)("div",{className:Za().textContainer,children:[(0,r.jsx)(Na.X,{variant:"heading-md/medium",children:Mt.Z.Messages.FORUM_START_THE_CONVERSATION_HEADER}),(0,r.jsx)(We.x,{variant:"text-sm/normal",color:"header-secondary",children:Mt.Z.Messages.FORUM_START_THE_CONVERSATION_DESCRIPTION})]})]}):null:(0,r.jsx)("div",{className:Za().divider})}const Da=o.memo(Ma);var La=n(433250),ka=n(282260),Ua=n(668479),Ga=n(682684),Ha=n(661623),Ba=n(426217),Va=n(946596),Fa=n(983067),Wa=n(268333),Ya=n(334282),za=n(426466),Ka=n(459017),qa=n.n(Ka);function Xa(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Qa(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Ja(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Qa(e,t,n[t])}))}return e}function $a(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function el(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{
try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Xa(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xa(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var tl=16;function nl(e){var t,n,i=e.postId,l=e.isFirstMessage,c=e.isLastItem,s=void 0!==c&&c,f=e.parentChannelId,d=o.useRef(null),p=el(o.useState(3),2),h=p[0],y=p[1],b=el(o.useState(!l),2),v=b[0],m=b[1],g=el((0,wa.Z)(!1,2e3),2),O=g[0],E=g[1],j=(0,u.e7)([Ve.Z],(function(){return Ve.Z.getChannel(i)}),[i]),S=(0,Ya.c)(j).firstMessage,C=(0,u.e7)([Ua.Z],(function(){return Ua.Z.hasJoined(i)})),P=(0,
xa.Z)(j),I=P.disableReactionUpdates,_=P.disableReactionCreates,w=P.isLurking,x=P.isPendingMember,N=(0,u.e7)([Ve.Z],(function(){return Ve.Z.getChannel(f)})),T=(0,Xo.Bs)(N),A=o.useCallback((function(e){var t=e[0];if(null!=t&&l){var n=t.intersectionRect,r=t.boundingClientRect,o=(n.bottom-n.top)/(r.bottom-r.top);m(o<1)}}),[l]);o.useLayoutEffect((function(){var e=d.current;if(null!=e&&l){var t=new IntersectionObserver(A,{threshold:1});t.observe(e);return function(){t.disconnect()}}}));var Z=(0,u.e7)([Ha.ZP],(function(){return Ha.ZP.postSidebarWidth})),R=(0,u.e7)([Ba.Z],(function(){return Ba.Z.windowSize()})).width,M=null===(n=null===(t=d.current)||void 0===t?void 0:t.getBoundingClientRect())||void 0===n?void 0:n.width;o.useLayoutEffect((function(){if(null!=M){var e=Math.floor((M-300)/50);y(e)}}),[Z,R,M]);if(null==j||null==S)return null;var D=S.reactions.length>0,L=!D,k=function(){C?Ga.Z.leaveThread(j,"Forum Toolbar"):Ga.Z.joinThread(j,"Forum Toolbar")},U=function(){(0,za.B)({postId:j.id,
location:{section:me.jXE.CHANNEL_HEADER}});(0,_a.J)((0,Wa.wR)(j.guild_id,i));E(!0)},G=C?Fa.Z:Va.Z,H=!D&&!_;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:a()(qa().container,Qa({},qa().header,v)),ref:d,children:[(0,r.jsxs)("div",{className:qa().reactButtons,children:[H&&null!=T?(0,r.jsx)(La.le,{message:S,readOnly:!1,useChatFontScaling:!1,isLurking:w,isPendingMember:x,emoji:T,type:ka.O.REACTION,hideCount:!0,count:0,me:!1,burst_count:0,burst_me:!1}):(0,r.jsx)(La.ZP,{message:S,channel:j,disableReactionCreates:!0,disableReactionUpdates:I,isLurking:w,isPendingMember:x,maxReactions:h,className:qa().reactions,useChatFontScaling:!1,isForumToolbar:!0}),_?null:(0,r.jsx)(La.X9,{message:S,channel:j,useChatFontScaling:!1,className:qa().addReactButton,isForumToolbar:!0,children:L&&Mt.Z.Messages.FORUM_REACT_TO_POST})]}),(0,r.jsxs)("div",{className:qa().buttons,children:[(0,r.jsx)(un.ZP,{text:Mt.Z.Messages.FORUM_FOLLOW_TOOLTIP,children:function(e){return(0,
r.jsxs)(so.Co,$a(Ja({},e),{look:so.Co.Looks.BLANK,size:so.Co.Sizes.SMALL,onClick:k,className:qa().button,innerClassName:a()(qa().buttonInner,Qa({},qa().active,C)),children:[(0,r.jsx)(G,{width:tl,height:tl}),C?Mt.Z.Messages.FORUM_FOLLOWING_POST:Mt.Z.Messages.FOLLOW]}))}}),(0,r.jsx)(un.ZP,{text:Mt.Z.Messages.COPY_LINK,children:function(e){return(0,r.jsxs)(so.Co,$a(Ja({},e),{look:so.Co.Looks.BLANK,size:so.Co.Sizes.SMALL,onClick:U,className:qa().button,innerClassName:qa().buttonInner,children:[O?(0,r.jsx)(Fa.Z,{width:tl,height:tl}):(0,r.jsx)(yn.Z,{width:tl,height:tl}),O?Mt.Z.Messages.COPIED:null]}))}})]})]}),(0,r.jsx)(Da,{channel:j,isLastItem:s})]})}var rl=n(672549),ol=n(451),il=n(379822),al=n(853243),ll=n(490255),ul=n(686012),cl=n(435500),sl=n(901778),fl=n(989011),dl=n.n(fl);function pl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function hl(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0
}):e[t]=n;return e}function yl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return pl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pl(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bl(e){var t=e.expanded,n=e.onClick,o=e.count,i=e.compact,a=e.collapsedReason;return(0,
r.jsx)(Ye.Z,{compact:i,role:"group",childrenMessageContent:(0,r.jsx)(sl.Z,{compact:i,className:dl().blockedSystemMessage,iconNode:(0,r.jsx)(gi.Z,{className:dl().blockedIcon}),children:(0,r.jsxs)("div",{className:dl().blockedMessageText,children:[a.format({count:o})," "," ",(0,r.jsx)(Fe.Z,{tag:"span",onClick:n,className:dl().blockedAction,children:t?Mt.Z.Messages.BLOCKED_MESSAGES_HIDE.format({count:o}):Mt.Z.Messages.BLOCKED_MESSAGES_SHOW.format({count:o})})]})})})}function vl(e){var t,n,i=e.messages,l=e.channel,u=e.compact,c=void 0!==u&&u,s=e.unreadId,f=e.collapsedReason,d=i.hasJumpTarget,p=void 0!==d&&d,h=yl(o.useState(p),2),y=h[0],b=h[1],v=o.useCallback((function(){return b((function(e){return!e}))}),[]),m=i.hasUnread?i.content.length-1:i.content.length;return(0,r.jsxs)("div",{className:a()((n={},hl(n,it().groupStart,!0),hl(n,dl().expanded,y),n)),children:[!i.hasUnread||y&&(null===(t=i.content[0])||void 0===t?void 0:t.type)!==me.ys_.DIVIDER?null:(0,r.jsx)(co,{isUnread:!0,id:s
},"divider"),(0,r.jsx)(bl,{count:m,compact:c,expanded:y,onClick:v,collapsedReason:f},"collapsed-message-item"),y?i.content.map((function(e,t){if(e.type===me.ys_.DIVIDER&&t>0){var n,o,a=null!==(o=null===(n=i.content[t+1])||void 0===n?void 0:n.isGroupStart)&&void 0!==o&&o;return(0,r.jsx)(co,{isUnread:!0,isBeforeGroup:a,id:s},"divider")}if(e.type===me.ys_.MESSAGE||e.type===me.ys_.THREAD_STARTER_MESSAGE){var u=e.type===me.ys_.THREAD_STARTER_MESSAGE?Br:Fr;return(0,r.jsx)(u,{className:dl().blocked,compact:c,channel:l,message:e.content,groupId:e.groupId,flashKey:e.flashKey,isLastItem:!1,isHighlight:!1},e.content.id)}})):null]})}const ml=o.memo(vl);var gl=n(126136),Ol=n(738017),El=n(23816),jl=n(789105),Sl=n(63110),Cl=n(221713);function Pl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Il(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function _l(e){
for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Il(e,t,n[t])}))}return e}function wl(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function xl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{
for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Pl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pl(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Nl=n(950722),Tl=n.n(Nl);function Al(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Zl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){
var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Al(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Al(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rl(e){var t=e.numHighlights,n=e.visible,i=e.disableAnimation,a=(0,gl.Z)((function(){return new Ol.Z.Value(0)})),l=(0,gl.Z)((function(){return new Ol.Z.Value(0)})),u=o.useRef(null),c=Zl(o.useState(200),2),s=c[0],f=c[1];o.useLayoutEffect((function(){var e=u.current;null!=e&&f(e.clientWidth)
}),[u,f]);o.useEffect((function(){n?Ol.Z.parallel([Ol.Z.timing(a,{toValue:1,duration:500}),Ol.Z.timing(l,{toValue:1,duration:500})]).start():Ol.Z.parallel([Ol.Z.timing(a,{toValue:0,duration:300,delay:500}),Ol.Z.timing(l,{toValue:0,duration:100,delay:500})]).start()}),[a,l,n]);var d=n?0:-s;return(0,r.jsx)("div",{children:(0,r.jsx)(Ol.Z.div,{style:{opacity:l,marginRight:i?d:a.interpolate({inputRange:[0,1],outputRange:[-s,0]})},children:(0,r.jsxs)("div",{className:Tl().highlightsCountContainer,ref:u,children:[(0,r.jsx)(ke.Z,{className:Tl().highlightIcon,width:16,height:16}),(0,r.jsx)(We.x,{className:Tl().text,variant:"text-sm/medium",children:Mt.Z.Messages.CHANNEL_HIGHLIGHTS_COUNT.format({count:Math.max(t,1)})})]})})})}function Ml(e){var t=e.guildId,n=e.channelId,r=e.highlightedMessageIds,i=e.setNumHighlightsVisited,a=e.messages,l=e.scrollManager,u=Zl(o.useState(null),2),c=u[0],s=u[1],f=Zl(o.useState(null),2),d=f[0],p=f[1],h=o.useCallback((function(e,t){var n,r
;s(null!==(n=null==e?void 0:e.id)&&void 0!==n?n:null);p(null!==(r=null==t?void 0:t.id)&&void 0!==r?r:null)}),[s,p]);o.useEffect((function(){l.setAutomaticAnchorCallback(h);return function(){l.clearAutomaticAnchorCallback()}}),[l,h]);!function(e){var t=e.guildId,n=e.channelId,r=e.highlightedMessageIds,i=e.setNumHighlightsVisited,a=e.topVisibleMessage,l=e.bottomVisibleMessage,u=xl(o.useState(!1),2),c=u[0],s=u[1],f=xl(o.useState(!1),2),d=f[0],p=f[1];o.useEffect((function(){d||null==a||null==l||p(!0)}),[a,l,d,p]);o.useEffect((function(){if(!c&&r.length>0&&d){var e=r.filter((function(e){return he.Z.compare(e,a)>=0&&he.Z.compare(l,e)>=0})).length;if(e>0){for(var o=0;o<e;o++)po.default.track(me.rMx.CHANNEL_HIGHLIGHTS_ACKED,wl(_l({},(0,El.hH)(t),(0,El.JS)(n)),{message_id:r[o],index:o,ack_type:"landing"}));i(e)}s(!0)}}),[r,d,a,l,c,s,i,t,n]);o.useEffect((function(){if(null!=a){var e=r.filter((function(e){return he.Z.compare(a,e)>0})).length;i((function(o){
if(e>o)for(var i=o;i<e;i++)po.default.track(me.rMx.CHANNEL_HIGHLIGHTS_ACKED,wl(_l({},(0,El.hH)(t),(0,El.JS)(n)),{message_id:r[i],index:i,ack_type:"scroll"}));return Math.max(o,e)}))}}),[a,r,i,t,n])}({guildId:t,channelId:n,highlightedMessageIds:r,setNumHighlightsVisited:i,topVisibleMessage:c,bottomVisibleMessage:d});var y=Zl(o.useState(!1),2),b=y[0],v=y[1];o.useEffect((function(){null!=c&&a.indexOf(c)>=0&&(a.length-a.indexOf(c)>50?v(!0):v(!1))}),[a,c,v]);return{scrolledFarBack:b}}function Dl(e){var t=e.channelId,n=e.guildId,i=e.hasMoreAfter,a=e.isAtBottom,l=e.messages,c=e.scrollManager,f=e.jumpToPresent,d=Zl(o.useState(j.ZP.ackMessageId(t)),2),p=d[0],y=d[1];o.useEffect((function(){y(j.ZP.ackMessageId(t))}),[t]);var b=(0,jl.rd)(t,p),v=Zl(o.useState(0),2),m=v[0],g=v[1],O=b.length-m,E=b.length>0&&l.jumpTargetId===b[0];o.useEffect((function(){O>0&&El.ZP.trackWithMetadata(me.rMx.CHANNEL_HIGHLIGHTS_VIEWED,{num_unread_highlights:O,did_jump_to_first_unread_highlight:E})}),[t]);var S=Ml({
guildId:n,channelId:t,highlightedMessageIds:b,setNumHighlightsVisited:g,messages:l,scrollManager:c}).scrolledFarBack,C=(0,u.e7)([s.Z],(function(){return s.Z.useReducedMotion}));return(0,h.sk)(n)&&(0!==b.length||i||S)?(0,r.jsx)("div",{className:Tl().container,style:{visibility:a&&0===O?"hidden":"inherit"},children:(0,r.jsxs)(Fe.Z,{"aria-label":Mt.Z.Messages.CHANNEL_HIGHLIGHT_NAVIGATOR_NEXT,className:Tl().navigator,onClick:function(){if(0!==b.length&&0!==O){var e=b[m];if(null!=e){Sl.K({guildId:n,channelId:t,targetMessageId:e,highlightedMessageIds:b,numHighlightsVisited:m});g((function(e){return e+1}))}}else f()},children:[(0,r.jsx)(Rl,{visible:O>0,numHighlights:O,disableAnimation:C},t),(0,r.jsx)("div",{className:Tl().button,children:(0,r.jsx)(Cl.Z,{className:Tl().icon})})]})}):null}var Ll=n(866358),kl=n(942604),Ul=n(876679),Gl=n(493266),Hl=n(88257),Bl=n.n(Hl);function Vl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}
function Fl(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function Wl(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Fl(i,r,o,a,l,"next",e)}function l(e){Fl(i,r,o,a,l,"throw",e)}a(void 0)}))}}function Yl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Vl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vl(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var zl=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,
o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},Kl="749054660769218631";function ql(e){var t=e.channel,n=Yl(o.useState(""),2),i=n[0],a=n[1];o.useEffect((function(){(0,kl.FQ)("847199849233514549",!0)}),[]);var l,s=(0,u.e7)([O.Z,v.default],(function(){return Boolean(we()(O.Z.getMessages(t.id).toArray()).reverse().find((function(e){return e.author.id!==v.default.getId()&&e.state===me.yb.SENT&&!(0,Ke.Z)(e)})))})),f=(0,u.e7)([K.default],(function(){var e;return null!==(l=null===(e=K.default.getUser(t.getRecipientId()))||void 0===e?void 0:e.username)&&void 0!==l?l:Mt.Z.Messages.WAVE_DEFAULT_RECIPIENT})),d=(0,u.e7)([Ul.Z],(function(){
return Ul.Z.getStickerById(Kl)})),p=o.useCallback(Wl((function(){var e;return zl(this,(function(n){switch(n.label){case 0:if(null!=i&&""!==i)return[2];n.label=1;case 1:n.trys.push([1,3,,4]);return[4,c.Z.sendGreetMessage(t.id,Kl)];case 2:n.sent();po.default.track(me.rMx.DM_EMPTY_ACTION,{channel_id:t.id,channel_type:t.type,source:"Wave",type:"Send wave"});return[3,4];case 3:(e=n.sent()).ok||429!==e.status||a(Mt.Z.Messages.RATE_LIMITED);return[3,4];case 4:return[2]}}))})),[t.id,t.type,i]),h=Mt.Z.Messages.WAVE_TO.format({username:f}),y=null!=i&&""!==i?(0,r.jsx)(We.x,{className:Bl().error,color:"text-danger",variant:"text-sm/normal",children:i}):null;return s?(0,r.jsxs)("div",{className:Bl().containerCompact,children:[(0,r.jsxs)(Fe.Z,{className:null!=i&&""!==i?Bl().compactButtonDisabled:Bl().compactButton,"aria-label":Mt.Z.Messages.SEND_WAVE,onClick:p,children:[(0,r.jsx)(Gl.ZP,{sticker:d,size:24}),(0,r.jsx)(We.x,{className:Bl().text,variant:"text-md/medium",children:h})]}),y]}):(0,
r.jsxs)("div",{className:Bl().containerExpanded,children:[(0,r.jsx)(Gl.ZP,{sticker:d,size:160}),(0,r.jsx)(so.Co,{className:Bl().button,onClick:p,disabled:Boolean(i),children:h}),y]})}var Xl=n(463516);function Ql(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Jl(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function $l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Jl(e,t,n[t])}))}return e}function eu(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{
for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||nu(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tu(e){return function(e){if(Array.isArray(e))return Ql(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||nu(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nu(e,t){if(e){if("string"==typeof e)return Ql(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;return"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ql(e,t):void 0}}function ru(e){return null!=e&&e.type===me.ys_.MESSAGE&&e.content.id===e.groupId}function ou(e,t){c.Z.jumpToMessage({channelId:e.id,messageId:t,flash:!0})}var iu=o.memo((function(e){var t=e.file,n=e.channel,o=e.user,i=e.isGroupStart;return(0,r.jsx)(cl.Z,{isGroupStart:i,channel:n,message:new ol.Z({id:t.id,key:"pending-upload-".concat(t.id),type:me.uaV.DEFAULT,author:o,channel_id:n.id,customRenderedContent:{hasSpoilerEmbeds:!1,content:(0,r.jsx)(al.g,{filename:t.name,progress:null!=t.progress?t.progress:0,size:t.size,onCancelUpload:function(){ro.Z.cancel(t)}})}})})}));function au(e){var t,n,i=e.channel,a=e.messages,l=e.unreadCount,u=e.showNewMessagesBar,f=e.messageDisplayCompact,d=e.channelStream,p=e.uploads,y=e.scrollManager,b=e.specs,v=e.filterAfterTimestamp,m=e.showingSpamBanner,g=e.showingQuarantineBanner,O=e.isAtBottom,C=e.jumpToPresent,P=(0,
h.sk)(i.guild_id),I=K.default.getCurrentUser(),_=function(){return y.isInitialized()||a.ready},w=(0,ul.$)(i),x=eu(o.useState(!1),2),N=x[0],T=x[1],A=a.length>0&&(null===(t=a.first())||void 0===t?void 0:t.isFirstMessageInForumPost(i));n=(0,Xl.Q)(),o.useEffect((function(){var e=function(e){var t=e.messageId,n=e.emoji,r=e.optimistic,o=e.burst;!r&&o&&(0,ut.iV)({messageId:t,emoji:n,key:ct.I.EXTERNAL})};n&&S.Z.subscribe("MESSAGE_REACTION_ADD",e);return function(){S.Z.unsubscribe("MESSAGE_REACTION_ADD",e)}}),[n]);var Z=null,R=[];if(!N&&m)R.push((0,r.jsx)(bo,{channel:i,count:a.length,showRedactedMessages:function(){return T(!0)}}));else{var M,D=d.map((function(e,t){if(e.type===me.ys_.DIVIDER){var n,o,a=null!=e.unreadId;return null!=v?null:(0,r.jsx)(co,{isUnread:a,isBeforeGroup:null==e.content&&ru(d[t+1]),id:a?ve.j1:void 0,children:e.content},"divider-".concat(null!==(o=null!==(n=e.contentKey)&&void 0!==n?n:e.unreadId)&&void 0!==o?o:t))}if(e.type===me.ys_.FORUM_POST_ACTION_BAR)return(0,
r.jsx)(nl,{parentChannelId:i.parent_id,postId:i.id,isLastItem:t+1===d.length,isFirstMessage:!0});if(e.type===me.ys_.MESSAGE_GROUP_BLOCKED||e.type===me.ys_.MESSAGE_GROUP_SPAMMER){var l;l=e.type===me.ys_.MESSAGE_GROUP_BLOCKED?Mt.Z.Messages.BLOCKED_MESSAGE_COUNT:Mt.Z.Messages.HIDDEN_SPAM_MESSAGE_COUNT;return(0,r.jsx)(ml,{unreadId:ve.j1,messages:e,channel:i,compact:f,collapsedReason:l},e.key)}if(!(null!=v&&v>1e3*e.content.timestamp.unix())){var u=E.Z.can(me.Plq.CREATE_INSTANT_INVITE,i);if(!(0,ll.Z)(e.content,u)){e.type===me.ys_.MESSAGE&&null==Z&&(Z=e);var c=e.groupId===(null==Z?void 0:Z.groupId)?Z.content.id:e.groupId,s=e.type===me.ys_.THREAD_STARTER_MESSAGE?Br:Fr;return(0,r.jsx)(s,{compact:f,channel:i,message:e.content,groupId:c,flashKey:e.flashKey,id:(0,Pe.p)(e.content.id),isLastItem:t>=d.length-1,isHighlight:e.isHighlight},e.content.id)}}}));(M=R).push.apply(M,tu(D))}var L,k,U=d[d.length-1];null!=I&&p.forEach((function(e,t){var n=0===t&&(0,ye.J)(U,new ol.Z({type:me.uaV.DEFAULT,author:I
}));R.push((0,r.jsx)(iu,{file:e,channel:i,user:I,isGroupStart:n},"upload-".concat(e.id)))}));if(a.hasMoreBefore&&null==v){a.length>0&&R.unshift((0,r.jsx)("div",{style:{height:ve.D4,flex:"0 0 auto"}},"buffer"));var G=s.Z.useReducedMotion;(G&&_()||!G)&&R.unshift((0,r.jsx)(je.ZP,$l({compact:f},b),"has-more"))}a.hasMoreBefore&&null==v||R.unshift((0,r.jsx)(Ia,{channel:i,showingBanner:m||g},"empty-message"));a.hasMoreAfter&&R.push((0,r.jsx)(je.ZP,$l({compact:f},b),"has-more-after"));!m&&!g&&w&&_()&&R.push((0,r.jsx)(ql,{channel:i}));if(l>0&&u&&_()){var H,B,V=j.ZP.getOldestUnreadTimestamp(i.id),F=0!==V?V:he.Z.extractTimestamp(i.id),W=(0,pe.KC)(no()(),no()(new Date(F)));if(j.ZP.isEstimated(i.id)){H=W?Mt.Z.Messages.NEW_MESSAGES_ESTIMATED:Mt.Z.Messages.NEW_MESSAGES_ESTIMATED_WITH_DATE;B=Mt.Z.Messages.NEW_MESSAGES_PILL_ESTIMATED}else{H=W?Mt.Z.Messages.NEW_MESSAGES:Mt.Z.Messages.NEW_MESSAGES_WITH_DATE;B=Mt.Z.Messages.NEW_MESSAGES_PILL}L=P?(0,r.jsx)(Ll.dB,{content:B.format({count:l}),channelId:i.id,
hasNoticeAbove:i.isForumPost()&&!A}):(0,r.jsx)(Ll.LE,{content:H.format({count:l,timestamp:F}),channelId:i.id})}if(a.error)k=(0,r.jsx)(Ll.Rp,{loading:a.loadingMore,onClick:function(){return e=i.id,void c.Z.fetchMessages({channelId:e,limit:me.AQB,truncate:!0});var e}});else if(P&&_()){var Y=a.jumpReturnTargetId,z=C;null!=Y&&(z=function(){return ou(i,Y)});k=(0,r.jsx)(Dl,{channelId:i.id,guildId:i.guild_id,messages:a,scrollManager:y,isAtBottom:O,hasMoreAfter:a.hasMoreAfter,jumpToPresent:z},i.id)}else if(!P&&a.hasMoreAfter&&_()){var q=a.jumpReturnTargetId;k=a.loadingMore&&a.jumpedToPresent?(0,r.jsx)(Ll.DR,{}):null!=q?(0,r.jsx)(Ll.DR,{type:Ll.A7.REPLY,onClick:function(){return ou(i,q)}}):(0,r.jsx)(Ll.DR,{onClick:function(){return function(e){c.Z.jumpToPresent(e.id,me.AQB);var t=il.Z.getChannelId();e.id===t&&(0,rl.Kh)(e.id)}(i)}})}var X=i.isForumPost()&&!A?(0,r.jsx)(nl,{postId:i.id}):null;return{channelStreamMarkup:R,newMessagesBar:L,jumpToPresentBar:k,forumPostActionBar:X}}
var lu=n(422483),uu=n.n(lu);function cu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function su(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function fu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){su(e,t,n[t])}))}return e}function du(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){
Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function pu(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function hu(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||bu(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yu(e){return function(e){if(Array.isArray(e))return cu(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||bu(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bu(e,t){if(e){if("string"==typeof e)return cu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?cu(e,t):void 0}}function vu(e){
var t,n=e.className,i=e.messageGroupSpacing,f=e.scrollerClassName,d=e.channel,h=e.messages,y=e.unreadCount,v=e.showNewMessagesBar,m=e.messageDisplayCompact,g=e.channelStream,O=e.uploads,j=e.hasUnreads,S=e.editingMessageId,C=e.fontSize,P=e.keyboardModeEnabled,I=e.filterAfterTimestamp,_=e.showingSpamBanner,w=e.showingQuarantineBanner,x=hu(o.useState(!1),2),N=x[0],T=x[1],A=o.useMemo((function(){return m?(0,je.aJ)({compact:!0,messageGroups:30,groupRange:4,attachments:8,fontSize:C,groupSpacing:i}):(0,je.aJ)({compact:!1,messageGroups:26,groupRange:4,attachments:8,fontSize:C,groupSpacing:i})}),[m,C,i]),Z=function(e){var t=e.messages,n=e.channel,r=e.compact,i=e.hasUnreads,a=e.focusId,l=e.placeholderHeight,u=e.canLoadMore,c=void 0===u||u,s=e.handleScrollToBottom,f=e.handleScrollFromBottom,d=o.useContext(Ae.ZP).windowId,p=Kr(o.useState((function(){return new eo({messages:t,channel:n,compact:r,hasUnreads:i,focusId:a,placeholderHeight:l,canLoadMore:c,windowId:d,handleScrollToBottom:s,
handleScrollFromBottom:f})})),1)[0];p.getSnapshotBeforeUpdate(a);o.useLayoutEffect((function(){return p.mergePropsAndUpdate({messages:t,channel:n,compact:r,hasUnreads:i,focusId:a,placeholderHeight:l,canLoadMore:c,windowId:d,handleScrollToBottom:s,handleScrollFromBottom:f})}));o.useEffect((function(){return function(){return p.cleanup()}}),[p]);return p}({messages:h,channel:d,compact:m,hasUnreads:j,focusId:S,placeholderHeight:A.totalHeight,canLoadMore:null==I,handleScrollToBottom:o.useCallback((function(){return T(!0)}),[T]),handleScrollFromBottom:o.useCallback((function(){return T(!1)}),[T])}),R=function(e){var t=e.scrollerRef,n=Ie(e,["scrollerRef"]),r=o.useCallback((function(){var e=t.current;return null==e?Promise.resolve():new Promise((function(t){e.scrollToBottom({callback:function(){return requestAnimationFrame(t)}})}))}),[]),i=o.useCallback((function(){var e=t.current;return null==e?Promise.resolve():new Promise((function(t){e.scrollToTop({callback:function(){
return requestAnimationFrame(t)}})}))}),[]),a=o.useCallback((function(e){var r,o,i;if(n.keyboardModeEnabled){var a=null===(o=null===(r=t.current)||void 0===r?void 0:r.getScrollerNode())||void 0===o?void 0:o.ownerDocument,l=null==a?void 0:a.querySelector(e);null!=l&&(null===(i=t.current)||void 0===i||i.scrollIntoViewNode({node:l,padding:4*ve.kQ,callback:function(){return null==l?void 0:l.focus()}}))}}),[n.keyboardModeEnabled]),l=o.useCallback((function(){n.hasMoreAfter||Ce.S.dispatchToLastSubscribed(me.CkL.TEXTAREA_FOCUS)}),[n.hasMoreAfter]),u=(0,Se.ZP)({id:Pe.W,preserveFocusPosition:!1,setFocus:a,isEnabled:n.keyboardModeEnabled&&!n.isEditing,scrollToStart:i,scrollToEnd:r,onNavigateNextAtEnd:l}),c=o.useCallback((function(e){var t=e.atEnd;void 0!==t&&t?u.focusLastVisibleItem():u.focusFirstVisibleItem()}),[u]);(0,ue.yp)({event:me.CkL.FOCUS_MESSAGES,handler:c});return u}({scrollerRef:Z.ref,isEditing:null!=S,keyboardModeEnabled:P,hasMoreAfter:h.hasMoreAfter}),M=function(e){return(0,
u.e7)([b.Z],(function(){return E.Z.can(me.Plq.READ_MESSAGE_HISTORY,e)?null:b.Z.getViewingRolesTimestamp(e.getGuildId())}))}(d),D=au({channel:d,messages:h,unreadCount:y,showNewMessagesBar:v,messageDisplayCompact:m,channelStream:g,uploads:O,loadMore:Z.loadMore,scrollManager:Z,specs:A,filterAfterTimestamp:null!=I?I:M,showingSpamBanner:_,showingQuarantineBanner:w,isAtBottom:N,jumpToPresent:function(){if(h.hasPresent()){var e;null===(e=Z.ref.current)||void 0===e||e.scrollToBottom({animate:!s.Z.useReducedMotion})}else c.Z.jumpToPresent(d.id,me.AQB)}}),L=D.channelStreamMarkup,k=D.newMessagesBar,U=D.jumpToPresentBar,G=D.forumPostActionBar;!function(e){var t=o.useCallback((function(){var t;return null===(t=e.current)||void 0===t?void 0:t.scrollToBottom()}),[e]),n=o.useCallback((function(){var t;return null===(t=e.current)||void 0===t?void 0:t.scrollPageUp({animate:!s.Z.useReducedMotion})}),[e]),r=o.useCallback((function(){var t;return null===(t=e.current)||void 0===t?void 0:t.scrollPageDown({
animate:!s.Z.useReducedMotion})}),[e]);(0,ue.yp)({event:me.CkL.SCROLLTO_PRESENT,handler:t});(0,ue.yp)({event:me.CkL.SCROLL_PAGE_UP,handler:n});(0,ue.yp)({event:me.CkL.SCROLL_PAGE_DOWN,handler:r})}(Z.ref);var H,B=(0,p.mF)(),V=(0,l.l2)(R),F=V.ref,W=pu(V,["ref"]),Y=o.useCallback((function(e){Z.ref.current=e;var t;F.current=null!==(t=null==e?void 0:e.getScrollerNode())&&void 0!==t?t:null}),[]);return(0,r.jsx)(l.bG,{navigator:R,children:(0,r.jsxs)("div",{className:a()(uu().messagesWrapper,n,"group-spacing-".concat(i)),children:[k,(0,r.jsxs)(le,du(fu({ref:Y,className:a()(f,uu().scroller),contentClassName:uu().scrollerContent,onResize:Z.handleResize,onScroll:Z.handleScroll,onMouseDown:Z.handleMouseDown,onMouseUp:Z.handleMouseUp},B),{tabIndex:-1,role:"group",children:[G,(0,r.jsxs)("ol",du(fu({className:uu().scrollerInner,"aria-label":Mt.Z.Messages.CHANNEL_MESSAGES_A11Y_LABEL.format({channelName:d.name})},W),{children:[(0,r.jsx)("span",{className:uu().navigationDescription,
id:"messagesNavigationDescription","aria-hidden":!0,children:Mt.Z.Messages.CHANNEL_MESSAGES_A11Y_DESCRIPTION}),L,(0,r.jsx)("div",{className:a()((H={},su(H,uu().scrollerSpacer,!_&&!w),su(H,uu().empty,0===h.length&&!h.loadingMore),su(H,uu().emptyForum,1===h.length&&!h.loadingMore&&d.isForumPost()&&(null===(t=h.first())||void 0===t?void 0:t.isFirstMessageInForumPost(d))),H))})]}))]})),U]})})}var mu=o.memo(vu,(function(e,t){return null!=e.isHidden&&null!=t.isHidden&&e.isHidden&&t.isHidden}));const gu=o.memo((function(e){var t=e.channel,n=e.showingSpamBanner,i=e.showingQuarantineBanner,a=e.forceCompact,l=void 0!==a&&a,c=pu(e,["channel","showingSpamBanner","showingQuarantineBanner","forceCompact"]),p=function(e){var t=e.getGuildId(),n=(0,u.e7)([g.Z],(function(){return null==t||g.Z.canChatInGuild(t)}),[t]),r=(0,u.cj)([E.Z],(function(){return{canManageMessages:E.Z.can(me.Plq.MANAGE_MESSAGES,e),permissionVersion:null!=t?E.Z.getGuildVersion(t):null}}),[e,t]),o=r.canManageMessages;return{
canChat:n,permissionVersion:r.permissionVersion,canManageMessages:o}}(t),b=p.canManageMessages,S=p.permissionVersion,C=p.canChat,P=function(){var e=y.jU.useSetting(),t=y.cC.useSetting(),n=(0,u.cj)([s.Z],(function(){return{messageGroupSpacing:s.Z.messageGroupSpacing,fontSize:s.Z.fontSize,keyboardModeEnabled:s.Z.keyboardModeEnabled}}));return{messageGroupSpacing:n.messageGroupSpacing,messageDisplayCompact:e,renderSpoilers:t,fontSize:n.fontSize,keyboardModeEnabled:n.keyboardModeEnabled}}(),I=P.messageGroupSpacing,_=P.fontSize,w=P.messageDisplayCompact,x=P.renderSpoilers,N=P.keyboardModeEnabled,T=function(e){var t,n,r,i=(0,u.e7)([O.Z],(function(){return O.Z.getMessages(e.id)}),[e.id]),a=(0,u.e7)([j.ZP],(function(){return null!==(n=j.ZP.getOldestUnreadMessageId(e.id))&&void 0!==n?n:null}),[e.id]),l=(0,h.sk)(e.guild_id),c=(0,u.Wu)([f.Z],(function(){if(!l)return[];var t=f.Z.getHighlightedMessageIds(e.id),n=f.Z.getTempHighlightedMessageIds(e.guild_id);return Array.from(yu(n).concat(yu(t)))
})),s=d.Z.useExperiment({}).enabled,p=null!==(r=null===(t=K.default.getUser(v.default.getId()))||void 0===t?void 0:t.hasFlag(me.xW$.SPAMMER))&&void 0!==r&&r,y=o.useMemo((function(){return Ee({channel:e,messages:i,highlightedMessageIds:c,oldestUnreadMessageId:a,treatSpam:s&&!p})}),[i,e,a,s,c]),b=(0,u.e7)([m.Z],(function(){var t;return null===(t=m.Z.getEditingMessage(e.id))||void 0===t?void 0:t.id}));return{messages:i,channelStream:y,oldestUnreadMessageId:a,editingMessageId:b}}(t),A=T.messages,Z=T.channelStream,R=T.oldestUnreadMessageId,M=T.editingMessageId;return(0,r.jsx)(q.Z.Provider,{value:(0,ce.Z)(x,b),children:(0,r.jsx)(mu,du(fu({},c),{messageGroupSpacing:I,showNewMessagesBar:!0,channel:t,messageDisplayCompact:l||w,messages:A,channelStream:Z,permissionVersion:S,uploads:(0,u.e7)([V],(function(){return V.getFiles(t.id)}),[t]),unreadCount:(0,u.e7)([j.ZP],(function(){return j.ZP.getUnreadCount(t.id)}),[t]),hasUnreads:null!=R,canChat:C,editingMessageId:M,fontSize:_,keyboardModeEnabled:N,
showingSpamBanner:n,showingQuarantineBanner:i}))})}))},290495:(e,t,n)=>{"use strict";n.d(t,{XQ:()=>E,Mo:()=>j,Vt:()=>S,QG:()=>C,dM:()=>P,Kt:()=>I,_U:()=>_});var r=n(820028),o=n(173436),i=n(688417),a=n(23816),l=n(183279),u=n(180918),c=n(883243),s=n(985836),f=n(356004),d=n(390504),p=n(932847),h=n(418674),y=n(203271),b=n(461061),v=n(228031);function m(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){m(e,t,n[t])}))}return e}function O(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){
var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function E(e,t,n,r,i){if(null!=e)if(s.Z.isFullServerPreview(e)){(0,c.VF)(e,n?[t]:[],n?[]:[t]);i&&(0,c.zh)(e,{optInEnabled:!0})}else{var u=d.Z.getGuildChannelFlags(e,t);n||(u=(0,h.mB)(u,v.ic.FAVORITED,!1));var E=(0,y.I)(e,t),j={flags:(0,h.mB)(u,v.ic.OPT_IN_ENABLED,n)},S={channel_overrides:m({},t,j)};if(i&&!d.Z.isOptInEnabled(e)){var C=(0,h.mB)(d.Z.getGuildFlags(e),v.vc.OPT_IN_CHANNELS_ON,!0);S.flags=C}l.Z.saveUserGuildSettingsBulk(m({},e,S));o.Z.dispatch({type:"USER_GUILD_SETTINGS_CHANNEL_UPDATE",guildId:e,channelId:t,settings:j});(0,y.jz)(e,t,j,E,r);I(e);p.default.track(b.rMx.CHANNEL_LIST_UPDATED,O(g({},(0,a.hH)(e),(0,a.v_)(f.Z.getChannel(t))),{action_type:n?"add":"remove",location:r}))}}function j(e,t){
var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0;if(null!=e)if(s.Z.isFullServerPreview(e)){(0,c.VF)(e,t,[]);n&&(0,c.zh)(e,{optInEnabled:!0})}else{var o={};t.forEach((function(t){var n=d.Z.getGuildChannelFlags(e,t);o[t]={flags:(0,h.mB)(n,v.ic.OPT_IN_ENABLED,!0)}}));if(n){var l=(0,h.mB)(d.Z.getGuildFlags(e),v.vc.OPT_IN_CHANNELS_ON,!0);i.Z.updateGuildAndChannelNotificationSettings(e,{flags:l,channel_overrides:o});p.default.track(b.rMx.CHANNEL_LIST_UPDATED,O(g({},(0,a.hH)(e)),{action_type:"add_many_and_enable_guild",location:r}))}else{i.Z.updateChannelOverrideSettingsBulk(e,o);p.default.track(b.rMx.CHANNEL_LIST_UPDATED,O(g({},(0,a.hH)(e)),{action_type:"add_many",location:r}))}}}function S(e,t,n){if(null!=e)if(s.Z.isFullServerPreview(e))(0,c.VF)(e,[],t);else{var r={};t.forEach((function(t){var n=d.Z.getGuildChannelFlags(e,t);r[t]={flags:(0,h.mB)(n,v.ic.OPT_IN_ENABLED,!1)}}));i.Z.updateChannelOverrideSettingsBulk(e,r)
;p.default.track(b.rMx.CHANNEL_LIST_UPDATED,O(g({},(0,a.hH)(e)),{action_type:"remove_many",location:n}))}}function C(e,t,n){if(s.Z.isFullServerPreview(e))(0,c.zh)(e,{optInEnabled:t});else{var r=d.Z.getGuildFlags(e);i.Z.updateGuildNotificationSettings(e,{flags:(0,h.mB)(r,v.vc.OPT_IN_CHANNELS_ON,t)});p.default.track(b.rMx.CHANNEL_LIST_UPDATED,O(g({},(0,a.hH)(e)),{action_type:t?"guild_enabled":"guild_disabled",location:n}))}}function P(e,t,n,r){if(null!=e&&!s.Z.isFullServerPreview(e)){var o=d.Z.getGuildChannelFlags(e,t);!(0,h.yE)(o,v.ic.OPT_IN_ENABLED)&&n&&(o=(0,h.mB)(o,v.ic.OPT_IN_ENABLED,!0));i.Z.updateChannelOverrideSettings(e,t,{flags:(0,h.mB)(o,v.ic.FAVORITED,n)});p.default.track(b.rMx.CHANNEL_LIST_UPDATED,O(g({},(0,a.hH)(e)),{action_type:n?"favorited":"unfavorited",location:r}))}}function I(e){(0,u.PS)(e,(function(e){if((0,h.yE)(e.guildOnboardingProgress,r.nI.GUILD_NOTICE_CLEARED)&&!(0,h.yE)(e.guildOnboardingProgress,r.nI.GUILD_NOTICE_SHOWN))return!1;e.guildOnboardingProgress=(0,
h.pj)(e.guildOnboardingProgress,r.nI.GUILD_NOTICE_CLEARED);e.guildOnboardingProgress=(0,h.mB)(e.guildOnboardingProgress,r.nI.GUILD_NOTICE_SHOWN,!1);return!0}),u.fy.INFREQUENT_USER_ACTION)}function _(e,t){o.Z.dispatch({type:"DISMISS_FAVORITE_SUGGESTION",guildId:e,channelId:t})}},772041:(e,t,n)=>{"use strict";n.d(t,{Uo:()=>G,qw:()=>V,KY:()=>U,O6:()=>F,fU:()=>B,tn:()=>H,Fo:()=>k});var r=n(667294),o=n(824390),i=n.n(o),a=n(277563),l=n(791462),u=n(820028),c=n(354445),s=n(320646),f=n(265123),d=n(635940),p=n(277266),h=n(909009),y=n(409228),b=n(173436),v=n(180918),m=n(932847),g=n(461061);function O(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function E(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){O(i,r,o,a,l,"next",e)}function l(e){O(i,r,o,a,l,"throw",e)}a(void 0)}))}}var j=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],
ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function S(e,t){
return C.apply(this,arguments)}function C(){return(C=E((function(e,t){return j(this,(function(n){switch(n.label){case 0:return[4,(0,v.PS)(e,(function(e){e.guildRecentsDismissedAt=y.E.fromDate(new Date);return!0}),v.fy.INFREQUENT_USER_ACTION)];case 1:n.sent();b.Z.dispatch({type:"BULK_CLEAR_RECENTS",guildId:e,channelIds:t});m.default.track(g.rMx.CHANNEL_LIST_UPDATED,{action_type:"recents_dismissed"});return[2]}}))}))).apply(this,arguments)}var P=n(655695),I=n(710348),_=n(356004),w=n(384995),x=(n(1812),n(365667)),N=n(390504),T=n(290495),A=n(218892),Z=n(35236),R=n(780877),M=n(977898),D=n(959797);function L(e,t){e.index=t}function k(e,t,n){n=n.toLowerCase();return r.useMemo((function(){if(0===n.length)return e;var r={null:[],_categories:[]};t[g.d4z.GUILD_CATEGORY].forEach((function(t){var o=t.channel;"null"===o.id&&(r.null=e.null.filter((function(e){return i()(n,e.channel.name.toLowerCase())||e.channel.topic.toLowerCase().includes(n)})));r[o.id]=e[o.id].filter((function(e){
return i()(n,e.channel.name.toLowerCase())||e.channel.topic.toLowerCase().includes(n)}))}));r._categories=e._categories.filter((function(e){return"null"===e.channel.id||0===n.length||r[e.channel.id].length>0}));(0,f.Z)(r._categories,r).forEach(L);return r}),[e,t,n])}function U(e){var t=e.getSections();if(t[p.zm]>0){switch(e.getCommunitySection().getRow(0)){case R.f.GUILD_HOME:return Z.oC.GUILD_HOME;case R.f.GUILD_ROLE_SUBSCRIPTIONS:return Z.oC.ROLE_SUBSCRIPTIONS;case R.f.GUILD_MEMBER_APPLICATIONS:return Z.oC.MEMBER_APPLICATIONS}}for(var n=p.p2;n<e.voiceChannelsSectionNumber;n++)if(t[n]>0){var r,o=null===(r=e.getChannelFromSectionRow(n,0))||void 0===r?void 0:r.channel;if(null!=o)return o.id}return null}function G(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;S(e,t);(0,s.y5)(t.map((function(e){return{channelId:e,readStateType:M.W.CHANNEL,messageId:x.ZP.lastMessageId(e)}})));null!=n&&(0,P.uL)(g.Z5c.CHANNEL(e,n))}function H(e,t,n,r){var o=(0,
d.wE)(u.z$.CHANNEL_BROWSER_NUX),i=(0,l.cj)([_.Z],(function(){var t={},n=_.Z.getMutableGuildChannelsForGuild(e);for(var r in n){var o=n[r].parent_id;if(null!=o){var i;t[o]=(null!==(i=t[o])&&void 0!==i?i:0)+1}}return t}),[e]),a=t._categories.map((function(e){var r=t[e.channel.id];return{rowCount:"null"!==e.channel.id&&0===i[e.channel.id]?1:r.length,rowHeight:0===r.length?0:n}}));o||null==r||a.unshift({rowCount:1,rowHeight:r});return a}function B(e){var t,n,r=(0,l.e7)([w.Z],(function(){return w.Z.getCategories(e)})),o=r._categories.length,i=r._categories[r._categories.length-1];if(null==i)return 0;var a=r[null!==(n=null===(t=i.channel)||void 0===t?void 0:t.id)&&void 0!==n?n:"null"];return null==a?0:0==a.length?i.index+2-o:a[a.length-1].index+2-o}function V(e){var t;return D.Z.Messages.CHANNEL_BROWSER_ACTIVE_TEXT.format({timeAgo:(0,h.ZB)(String(a.default.extractTimestamp(null!==(t=x.ZP.lastMessageId(e))&&void 0!==t?t:e)/1e3),"R").formatted})}function F(e,t,n){
var r=N.Z.isChannelOptedIn(e,t),o=t===n;!r&&I.Z.isCollapsed(n)&&null!=n&&(0,c.mJ)(n);(0,A.hi)(e)?o?(0,A.rz)(e,{include:new Set([t])}):(0,A.rz)(e,{exclude:new Set([t])}):(0,T.XQ)(e,t,!r,{section:g.jXE.CHANNEL_BROWSER},!0)}},218892:(e,t,n)=>{"use strict";n.d(t,{hi:()=>y,kH:()=>b,rz:()=>v,DQ:()=>m});var r=n(820028),o=n(204424),i=n(656284),a=n(537127),l=n(1812),u=n(212218),c=n(390504),s=n(418674),f=n(290495),d=n(513073);function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e){var t,n,r=(0,d.r1)(e),i=null!==(n=null===(t=u.ZP.getSelfMember(e))||void 0===t?void 0:t.flags)&&void 0!==n?n:0,a=(0,s.yE)(i,o.qQ.COMPLETED_ONBOARDING),l=c.Z.getOptedInChannels(e).size>0;return!r&&!a&&!l}function b(e){if(y(e))v(e);else{var t=(0,d.r1)(e);(0,f.QG)(e,!t)}}function v(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.include,r=void 0===n?new Set:n,o=t.exclude,a=void 0===o?new Set:o,u=l.ZP.getChannels(e),c=h(u[l.sH]).concat(h(u[l.Zb])).filter((function(e){var t=e.channel;return!t.isThread()&&!a.has(t.id)})).map((function(e){return e.channel.id}));r.forEach((function(e){return c.push(e)}));i.Z.completeOnboarding({guildId:e,selectedChannelIds:new Set(c)})}function m(e){
var t,n,o,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.Z;return null!=e&&(0,s.yE)(null!==(o=null===(n=null===(t=i.settings.guilds)||void 0===t?void 0:t.guilds[e])||void 0===n?void 0:n.guildOnboardingProgress)&&void 0!==o?o:0,r.nI.GUILD_NOTICE_CLEARED)}},657935:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(791462),o=n(390504),i=n(513073);function a(e){var t=(0,i.DM)(null!=e.getGuildId()?e.guild_id:"null"),n=(0,r.e7)([o.Z],(function(){return o.Z.isChannelRecordOrParentOptedIn(e)}));return t&&!n&&!e.isThread()}},234162:(e,t,n)=>{"use strict";n.d(t,{Z:()=>O});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),l=n(23816),u=n(191940),c=n(685351),s=n(54168),f=n(932847),d=n(290495),p=n(461061),h=n(959797),y=n(149729),b=n.n(y);function v(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){v(e,t,n[t])}))}return e}function g(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function O(e){var t=e.channel,n=e.narrow;o.useEffect((function(){f.default.track(p.rMx.CHANNEL_BANNER_VIEWED,g(m({},(0,l.hH)(t.getGuildId()),(0,l.v_)(t)),{banner_type:"channel_opt_in"}))}),[t]);return(0,r.jsxs)("div",{className:a()(b().chatHeaderBar,v({},b().narrow,n)),children:[(0,r.jsx)(c.x,{
className:b().chatHeaderBarText,variant:"text-sm/normal",color:"text-normal",children:h.Z.Messages.OPT_IN_CHANNEL_NOTICE}),(0,r.jsxs)(u.Co,{size:u.Co.Sizes.TINY,className:b().chatHeaderBarButton,innerClassName:b().chatHeaderBarButtonInner,color:u.Co.Colors.BRAND,onClick:function(){f.default.track(p.rMx.CHANNEL_BANNER_CTA_CLICKED,g(m({},(0,l.hH)(t.getGuildId()),(0,l.v_)(t)),{banner_type:"channel_opt_in",cta_type:"add channel"}));(0,d.XQ)(t.guild_id,t.id,!0,{section:p.jXE.CHANNEL})},children:[(0,r.jsx)(s.Z,{width:14,height:14}),h.Z.Messages.OPT_IN_CHANNEL_NOTICE_CTA]})]})}},99918:(e,t,n)=>{"use strict";n.d(t,{L:()=>d,Z:()=>h});var r=n(506884),o=n(675860),i=n(173436),a=n(631134),l=n(666492),u=n(330665),c=n(461061);function s(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function f(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){s(i,r,o,a,l,"next",e)}function l(e){
s(i,r,o,a,l,"throw",e)}a(void 0)}))}}var d,p=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)
}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};!function(e){e.USER_ACTION_REQUIRED="user_action_required";e.USER_SETTINGS_UPDATE="user_settings_update";e.GUILD_PHONE_REQUIRED="guild_phone_required";e.MFA_PHONE_UPDATE="mfa_phone_update";e.CONTACT_SYNC="contact_sync"}(d||(d={}));const h={setCountryCode:function(e){i.Z.dispatch({type:"PHONE_SET_COUNTRY_CODE",countryCode:e})},removePhone:function(e,t){return o.Z.delete({url:c.ANM.PHONE,body:{password:e,change_phone_reason:t},oldFormErrors:!0})},resendCode:function(e){var t={},n=a.default.getFingerprint();null!=n&&""!==n&&(t["X-Fingerprint"]=n);return o.Z.post({url:c.ANM.RESEND_PHONE,headers:t,body:{phone:e}})},beginAddPhone:function(e,t,n){return o.Z.post({url:c.ANM.PHONE,body:{phone:e,captcha_key:n,change_phone_reason:t}})},addPhone:function(e,t,n){return o.Z.post({url:c.ANM.PHONE,body:{phone_token:e,password:t,change_phone_reason:n},oldFormErrors:!0})},
addPhoneWithoutPassword:function(e){return o.Z.post({url:c.ANM.PHONE_VERIFY_NO_PASSWORD,body:{code:e}})},validatePhoneForSupport:function(e){return o.Z.post({url:c.ANM.VERIFY_PHONE_FOR_TICKET,body:{token:e},oldFormErrors:!0})},verifyPhone:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return f((function(){var o,s,f;return p(this,(function(d){switch(d.label){case 0:o={};null!=(s=a.default.getFingerprint())&&""!==s&&(o["X-Fingerprint"]=s);return[4,l.Z.post({url:c.ANM.VERIFY_PHONE,headers:o,body:{phone:e,code:t},oldFormErrors:!0,trackedActionData:{event:r.a9.USER_VERIFY_PHONE}})];case 1:f=d.sent();n&&i.Z.dispatch({type:"MODAL_POP",key:u.M});return[2,f.body]}}))}))()}}},330665:(e,t,n)=>{"use strict";n.d(t,{M:()=>r,z:()=>o});var r="PHONE_VERIFICATION_MODAL_KEY",o=6},667805:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(785893),o=(n(667294),n(762441)),i=n(183194),a=n(469620);function l(e){var t=e.isShaking,n=e.shakeLocation,l=e.children,u=e.className,c=(0,
a.Z)(n);return(0,i.Z)()?(0,r.jsx)(o.Z,{isShaking:t,intensity:c,className:u,children:l}):(0,r.jsx)(r.Fragment,{children:l})}},469620:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(791462),o=n(426217),i=n(114193),a=n(183194);function l(e){var t=(0,a.Z)({autoTrackExperimentExposure:!0},{shakeLocation:e}),n=(0,r.e7)([o.Z],(function(){return o.Z.isFocused()}));return(0,r.e7)([i.Z],(function(){return t&&n?i.Z.shakeIntensity:0}))}},315048:(e,t,n)=>{"use strict";n.d(t,{Z:()=>ie});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),l=n(441143),u=n.n(l),c=n(647446),s=n(473727),f=n(791462),d=n(829307),p=n(44016),h=n(783910),y=n(430023),b=n(796169),v=n(35599),m=n(730189),g=n(623899),O=n(830395),E=n(912224),j=n(661623),S=n(897576),C=n(86030),P=n(959797);function I(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){I(e,t,n[t])}))}return e}function w(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=function(t){O.Z.updatedUnsyncedSettings({disableEmbeddedActivityPopOutAlert:!0});t();e()},o=!j.ZP.disableEmbeddedActivityPopOutAlert;o?(0,S.h7)((function(o){return(0,r.jsx)(E.Z,_({confirmText:P.Z.Messages.EMBEDDED_ACTIVITIES_YEP,secondaryConfirmText:P.Z.Messages.DONT_ASK_AGAIN,title:P.Z.Messages.EMBEDDED_ACTIVITIES_CAREFUL,cancelText:P.Z.Messages.EMBEDDED_ACTIVITIES_NVM,onConfirm:function(){o.onClose();e()},onCancel:t,onConfirmSecondary:function(){return n(o.onClose)},body:P.Z.Messages.EMBEDDED_ACTIVITIES_POP_IN_WARNING},o))}),{},C.u1):e()}
var x=n(859169),N=n(64833),T=n(565e3),A=n(64607),Z=n(610936),R=n(817513),M=n(80635),D=n(426217),L=n(577990),k=n(88414),U=n(440455),G=n(742269),H=n(170729),B=n(588641),V=n(742592),F=n(81717),W=n(461061),Y=n(736972),z=n.n(Y);function K(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function q(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function X(e){X=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return X(e)}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){q(e,t,n[t])}))}return e}function J(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function $(e,t){return!t||"object"!==te(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ee(e,t){ee=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return ee(e,t)}var te=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function ne(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{
Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=X(e);if(t){var o=X(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return $(this,n)}}var re=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&ee(e,t)}(n,e);var t=ne(n);function n(){K(this,n);var e;(e=t.apply(this,arguments)).rootRef=o.createRef();e._cleanupWindowActionCreators=void 0;e.warnPopoutClose=function(t){if(e.props.connectedToEmbeddedActivity&&!j.ZP.disableEmbeddedActivityPopOutAlert){t.returnValue=P.Z.Messages.EMBEDDED_ACTIVITIES_ARE_YOU_SURE_WANT_TO_LEAVE;if(!G.FB)return;w((function(){F.Z.unmountWindow(e.props.windowKey);G.FB&&B.default.close(e.props.windowKey)}))}};e.handleBlur=function(){var t,n
;null===(n=(t=e.props).onBlur)||void 0===n||n.call(t)};e.handleContextMenu=function(e){e.preventDefault()};return e}var i=n.prototype;i.componentDidMount=function(){var e=this.props.guestWindow,t=e.document;null==t.querySelector("title")&&null!=t.head&&t.head.appendChild(t.createElement("title"));this.updateTitle();this.updateFontScale();this.updateLocale();(0,V.O)(e);e.addEventListener("blur",this.handleBlur);t.addEventListener("contextmenu",this.handleContextMenu,!0);e.addEventListener("beforeunload",this.warnPopoutClose)};i.componentDidUpdate=function(e){var t=this.props,n=t.title,r=t.fontScale,o=t.locale;e.title!==n&&this.updateTitle();e.fontScale!==r&&this.updateFontScale();e.locale!==o&&this.updateLocale()};i.componentWillUnmount=function(){var e=this.props.guestWindow,t=e.document;e.removeEventListener("blur",this.handleBlur);t.removeEventListener("contextmenu",this.handleContextMenu,!0);S.s9.setState((function(e){return J(Q({},e),q({},C.u1,[]))}))
;e.removeEventListener("beforeunload",this.warnPopoutClose)};i.updateLocale=function(){var e=this.props,t=e.locale,n=e.guestWindow.document.documentElement;u()(null!=n,"Window document element was null");n.lang=t};i.updateTitle=function(){var e=this.props,t=e.title,n=e.guestWindow.document.querySelector("title");null!=n&&(n.innerText=t)};i.updateFontScale=function(){var e=this.props,t=e.fontScale,n=e.guestWindow.document.documentElement;u()(null!=n,"Window document element was null");n.style.fontSize="".concat(t,"%")};i.render=function(){var e=this.props,t=e.theme,n=e.focused,o=e.appFocused,i=e.children,l=e.windowKey,u=e.mouseModeEnabled,f=e.keyboardModeEnabled,b=e.reducedMotionEnabled,m=e.fontScaleClass,g=e.saturation,O=e.withTitleBar,E=e.guestWindow,j=(0,G.Xf)(),S=a()(m,{"mouse-mode":u,"reduce-motion":b,"full-motion":!b,"keyboard-mode":f,"app-focused":n||o,"low-saturation":g<=.4});return(0,r.jsx)(s.VK,{children:(0,r.jsx)("div",{"data-popout-root":!0,ref:this.rootRef,className:a()((0,
H.Q)(t),(0,T.Z)(),S),children:(0,r.jsx)(c.Jc,{containerRef:this.rootRef,children:(0,r.jsx)(d.Z,{children:(0,r.jsxs)(p.Z,{children:[(0,r.jsx)(U.Co,{}),(0,r.jsx)(v.Wu,{appContext:W.IlC.POPOUT,renderWindow:E,children:(0,r.jsxs)(L.yP,{children:[(0,r.jsxs)("div",{className:z().popout,children:[O&&null!=j?(0,r.jsx)(h.Z,{focused:n,type:j,windowKey:l,macOSFrame:!0}):null,(0,r.jsx)("div",{className:z().content,children:i})]}),(0,r.jsx)(k.Z,{}),(0,r.jsx)(y.Z,{}),(0,r.jsx)(L.Un,{})]})})]})})})})})};return n}(o.Component);re.defaultProps={withTitleBar:!0};function oe(e,t){var n=(0,f.cj)([F.Z],(function(){return{guestWindow:F.Z.getWindow(e.windowKey),focused:F.Z.getWindowFocused(e.windowKey)}})),o=n.guestWindow,i=n.focused;u()(null!=o,"Missing guestWindow reference");var a=(0,f.e7)([D.Z],(function(){return D.Z.isFocused()})),l=(0,f.cj)([M.Z,R.default],(function(){return{locale:R.default.locale,theme:M.Z.theme}})),c=l.locale,s=l.theme,d=(0,f.cj)([m.Z],(function(){return{fontScale:m.Z.fontScale,
keyboardModeEnabled:m.Z.keyboardModeEnabled,reducedMotionEnabled:m.Z.useReducedMotion,fontScaleClass:m.Z.fontScaleClass,saturation:m.Z.saturation}})),p=d.fontScale,h=d.keyboardModeEnabled,y=d.reducedMotionEnabled,b=d.fontScaleClass,v=d.saturation,O=(0,f.e7)([g.ZP],(function(){return null!=e.channelId&&null!==g.ZP.getSelfEmbeddedActivityForChannel(e.channelId)}));(0,A.Z)(o,!1);var E=(0,Z.Z)(o,i),j=(0,N.Z)(x.Z.POPOUT_WINDOW).AnalyticsLocationProvider;return null==o?null:(0,r.jsx)(j,{children:(0,r.jsx)(re,J(Q({ref:t},e),{guestWindow:o,focused:i,appFocused:a,locale:c,theme:s,fontScale:p,keyboardModeEnabled:h,mouseModeEnabled:E,reducedMotionEnabled:y,connectedToEmbeddedActivity:O,fontScaleClass:b,saturation:v}))})}const ie=(0,b.Z)(o.forwardRef(oe))},887380:(e,t,n)=>{"use strict";n.d(t,{A:()=>s,$:()=>p});var r=n(667294),o=n(791462),i=n(635940),a=n(537127),l=n(385385),u=n(226042),c=n(298716);function s(e){var t=(0,l.H)(),n=u.Z.useExperiment({},{autoTrackExposure:t&&e
}),r=n.hasLightOnboarding,o=n.hasGuidedOnboarding;return t&&(r||o)}var f=[];function d(){return c.yN.filter((function(e){return(0,i.un)(e)}))}function p(){return e=d,t=f,n=s(!0),i=(0,o.e7)([a.Z],(function(){var e;return null===(e=a.Z.settings.userContent)||void 0===e?void 0:e.dismissedContents})),r.useMemo((function(){return n?e():t}),[n,t,e,i]);var e,t,n,i}},122906:(e,t,n)=>{"use strict";n.d(t,{e:()=>J,Z:()=>ae});var r=n(785893),o=n(667294),i=n(496486),a=n.n(i),l=n(791462),u=n(173436),c=n(737325),s=n(632724),f=n(174034),d=n(317364),p=n(859169),h=n(64833),y=n(655695),b=n(453023),v=n(859023),m=n(707955),g=n(916957),O=n(720897),E=n(191940),j=n(48843),S=n(82961),C=n(685351),P=n(543114),I=n(318937),_=n(932847),w=n(268301),x=n(205893),N=n(738549),T=n(275824),A=n(461479),Z=n(42642),R=n(716421),M=n(301750),D=n(298716),L=n(390699),k=n(984549),U=n(461061),G=n(959797),H=n(637701),B=n.n(H);function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}
function F(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function W(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){F(i,r,o,a,l,"next",e)}function l(e){F(i,r,o,a,l,"throw",e)}a(void 0)}))}}function Y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return V(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return V(e,t)
}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var z=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}
if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},K=!1,q=!1,X=[],Q=0;function J(e){return $.apply(this,arguments)}function $(){$=W((function(e){var t,n,r=arguments;return z(this,(function(o){switch(o.label){case 0:t=r.length>1&&void 0!==r[1]&&r[1];if(K&&!t)return[2,Promise.resolve()];if(q)return[2,new Promise((function(e){X.push(e)}))];q=!0;n=Date.now();return[4,Promise.all([c.jg(),c.tZ(),(0,f.Y2)(e)])];case 1:o.sent();X.forEach((function(e){return e()}));X=[];Q=Date.now()-n;q=!1;K=!0;return[2]}}))}));return $.apply(this,arguments)}function ee(){var e=(0,h.Z)(p.Z.PREMIUM_MARKETING_SURFACE_HERO_CTA).AnalyticsLocationProvider;return(0,r.jsx)("div",{className:B().hero,children:(0,r.jsxs)("div",{className:B().heroContent,children:[(0,r.jsx)(P.Z,{className:B().heroLogo}),(0,
r.jsx)(j.X,{className:B().heroHeading,color:"always-white",variant:"heading-xxl/bold",children:G.Z.Messages.PREMIUM_MARKETING_SURFACE_HERO_HEADING}),(0,r.jsx)(C.x,{className:B().heroSubheading,color:"always-white",variant:"text-lg/normal",children:G.Z.Messages.PREMIUM_MARKETING_SURFACE_HERO_SUBHEADING}),(0,r.jsx)("div",{className:B().heroCtas,children:(0,r.jsxs)(e,{children:[(0,r.jsx)(R.Z,{disableShine:!0,className:B().heroCtaPrimary,color:E.Co.Colors.WHITE,innerClassName:B().heroCtaInner,subscriptionTier:D.Si.TIER_2,premiumModalAnalyticsLocation:{object:U.qAy.BUTTON_CTA}}),(0,r.jsx)(R.Z,{disableShine:!0,isGift:!0,color:E.Co.Colors.WHITE,innerClassName:B().heroCtaInner,subscriptionTier:D.Si.TIER_2,premiumModalAnalyticsLocation:{object:U.qAy.BUTTON_CTA}})]})})]})})}var te=[k.x.LARGER_FILE_UPLOAD_STAGE,k.x.HD_STREAMING_STAGE,k.x.EMOJI_STAGE,k.x.CUSTOM_PROFILES_STAGE];function ne(){var e=function(e){s.current=!0;u(e);window.clearTimeout(c.current)},t=function(){s.current=!1},i=function(){
!function(){if(null!=l&&!s.current){var e=te.indexOf(l),t=e===te.length-1?0:e+1;u(te[t])}}()},a=Y(o.useState(null),2),l=a[0],u=a[1],c=o.useRef(-1),s=o.useRef(!1);o.useEffect((function(){c.current=window.setTimeout((function(){u(k.x.LARGER_FILE_UPLOAD_STAGE)}),500);return function(){window.clearTimeout(c.current)}}),[]);return(0,r.jsxs)("div",{className:B().topPerks,children:[(0,r.jsx)(M.Z,{id:k.x.LARGER_FILE_UPLOAD_STAGE,isPlaying:l===k.x.LARGER_FILE_UPLOAD_STAGE,onEnded:i,onInteractionBegin:e,onInteractionEnd:t,videoSrc:n(761479)}),(0,r.jsx)(M.Z,{id:k.x.HD_STREAMING_STAGE,isPlaying:l===k.x.HD_STREAMING_STAGE,onEnded:i,onInteractionBegin:e,onInteractionEnd:t,videoSrc:n(174207)}),(0,r.jsx)(M.Z,{id:k.x.EMOJI_STAGE,isPlaying:l===k.x.EMOJI_STAGE,onEnded:i,onInteractionBegin:e,onInteractionEnd:t,videoSrc:n(33225)}),(0,r.jsx)(M.Z,{id:k.x.CUSTOM_PROFILES_STAGE,isPlaying:l===k.x.CUSTOM_PROFILES_STAGE,onEnded:i,onInteractionBegin:e,onInteractionEnd:t,videoSrc:n(284283)})]})}function re(){
return(0,r.jsxs)("div",{className:B().featureGridWrapper,children:[(0,r.jsx)(j.X,{className:B().featureGridHeading,variant:"heading-xl/bold",children:G.Z.Messages.PREMIUM_MARKETING_SURFACE_FEATURE_GRID_HEADING}),(0,r.jsxs)("ul",{className:B().featureGrid,children:[(0,r.jsx)(Z.UE,{}),(0,r.jsx)(Z.DX,{}),(0,r.jsx)(Z.h1,{}),(0,r.jsx)(Z.nA,{}),(0,r.jsx)(Z.Dl,{}),(0,r.jsx)(Z.SZ,{}),(0,r.jsx)(Z.AA,{}),(0,r.jsx)(Z.TF,{})]})]})}function oe(){var e=(0,h.Z)(p.Z.PREMIUM_MARKETING_SURFACE_TIER_1_CTA).AnalyticsLocationProvider;return(0,r.jsx)(e,{children:(0,r.jsx)(A.t,{className:B().tier1Cta,isOnPremiumMarketingSurface:!0})})}function ie(){var e=(0,h.Z)(p.Z.PREMIUM_MARKETING_SURFACE_TIER_2_CTA).AnalyticsLocationProvider;return(0,r.jsxs)("div",{className:B().premiumTier2Container,children:[(0,r.jsx)(j.X,{variant:"heading-xl/bold",children:G.Z.Messages.MARKETING_REFRESH_PREMIUM_TIER_2_CTA_TITLE}),(0,r.jsx)(C.x,{className:B().premiumTier2Description,variant:"text-lg/normal",
children:G.Z.Messages.PREMIUM_MARKETING_SURFACE_PREMIUM_TIER_2_DESCRIPTION}),(0,r.jsx)("div",{className:B().premiumTier2Ctas,children:(0,r.jsxs)(e,{children:[(0,r.jsx)(R.Z,{subscriptionTier:D.Si.TIER_2,className:B().premiumTier2Cta,color:E.Co.Colors.GREEN}),(0,r.jsx)(R.Z,{subscriptionTier:D.Si.TIER_2,size:E.Co.Sizes.SMALL,className:B().premiumTier2GiftCta,isGift:!0})]})})]})}const ae=function(){var e=Y(o.useState((function(){return!m.Z.hasFetchedPaymentSources||!O.Z.hasFetchedSubscriptions()||!g.Z.isLoadedForPremiumSKUs()})),2),t=e[0],n=e[1],i=o.useRef(null),c=o.useRef(null),f=(0,l.e7)([v.default],(function(){return v.default.getCurrentUser()})),E=(0,l.e7)([b.Z],(function(){return b.Z.getCurrentSectionId()})),j=(0,h.Z)(p.Z.PREMIUM_MARKETING_SURFACE),C=j.AnalyticsLocationProvider,P=j.analyticsLocations,A=o.useRef(null),Z=o.useMemo((function(){return a().throttle((function(e){if(null!=A.current){var t=A.current.getBoundingClientRect().height
;e.target.scrollTop+e.target.offsetHeight>=t-32&&_.default.track(U.rMx.PREMIUM_MARKETING_SURFACE_REACHED_BOTTOM,{location_stack:P})}}),100)}),[P]);o.useEffect((function(){t||_.default.track(U.rMx.PREMIUM_MARKETING_SURFACE_VIEWED,{location_stack:P,load_duration_ms:Q})}),[P,t]);var R=o.useRef(Date.now());o.useEffect((function(){var e=R.current;return function(){_.default.track(U.rMx.PREMIUM_MARKETING_SURFACE_EXITED,{time_on_page_ms:Date.now()-e})}}),[]);o.useLayoutEffect((function(){switch(E){case L.Z:var e;null===(e=i.current)||void 0===e||e.scrollTo({animate:!0,to:0});return;case L.$:var t;if(null==c.current)return;null===(t=i.current)||void 0===t||t.scrollTo({animate:!0,to:c.current.offsetTop-24})}}),[E]);o.useEffect((function(){return function(){(0,s.I)(L.Z)}}),[]);var M=w.Z.useExperiment({}).entrypointPosition;o.useEffect((function(){null===M&&(0,y.uL)(U.Z5c.ME)}),[M]);var D=(0,N.n)(),k=null==D?void 0:D.countryCode;o.useEffect((function(){var e=!0;u.Z.wait(W((function(){
return z(this,(function(t){switch(t.label){case 0:return[4,J(k,!0)];case 1:t.sent();e&&n(!1);return[2]}}))})));return function(){e=!1}}),[k]);return x.Z.useExperiment({},{autoTrackExposure:!0,disable:(0,x._)()}).enabled?t||null==f?(0,r.jsx)("div",{className:B().spinnerWrapper,children:(0,r.jsx)(S.Z,{className:B().spinner})}):(0,r.jsx)("div",{className:B().wrapper,children:(0,r.jsx)(I.yW,{ref:i,className:B().scroller,onScroll:Z,children:(0,r.jsx)(C,{children:(0,r.jsxs)("div",{className:B().content,ref:A,children:[(0,r.jsx)(T.x,{}),(0,r.jsx)(ee,{}),(0,r.jsxs)("div",{ref:c,children:[(0,r.jsx)(ne,{}),(0,r.jsx)(re,{})]}),(0,r.jsx)(ie,{}),(0,r.jsx)(oe,{})]})})})}):(0,r.jsx)(C,{children:(0,r.jsx)("div",{className:B().wrapper,children:(0,r.jsx)(d.Z,{isOnPremiumMarketingSurface:!0})})})}},984549:(e,t,n)=>{"use strict";n.d(t,{x:()=>r});var r;!function(e){e[e.LARGER_FILE_UPLOAD_STAGE=0]="LARGER_FILE_UPLOAD_STAGE";e[e.HD_STREAMING_STAGE=1]="HD_STREAMING_STAGE";e[e.EMOJI_STAGE=2]="EMOJI_STAGE"
;e[e.CUSTOM_PROFILES_STAGE=3]="CUSTOM_PROFILES_STAGE"}(r||(r={}))},460408:(e,t,n)=>{"use strict";n.d(t,{Z:()=>b});var r=n(785893),o=n(667294),i=n(757987),a=n(298716),l=n(875239),u=n.n(l),c=n(20616),s=n.n(c),f=n(556306),d=n.n(f);function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var y=function(e){switch(e){case a.f8.EMOJI:return u().emojiSparkle;case a.f8.STICKER:return u().stickerSparkle;case a.f8.FILE_UPLOAD:return u().fileUploadSparkle;default:return}};const b=function(e){var t=e.tutorialHighlight,n=e.text,l=e.unformattedText,c=e.children,f=e.hideTooltip,p=h(o.useState(!1),2),b=p[0],v=p[1],m=t===a.f8.EMOJI?s():d();return(0,r.jsx)(i.ZP,{shouldShow:!f,"aria-label":null!=l?l:n,text:n,position:i.ZP.Positions.TOP,tooltipContentClassName:u().tooltipText,children:function(e){var n=e.onMouseEnter,o=e.onMouseLeave;return(0,r.jsxs)("div",{onMouseEnter:function(){null==n||n();v(!0)},onMouseLeave:function(){null==o||o();v(!1)},children:[b&&(0,r.jsx)("img",{alt:"",src:m,className:y(t)}),c]})}})}},
301750:(e,t,n)=>{"use strict";n.d(t,{D:()=>h,Z:()=>b});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),l=n(48843),u=n(863419),c=n(984549),s=n(959797),f=n(192798),d=n.n(f);function p(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function h(e){var t=o.useRef(null);o.useEffect((function(){if(null!=t.current)if(e.isPlaying)t.current.play();else{t.current.pause();t.current.currentTime=0}}),[e.isPlaying]);return(0,r.jsx)("video",{ref:t,className:e.className,autoPlay:e.isPlaying,loop:!1,muted:!0,onEnded:function(){var n;if(e.isPlaying){var r;null===(r=t.current)||void 0===r||r.play()}null===(n=e.onEnded)||void 0===n||n.call(e)},children:(0,r.jsx)("source",{src:e.src,type:"video/webm"})},e.src)}function y(e){var t=(0,u.AF)()?s.Z.Messages.PREMIUM_MARKETING_SURFACE_TOP_PERK_FILE_UPLOADS_INCREASE.format({premiumMaxSize:s.Z.Messages.FILE_UPLOAD_LIMIT_PREMIUM_TIER_2_INCREASE
}):s.Z.Messages.PREMIUM_MARKETING_SURFACE_TOP_PERK_FILE_UPLOADS;switch(e){case c.x.HD_STREAMING_STAGE:return s.Z.Messages.PREMIUM_MARKETING_SURFACE_TOP_PERK_HD_STREAMING;case c.x.LARGER_FILE_UPLOAD_STAGE:return t;case c.x.EMOJI_STAGE:return s.Z.Messages.PREMIUM_MARKETING_SURFACE_TOP_PERK_EMOJI;case c.x.CUSTOM_PROFILES_STAGE:return s.Z.Messages.PREMIUM_MARKETING_SURFACE_TOP_PERK_PROFILE}}const b=function(e){var t,n,o=e.className,i=e.id,u=e.isPlaying,s=e.onEnded,f=e.onInteractionBegin,b=e.onInteractionEnd,v=e.videoSrc,m=function(){null==f||f(i)},g=function(){null==b||b(i)};return(0,r.jsx)("div",{className:a()(d().topPerkCard,o),onFocus:m,onBlur:g,onMouseEnter:m,onMouseLeave:g,children:(0,r.jsxs)("div",{className:d().topPerkCardBckground,children:[(0,r.jsx)(l.X,{className:a()(d().topPerkHeading,(t={},p(t,d().hdStreamingCopyContainer,i===c.x.HD_STREAMING_STAGE),p(t,d().emojiCopyContainer,i===c.x.EMOJI_STAGE),p(t,d().profileCustomizationCopyContainer,i===c.x.CUSTOM_PROFILES_STAGE),t)),
variant:"heading-xl/bold",children:y(i)}),(0,r.jsx)(h,{className:a()(d().video,(n={},p(n,d().videoCustomProfiles,i===c.x.CUSTOM_PROFILES_STAGE),p(n,d().videoEmoji,i===c.x.EMOJI_STAGE),p(n,d().videoHdStreaming,i===c.x.HD_STREAMING_STAGE),p(n,d().videoLargerFileUpload,i===c.x.LARGER_FILE_UPLOAD_STAGE),n)),isPlaying:u,src:v,onEnded:function(){null==s||s(i)}})]})})}},602589:(e,t,n)=>{"use strict";n.d(t,{Z:()=>bt});var r=n(785893),o=n(667294),i=n(173436),a=n(245189),l=n(897576),u=n(215390),c=n(294184),s=n.n(c),f=n(647446),d=n(606076),p=n(791462),h=n(281081),y=n(537546),b=n(78979),v=n(404168);const m=(0,n(553494).B)({kind:"user",id:"2021-02_staff_qc_debugging",label:"Display QS scores in results. Not a real experiment",defaultConfig:{showScores:!1},treatments:[{id:1,label:"Show scores in QS results",config:{showScores:!0}}]});var g=n(356004),O=n(9906),E=n(653772),j=n(365667),S=n(379822),C=n(645897),P=n(892472),I=n(812895),_=n(125628),w=n(53211),x=n(394803),N=n(461061),T=n(959797)
;function A(e){if(null==e)return null;switch(e.type){case N.d4z.GUILD_ANNOUNCEMENT:return T.Z.Messages.NEWS_CHANNEL;case N.d4z.GUILD_STORE:return T.Z.Messages.STORE_CHANNEL;case N.d4z.DM:case N.d4z.GROUP_DM:return T.Z.Messages.DM;case N.d4z.PRIVATE_THREAD:return T.Z.Messages.PRIVATE_THREAD;case N.d4z.ANNOUNCEMENT_THREAD:case N.d4z.PUBLIC_THREAD:return T.Z.Messages.THREAD;case N.d4z.GUILD_TEXT:return T.Z.Messages.TEXT_CHANNEL;case N.d4z.GUILD_FORUM:return T.Z.Messages.FORUM_CHANNEL;case N.d4z.GUILD_STAGE_VOICE:return T.Z.Messages.STAGE_CHANNEL;case N.d4z.GUILD_VOICE:return T.Z.Messages.VOICE_CHANNEL;case N.d4z.GUILD_CATEGORY:default:return null}}var Z=n(8551),R=n(105405),M=n(893321),D=n(859023),L=n(782249),k=n(629590),U=n(693518),G=n(969225),H=n(11605),B=n(240243);function V(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function F(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function W(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function Y(e){var t=e.width,n=void 0===t?24:t,o=e.height,i=void 0===o?24:o,a=e.color,l=void 0===a?"currentColor":a,u=e.foreground,c=W(e,["width","height","color","foreground"]);return(0,
r.jsxs)("svg",F(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){V(e,t,n[t])}))}return e}({},(0,B.Z)(c)),{width:n,height:i,viewBox:"0 0 24 24",children:[(0,r.jsx)("path",{className:u,fill:l,d:"m4 3.33325h6.9167c-.0834.25-.0834.58334-.0834.83334 0 3.25 2.5834 5.83333 5.8334 5.83333.25 0 .5833 0 .8333-.08334v3.91672c0 .8333-.6667 1.5-1.5 1.5h-6.75l-3 3v-3h-2.25c-.83333 0-1.5-.6667-1.5-1.5v-9.00005c0-.83333.66667-1.5 1.5-1.5z"}),(0,r.jsx)("path",{className:u,fill:l,d:"m20.0002 4.08325-3.5-3.499998-1 1.083338 1.6666 1.66666h-3.8333v1.5h3.8333l-1.6666 1.66667 1.0833 1.08333z"})]}))}var z=n(771795),K=n(519073),q=n(766936),X=n(428184),Q=n.n(X);function J(e){
if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ee(e){ee=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return ee(e)}function te(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&re(e,t)}function ne(e,t){return!t||"object"!==oe(t)&&"function"!=typeof t?J(e):t}function re(e,t){re=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return re(e,t)}var oe=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function ie(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0
;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=ee(e);if(t){var o=ee(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ne(this,n)}}var ae=function(e){te(n,e);var t=ie(n);function n(){$(this,n);var e;(e=t.apply(this,arguments)).handleClick=function(t){t.preventDefault();var n=e.props.onClick,r=J(e).node;null!=r&&n(t,r)};e.handleMouseEnter=function(t){var n=e.props.onMouseEnter,r=J(e).node;null!=r&&n(t,r)};e.setRef=function(t){e.node=t};return e}var o=n.prototype;o.componentDidMount=function(){var e=this.props,t=e.focused,n=e.onFocus,r=this.node;t&&null!=r&&n(r)};o.componentDidUpdate=function(e){var t=this.props,n=t.focused,r=t.onFocus,o=this.node;null!=o&&n&&!e.focused&&r(o)};o.render=function(){var e=this.props,t=e.focused,n=e.children,o=e.score,i=e.onContextMenu,a=e.id,l=e["aria-label"];return(0,r.jsxs)(k.Z,{role:"option",id:a,"aria-label":l,
"aria-selected":t,focusProps:{enabled:!1},tabIndex:-1,innerRef:this.setRef,className:Q().result,onClick:this.handleClick,onMouseEnter:this.handleMouseEnter,onContextMenu:i,children:[n,null!=o?(0,r.jsx)("div",{className:Q().score,children:o>>0}):null]})};return n}(o.PureComponent),le=function(e){te(n,e);var t=ie(n);function n(){$(this,n);return t.apply(this,arguments)}var o=n.prototype;o.renderIcon=function(){var e=this.props.guild;return(0,r.jsx)("div",{className:Q().guildIconContainer,children:(0,r.jsx)(G.Z,{tabIndex:-1,guild:e,size:G.Z.Sizes.MINI,className:Q().guildIcon})})};o.renderName=function(){var e=this.props.guild;return(0,r.jsx)("div",{className:Q().name,children:(0,r.jsx)("span",{className:Q().match,children:e.name})})};o.renderContent=function(){var e=this.props,t=e.unread,n=e.children;return(0,r.jsxs)("div",{className:t?Q().contentUnread:Q().contentDefault,children:[this.renderIcon(),this.renderName(),(0,r.jsx)("div",{className:Q().misc,children:n})]})}
;o.getAccessibilityLabel=function(){var e=this.props.guild;return T.Z.Messages.QUICK_SWITCHER_RESULTS_GUILD_LABEL.format({name:e.name})};o.render=function(){var e=this.props,t=e.onMouseEnter,n=e.onClick,o=e.onFocus,i=e.onContextMenu,a=e.focused,l=e.score,u=e.id;return(0,r.jsx)(ae,{id:u,"aria-label":this.getAccessibilityLabel(),onMouseEnter:t,onClick:n,onFocus:o,onContextMenu:i,focused:a,score:l,children:this.renderContent()})};return n}(o.Component),ue=function(e){te(n,e);var t=ie(n);function n(){$(this,n);return t.apply(this,arguments)}var o=n.prototype;o.renderIcon=function(){var e,t=this.props.channel,n=(0,x.KS)(t);if(null==n)return null;var o=null!==(e=A(t))&&void 0!==e?e:"";return(0,r.jsx)("div",{className:Q().iconContainer,role:"img","aria-label":o,children:(0,r.jsx)(n,{className:Q().icon,width:16,height:16})})};o.renderName=function(){var e,t,n=this.props,o=n.mentions,i=n.category,a=n.channel;null!=o&&o>0&&(e=(0,r.jsx)(L.Z,{className:Q().badge,value:o}));null!=i&&(t=(0,
r.jsx)("span",{className:Q().note,children:(0,w.F)(i,D.default,R.Z)}));return(0,r.jsxs)("div",{className:Q().name,children:[(0,r.jsx)("span",{className:Q().match,children:(0,w.F)(a,D.default,R.Z)}),e,this.renderVoiceStates(),t]})};o.renderVoiceStates=function(){var e=this.props,t=e.voiceStates,n=e.channel;return null==t?null:(0,r.jsx)(H.Z,{guildId:n.guild_id,users:t.map((function(e){return{user:e.user}})),max:4})};o.renderContent=function(){var e=this.props,t=e.unread,n=e.mentions,o=e.children;return(0,r.jsxs)("div",{"aria-hidden":!0,className:t||null!=n&&n>0?Q().contentUnread:Q().contentDefault,children:[this.renderIcon(),this.renderName(),(0,r.jsx)("div",{className:Q().misc,children:o})]})};o.getAccessibilityLabel=function(){var e,t=this.props.channel,n=null===(e=E.Z.getGuild(this.props.channel.guild_id))||void 0===e?void 0:e.name,r=(0,w.F)(t,D.default,R.Z),o=A(t);return T.Z.Messages.QUICK_SWITCHER_RESULTS_CHANNEL_LABEL.format({name:r,type:o,guild:n})};o.render=function(){
var e=this.props,t=e.onMouseEnter,n=e.onClick,o=e.onFocus,i=e.onContextMenu,a=e.focused,l=e.score,u=e.id;return(0,r.jsx)(ae,{id:u,"aria-label":this.getAccessibilityLabel(),onMouseEnter:t,onClick:n,onFocus:o,onContextMenu:i,focused:a,score:l,children:this.renderContent()})};return n}(o.Component);ue.defaultProps={unread:!1};var ce=function(e){te(n,e);var t=ie(n);function n(){$(this,n);return t.apply(this,arguments)}var o=n.prototype;o.renderIcon=function(){var e=this.props.channel;return(0,r.jsx)("div",{className:Q().dmIconContainer,children:(0,r.jsx)(q.ZP,{src:(0,_.x)(e),size:q.ZP.Sizes.SIZE_20,"aria-hidden":!0})})};o.renderName=function(){var e,t=this.props,n=t.mentions,o=t.channel;null!=n&&n>0&&(e=(0,r.jsx)(L.Z,{className:Q().badge,value:n}));return(0,r.jsxs)("div",{className:Q().name,children:[(0,r.jsx)("span",{className:Q().match,children:(0,w.F)(o,D.default,R.Z)}),e]})};o.renderContent=function(){var e=this.props,t=e.mentions,n=e.children;return(0,r.jsxs)("div",{
className:null!=t&&t>0?Q().contentUnread:Q().contentDefault,children:[this.renderIcon(),this.renderName(),(0,r.jsx)("div",{className:Q().misc,children:n})]})};o.getAccessibilityLabel=function(){var e=this.props,t=e.channel,n=e.mentions,r=(0,w.F)(t,D.default,R.Z);return null!=n&&n>0?T.Z.Messages.QUICK_SWITCHER_RESULTS_GROUP_DM_UNREAD_LABEL.format({name:r,mentions:n}):T.Z.Messages.QUICK_SWITCHER_RESULTS_GROUP_DM_LABEL.format({name:r})};o.render=function(){var e=this.props,t=e.onMouseEnter,n=e.onClick,o=e.onFocus,i=e.onContextMenu,a=e.focused,l=e.score,u=e.id;return(0,r.jsx)(ae,{id:u,"aria-label":this.getAccessibilityLabel(),onMouseEnter:t,onClick:n,onFocus:o,onContextMenu:i,focused:a,score:l,children:this.renderContent()})};return n}(o.Component),se=function(e){te(n,e);var t=ie(n);function n(){$(this,n);return t.apply(this,arguments)}var o=n.prototype;o.renderIcon=function(){var e=this.props.user;return(0,r.jsx)("div",{className:Q().iconContainer,children:(0,r.jsx)(q.ZP,{
src:e.getAvatarURL(void 0,20),"aria-hidden":!0,size:q.ZP.Sizes.SIZE_20})})};o.getDisplayNickname=function(){var e,t=this.props,n=t.user,r=t.comparator,o=t.nickname;if(null!=r&&r===n.tag){var i=r.split("#");i.pop();e=i.join("#")}else e=null!=r&&""!==r?r:n.username;e===n.username&&(e=null!=o?o:e);return e};o.renderName=function(){var e,t=this.props,n=t.user,o=t.mentions,i=this.getDisplayNickname();null!=o&&o>0&&(e=(0,r.jsx)(L.Z,{className:Q().badge,value:o}));return(0,r.jsxs)("div",{className:Q().name,children:[(0,r.jsx)("span",{className:Q().match,children:i}),e,(0,r.jsx)("span",{className:Q().username,children:M.Z.hidePersonalInformation?n.username:n.tag})]})};o.renderContent=function(){var e=this.props,t=e.children,n=e.mentions;return(0,r.jsxs)("div",{className:null!=n&&n>0?Q().contentUnread:Q().contentDefault,children:[this.renderIcon(),this.renderName(),(0,r.jsx)("div",{className:Q().misc,children:t})]})};o.getAccessibilityLabel=function(){
var e=this.props,t=e.mentions,n=e.user,r=this.getDisplayNickname(),o=M.Z.hidePersonalInformation?n.username:n.tag;return null!=t&&t>0?T.Z.Messages.QUICK_SWITCHER_RESULTS_USER_UNREAD_LABEL.format({name:r,id:o,mentions:t}):T.Z.Messages.QUICK_SWITCHER_RESULTS_USER_LABEL.format({name:r,id:o})};o.render=function(){var e=this.props,t=e.onMouseEnter,n=e.onClick,o=e.onFocus,i=e.onContextMenu,a=e.focused,l=e.score,u=e.id;return(0,r.jsx)(ae,{id:u,"aria-label":this.getAccessibilityLabel(),onMouseEnter:t,onClick:n,onFocus:o,onContextMenu:i,focused:a,score:l,children:this.renderContent()})};return n}(o.Component),fe=function(e){te(n,e);var t=ie(n);function n(){$(this,n);return t.apply(this,arguments)}var o=n.prototype;o.renderContent=function(){var e=this.props,t=e.children,n=e.application;return(0,r.jsxs)("div",{className:Q().contentDefault,children:[(0,r.jsx)("div",{className:Q().iconContainer,children:(0,r.jsx)(U.Z,{tabIndex:-1,className:Q().gameIcon,game:n,size:Q().gameIconSize})}),n.name,(0,
r.jsx)("div",{className:Q().misc,children:t})]})};o.render=function(){var e=this.props,t=e.onMouseEnter,n=e.onClick,o=e.onFocus,i=e.focused,a=e.id;return(0,r.jsx)(ae,{id:a,onMouseEnter:t,onClick:n,onFocus:o,focused:i,children:this.renderContent()})};return n}(o.Component),de=function(e){te(n,e);var t=ie(n);function n(){$(this,n);return t.apply(this,arguments)}n.prototype.render=function(){return(0,r.jsx)("div",{className:Q().resultDefault,children:(0,r.jsx)("div",{className:Q().contentDefault,children:(0,r.jsx)("div",{className:Q().header,children:this.props.children})})})};return n}(o.Component),pe=function(e){te(n,e);var t=ie(n);function n(){$(this,n);return t.apply(this,arguments)}var o=n.prototype;o.renderContent=function(){var e,t,n=this.props,o=n.link,i=n.children,a=(0,Z.Qj)(o.path);if(null==a||void 0===a.messageId){e=T.Z.Messages.QUICKSWITCHER_LINK_UNKNOWN;t=(0,r.jsx)(z.Z,{width:16,height:16})}else if((0,Z.VO)(a)){e=T.Z.Messages.QUICKSWITCHER_LINK_MESSAGE;t=(0,r.jsx)(Y,{
width:16,height:16})}else{e=T.Z.Messages.QUICKSWITCHER_LINK_NO_ACCESS;t=(0,r.jsx)(K.Z,{width:16,height:16})}return(0,r.jsxs)("div",{className:Q().contentDefault,children:[(0,r.jsx)("div",{className:Q().iconContainer,children:t}),e,(0,r.jsx)("div",{className:Q().misc,children:i})]})};o.render=function(){var e=this.props,t=e.onMouseEnter,n=e.onClick,o=e.onFocus,i=e.onContextMenu,a=e.focused,l=e.score,u=e.id;return(0,r.jsx)(ae,{id:u,onMouseEnter:t,onClick:n,onFocus:o,onContextMenu:i,focused:a,score:l,children:this.renderContent()})};return n}(o.Component),he=n(757987),ye=n(272729),be=n(67416),ve=n(880068),me=n(882699),ge=n(95467),Oe=n(112886),Ee=n(738017),je=n(365523),Se=n(587510),Ce=n.n(Se);function Pe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ie(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function _e(e){_e=Object.setPrototypeOf?Object.getPrototypeOf:function(e){
return e.__proto__||Object.getPrototypeOf(e)};return _e(e)}function we(e,t){return!t||"object"!==Ne(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function xe(e,t){xe=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return xe(e,t)}var Ne=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Te(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=_e(e);if(t){var o=_e(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return we(this,n)}}var Ae={friction:15,tension:100},Ze=function(e){!function(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&xe(e,t)}(i,e);var t=Te(i);function i(){Pe(this,i);var e;(e=t.apply(this,arguments)).state={shown:!1,translateY:new Ee.Z.Value(0)};e.rootRef=o.createRef();e.focusTimeout=new je.V7;e.handleResultFocus=function(t){var n=t.node;e.focusTimeout.start(1,(function(){if(e.props.hasQuery&&null!=n&&null!=e.rootRef.current){var t=e.rootRef.current.getBoundingClientRect().top,r=n.getBoundingClientRect().top,o=Math.abs(t-r);e.springTo(o-118+9)}else e.springTo(0)}))};return e}var a=i.prototype;a.componentDidMount=function(){this.setState({shown:!0});me.S.subscribe(N.CkL.QUICKSWITCHER_RESULT_FOCUS,this.handleResultFocus)};a.componentWillUnmount=function(){this.focusTimeout.stop();me.S.unsubscribe(N.CkL.QUICKSWITCHER_RESULT_FOCUS,this.handleResultFocus)};a.componentDidUpdate=function(){
this.props.hasQuery||this.springTo(0)};a.springTo=function(e){Ee.Z.spring(this.state.translateY,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Ie(e,t,n[t])}))}return e}({toValue:Math.min(e,250)},Ae)).start()};a.renderArrowGroup=function(e){return(0,r.jsxs)("div",{className:s()(Ce().arrowGroup,e),children:[(0,r.jsx)(Ee.Z.div,{className:s()(Ce().arrowContainer,Ce().horizontal),style:this.getStyle(),children:(0,r.jsx)("img",{alt:"",src:n(185204),className:Ce().arrowIcon})}),(0,r.jsx)("div",{className:s()(Ce().arrowContainer,Ce().diag1),children:(0,r.jsx)("img",{alt:"",src:n(73316),className:Ce().arrowIcon})}),(0,r.jsx)("div",{className:s()(Ce().arrowContainer,Ce().diag2),children:(0,r.jsx)("img",{alt:"",src:n(385488),
className:Ce().arrowIcon})})]})};a.renderContent=function(){return(0,r.jsxs)("div",{className:Ce().tutorialMessages,children:[(0,r.jsx)("div",{className:Ce().searchMessage,children:T.Z.Messages.QUICKSWITCHER_TUTORIAL_MESSAGE_SEARCH}),(0,r.jsx)("div",{className:Ce().selectMessage,children:T.Z.Messages.QUICKSWITCHER_TUTORIAL_MESSAGE_SELECT})]})};a.render=function(){var e,t=this.props.hasQuery,n=this.state.shown;return(0,r.jsxs)("div",{ref:this.rootRef,className:s()(Ce().tutorial,(e={},Ie(e,Ce().shown,n),Ie(e,Ce().hasQuery,t),e)),children:[this.renderContent(),this.renderArrowGroup(Ce().left),this.renderArrowGroup(Ce().right)]})};a.getStyle=function(){return{transform:[{translateY:this.state.translateY.interpolate({inputRange:[0,250],outputRange:["0px","".concat(250,"px")]})},{translateZ:0}]}};return i}(o.PureComponent);const Re=Ze;var Me=n(309163),De=n.n(Me);function Le(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}
function ke(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Le(i,r,o,a,l,"next",e)}function l(e){Le(i,r,o,a,l,"throw",e)}a(void 0)}))}}function Ue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ge(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function He(e){He=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return He(e)}function Be(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Ye(e,t)}function Ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){
return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Ge(e,t,n[t])}))}return e}function Fe(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function We(e,t){return!t||"object"!==ze(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ye(e,t){Ye=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Ye(e,t)}var ze=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Ke(e){var t=function(){
if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=He(e);if(t){var o=He(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return We(this,n)}}var qe=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0]
;continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},Xe=10,Qe=function(){return(0,r.jsxs)("div",{className:De().emptyState,children:[(0,r.jsx)("div",{className:De().emptyStateNote,children:T.Z.Messages.QUICKSWITCHER_EMPTY_TEXT}),(0,r.jsx)("div",{className:De().emptyStateCTA,children:(0,r.jsx)(P.Z,{href:ge.Z.getArticleURL(N.BhN.QUICK_SWITCHER_TUTORIAL),children:T.Z.Messages.QUICKSWITCHER_EMPTY_CTA})})]})},Je=function(e){Be(n,e);var t=Ke(n);function n(){Ue(this,n);return t.apply(this,arguments)}n.prototype.render=function(){var e=E.Z.getGuild(this.props.channel.guild_id);return(0,
r.jsx)(ue,Fe(Ve({},this.props),{children:(0,r.jsx)("div",{className:De().miscContainer,children:null!=e?e.name:null})}))};return n}(o.Component);Je.defaultProps={unread:!1};var $e=p.ZP.connectStores([j.ZP,g.Z],(function(e){var t=e.channel;return{unread:j.ZP.hasUnread(t.id),mentions:j.ZP.getMentionCount(t.id),category:g.Z.getChannel(t.parent_id)}}))(Je),et=p.ZP.connectStores([C.ZP],(function(e){var t=e.channel;if(null==t.guild_id)throw new Error("ConnectedVoiceChannel - somehow we got a voice channel with no guild_id...");return{voiceStates:C.ZP.getVoiceStates(t.guild_id)[t.id]}}))(Je),tt=p.ZP.connectStores([O.Z],(function(e){var t=e.guild;return{unread:O.Z.hasUnread(t.id)}}))(le),nt=p.ZP.connectStores([j.ZP],(function(e){var t=e.channel;return{mentions:j.ZP.getMentionCount(t.id)}}))(ce),rt=p.ZP.connectStores([g.Z,j.ZP],(function(e){var t=e.user,n=g.Z.getDMFromUserId(t.id);return{mentions:null!=n?j.ZP.getMentionCount(n):0}}))(se);function ot(e,t,n){return(0,r.jsx)(he.ZP,{text:n,
children:function(e){return(0,r.jsx)("span",Fe(Ve({},e),{className:De().autocompleteQuerySymbol,children:t}))}},e)}var it=function(e){Be(i,e);var t=Ke(i);function i(){Ue(this,i);var e;(e=t.apply(this,arguments)).scrollerRef=o.createRef();e.inputRef=o.createRef();e._listId=(0,ye.hQ)();e.state={query:e.props.query,mouseFocusDisabled:!0};e.handleInputChange=function(){var t=e.inputRef.current;null!=t&&e.search(t.value)};e.handleMouseMove=function(){!1!==e.state.mouseFocusDisabled&&e.setState({mouseFocusDisabled:!1})};e.focusResult=function(t){e.state.mouseFocusDisabled||(0,Oe.tF)(e.props.results.indexOf(t))};e.selectResult=function(e){(0,Oe.Se)(e)};e.handleContextMenu=function(t){var o=e.props.results[e.props.selectedIndex];switch(o.type){case v.h8.GUILD:return(0,h.jW)(t,ke((function(){var e,t;return qe(this,(function(i){switch(i.label){case 0:
return[4,Promise.all([n.e(40532),n.e(92224),n.e(7943),n.e(42185),n.e(42348),n.e(93558),n.e(34076),n.e(5864),n.e(27565),n.e(32597),n.e(47018),n.e(43208)]).then(n.bind(n,847018))];case 1:e=i.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,Fe(Ve({},e),{guild:o.record,onSelect:Oe.Cp}))}]}}))})));case v.h8.TEXT_CHANNEL:case v.h8.VOICE_CHANNEL:var i=o.record,a=E.Z.getGuild(i.getGuildId());if(null==a)return;switch(i.type){case N.d4z.GUILD_TEXT:case N.d4z.GUILD_ANNOUNCEMENT:case N.d4z.GUILD_FORUM:return(0,h.jW)(t,ke((function(){var e,t;return qe(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(87996),n.e(57501),n.e(2464),n.e(22619)]).then(n.bind(n,922619))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,Fe(Ve({},e),{channel:i,guild:a,onSelect:Oe.Cp}))}]}}))})));case N.d4z.GUILD_VOICE:case N.d4z.GUILD_STAGE_VOICE:return(0,h.jW)(t,ke((function(){var e,t;return qe(this,(function(o){switch(o.label){case 0:
return[4,Promise.all([n.e(87996),n.e(57501),n.e(2464),n.e(13277)]).then(n.bind(n,213277))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,Fe(Ve({},e),{channel:i,guild:a,onSelect:Oe.Cp}))}]}}))})));case N.d4z.ANNOUNCEMENT_THREAD:case N.d4z.PUBLIC_THREAD:case N.d4z.PRIVATE_THREAD:return(0,h.jW)(t,ke((function(){var e,t;return qe(this,(function(o){switch(o.label){case 0:return[4,n.e(98412).then(n.bind(n,669102))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,Fe(Ve({},e),{channel:i,onSelect:Oe.Cp}))}]}}))})));case N.d4z.GUILD_STORE:return(0,h.jW)(t,ke((function(){var e,t;return qe(this,(function(o){switch(o.label){case 0:return[4,n.e(30847).then(n.bind(n,130847))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,Fe(Ve({},e),{channel:i,guild:a,onSelect:Oe.Cp}))}]}}))})));case N.d4z.GUILD_DIRECTORY:return(0,h.jW)(t,ke((function(){var e,t;return qe(this,(function(o){switch(o.label){case 0:
return[4,n.e(8477).then(n.bind(n,408477))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,Fe(Ve({},e),{channel:i}))}]}}))})))}break;case v.h8.GROUP_DM:return(0,h.jW)(t,ke((function(){var e,t;return qe(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(87996),n.e(11499)]).then(n.bind(n,411499))];case 1:e=i.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,Fe(Ve({},e),{channel:o.record,selected:S.Z.getChannelId()===o.record.id,onSelect:Oe.Cp}))}]}}))})));case v.h8.USER:return(0,h.jW)(t,ke((function(){var e,t;return qe(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(87996),n.e(45323),n.e(64178)]).then(n.bind(n,90248))];case 1:e=i.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,Fe(Ve({},e),{user:o.record,onSelect:Oe.Cp}))}]}}))})))}};e.handleKeyDown=function(t){var n=e.state,r=n.mouseFocusDisabled,o=n.query,i=e.props.results;!1===r&&e.setState({mouseFocusDisabled:!0})
;var a=t.key.toLowerCase(),l=e.props.selectedIndex;switch(a){case"escape":t.preventDefault();t.stopPropagation();o.length>0?e.search(""):(0,Oe.Cp)();return;case"k":if(!0===t.ctrlKey||!0===t.metaKey){t.preventDefault();t.stopPropagation();(0,Oe.Cp)()}return;case"enter":if(-1===l)return;t.preventDefault();if(t.altKey)return e.handleContextMenu(t);var u=i[l];null!=u&&e.selectResult(u);return;case"arrowup":l=(0,v.gJ)(v.a8.UP,l,i);break;case"arrowdown":l=(0,v.gJ)(v.a8.DOWN,l,i);break;case"n":if(!t.ctrlKey)return;l=(0,v.gJ)(v.a8.DOWN,l,i);break;case"p":if(!t.ctrlKey)return;l=(0,v.gJ)(v.a8.UP,l,i);break;default:return}t.preventDefault();(0,Oe.tF)(l)};e.renderRow=function(t){var n=t.row,o=e.props.results[n],i=e.props.selectedIndex,a=m.getCurrentConfig({}).showScores;switch(o.type){case v.h8.HEADER:return(0,r.jsx)(de,{children:o.record.text},"".concat(o.type,"-").concat(o.record.id));case v.h8.TEXT_CHANNEL:return(0,r.jsx)($e,{id:e.getRowId(n),focused:i>=0&&n===i,onClick:function(){
return e.selectResult(o)},onMouseEnter:function(){return e.focusResult(o)},onFocus:e.focusNode,onContextMenu:e.handleContextMenu,channel:o.record,score:a?o.score:void 0},"".concat(o.type,"-").concat(o.record.id));case v.h8.VOICE_CHANNEL:return(0,r.jsx)(et,{id:e.getRowId(n),focused:i>=0&&n===i,onClick:function(){return e.selectResult(o)},onMouseEnter:function(){return e.focusResult(o)},onFocus:e.focusNode,onContextMenu:e.handleContextMenu,channel:o.record,score:a?o.score:void 0},"".concat(o.type,"-").concat(o.record.id));case v.h8.GUILD:return(0,r.jsx)(tt,{id:e.getRowId(n),focused:i>=0&&n===i,onClick:function(){return e.selectResult(o)},onMouseEnter:function(){return e.focusResult(o)},onFocus:e.focusNode,onContextMenu:e.handleContextMenu,guild:o.record,score:a?o.score:void 0},"".concat(o.type,"-").concat(o.record.id));case v.h8.USER:return(0,r.jsx)(rt,{id:e.getRowId(n),focused:i>=0&&n===i,onClick:function(){return e.selectResult(o)},onMouseEnter:function(){return e.focusResult(o)},
onFocus:e.focusNode,onContextMenu:e.handleContextMenu,user:o.record,comparator:o.comparator,score:a?o.score:void 0},"".concat(o.type,"-").concat(o.record.id));case v.h8.GROUP_DM:return(0,r.jsx)(nt,{id:e.getRowId(n),focused:i>=0&&n===i,onClick:function(){return e.selectResult(o)},onMouseEnter:function(){return e.focusResult(o)},onFocus:e.focusNode,onContextMenu:e.handleContextMenu,channel:o.record,score:a?o.score:void 0},"".concat(o.type,"-").concat(o.record.id));case v.h8.APPLICATION:return(0,r.jsx)(fe,{id:e.getRowId(n),focused:i>=0&&n===i,onClick:function(){return e.selectResult(o)},onMouseEnter:function(){return e.focusResult(o)},onFocus:e.focusNode,application:o.record},"".concat(o.type,"-").concat(o.record.id));case v.h8.LINK:return(0,r.jsx)(pe,{focused:i>=0&&n===i,onClick:function(){return e.selectResult(o)},onMouseEnter:function(){return e.focusResult(o)},onFocus:e.focusNode,onContextMenu:e.handleContextMenu,link:o.record,score:a?o.score:void 0,id:e.getRowId(n)
},"".concat(o.type,"-").concat(o.record.id));default:return null}};return e}var a=i.prototype;a.componentDidMount=function(){b.Z.disable();b.Z.enableTemp(y.u)};a.componentWillUnmount=function(){b.Z.disableTemp();b.Z.enable()};a.componentDidUpdate=function(e,t){var n=this.state,r=n.mouseFocusDisabled,o=n.query,i=this.props.selectedIndex,a=this.scrollerRef.current;null!=a&&(o!==t.query?a.scrollTo({to:0}):r&&i>=0&&a.scrollToIndex({section:0,row:i,padding:10}))};a.close=function(){(0,Oe.Cp)()};a.search=function(e){this.setState({query:e});(0,Oe.yC)(e)};a.renderInput=function(){var e=this.props,t=e.selectedIndex,n=e.results,o=this.state.query,i=n.length>0&&""!==o;return(0,r.jsx)(f.tE,{children:(0,r.jsx)("input",{className:De().input,"aria-label":T.Z.Messages.QUICK_SWITCHER,ref:this.inputRef,type:"text",role:"combobox","aria-controls":this._listId,"aria-expanded":i,"aria-activedescendant":i?this.getRowId(t):void 0,"aria-autocomplete":"list",placeholder:T.Z.Messages.QUICKSWITCHER_PLACEHOLDER,
onChange:this.handleInputChange,onKeyDown:this.handleKeyDown,value:this.state.query,spellCheck:!1,autoFocus:!0})})};a.renderSection=function(){return null};a.renderResults=function(){var e=this.state.query,t=this.props.results;return 0===t.length&&e.length>0?(0,r.jsx)(Qe,{}):0===t.length?null:(0,r.jsx)(ve._2,{innerId:this._listId,innerRole:"listbox","aria-label":T.Z.Messages.QUICK_SWITCHER_RESULTS_LABEL,ref:this.scrollerRef,sectionHeight:0,rowHeight:34,paddingBottom:Xe,sections:[t.length],className:De().scroller,renderRow:this.renderRow,renderSection:this.renderSection})};a.focusNode=function(e){me.S.dispatch(N.CkL.QUICKSWITCHER_RESULT_FOCUS,{node:e})};a.getRowId=function(e){return"quick-switcher-".concat(this._listId,"-item-").concat(e)};a.renderProtip=function(){return(0,r.jsx)(I.Z,{className:s()(De().protip,Ge({},De().hasContent,this.state.query.length>0)),type:I.Z.Types.INLINE,children:T.Z.Messages.QUICKSWITCHER_PROTIP.format({userSymbolHook:function(e,t){
return ot(t,v.xQ.USER,T.Z.Messages.QUICKSWITCHER_PROTIP_USERNAMES)},textChannelSymbolHook:function(e,t){return ot(t,v.xQ.TEXT_CHANNEL,T.Z.Messages.QUICKSWITCHER_PROTIP_TEXT_CHANNELS)},voiceChannelSymbolHook:function(e,t){return ot(t,v.xQ.VOICE_CHANNEL,T.Z.Messages.QUICKSWITCHER_PROTIP_VOICE_CHANNELS)},guildSymbolHook:function(e,t){return ot(t,v.xQ.GUILD,T.Z.Messages.QUICKSWITCHER_PROTIP_GUILDS)},helpdeskArticle:ge.Z.getArticleURL(N.BhN.QUICK_SWITCHER_TUTORIAL)})})};a.renderTutorial=function(){var e=this.state.query,t=this.props,n=t.seenTutorial,o=t.results;return n?null:(0,r.jsx)(Re,{hasQuery:e.length>0&&o.length>0})};a.render=function(){return(0,r.jsx)(be.Y0,{"aria-label":T.Z.Messages.QUICK_SWITCHER,size:be.Cg.DYNAMIC,transitionState:this.props.transitionState,className:s()(De().container,d.tq&&De().mobileContainer),fullscreenOnMobile:!1,children:(0,r.jsxs)("div",{className:s()(De().quickswitcher,d.tq&&De().mobileQuickswitcher),onMouseMove:this.handleMouseMove,
children:[this.renderInput(),this.renderResults(),this.renderProtip(),this.renderTutorial()]})})};return i}(o.PureComponent);function at(e){var t=(0,p.cj)([u.Z],(function(){return u.Z.getProps()}));return(0,r.jsx)(it,Ve({},t,e))}function lt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ut(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function ct(e){ct=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return ct(e)}function st(e,t){return!t||"object"!==dt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ft(e,t){ft=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return ft(e,t)}var dt=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function pt(e){var t=function(){
if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=ct(e);if(t){var o=ct(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return st(this,n)}}var ht="QUICK_SWITCHER_MODAL_KEY",yt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&ft(e,t)}(n,e);var t=pt(n);function n(){lt(this,n);return t.apply(this,arguments)}var o=n.prototype;o._initialize=function(){i.Z.subscribe("QUICKSWITCHER_SHOW",this.handleShow);i.Z.subscribe("QUICKSWITCHER_HIDE",this.handleHide)};o._terminate=function(){i.Z.unsubscribe("QUICKSWITCHER_SHOW",this.handleShow)
;i.Z.unsubscribe("QUICKSWITCHER_HIDE",this.handleHide)};o.handleShow=function(){u.Z.isOpen()&&!(0,l.nf)(ht)&&(0,l.h7)((function(e){return(0,r.jsx)(at,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){ut(e,t,n[t])}))}return e}({},e))}),{modalKey:ht,instant:!0})};o.handleHide=function(){(0,l.Mr)(ht)};o.__getLocalVars=function(){return{QUICK_SWITCHER_MODAL_KEY:ht}};return n}(a.Z);const bt=new yt},132634:(e,t,n)=>{"use strict";n.d(t,{S:()=>a,c:()=>l});var r=n(461061),o=n(35236),i=/^\d+$/;function a(e){return null!=e&&(e===r.ME||e===r.I_8||!!i.test(e))}function l(e){return null==e||(!!i.test(e)||!!(0,o.AB)(e))}},587071:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var r=n(785893),o=n(667294),i=n(723812),a=n(952013),l=n(832010),u=n(461061)
;function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e){
var t=(0,o.useRef)(null),n=s((0,o.useState)(null),2),c=n[0],f=n[1],d=s((0,o.useState)(null),2),p=d[0],h=d[1],y=(0,a.ZP)(),b=(0,l.Y6)([u.Ilk.WHITE_500,u.Ilk.WHITE_800,u.Ilk.BLACK_100,u.Ilk.BLACK_500,u.Ilk.PRIMARY_DARK_600,u.Ilk.BRAND_500],l.Y6.Transforms.hex);(0,o.useEffect)((function(){var e=t.current;if(null!=e){var n,r=new i.TimelineGraphView(e,null!==(n=window.devicePixelRatio)&&void 0!==n?n:1);r.backgroundColor=y===u.BRd.LIGHT?b[u.Ilk.WHITE_500]:b[u.Ilk.PRIMARY_DARK_600];r.textColor=y===u.BRd.LIGHT?b[u.Ilk.BLACK_500]:b[u.Ilk.WHITE_500];r.gridColor=y===u.BRd.LIGHT?b[u.Ilk.BLACK_100]:b[u.Ilk.WHITE_800];r.timeOptions={timeStyle:"short"};var o=new i.TimelineDataSeries;o.setColor(b[u.Ilk.BRAND_500]);r.addDataSeries(o);r.updateEndDate();f(r);h(o)}}),[t,b,y]);null==p||p.setPoints(e.dataPoints);null==c||c.updateEndDate();var v={width:e.width,height:e.height};return(0,r.jsx)("canvas",{style:v,width:e.width,height:e.height,ref:t},"canvas")}},365723:(e,t,n)=>{"use strict";n.d(t,{Z:()=>lt})
;var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),l=n(496486),u=n.n(l),c=n(791462),s=n(671018),f=n(293720),d=n(23816),p=n(80635),h=n(409271),y=n(759194),b=n(379822),v=n(131795),m=n.n(v),g=n(738017),O=n(23966),E=n.n(O);function j(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e){S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return S(e)}function C(e,t){return!t||"object"!==I(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function P(e,t){P=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return P(e,t)}var I=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{
Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=S(e);if(t){var o=S(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return C(this,n)}}function w(e){var t=function(e){return e.interpolate({inputRange:[0,1],outputRange:["0px","1px"]})};return{transform:[{translateX:t(e.x)},{translateY:t(e.y)}]}}const x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&P(e,t)}(n,e);var t=_(n);function n(){j(this,n);var e;(e=t.apply(this,arguments)).state={x:new g.Z.Value(0),y:new g.Z.Value(0)};e._isMounted=!1;e.shouldLoop=function(){return e._isMounted};return e}var o=n.prototype;o.componentDidMount=function(){this._isMounted=!0;var e=this.state,t=e.x,n=e.y;if("Firefox"!==m().name){g.Z.animate(t,{loop:!0,
toValueMin:-74,toValueMax:95,overshootClamping:!0,friction:5,tension:1,shouldLoop:this.shouldLoop});g.Z.animate(n,{loop:!0,toValueMin:-59,toValueMax:75,overshootClamping:!0,friction:5,tension:1,shouldLoop:this.shouldLoop})}};o.componentWillUnmount=function(){this._isMounted=!1};o.render=function(){return(0,r.jsxs)("div",{className:E().searchIndexAnimation,children:[(0,r.jsx)("div",{className:E().searchIndexBackground}),(0,r.jsxs)("svg",{className:E().searchIndexForeground,width:"320",height:"280",children:[(0,r.jsx)("defs",{children:(0,r.jsx)("rect",{id:"search-index-foreground-mask-a",width:"80",height:"80",rx:"40"})}),(0,r.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,r.jsxs)("g",{transform:"translate(120 80)",children:[(0,r.jsx)("mask",{id:"search-index-foreground-mask-b",fill:"#fff",children:(0,r.jsx)(g.Z.use,{style:w(this.state),className:E().mask,xlinkHref:"#search-index-foreground-mask-a"})}),(0,r.jsxs)("g",{mask:"url(#search-index-foreground-mask-b)",children:[(0,
r.jsx)("path",{fill:"#FFF",d:"M-7.1156 170.8361c0 10.68-8.658 19.338-19.339 19.338-10.68 0-19.338-8.658-19.338-19.338 0-10.68 8.658-19.338 19.338-19.338 10.681 0 19.339 8.658 19.339 19.338"}),(0,r.jsx)("path",{fill:"#FFF",d:"M-7.1156 170.8361c0 10.68-8.658 19.338-19.339 19.338-10.68 0-19.338-8.658-19.338-19.338 0-10.68 8.658-19.338 19.338-19.338 10.681 0 19.339 8.658 19.339 19.338"}),(0,r.jsx)("path",{fill:"#FFD773",d:"M-7.1156 170.8361c0 10.68-8.658 19.338-19.339 19.338-10.68 0-19.338-8.658-19.338-19.338 0-10.68 8.658-19.338 19.338-19.338 10.681 0 19.339 8.658 19.339 19.338"}),(0,r.jsx)("path",{stroke:"#1E2126",strokeWidth:"2",d:"M-7.1156 170.8361c0 10.68-8.658 19.338-19.339 19.338-10.68 0-19.338-8.658-19.338-19.338 0-10.68 8.658-19.338 19.338-19.338 10.681 0 19.339 8.658 19.339 19.338z",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{stroke:"#1E2126",strokeWidth:"2",
d:"M-15.0267 170.8361c0 6.311-5.116 11.427-11.428 11.427-6.31 0-11.426-5.116-11.426-11.427s5.116-11.427 11.426-11.427c6.312 0 11.428 5.116 11.428 11.427z",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{fill:"#FFF",d:"M6.9479 154.135c0 10.68-8.658 19.338-19.338 19.338-10.68 0-19.338-8.658-19.338-19.338 0-10.68 8.658-19.338 19.338-19.338 10.68 0 19.338 8.658 19.338 19.338"}),(0,r.jsx)("path",{fill:"#FFF",d:"M6.9479 154.135c0 10.68-8.658 19.338-19.338 19.338-10.68 0-19.338-8.658-19.338-19.338 0-10.68 8.658-19.338 19.338-19.338 10.68 0 19.338 8.658 19.338 19.338"}),(0,r.jsx)("path",{fill:"#FFD773",d:"M6.9479 154.135c0 10.68-8.658 19.338-19.338 19.338-10.68 0-19.338-8.658-19.338-19.338 0-10.68 8.658-19.338 19.338-19.338 10.68 0 19.338 8.658 19.338 19.338"}),(0,r.jsx)("path",{stroke:"#1E2126",strokeWidth:"2",d:"M6.9479 154.135c0 10.68-8.658 19.338-19.338 19.338-10.68 0-19.338-8.658-19.338-19.338 0-10.68 8.658-19.338 19.338-19.338 10.68 0 19.338 8.658 19.338 19.338z",
strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{stroke:"#1E2126",strokeWidth:"2",d:"M-12.39 165.5622c-6.311 0-11.427-5.116-11.427-11.427s5.116-11.427 11.427-11.427 11.427 5.116 11.427 11.427c0 2.727-.955 5.231-2.55 7.196",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{fill:"#FFF",d:"M-4.4789 140.9499c0 10.68-8.658 19.338-19.338 19.338-10.681 0-19.338-8.658-19.338-19.338 0-10.68 8.657-19.338 19.338-19.338 10.68 0 19.338 8.658 19.338 19.338"}),(0,r.jsx)("path",{fill:"#FFF",d:"M-4.4789 140.9499c0 10.68-8.658 19.338-19.338 19.338-10.681 0-19.338-8.658-19.338-19.338 0-10.68 8.657-19.338 19.338-19.338 10.68 0 19.338 8.658 19.338 19.338"}),(0,r.jsx)("path",{fill:"#FFD773",d:"M-4.4789 140.9499c0 10.68-8.658 19.338-19.338 19.338-10.681 0-19.338-8.658-19.338-19.338 0-10.68 8.657-19.338 19.338-19.338 10.68 0 19.338 8.658 19.338 19.338"}),(0,r.jsx)("path",{stroke:"#1E2126",strokeWidth:"2",
d:"M-4.4789 140.9499c0 10.68-8.658 19.338-19.338 19.338-10.681 0-19.338-8.658-19.338-19.338 0-10.68 8.657-19.338 19.338-19.338 10.68 0 19.338 8.658 19.338 19.338z",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{stroke:"#1E2126",strokeWidth:"2",d:"M-23.8168 129.5232c6.311 0 11.427 5.116 11.427 11.427s-5.116 11.427-11.427 11.427c-6.312 0-11.427-5.116-11.427-11.427",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{fill:"#FFF",d:"M100.5348-15.3089c-10.639.941-20.026-6.919-20.968-17.558-.941-10.638 6.92-20.026 17.559-20.967 10.638-.942 20.025 6.919 20.967 17.558.941 10.638-6.919 20.026-17.558 20.967"}),(0,r.jsx)("path",{fill:"#FFF",d:"M100.5348-15.3089c-10.639.941-20.026-6.919-20.968-17.558-.941-10.638 6.92-20.026 17.559-20.967 10.638-.942 20.025 6.919 20.967 17.558.941 10.638-6.919 20.026-17.558 20.967"}),(0,r.jsx)("path",{fill:"#FFD773",
d:"M100.5348-15.3089c-10.639.941-20.026-6.919-20.968-17.558-.941-10.638 6.92-20.026 17.559-20.967 10.638-.942 20.025 6.919 20.967 17.558.941 10.638-6.919 20.026-17.558 20.967"}),(0,r.jsx)("path",{stroke:"#1E2126",strokeWidth:"2",d:"M100.5348-15.3089c-10.639.941-20.026-6.919-20.968-17.558-.941-10.638 6.92-20.026 17.559-20.967 10.638-.942 20.025 6.919 20.967 17.558.941 10.638-6.919 20.026-17.558 20.967z",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{stroke:"#1E2126",strokeWidth:"2",d:"M110.2125-35.5789c.556 6.286-4.089 11.833-10.375 12.39-6.287.556-11.834-4.089-12.391-10.375-.555-6.286 4.089-11.834 10.376-12.39",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{fill:"#C2FFF9",d:"M-76.4877 122.3928l14.704 5.777-8.133 24.358-25.269-4.57 1.997-15.671"}),(0,r.jsx)("path",{stroke:"#1E2126",strokeWidth:"2",d:"M-76.4877 122.3928l14.704 5.777-8.133 24.358-25.269-4.57 1.997-15.671zm-18.6982 25.5654l33.402-19.788",strokeLinecap:"round",strokeLinejoin:"round"}),(0,
r.jsx)("path",{stroke:"#1E2126",strokeWidth:"2",d:"M-93.1889 132.2868l23.272 20.241-6.571-30.135",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{fill:"#C2FFF9",d:"M151.5172-63.3406l4.276 12.99-20.723 8.042-10.921-19.362 11.546-7.33"}),(0,r.jsx)("path",{stroke:"#1E2126",strokeWidth:"2",d:"M151.5172-63.3406l4.276 12.99-20.723 8.042-10.921-19.362 11.546-7.33z",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{stroke:"#1E2126",strokeWidth:"2",d:"M135.6949-69.0003l-.625 26.692 16.447-21.032m-27.3679 1.6701l31.645 11.319",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{fill:"#E4E9F8",d:"M59.7897 13.2502l-102.171 25.055c-2.453.602-4.93-.899-5.531-3.352l-17.794-72.557c-.602-2.454.9-4.93 3.353-5.532l102.171-25.055c2.454-.601 4.931.899 5.533 3.353l17.793 72.556c.601 2.454-.9 4.93-3.354 5.532"}),(0,r.jsx)("path",{fill:"#7687B2",
d:"M45.3502-64.8382c-.602-2.453-3.078-3.954-5.532-3.353l-102.171 25.056c-2.454.601-3.954 3.078-3.353 5.531l3.489 14.228 111.056-27.234-3.489-14.228z"}),(0,r.jsx)("path",{stroke:"#1E2126",strokeWidth:"2",d:"M59.7897 13.2502l-102.171 25.055c-2.453.602-4.93-.899-5.531-3.352l-17.794-72.557c-.602-2.454.9-4.93 3.353-5.532l102.171-25.055c2.454-.601 4.931.899 5.533 3.353l17.793 72.556c.601 2.454-.9 4.93-3.354 5.532zM-62.2172-23.3763l111.057-27.234m-95.9164 3.7287l-8.367 21.844m30.0096-27.1517l-8.366 21.844m30.0096-27.1516l-8.366 21.844M17.8522-62.804L9.4862-40.96m30.0095-27.1516l-8.366 21.844",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{fill:"#FF7B78",d:"M28.693-19.9388c3.986 16.254-5.959 32.661-22.213 36.647-16.254 3.986-32.661-5.959-36.646-22.213-3.987-16.253 5.959-32.661 22.213-36.646 16.252-3.986 32.661 5.959 36.646 22.212"}),(0,r.jsx)("path",{stroke:"#1E2126",strokeWidth:"2",
d:"M28.693-19.9388c3.986 16.254-5.959 32.661-22.213 36.647-16.254 3.986-32.661-5.959-36.646-22.213-3.987-16.253 5.959-32.661 22.213-36.646 16.252-3.986 32.661 5.959 36.646 22.212z",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{fill:"#FFF",d:"M-16.3051-26.1936l7.999 32.618 26.541-23.798"}),(0,r.jsx)("path",{stroke:"#1E2126",strokeWidth:"2",d:"M-16.3051-26.1936l7.999 32.618 26.541-23.798z",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{fill:"#FFF",d:"M101.5895 23.7946l33.137 35.518-29.647-1.029c-2.585-.09-4.608-2.258-4.518-4.843l1.028-29.646z"}),(0,r.jsx)("path",{fill:"#E4E9F8",d:"M134.7262 59.3127l-3.195 92.059c-.089 2.585-2.258 4.608-4.843 4.519l-93.619-3.249c-2.586-.09-4.609-2.258-4.519-4.844l4.223-121.705c.09-2.585 2.259-4.608 4.844-4.518l63.972 2.22"}),(0,r.jsx)("path",{stroke:"#1E2126",strokeWidth:"2",
d:"M134.7262 59.3127l-3.195 92.059c-.089 2.585-2.258 4.608-4.843 4.519l-93.619-3.249c-2.586-.09-4.609-2.258-4.519-4.844l4.223-121.705c.09-2.585 2.259-4.608 4.844-4.518l63.972 2.22",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{stroke:"#1E2126",strokeWidth:"2",d:"M101.5895 23.7946l33.137 35.518-29.647-1.029c-2.585-.09-4.608-2.258-4.518-4.843l1.028-29.646z",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{fill:"#FFF",d:"M104.15 6.4353l39.81 27.834-29.21 5.171c-2.547.451-4.978-1.248-5.429-3.796l-5.171-29.209z"}),(0,r.jsx)("path",{fill:"#E4E9F8",d:"M143.9596 34.2692l16.058 90.704c.45 2.547-1.249 4.978-3.796 5.429l-92.242 16.329c-2.546.452-4.977-1.248-5.428-3.795l-21.229-119.914c-.451-2.547 1.248-4.978 3.796-5.428l63.031-11.159"}),(0,r.jsx)("path",{stroke:"#1E2126",strokeWidth:"2",
d:"M143.9596 34.2692l16.058 90.704c.45 2.547-1.249 4.978-3.796 5.429l-92.242 16.329c-2.546.452-4.977-1.248-5.428-3.795l-21.229-119.914c-.451-2.547 1.248-4.978 3.796-5.428l63.031-11.159",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{stroke:"#1E2126",strokeWidth:"2",d:"M104.15 6.4353l39.81 27.834-29.21 5.171c-2.547.451-4.978-1.248-5.429-3.796l-5.171-29.209z",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{fill:"#5871B7",d:"M10.7613-26.0428h117.831c2.829 0 5.123 2.294 5.123 5.123v7.341c0 1.565.716 3.045 1.943 4.016l7 5.542c.659.522.646 1.525-.026 2.029l-6.867 5.151c-1.29.967-2.05 2.485-2.05 4.098v7.685c0 2.829-2.294 5.123-5.123 5.123H10.7613c-2.83 0-5.124-2.294-5.124-5.123v-35.862c0-2.829 2.294-5.123 5.124-5.123"}),(0,r.jsx)("path",{stroke:"#1E2126",strokeWidth:"2",
d:"M10.7613-26.0428h117.831c2.829 0 5.123 2.294 5.123 5.123v7.341c0 1.565.716 3.045 1.943 4.016l7 5.542c.659.522.646 1.525-.026 2.029l-6.867 5.151c-1.29.967-2.05 2.485-2.05 4.098v7.685c0 2.829-2.294 5.123-5.123 5.123H10.7613c-2.83 0-5.124-2.294-5.124-5.123v-35.862c0-2.829 2.294-5.123 5.124-5.123zM64.1588 1.2805h-43.147m21.5738-8.1114h-21.574m91.3894 0H49.816m33.9815-8.1118h-62.786",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{fill:"#FFF",d:"M166.0641 58.8137l-21.664 89.53c-.608 2.514-3.14 4.06-5.654 3.451l-91.048-22.031c-2.515-.608-4.06-3.14-3.451-5.654l28.64-118.362c.609-2.515 3.14-4.059 5.655-3.451l62.215 15.055"}),(0,r.jsx)("path",{fill:"#E4E9F8",d:"M140.7574 17.3513l25.307 41.462-28.832-6.976c-2.515-.609-4.06-3.14-3.452-5.654l6.977-28.832z"}),(0,r.jsx)("path",{stroke:"#1E2126",strokeWidth:"2",
d:"M166.0641 58.8137l-21.664 89.53c-.608 2.514-3.14 4.06-5.654 3.451l-91.048-22.031c-2.515-.608-4.06-3.14-3.451-5.654l28.64-118.362c.609-2.515 3.14-4.059 5.655-3.451l62.215 15.055",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{stroke:"#1E2126",strokeWidth:"2",d:"M140.7574 17.3513l25.307 41.462-28.832-6.976c-2.515-.609-4.06-3.14-3.452-5.654l6.977-28.832z",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{fill:"#5865f2",d:"M84.6422 57.6999h-117.832c-2.829 0-5.123-2.293-5.123-5.123v-7.34c0-1.566-.716-3.045-1.943-4.017l-7-5.542c-.659-.521-.646-1.525.027-2.029l6.867-5.151c1.29-.967 2.049-2.485 2.049-4.098v-7.685c0-2.829 2.294-5.123 5.123-5.123h117.832c2.829 0 5.123 2.294 5.123 5.123v35.862c0 2.83-2.294 5.123-5.123 5.123"}),(0,r.jsx)("path",{stroke:"#1E2126",strokeWidth:"2",
d:"M84.6422 57.6999h-117.832c-2.829 0-5.123-2.293-5.123-5.123v-7.34c0-1.566-.716-3.045-1.943-4.017l-7-5.542c-.659-.521-.646-1.525.027-2.029l6.867-5.151c1.29-.967 2.049-2.485 2.049-4.098v-7.685c0-2.829 2.294-5.123 5.123-5.123h117.832c2.829 0 5.123 2.294 5.123 5.123v35.862c0 2.83-2.294 5.123-5.123 5.123zM-26.3637 22.2653h48.67M6.0826 30.3767h68.309m-100.7553 0h22.799m53.1942 8.1118h14.942m-24.3346 0h4.534m-71.1346 0h54.093m-54.093 8.1113h63.186",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{fill:"#98AFED",d:"M63.191 113.1003h-130.64c-2.829 0-5.123-2.293-5.123-5.123v-7.34c0-1.566-.716-3.046-1.943-4.017l-7-5.542c-.658-.521-.646-1.525.026-2.029l6.868-5.151c1.291-.967 2.049-2.485 2.049-4.098v-7.685c0-2.829 2.294-5.123 5.123-5.123h130.64c2.829 0 5.123 2.294 5.123 5.123v35.862c0 2.83-2.294 5.123-5.123 5.123"}),(0,r.jsx)("path",{stroke:"#1E2126",strokeWidth:"2",
d:"M63.191 113.1003h-130.64c-2.829 0-5.123-2.293-5.123-5.123v-7.34c0-1.566-.716-3.046-1.943-4.017l-7-5.542c-.658-.521-.646-1.525.026-2.029l6.868-5.151c1.291-.967 2.049-2.485 2.049-4.098v-7.685c0-2.829 2.294-5.123 5.123-5.123h130.64c2.829 0 5.123 2.294 5.123 5.123v35.862c0 2.83-2.294 5.123-5.123 5.123zM-60.6225 77.6657h99.433m-23.4398 8.1114h7.949m-19.6892 0h-64.253m0 8.1118h47.398m-47.398 8.1113h116.122",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{fill:"#E4E9F8",d:"M37.8805 30.8191h-105.198c-2.527 0-4.574-2.048-4.574-4.574v-74.706c0-2.527 2.047-4.574 4.574-4.574h105.198c2.526 0 4.574 2.047 4.574 4.574v74.706c0 2.526-2.048 4.574-4.574 4.574"}),(0,r.jsx)("path",{fill:"#7687B2",d:"M42.4547-33.7181v-14.743c0-2.527-2.048-4.574-4.574-4.574h-105.198c-2.527 0-4.575 2.047-4.575 4.574v14.743h114.347z"}),(0,r.jsx)("path",{stroke:"#1E2126",strokeWidth:"2",
d:"M37.8805 30.8191h-105.198c-2.527 0-4.574-2.048-4.574-4.574v-74.706c0-2.527 2.047-4.574 4.574-4.574h105.198c2.526 0 4.574 2.047 4.574 4.574v74.706c0 2.526-2.048 4.574-4.574 4.574zM-71.892-33.8123H42.455m-94.0442-19.2231l-13.328 19.223m35.6121-19.223l-13.328 19.223m35.6132-19.223l-13.328 19.223m35.6122-19.223l-13.328 19.223m35.6121-19.223l-13.328 19.223",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{fill:"#FF7B78",d:"M15.5836-8.8211c0 16.735-13.566 30.302-30.302 30.302-16.735 0-30.302-13.567-30.302-30.302s13.567-30.302 30.302-30.302c16.736 0 30.302 13.567 30.302 30.302"}),(0,r.jsx)("path",{stroke:"#1E2126",strokeWidth:"2",d:"M15.5836-8.8211c0 16.735-13.566 30.302-30.302 30.302-16.735 0-30.302-13.567-30.302-30.302s13.567-30.302 30.302-30.302c16.736 0 30.302 13.567 30.302 30.302z",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{fill:"#FFF",d:"M-26.6293-25.6136v33.584l31.445-16.792"}),(0,r.jsx)("path",{stroke:"#1E2126",strokeWidth:"2",
d:"M-26.6293-25.6136v33.584l31.445-16.792zM184.3375 8.3772v6.43m3.2149-3.2152h-6.43m-292.9079 79.082v6.43m3.2148-3.2151h-6.43M195.901-43.6692l-1.516 1.515m-6.0611 6.0621l-1.516 1.516m9.0931-.0004l-1.516-1.516m-6.0611-6.0616l-1.516-1.515M-88.642 168.9265l-1.516 1.516m-6.0621 6.0616l-1.516 1.515m9.0941.0001l-1.516-1.515m-6.0621-6.0621l-1.516-1.516M174.3463-8.8211c0 1.775-1.439 3.215-3.215 3.215-1.776 0-3.215-1.44-3.215-3.215s1.439-3.215 3.215-3.215c1.776 0 3.215 1.44 3.215 3.215z",strokeLinecap:"round",strokeLinejoin:"round"})]})]}),(0,r.jsxs)(g.Z.g,{className:E().magnifyingGlass,style:w(this.state),children:[(0,r.jsx)("path",{fill:"#C9D2F0",d:"M89.8311 190.9259c-2.441-2.441-2.441-6.4 0-8.841l36.771-36.771 8.841 8.841-36.771 36.771c-2.441 2.441-6.4 2.441-8.841 0"}),(0,r.jsx)("path",{stroke:"#1E2126",strokeWidth:"2",d:"M89.8311 190.9259c-2.441-2.441-2.441-6.4 0-8.841l36.771-36.771 8.841 8.841-36.771 36.771c-2.441 2.441-6.4 2.441-8.841 0z",strokeLinecap:"round",strokeLinejoin:"round"}),(0,
r.jsx)("path",{fill:"#9F7373",d:"M100.1458 189.4524l-8.841-8.841c-1.628-1.628-1.628-4.267 0-5.894l17.437-17.437c1.627-1.628 4.266-1.628 5.894 0l8.841 8.841c1.628 1.628 1.628 4.267 0 5.894l-17.437 17.437c-1.627 1.628-4.266 1.628-5.894 0"}),(0,r.jsx)("path",{stroke:"#1E2126",strokeWidth:"2",d:"M100.1458 189.4524l-8.841-8.841c-1.628-1.628-1.628-4.267 0-5.894l17.437-17.437c1.627-1.628 4.266-1.628 5.894 0l8.841 8.841c1.628 1.628 1.628 4.267 0 5.894l-17.437 17.437c-1.627 1.628-4.266 1.628-5.894 0z",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{fill:"#F3F9FF",d:"M132.1122 148.6448c-15.621-15.621-15.621-40.948 0-56.569 15.621-15.621 40.948-15.621 56.569 0 15.621 15.621 15.621 40.948 0 56.569-15.621 15.621-40.948 15.621-56.569 0m63.895-63.895c-19.667-19.667-51.554-19.667-71.221 0s-19.667 51.554 0 71.221 51.554 19.667 71.221 0 19.667-51.554 0-71.221"}),(0,r.jsx)("path",{stroke:"#1E2126",strokeWidth:"2",
d:"M196.0069 155.9708c-19.667 19.667-51.554 19.667-71.221 0s-19.667-51.554 0-71.221 51.554-19.667 71.221 0 19.667 51.554 0 71.221z",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{stroke:"#1E2126",strokeWidth:"2",d:"M132.1122 148.6448c-15.621-15.621-15.621-40.948 0-56.569 15.621-15.621 40.948-15.621 56.569 0 15.621 15.621 15.621 40.948 0 56.569-15.621 15.621-40.948 15.621-56.569 0z",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{d:"M84 66h130v130H84z"})]})]})]})]})};return n}(o.Component);var N=n(318937),T=n(882699),A=n(387201),Z=n(819525),R=n(978571),M=n(105405);function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function L(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value)
;if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var k=n(892472),U=n(82961),G=n(497762),H=n(685351),B=n(757987),V=n(95467),F=n(461061),W=n(959797),Y=n(794097),z=n.n(Y);function K(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){K(e,t,n[t])}))}return e}function X(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Q(e){var t=e.searchMode,n=e.searchByMode;return(0,r.jsxs)("header",{className:z().searchHeader,children:[(0,r.jsx)(J,q({},e)),(0,r.jsxs)(G.ZP,{orientation:"horizontal",className:z().searchHeaderTabList,selectedItem:t,onItemSelect:n,children:[(0,r.jsx)(G.ZP.Item,{id:F.QIO.NEWEST,
children:W.Z.Messages.SEARCH_NEWEST_SHORT}),(0,r.jsx)(G.ZP.Item,{id:F.QIO.OLDEST,children:W.Z.Messages.SEARCH_OLDEST_SHORT}),(0,r.jsx)(G.ZP.Item,{id:F.QIO.MOST_RELEVANT,children:W.Z.Messages.SEARCH_MOST_RELEVANT_SHORT})]})]})}function J(e){var t,n=e.isSearching,o=e.isIndexing,i=e.documentsIndexed;(o||n)&&(t=(0,r.jsx)("div",{className:z().spinnerWrapper,children:(0,r.jsx)(U.Z,{type:U.Z.Type.SPINNING_CIRCLE,className:z().spinner,itemClassName:z().spinnerPath})}));var a=o&&!n;return(0,r.jsxs)("div",{className:z().totalResults,role:"status",children:[a?(0,r.jsx)(B.ZP,{text:W.Z.Messages.SEARCH_STILL_INDEXING_HINT.format({count:i}),children:function(n){return(0,r.jsxs)("div",X(q({className:z().totalResultsWrapper},n),{children:[(0,r.jsx)($,q({},e)),t]}))}}):(0,r.jsx)($,q({},e)),a?null:t]})}function $(e){var t=e.isSearching,n=e.isIndexing,o=e.totalResults;if(t)return(0,r.jsx)(H.x,{variant:"text-md/normal",color:"header-primary",children:W.Z.Messages.SEARCHING});if(n)return(0,r.jsx)(H.x,{
variant:"text-md/normal",children:(0,r.jsx)(k.Z,{className:z().helpdeskLink,href:V.Z.getArticleURL(F.BhN.SEARCH_INDEXING),children:W.Z.Messages.STILL_INDEXING})});var i=o.toLocaleString();return(0,r.jsx)(H.x,{variant:"text-md/normal",color:"header-primary",children:W.Z.Messages.TOTAL_RESULTS.format({count:i})})}var ee=n(510805),te=n(992497),ne=n(549425),re=n(730189),oe=n(53211),ie=n(987928),ae=n(805448),le=n(382394),ue=n(655695),ce=n(672549),se=n(356004),fe=n(940712),de=n(859023),pe=n(629590),he=n(631512),ye=n(976703),be=n(752177),ve=n(574628),me=n.n(ve);function ge(e){var t=e.changePage,n=e.offset,o=e.totalResults,i=e.pageLength,a=Math.floor(n/i)+1;return(0,r.jsx)("div",{className:me().container,children:(0,r.jsx)(be.Z,{currentPage:a,totalCount:o,pageSize:i,onPageChange:t,maxVisiblePages:5})})}var Oe=n(647446),Ee=n(388721),je=n(281081),Se=n(435500),Ce=n(248556),Pe=n.n(Ce);function Ie(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}
l.done?t(u):Promise.resolve(u).then(r,o)}function _e(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Ie(i,r,o,a,l,"next",e)}function l(e){Ie(i,r,o,a,l,"throw",e)}a(void 0)}))}}function we(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xe(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Ne(e){Ne=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Ne(e)}function Te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){xe(e,t,n[t])}))}return e}function Ae(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Ze(e,t){return!t||"object"!==Me(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Re(e,t){Re=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Re(e,t)}var Me=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function De(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{
Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Ne(e);if(t){var o=Ne(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ze(this,n)}}var Le=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0
;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function ke(e,t){var n=null===window||void 0===window?void 0:window.getSelection();if(null!=n&&!n.isCollapsed)return!0;if(null==e||null==t)return!1;for(;(0,Ee.k)(e)&&e!==t;){var r=e.tagName;if("A"===r||"IMG"===r||"BUTTON"===r)return!0;e=e.parentNode}return!1}var Ue=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Re(e,t)}(i,e);var t=De(i);function i(){we(this,i);var e;(e=t.apply(this,arguments)).containerRef=o.createRef();e.hitRef=o.createRef();e.handleContextMenu=function(e,t){
var o=se.Z.getChannel(t.channel_id);if(null!=o){e.stopPropagation();(0,je.jW)(e,_e((function(){var e,i;return Le(this,(function(a){switch(a.label){case 0:return[4,n.e(63115).then(n.bind(n,463115))];case 1:e=a.sent(),i=e.default;return[2,function(e){return(0,r.jsx)(i,Ae(Te({},e),{message:t,channel:o}))}]}}))})))}};e.jumpTo=function(t){if(null!=t){t.preventDefault();t.stopPropagation()}var n=e.props,r=n.onJump,o=n.result.find((function(e){return e.isSearchHit}));null!=o&&r(o)};e.handleMessageClick=function(t){ke(t.target,e.containerRef.current)?t.stopPropagation():e.jumpTo(t)};return e}i.prototype.render=function(){var e=this,t=this.props,n=t.result,o=t.listItemProps,i=t.searchOffset,a=t.index,l=t.totalResults,c=u().find(n,(function(e){return e.isSearchHit}));if(null==c)return null;var s=se.Z.getChannel(c.channel_id);if(null==s)return null;var f="search-result-".concat(c.id);return(0,r.jsx)(Oe.tE,{ringTarget:this.hitRef,ringClassName:Pe().searchResultFocusRing,offset:4,children:(0,
r.jsxs)("li",Ae(Te({className:Pe().container},o),{"aria-posinset":1+i+a,"aria-setsize":l,"aria-labelledby":f,children:[(0,r.jsx)(pe.Z,{tabIndex:-1,onClick:this.handleMessageClick,innerRef:this.containerRef,className:Pe().searchResult,focusProps:{enabled:!1},children:(0,r.jsx)("div",{ref:this.hitRef,className:Pe().message,children:(0,r.jsx)(Se.Z,{id:f,message:c,channel:s,onContextMenu:function(t){return e.handleContextMenu(t,c)},animateAvatar:!1,subscribeToComponentDispatch:!1})},c.id)}),(0,r.jsx)("div",{className:Pe().buttonsContainer,"aria-hidden":!0,children:(0,r.jsx)(pe.Z,{className:Pe().button,onClick:this.jumpTo,children:W.Z.Messages.JUMP})})]}))})};return i}(o.PureComponent),Ge=n(464999),He=n.n(Ge);function Be(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Be(e,t,n[t])}))}return e}function Fe(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function We(e){var t,n=e.search,i=e.searchId,a=e.renderEmbeds,l=e.scrollTo,u=e.searchResults,c=e.blockCount,s=n.offset,d=n.totalResults,p=n.isSearching,v=n.showBlockedResults,m=h.cC.useSetting(),g=o.useCallback((function(e){if(e!==b.Z.getChannelId()){var t=se.Z.getChannel(e);null!=t&&fe.Z.can(F.Plq.VIEW_CHANNEL,t)&&(0,
ce.Kh)(t.id)}}),[]),O=o.useCallback((function(e){p||f.oO(i,e-1)}),[i,p]),E=o.useCallback((function(e){if(e.blocked)te.Z.show({title:W.Z.Messages.UNBLOCK_TO_JUMP_TITLE,body:W.Z.Messages.UNBLOCK_TO_JUMP_BODY.format({name:e.author.username}),confirmText:W.Z.Messages.OKAY});else{var t=se.Z.getChannel(e.channel_id),n=null!=t?t.getGuildId():null;ne.Z.trackJump(e.channel_id,e.id,"Search Results",{search_id:y.Z.getAnalyticsId(i)});(0,ue.uL)(F.Z5c.CHANNEL(n,e.channel_id,e.id))}}),[i]),j=o.useMemo((function(){if(null==u)return[];var e,t=0;return u.reduce((function(n,r){var o=r.find((function(e){return e.isSearchHit}));if(!v&&null!=o&&M.Z.isBlocked(o.author.id))return n;var i=se.Z.getChannel(r[0].channel_id);if(null==i)return n;null!=e&&e===i.id||n.push({channel:i,results:[],startIndex:t});t+=1;n[n.length-1].results.push(r);e=null==i?void 0:i.id;return n}),[])}),[u,v]),S=o.useRef([]),C=j.reduce((function(e,t){return e+1+t.results.length}),0),P=o.useCallback((function(e,t){
if(re.Z.keyboardModeEnabled){var n=S.current,r=null!=t?n[t]:void 0;if(null!=r&&null!=r.hitRef.current){var o=r.hitRef.current.getClientRects()[0],i=o.top-.5*o.height;l(i,!1,(function(){var t;null===(t=document.getElementById(e))||void 0===t||t.focus()}))}}}),[l]),I=o.useCallback((function(e){var t=S.current[e];null==t||t.jumpTo()}),[]),_=(0,ee.ZP)({navId:"search-results",itemCount:C,focusedIndex:0,setFocus:P,onSelect:I}),w=y.Z.getQuery(i),x=(0,A.nC)(null!==(t=null==w?void 0:w.content)&&void 0!==t?t:""),N=j.map((function(e){var t,n=e.channel,o=e.results,u=e.startIndex,c=null!=n?(0,oe.F)(n,de.default,M.Z,!1):"???",f=null!==(t=(0,ie.Z)(n))&&void 0!==t?t:ye.Z,p=fe.Z.can(F.Plq.MANAGE_MESSAGES,n),h=(0,R.ZP)({content:c,embeds:[]},{postProcessor:x}).content;return(0,r.jsx)(he.Z.Provider,{value:(0,le.Z)(m,p),children:(0,r.jsxs)("ul",{role:"group",className:He().searchResultGroup,"aria-label":c,children:[(0,r.jsx)(pe.Z,{onClick:function(){return g(n.id)},children:(0,r.jsxs)(H.x,{
className:He().channelName,variant:"text-md/semibold",color:"header-primary",children:[(0,r.jsx)(f,{className:He().channelNameIcon,width:16,height:16}),(0,r.jsx)("span",{children:h})]})}),o.map((function(e,t){var n=u+t;return(0,r.jsx)(Ue,{ref:function(e){return S.current[n]=e},totalResults:d,scrollTo:l,searchId:i,renderEmbeds:a,searchOffset:s,pageResultsLength:o.length,result:e,index:n,onJump:E,listItemProps:_.getItemProps({index:n})},"search-result-".concat(n))}))]},"".concat(n.id,"-").concat(u))})}));N.push();var T=o.useRef(null);o.useLayoutEffect((function(){var e;null===(e=T.current)||void 0===e||e.focus()}),[u]);var Z=(0,ae.mF)();return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",Fe(Ve({ref:T},_.getContainerProps(),Z),{"aria-busy":p,children:N})),c>0?(0,r.jsxs)(pe.Z,{tag:"div",className:He().resultsBlocked,onClick:function(){return f.QY(i,!v)},children:[(0,r.jsx)("div",{className:He().resultsBlockedImage}),(0,r.jsx)("div",{className:He().resultsBlockedText,
children:v?W.Z.Messages.SEARCH_HIDE_BLOCKED_MESSAGES.format({count:c}):W.Z.Messages.SEARCH_NUM_RESULTS_BLOCKED_NOT_SHOWN.format({count:c})})]}):null,!p&&(0,r.jsx)(ge,{changePage:O,offset:s,totalResults:d,pageLength:F.vpv})]})}var Ye=n(22542),ze=n.n(Ye);function Ke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qe(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Xe(e){Xe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Xe(e)}function Qe(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&tt(e,t)}function Je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){qe(e,t,n[t])}))}return e}function $e(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function et(e,t){return!t||"object"!==nt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function tt(e,t){tt=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return tt(e,t)}var nt=function(e){
return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function rt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Xe(e);if(t){var o=Xe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return et(this,n)}}var ot=function(e){Qe(n,e);var t=rt(n);function n(){Ke(this,n);var e;(e=t.apply(this,arguments)).autoAnalytics=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(null!=e.props.searchAnalyticsId){var n=0,r=0,o=0,i=0;null!=e.props.searchResults&&u()(e.props.searchResults).flatten().filter((function(e){return e.isSearchHit})).forEach((function(e){if(null!=e.content&&""!==e.content){n++;/https?:\/\/[^\s]+/.test(e.content)&&i++}null!=e.embeds&&e.embeds.length>0&&o++
;null!=e.attachments&&e.attachments.length>0&&r++}));d.ZP.trackWithMetadata(F.rMx.SEARCH_RESULT_VIEWED,{search_type:e.props.searchType,search_id:e.props.searchAnalyticsId,prev_search_id:t!==e.props.searchAnalyticsId?t:null,is_error:e.props.searchHasError,limit:e.props.searchLimit,offset:e.props.searchOffset,page:Math.floor(e.props.searchOffset/e.props.searchLimit)+1,total_results:e.props.searchTotalResults,page_results:null!=e.props.searchResults?e.props.searchResults.length:null,is_indexing:e.props.searchIsIndexing,page_num_messages:n,page_num_links:i,page_num_embeds:o,page_num_attach:r})}};return e}var r=n.prototype;r.componentDidMount=function(){this.autoAnalytics()};r.componentDidUpdate=function(e){this.props.searchAnalyticsId===e.searchAnalyticsId&&this.props.searchOffset===e.searchOffset||this.autoAnalytics(e.searchAnalyticsId)};r.render=function(){return null};return n}(o.Component),it=function(e){var t=e.children;return(0,r.jsx)("div",{className:ze().emptyResultsWrap,
children:(0,r.jsx)("div",{className:ze().emptyResultsContent,children:t})})},at=function(e){Qe(n,e);var t=rt(n);function n(){Ke(this,n);var e;(e=t.apply(this,arguments)).state={searchMode:F.QIO.NEWEST};e.scrollerRef=o.createRef();e.scrollTo=function(t,n,r){var o=e.scrollerRef.current;if(null!=o){var i=o.getScrollerState().scrollTop-t;o.scrollTo({to:i,animate:n,callback:r})}};e.selectChannel=function(e){e!==b.Z.getChannelId()&&s.Z.transitionToInviteChannelSync(e)};e.searchPrevious=function(){var t=e.props,n=t.searchId;t.search.isSearching||f.jn(n)};e.searchNext=function(){var t=e.props,n=t.searchId;t.search.isSearching||f.m$(n)};e.handleSearchResultsClose=function(){var t=e.props.searchId;f.qt(t)};e.searchByMode=function(t){var n=e.props,r=n.searchId,o=n.search.isSearching;if(t!==e.state.searchMode&&!o){d.ZP.trackWithMetadata(F.rMx.SEARCH_RESULT_SORT_CHANGED,{search_id:y.Z.getAnalyticsId(r),new_sort_type:t});f.Nz(r,t);e.setState({searchMode:t})}};e.toggleShowBlockedMessages=function(){
var t=e.props,n=t.searchId,r=t.search.showBlockedResults;f.QY(n,!r)};e.renderHeader=function(){var t=e.state.searchMode,n=e.props.search,o=n.totalResults,i=n.isSearching,a=n.isHistoricalIndexing,l=n.documentsIndexed;return(0,r.jsx)(Q,{searchMode:t,searchByMode:e.searchByMode,totalResults:o,isSearching:i,isIndexing:a,documentsIndexed:l})};e.renderIndexing=function(){var t=y.Z.getSearchType(e.props.searchId)===F.aib.GUILD?W.Z.Messages.SEARCH_GUILD_STILL_INDEXING:W.Z.Messages.SEARCH_DM_STILL_INDEXING;return(0,r.jsxs)(it,{children:[(0,r.jsx)(x,{}),(0,r.jsx)("div",{className:(ze().emptyResultsText,ze().stillIndexing),children:t})]})};e.renderNoResults=function(){var t=e.props.search.showNoResultsAlt,n=t?W.Z.Messages.SEARCH_NO_RESULTS_ALT:W.Z.Messages.SEARCH_NO_RESULTS;return(0,r.jsxs)(it,{children:[(0,r.jsx)("div",{className:a()(ze().noResultsImage,qe({},ze().alt,t))}),(0,r.jsx)("div",{className:a()(ze().emptyResultsText,ze().noResults,qe({},ze().alt,t)),children:n})]})}
;e.renderError=function(){return(0,r.jsxs)(it,{children:[(0,r.jsx)("div",{className:ze().errorImage}),(0,r.jsx)("div",{className:a()(ze().emptyResultsText,ze().errorMessage),children:W.Z.Messages.SEARCH_ERROR})]})};e.renderContent=function(){var t=e.props,n=t.searchResults,o=t.blockCount,i=e.props.search,a=i.totalResults,l=i.isSearching,u=i.isIndexing;return i.hasError?e.renderError():u?e.renderIndexing():l?null:a>0?(0,r.jsx)(We,{search:e.props.search,searchResults:n,blockCount:o,searchId:e.props.searchId,renderEmbeds:e.props.renderEmbeds,scrollTo:e.scrollTo}):e.renderNoResults()};return e}var i=n.prototype;i.componentDidMount=function(){T.S.subscribe(F.CkL.SEARCH_RESULTS_CLOSE,this.handleSearchResultsClose)};i.componentWillUnmount=function(){T.S.unsubscribe(F.CkL.SEARCH_RESULTS_CLOSE,this.handleSearchResultsClose)};i.componentDidUpdate=function(e){var t=e.search;if(this.props.search.showBlockedResults!==t.showBlockedResults){var n=this.scrollerRef.current;if(null==n)return
;n.scrollToBottom()}};i.render=function(){var e=this.props,t=e.searchAnalyticsId,n=e.searchType,o=e.searchResults,i=this.props.search,a=i.offset,l=i.hasError,u=i.totalResults,c=i.isHistoricalIndexing;return(0,r.jsxs)("section",{className:ze().searchResultsWrap,"aria-label":W.Z.Messages.SEARCH_RESULTS_SECTION_LABEL,children:[this.renderHeader(),(0,r.jsx)(N.ZP,{ref:this.scrollerRef,className:ze().scroller,children:this.renderContent()}),(0,r.jsx)(ot,{searchType:n,searchAnalyticsId:t,searchResults:o,searchOffset:a,searchLimit:F.vpv,searchHasError:l,searchTotalResults:u,searchIsIndexing:c})]})};return n}(o.PureComponent);function lt(e){var t=e.searchId;return(0,r.jsx)(at,Je($e(Je({searchId:t},(0,c.cj)([y.Z],(function(){return{search:y.Z.getResultsState(t),searchAnalyticsId:y.Z.getAnalyticsId(t),searchType:y.Z.getSearchType()}}),[t]),function(e){var t=(0,c.e7)([y.Z],(function(){var t,n=y.Z.getQuery(e),r=y.Z.getRawResults(e);if(null==n||null==r)return[];var o=(0,
A.nC)(null!==(t=n.content)&&void 0!==t?t:"");return r.map((function(e){return e.map((function(e){var t=(0,Z.e5)(e);return t.isSearchHit?t.set("customRenderedContent",(0,R.ZP)(t,{postProcessor:o})):t}))}))}),[e],c.pF),n=L((0,c.e7)([M.Z],(function(){var e=0;return[t.map((function(t){return t.filter((function(t){var n=M.Z.isBlocked(t.author.id);n&&t.isSearchHit&&e++;return!n||t.isSearchHit}))})),e]}),[t],c.pF),2);return{searchResults:n[0],blockCount:n[1]}}(t)),{renderEmbeds:h.NA.useSetting(),developerMode:h.Sb.useSetting()}),(0,c.cj)([p.Z],(function(){return{theme:p.Z.theme}}))))}},961565:(e,t,n)=>{"use strict";n.d(t,{TB:()=>V,AA:()=>k,I5:()=>A,V9:()=>W,hs:()=>F,gG:()=>G,$d:()=>D,Dx:()=>R});var r=n(675860),o=n(173436),i=n(323657);function a(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){a(e,t,n[t])}))}return e}function u(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function c(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r]
;t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function s(e){var t=e.emoji_id;return u(l({},c(e,["emoji_id"])),{emojiId:t})}var f=n(934714),d=n(405959),p=n(72818),h=n(881904),y=n(866452);function b(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}var v=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop()
;continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},m={},g=null!=window.AudioContext?new AudioContext:null;function O(e){return new Promise((n=(t=function(t,n){var r,o,i,a;return v(this,(function(l){switch(l.label){case 0:if(null==g)return[2,n(new Error("AudioContext not supported!"))];if(null!=(r=m[e.id]))return[3,6];l.label=1;case 1:l.trys.push([1,5,,6]);return[4,fetch((0,p.Z)(e.id))];case 2:return[4,l.sent().arrayBuffer()];case 3:o=l.sent();return[4,g.decodeAudioData(o)];case 4:r=l.sent();m[e.id]=r;return[3,6];case 5:i=l.sent();return[2,n(i)];case 6:a=(0,d.A)(e.volume,1);f.Z.getMediaEngine().eachConnection((function(e){
return e.startSamplesPlayback(r,a,(function(e,r){h.SN.has(e)?t():n(new Error(r))}))}),y.Yn.DEFAULT);return[2]}}))},function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(e){b(i,r,o,a,l,"next",e)}function l(e){b(i,r,o,a,l,"throw",e)}a(void 0)}))}),function(e,t){return n.apply(this,arguments)}));var t,n}var E=n(356004),j=n(733285),S=n(73462),C=n(379822),P=n(932847),I=n(461061),_=n(298716);function w(e,t){var n,r=E.Z.getChannel(C.Z.getVoiceChannelId()),o=null==r?void 0:r.getGuildId(),i=j.Z.getMediaSessionId(),a=j.Z.getRTCConnectionId(),l=null===(n=S.Z.getCurrentGame())||void 0===n?void 0:n.name;P.default.track(I.rMx.PREMIUM_FEATURE_USAGE,{feature_name:_.QP.SOUNDBOARD_PLAY,feature_tier:_.h1.FREE,guild_id:o,location_stack:e,rtc_connection_id:a,media_session_id:i,in_overlay:t,application_name:l})}function x(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function N(e){return function(){
var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){x(i,r,o,a,l,"next",e)}function l(e){x(i,r,o,a,l,"throw",e)}a(void 0)}))}}var T=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){
a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function A(e){return Z.apply(this,arguments)}function Z(){return(Z=N((function(e){var t,n,a;return T(this,(function(l){switch(l.label){case 0:o.Z.dispatch({type:"GUILD_SOUNDBOARD_FETCH",guildId:e});l.label=1;case 1:l.trys.push([1,3,,4]);return[4,r.Z.get(I.ANM.GUILD_SOUNDBOARD_SOUNDS(e))];case 2:t=l.sent();n=t.body.map(s);o.Z.dispatch({type:"GUILD_SOUNDBOARD_FETCH_SUCCESS",guildId:e,sounds:n});return[2,n];case 3:a=l.sent();o.Z.dispatch({type:"GUILD_SOUNDBOARD_FETCH_FAILURE",guildId:e});throw new i.Hx(a);case 4:return[2]}}))}))).apply(this,arguments)}function R(e,t,n,r,o){return M.apply(this,arguments)}function M(){return(M=N((function(e,t,n,i,a){var l,u;return T(this,(function(c){switch(c.label){case 0:return[4,r.Z.post({
url:I.ANM.GUILD_SOUNDBOARD_SOUNDS(e),body:{name:t,sound:n,volume:i,emoji_id:a}})];case 1:l=c.sent();u=s(l.body);o.Z.dispatch({type:"GUILD_SOUNDBOARD_UPLOAD_SUCCESS",guildId:e,sound:u});return[2,u]}}))}))).apply(this,arguments)}function D(e,t,n,r,o){return L.apply(this,arguments)}function L(){return(L=N((function(e,t,n,i,a){var l,u;return T(this,(function(c){switch(c.label){case 0:return[4,r.Z.patch({url:I.ANM.GUILD_SOUNDBOARD_SOUND(e,t),body:{name:n,volume:i,emoji_id:a}})];case 1:l=c.sent();u=s(l.body);o.Z.dispatch({type:"GUILD_SOUNDBOARD_UPDATE_SUCCESS",guildId:e,sound:u});return[2,u]}}))}))).apply(this,arguments)}function k(e,t){return U.apply(this,arguments)}function U(){return(U=N((function(e,t){return T(this,(function(n){switch(n.label){case 0:return[4,r.Z.delete({url:I.ANM.GUILD_SOUNDBOARD_SOUND(e,t),oldFormErrors:!0})];case 1:n.sent();o.Z.dispatch({type:"GUILD_SOUNDBOARD_DELETE_SUCCESS",guildId:e,soundId:t});return[2]}}))}))).apply(this,arguments)}function G(e,t){o.Z.dispatch({
type:"GUILD_SOUNDBOARD_SOUND_REQUEST_PLAY",sound:e,analyticsLocation:t,fromOverlay:__OVERLAY__})}function H(e){o.Z.dispatch({type:"GUILD_SOUNDBOARD_SOUND_PLAY_START",soundId:e})}function B(e){o.Z.dispatch({type:"GUILD_SOUNDBOARD_SOUND_PLAY_END",soundId:e})}function V(e,t){o.Z.dispatch({type:"SOUNDBOARD_ADD_FAVORITE_SOUND",soundId:t,guildId:e})}function F(e,t){o.Z.dispatch({type:"SOUNDBOARD_REMOVE_FAVORITE_SOUND",soundId:t,guildId:e})}function W(e,t,n){return Y.apply(this,arguments)}function Y(){return(Y=N((function(e,t,n){return T(this,(function(r){switch(r.label){case 0:H(e.id);r.label=1;case 1:r.trys.push([1,,3,4]);return[4,O(e)];case 2:r.sent();w(null!=n?n:[],t);return[3,4];case 3:B(e.id);return[7];case 4:return[2]}}))}))).apply(this,arguments)}},694938:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(791462),o=n(173436);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e){
a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return a(e)}function l(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e,t){u=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return u(e,t)}var c=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=a(e);if(t){var o=a(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}var f={};var d=function(e){!function(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&u(e,t)}(n,e);var t=s(n);function n(){i(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(e){if(null!=e){var t,n=null!==(t=e.favoriteSounds)&&void 0!==t?t:{};f=Object.keys(n).reduce((function(e,t){var r;e[t]=new Set(null!==(r=n[t])&&void 0!==r?r:[]);return e}),{})}};r.getState=function(){return{favoriteSounds:f}};r.isFavoriteSound=function(e,t){var n;return!!(null===(n=f[e])||void 0===n?void 0:n.has(t))};r.getGuildFavoriteSounds=function(e){var t;return null!==(t=f[e])&&void 0!==t?t:new Set};r.__getLocalVars=function(){return{favoriteSounds:f}};return n}(r.ZP.PersistedStore);d.displayName="SoundboardFavoriteStore";d.persistKey="SoundboardFavoriteStore";const p=new d(o.Z,{SOUNDBOARD_ADD_FAVORITE_SOUND:function(e){!function(e,t){null==f[e]&&(f[e]=new Set)
;f[e].add(t)}(e.guildId,e.soundId)},SOUNDBOARD_REMOVE_FAVORITE_SOUND:function(e){!function(e,t){null!=f[e]&&f[e].delete(t)}(e.guildId,e.soundId)}})},61114:(e,t,n)=>{"use strict";n.d(t,{Z:()=>S});var r=n(791462),o=n(105994),i=n(173436),a=n(346529),l=n(694938);function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function s(e){s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return s(e)}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){c(e,t,n[t])}))}return e}function d(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function p(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e,t){h=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return h(e,t)}var y,b=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{
Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=s(e);if(t){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p(this,n)}}!function(e){e.CURRENTLY_PLAYING="CURRENTLY_PLAYING";e.IS_FAVORITE="IS_FAVORITE"}(y||(y={}));var m=new o.Z((function(e){var t=e.guildId,n=e.currentlyPlaying,r=e.isFavorite,o=[t];n>0&&o.push(y.CURRENTLY_PLAYING);r&&o.push(y.IS_FAVORITE);return o}),(function(e){var t=e.id,n=e.isFavorite?"\0":"",r=a.Z.extractTimestamp(t);return"".concat(n).concat(r)})),g=new Set;function O(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;m.set(e.id,d(f({},e),{guildId:t,isFavorite:l.Z.isFavoriteSound(t,e.id),currentlyPlaying:n}))}function E(e){var t=e.guildId,n=e.soundId,r=m.get(n);null!=r&&m.set(n,d(f({},r),{isFavorite:l.Z.isFavoriteSound(t,n)}))}var j=function(e){!function(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&h(e,t)}(n,e);var t=v(n);function n(){u(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(){this.waitFor(l.Z)};r.getSoundsForGuild=function(e){return m.values(e)};r.getIsFetchingSoundsForGuild=function(e){return g.has(e)};r.getPlayingSounds=function(){return m.values(y.CURRENTLY_PLAYING)};r.__getLocalVars=function(){return{SoundboardStoreIndexes:y,soundboardSounds:m,fetching:g}};return n}(r.ZP.Store);j.displayName="SoundboardStore";const S=new j(i.Z,{LOGOUT:function(){m.clear()},GUILD_SOUNDBOARD_FETCH:function(e){var t=e.guildId;g.add(t)},GUILD_SOUNDBOARD_FETCH_FAILURE:function(e){var t=e.guildId;g.delete(t)},GUILD_SOUNDBOARD_FETCH_SUCCESS:function(e){var t=e.guildId,n=e.sounds;g.delete(t);n.forEach((function(e){O(e,t)}))},
GUILD_SOUNDBOARD_UPLOAD_SUCCESS:function(e){var t=e.guildId;O(e.sound,t)},GUILD_SOUNDBOARD_UPDATE_SUCCESS:function(e){var t=e.guildId;O(e.sound,t)},GUILD_SOUNDBOARD_DELETE_SUCCESS:function(e){var t=e.soundId;m.delete(t)},GUILD_SOUNDBOARD_SOUND_PLAY_START:function(e){var t=e.soundId,n=m.get(t);null!=n&&m.set(t,d(f({},n),{currentlyPlaying:n.currentlyPlaying+1}))},GUILD_SOUNDBOARD_SOUND_PLAY_END:function(e){var t=e.soundId,n=m.get(t);null!=n&&m.set(t,d(f({},n),{currentlyPlaying:n.currentlyPlaying-1}))},SOUNDBOARD_ADD_FAVORITE_SOUND:E,SOUNDBOARD_REMOVE_FAVORITE_SOUND:E})},639760:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(76899),o=n(461061);function i(e){return null!=e&&(r.ZP.getCurrentConfig({guildId:e.guild_id}).allowSoundboard&&e.type!==o.d4z.GUILD_STAGE_VOICE)}},72818:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(461061);function o(e){var t=window.GLOBAL_ENV,n=t.CDN_HOST
;return"development"!==t.PROJECT_ENV?"".concat(location.protocol,"//").concat(n).concat(r.ANM.SOUNDBOARD_SOUND(e)):"".concat(location.protocol).concat(window.GLOBAL_ENV.API_ENDPOINT).concat(r.ANM.SOUNDBOARD_SOUND(e))}},395130:(e,t,n)=>{"use strict";n.d(t,{O:()=>a,f:()=>l});var r=n(791462),o=n(934714),i=n(866452);function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.Z;return e.supports(i.AN.SAMPLE_PLAYBACK)}function l(){return(0,r.e7)([o.Z],(function(){return a(o.Z)}))}},995325:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(667294),o=n(441143),i=n.n(o),a=n(791462),l=n(405959),u=n(961565),c={currentPreviewRef:r.createRef()};const s=r.createContext(c);var f=n(61114),d=n(72818);function p(e){var t=r.useContext(s).currentPreviewRef,n=(0,a.e7)([f.Z],(function(){return null!=e&&null!=f.Z.getPlayingSounds().find((function(t){return t.id===e.id}))}),[e]),o=r.useCallback((function(n,r){null!=t.current&&t.current.pause();var o=null!=r?r:e
;i()(null!=o,"Sound to play is null");return u.gG(o,n)}),[e,t]),c=r.useCallback((function(){if(null!=e){var n=new Audio((0,d.Z)(e.id));null!=t.current&&t.current.pause();t.current=n;n.currentTime=0;n.volume=(0,l.A)(e.volume,1);n.play()}}),[e,t]);r.useCallback((function(){return function(){var e;return null===(e=t.current)||void 0===e?void 0:e.pause()}}),[t]);return{playSoundboardSound:o,isPlayingSound:n,previewSound:c}}},957969:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(791462),o=n(61114);function i(e){return(0,r.e7)([o.Z],(function(){return o.Z.getSoundsForGuild(e)}),[e])}},87204:(e,t,n)=>{"use strict";n.d(t,{Z:()=>M});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),l=n(791462),u=n(832010),c=n(629590),s=n(685351),f=n(757987),d=n(810860),p=n(934517),h=n(10178),y=n(915306),b=n(961565),v=n(694938),m=n(995325),g=n(281081),O=n(653772);function E(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function j(e){return function(){
var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){E(i,r,o,a,l,"next",e)}function l(e){E(i,r,o,a,l,"throw",e)}a(void 0)}))}}function S(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function C(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var P=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){
return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function I(e,t,o){null!=t&&(0,g.jW)(e,j((function(){var e,i;return P(this,(function(a){switch(a.label){case 0:return[4,n.e(64890).then(n.bind(n,964890))];case 1:e=a.sent(),i=e.default
;return[2,function(e){return(0,r.jsx)(i,C(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){S(e,t,n[t])}))}return e}({},e),{guild:t,sound:o}))}]}}))})))}var _=n(461061),w=n(959797),x=n(573473),N=n.n(x);function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function A(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{
try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var R=16;const M=o.memo((function(e){var t,n,i,g=e.sound,E=e.guildId,j=e.className,S=e.focused,C=void 0!==S&&S,P=e.interactive,x=void 0===P||P,T=e.enableSecondaryActions,M=void 0!==T&&T,D=e.analyticsLocations,L=function(e,t){return o.useCallback((function(n){n.stopPropagation();var r=O.Z.getGuild(e);null!=r&&I(n,r,t)}),[e,t])}(E,g),k=(0,
m.Z)(g),U=k.playSoundboardSound,G=k.previewSound,H=k.isPlayingSound,B=Z(o.useState(!1),2),V=B[0],F=B[1],W=(0,l.e7)([v.Z],(function(){return v.Z.isFavoriteSound(E,g.id)}),[E,g.id]),Y=o.useCallback((function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n){if(x){if(t){n.stopPropagation();n.preventDefault()}F(e)}}}),[x]),z=o.useCallback((function(e){if(x){e.stopPropagation();e.preventDefault();W?(0,b.hs)(E,g.id):(0,b.TB)(E,g.id);Y(!1)(e)}}),[x,W,Y,E,g.id]),K=o.useCallback((function(e){if(x){e.stopPropagation();e.preventDefault();G()}}),[G,x]),q=o.useCallback((function(){x&&U(D)}),[D,x,U]);return(0,r.jsxs)(c.Z,{className:a()(j,N().soundButton,(t={},A(t,N().playing,H),A(t,N().focused,C),A(t,N().soundButtonInteractive,x),A(t,N().hover,V),t)),onClick:q,onContextMenu:M?L:q,onMouseEnter:Y(!0),onMouseLeave:Y(!1),children:[(0,r.jsx)("div",{className:N().primaryActions,children:(0,r.jsx)(s.x,{variant:"text-xs/normal",color:"header-primary",children:g.name})}),(0,
r.jsx)("div",{className:N().buttonOverlay,children:(0,r.jsx)(h.Z,{className:N().playIcon})}),M&&(0,r.jsxs)("div",{className:a()(N().secondaryActions,(n={},A(n,N().hover,V),A(n,N().disableInteractions,!x),n)),children:[(0,r.jsx)(f.ZP,{text:w.Z.Messages.SOUNDBOARD_SOUND_FAVORITE_SOUND,children:function(e){var t=e.onMouseEnter,n=e.onMouseLeave;return(0,r.jsx)(c.Z,{className:a()(N().favoriteButton,A({},N().isFavorite,W)),onMouseEnter:t,onMouseLeave:n,onClick:z,children:W?(0,r.jsx)(p.Z,{className:N().favoriteIcon,width:R,height:R,color:(0,u.Lq)(_.Ilk.GOLD)}):(0,r.jsx)(d.Z,{className:N().favoriteIcon,width:R,height:R})})}}),(0,r.jsx)(f.ZP,{text:w.Z.Messages.SOUNDBOARD_SOUND_PREVIEW_SOUND,children:function(e){var t=e.onMouseEnter,n=e.onMouseLeave;return(0,r.jsx)(c.Z,{className:N().previewButton,onMouseEnter:t,onMouseLeave:n,onClick:K,children:(0,r.jsx)(y.Z,{className:N().previewIcon,width:R,height:R})})}})]}),(0,r.jsx)("div",{className:a()(N().favoriteIconContainer,(i={},
A(i,N().isFavorite,W),A(i,N().hover,V),i)),children:(0,r.jsx)(p.Z,{className:N().favoriteIcon,width:R,height:R})})]})}))},713932:(e,t,n)=>{"use strict";n.d(t,{ev:()=>C,zA:()=>I,IN:()=>_,oZ:()=>w});var r=n(785893),o=(n(667294),n(173436)),i=n(315048),a=n(280195),l=n(733285),u=n(870),c=n(588641),s=n(879551),f=n(881904),d=n(461061),p=n(959797);function h(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function y(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){h(i,r,o,a,l,"next",e)}function l(e){h(i,r,o,a,l,"throw",e)}a(void 0)}))}}function b(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){
return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){b(e,t,n[t])}))}return e}function m(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var g=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),
0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},O={width:f.FW.width,height:f.FW.height,resizable:!1,movable:!1,alwaysOnTop:!0,frame:!1,transparent:!0,hasShadow:!1,skipTaskbar:!0,menubar:!0,backgroundColor:"#00000000",titleBarStyle:null},E=f.FW.padding,j=O.width-E,S=O.height-E;function C(e){return P.apply(this,arguments)}function P(){return(P=y((function(e){var t,n,o,u;return g(this,(function(f){
switch(f.label){case 0:return null==(t=l.Z.getGuildId())?[2]:[4,c.default.invoke("GET_MOUSE_COORDINATES")];case 1:n=f.sent(),o=n.x,u=n.y;(0,a.bA)(d.KJ3.SOUNDBOARD,(function(n){return(0,r.jsx)(i.Z,{windowKey:n,withTitleBar:!1,title:p.Z.Messages.SOUNDBOARD_POPOUT_WINDOW_TITLE,onBlur:I,children:(0,r.jsx)(s.Z,{guildId:t,width:j,height:S,keepOpen:e,onClose:I,analyticsSource:"global"})})}),m(v({},O),{left:o-O.width/2,top:u-O.height/2}));return[2]}}))}))).apply(this,arguments)}function I(){(0,a.xv)(d.KJ3.SOUNDBOARD)}function _(e,t){o.Z.dispatch({type:"OVERLAY_SET_INPUT_LOCKED",locked:!1,pid:t});o.Z.dispatch({type:"SOUNDBOARD_SET_OVERLAY_ENABLED",enabled:!0,keepOpen:e})}function w(e){o.Z.dispatch({type:"SOUNDBOARD_SET_OVERLAY_ENABLED",enabled:!1});u.Z.isInputLocked(e)||o.Z.dispatch({type:"OVERLAY_SET_INPUT_LOCKED",locked:!0,pid:e})}},61334:(e,t,n)=>{"use strict";n.d(t,{Z:()=>ee})
;var r=n(785893),o=n(667294),i=n(506884),a=n(791462),l=n(859169),u=n(64833),c=n(383689),s=n(192202),f=n(7046),d=n(848828),p=n(653772),h=n(733285),y=n(931439),b=n(892472),v=n(629590),m=n(82961),g=n(685351),O=n(562181),E=n(73393),j=n(897576),S=n(725002),C=n(742269),P=n(185347),I=n(961565),_=n(61114),w=n(957969),x=n(87204),N=n(294184),T=n.n(N),A=n(757987),Z=n(542448),R=n(298716),M=n(959797),D=n(573473),L=n.n(D),k=n(842496),U=n.n(k);function G(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function H(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){G(i,r,o,a,l,"next",e)}function l(e){G(i,r,o,a,l,"throw",e)}a(void 0)}))}}function B(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){B(e,t,n[t])}))}return e}function F(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var W=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){
if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function Y(e){var t=e.sounds,o=e.guild,i=function(){(0,j.ZD)(H((function(){var e,t;return W(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(95700)]).then(n.bind(n,495700))];case 1:
e=i.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,F(V({},e),{guildId:o.id}))}]}}))})))},a=R.HO[o.premiumTier].limits.soundboardSounds,l=t.length>=a,u=function(e){return(0,r.jsxs)(v.Z,F(V({},e),{className:T()(L().soundButton,U().soundAddButton,B({},U().soundAddButtonDisabled,l)),onClick:l?void 0:i,children:[(0,r.jsx)(Z.Z,{className:U().soundAddIcon}),(0,r.jsx)(g.x,{variant:"text-xs/normal",color:"header-primary",children:M.Z.Messages.SOUNDBOARD_SOUND_ADD_SOUND}),(0,r.jsx)("div",{className:T()(U().buttonOverlay,L().buttonOverlay)})]}))};return l?(0,r.jsx)(A.ZP,{text:M.Z.Messages.SOUNDBOARD_SOUND_ADD_DISABLED.format({maxSounds:a}),children:function(e){return u(e)}}):u()}var z=n(461061),K=n(883740),q=n.n(K);function X(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function Q(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){X(i,r,o,a,l,"next",e)}function l(e){
X(i,r,o,a,l,"throw",e)}a(void 0)}))}}function J(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var $=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){
a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function ee(e){var t=e.guildId,p=e.analyticsSource,S=e.onClose,x=function(){S();(0,j.ZD)(Q((function(){var e,t;return $(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(63157),n.e(25715)]).then(n.bind(n,737958))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){J(e,t,n[t])}))}return e}({},e))}]}}))})))},N=(0,w.Z)(t),T=(0,a.e7)([_.Z],(function(){return _.Z.getIsFetchingSoundsForGuild(t)})),A=(0,
a.e7)([h.Z],(function(){return h.Z.getMediaSessionId()})),Z=(0,u.Z)(l.Z.SOUNDBOARD_POPOUT),R=Z.analyticsLocations,D=Z.AnalyticsLocationProvider,L=(0,a.e7)([y.Z],(function(){return y.Z.getKeybindForAction(z.kg4.SOUNDBOARD_HOLD)}));(0,c.Z)({type:i.nv.POPOUT,name:i.zs.SOUNDBOARD_POPOUT,properties:{source:p,guild_id:t,media_session_id:A}});o.useEffect((function(){I.I5(t)}),[t]);var k=(0,C.ED)()?M.Z.Messages.SOUNDBOARD_KEYBIND_HINT_GLOBAL:M.Z.Messages.SOUNDBOARD_KEYBIND_HINT;return(0,r.jsx)(D,{children:(0,r.jsxs)("div",{className:q().root,children:[(0,r.jsxs)("div",{className:q().header,children:[(0,r.jsxs)(O.vw,{className:q().headerText,children:[M.Z.Messages.GUILD_SETTINGS_SOUNDBOARD,(0,r.jsx)(s.Z,{className:q().betaTag})]}),(0,r.jsx)(v.Z,{className:q().settingsClickArea,onClick:function(){S();f.Z.open(t,z.pNK.SOUNDBOARD)},"aria-label":M.Z.Messages.SETTINGS,children:(0,r.jsx)(E.Z,{className:q().settingsIcon})})]}),T?(0,r.jsx)(m.Z,{}):(0,r.jsx)(te,{guildId:t,sounds:N,analyticsLocations:R
}),null!=L?(0,r.jsx)("div",{className:q().keybindHint,children:(0,r.jsx)(g.x,{variant:"text-sm/normal",color:"text-normal",className:q().keybindHintText,children:k.format({keybind:(0,P.BB)(L.shortcut,!0).split(" + "),keybindHook:function(e,t){return(0,r.jsx)("span",{className:q().keybindHintKeysWrapper,children:(0,r.jsx)(d.Z,{className:q().keybindShortcut,shortcut:(0,P.BB)(L.shortcut,!1)})},t)},openSettingsHook:function(e,t){return(0,r.jsx)(b.Z,{onClick:x,children:e},t)}})})}):null]})})}function te(e){var t=e.sounds,n=e.guildId,o=e.analyticsLocations,i=(0,a.e7)([p.Z],(function(){return p.Z.getGuild(n)}));return null==i?null:(0,r.jsx)(S.ZP,{className:q().soundGridContainer,children:(0,r.jsxs)("div",{className:q().soundGrid,children:[t.map((function(e){return(0,r.jsx)(x.Z,{sound:e,guildId:n,enableSecondaryActions:!0,interactive:!0,analyticsLocations:o},e.id)})),(0,r.jsx)(Y,{sounds:t,guild:i})]})})}},879551:(e,t,n)=>{"use strict";n.d(t,{Z:()=>H})
;var r=n(785893),o=n(667294),i=n(506884),a=n(791462),l=n(173436),u=n(859169),c=n(64833),s=n(383689),f=n(733285),d=n(961565),p=n(995325),h=n(957969),y=n(496486),b=n.n(y),v=n(629590);function m(e,t,n){return(n.y-e.y)*(t.x-e.x)>(t.y-e.y)*(n.x-e.x)}function g(e,t,n,r){return m(e,n,r)!==m(t,n,r)&&m(e,t,n)!==m(e,t,r)}function O(e,t,n){var r={x:n.x,y:n.y},o={x:n.x+n.width,y:n.y},i={x:n.x,y:n.y+n.height},a={x:n.x+n.width,y:n.y+n.height};return g(e,t,r,o)||g(e,t,o,a)||g(e,t,a,i)||g(e,t,i,r)}var E=n(959797),j=n(195759),S=n.n(j);function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function P(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{
if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var I=144,_=28.8;function w(e){var t=e.className;return(0,r.jsxs)("svg",{className:t,fill:"none",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",children:[(0,r.jsx)("g",{filter:"url(#a)",children:(0,r.jsx)("path",{d:"M30.4 8 24 14.4 17.6 8 16 9.6l6.4 6.4-6.4 6.4 1.6 1.6 6.4-6.4 6.4 6.4 1.6-1.6-6.4-6.4L32 9.6 30.4 8Z",fill:"currentColor"})}),(0,r.jsx)("defs",{children:(0,r.jsxs)("filter",{id:"a",x:"0",y:"0",width:"48",height:"48",filterUnits:"userSpaceOnUse",
colorInterpolationFilters:"sRGB",children:[(0,r.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,r.jsx)("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,r.jsx)("feOffset",{dy:"8"}),(0,r.jsx)("feGaussianBlur",{stdDeviation:"8"}),(0,r.jsx)("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.16 0"}),(0,r.jsx)("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_605_72103"}),(0,r.jsx)("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_605_72103",result:"shape"})]})})]})}var x=[{x:.5,y:.05},{x:.95,y:.2},{x:1,y:.5},{x:.95,y:.8},{x:.5,y:.95},{x:.05,y:.8},{x:0,y:.5},{x:.05,y:.2}],N=x.length;function T(e,t,n){var r=e*t;return e>.5?r-n:e<.5?r:r-n/2}const A=o.memo((function(e){
var t=e.wheelWidth,n=e.wheelHeight,i=e.itemWidth,a=e.itemHeight,l=e.showDeadZoneIndicator,u=e.activeItem,c=e.onItemSelect,s=e.onItemAction,f=e.interactive,d=void 0===f||f,p=e.children,h=o.useRef(null),m=o.useRef([]),g=o.useRef(!1),j=o.useRef(null),C=P(o.useState(0),2),A=C[0],Z=C[1],R=P(o.useState({x:0,y:0}),2),M=R[0],D=R[1],L=Math.abs(M.x)+Math.abs(M.y)>0,k=o.useMemo((function(){return b().chunk(p,N)}),[p]),U=o.useCallback((function(e,t){null==m.current[A]?m.current[A]=[]:m.current[A][t]=e}),[A]),G=o.useCallback((function(e,t){j.current=t;c(N*e+t)}),[c]),H=o.useCallback((function(){j.current=null;c(null)}),[c]),B=o.useCallback((function(e){H();g.current=e}),[H]),V=o.useCallback((function(e,t,n){if(g.current)D({x:0,y:0});else{var r={x:e.x-t.x,y:e.y-t.y},o=r.x<0,i=r.y<0,a=function(e,t){var n=Math.abs(t.x),r=Math.abs(t.y),o=Math.atan2(r,n)*(180/Math.PI),i=e/2-_;return{x:Math.max(i*Math.cos(2*Math.PI*o/360),0),y:Math.max(i*Math.sin(2*Math.PI*o/360),0)}
}(n,r),l=o?Math.max(r.x,-a.x):Math.min(r.x,a.x),u=i?Math.max(r.y,-a.y):Math.min(r.y,a.y);D({x:l/2,y:u/2})}}),[]),F=o.useCallback((function(e){if(null!=j.current){e.preventDefault();e.stopPropagation();null==s||s(N*A+j.current)}}),[s,A]),W=o.useMemo((function(){return(0,y.throttle)((function(e){if(null!=h.current){var r=h.current.getBoundingClientRect(),o={x:r.left+r.width/2,y:r.top+r.height/2},i={x:e.clientX,y:e.clientY};V(i,o,Math.max(t,n));if(g.current)null!=u&&H();else{for(var a,l,c,s,f=(a=o,l=i,c=Math.max(t,n),s=Math.sqrt(Math.pow(a.x-l.x,2)+Math.pow(a.y-l.y,2)),{x:l.x+(l.x-a.x)/s*c,y:l.y+(l.y-a.y)/s*c}),d=0;d<m.current[A].length;d++){var p=m.current[A][d];if(null!=p){if(O(o,f,p.getBoundingClientRect())){G(A,d);return}}}H()}}}),16)}),[u,V,H,G,A,n,t]),Y=o.useCallback((function(e){if(d){var t=e.deltaY>0?1:-1,n=A+t;if(n>=0&&n<k.length){null!=j.current&&(k[n].length>j.current?G(n,j.current):H());Z(n)}}}),[d,A,k,G,H]),z=o.useMemo((function(){return k[A].map((function(e,o){var l=x[o]
;if(null==l)throw new Error("Too many items supplied ".concat(p.length," expected max of ").concat(x.length));var u=T(l.x,t,i),c=T(l.y,n,a);return(0,r.jsx)("div",{ref:function(e){return U(e,o)},className:S().chatWheelItem,style:{left:u,top:c,width:i,height:a},children:e},o)}))}),[k,A,t,i,n,a,p.length,U]);return(0,r.jsx)(v.Z,{className:S().chatWheelMouseInput,onMouseMove:W,onWheel:Y,onClick:F,children:(0,r.jsxs)("div",{ref:h,className:S().chatWheel,style:{width:t,height:n},children:[(0,r.jsxs)("svg",{className:S().chatWheelBackground,viewBox:"0 0 288 288",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsxs)("filter",{id:"soundboard-wheel-background-shadow",x:"0",y:"0",width:"288",height:"288",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,r.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,r.jsx)("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,r.jsx)("feOffset",{dy:"8"}),(0,
r.jsx)("feGaussianBlur",{stdDeviation:"8"}),(0,r.jsx)("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.16 0"}),(0,r.jsx)("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_489_60382"}),(0,r.jsx)("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_489_60382",result:"shape"})]}),(0,r.jsxs)("g",{filter:"url(#soundboard-wheel-background-shadow)",children:[(0,r.jsx)("circle",{className:S().chatWheelBackground,cx:"144",cy:"144",r:"103.68",strokeWidth:"40.32"}),l&&(0,r.jsx)("circle",{className:S().chatWheelDeadZone,onMouseEnter:function(){return B(!0)},onMouseLeave:function(){return B(!1)},cx:I,cy:I,r:_}),L&&(0,r.jsx)("circle",{className:S().chatWheelCenter,cx:I+M.x,cy:I+M.y,r:_})]}),l&&(0,r.jsx)("circle",{className:S().chatWheelDeadZone,onMouseEnter:function(){return B(!0)},onMouseLeave:function(){return B(!1)},cx:I,cy:I,r:_,stroke:"none"})]}),(0,r.jsxs)("div",{className:S().innerContent,children:[l&&(0,r.jsx)(w,{className:S().chatWheelDeadZoneIcon
}),d&&k.length>1?(0,r.jsx)("div",{className:S().paginationHint,children:E.Z.Messages.CHAT_WHEEL_PAGINATION_HINT}):null]}),z]})})}));var Z=n(87204),R=n(524779),M=n.n(R);function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function L(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function k(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){L(i,r,o,a,l,"next",e)}function l(e){L(i,r,o,a,l,"throw",e)}a(void 0)}))}}function U(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){
if(!e)return;if("string"==typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var G=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break
;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function H(e){var t=e.guildId,n=e.width,y=e.height,b=e.keepOpen,v=e.interactive,m=void 0===v||v,g=e.analyticsSource,O=e.onClose,E=(0,h.Z)(t),j=(0,p.Z)(null).playSoundboardSound,S=o.useRef(null),C=U(o.useState(void 0),2),P=C[0],I=C[1],_=(0,a.e7)([f.Z],(function(){return f.Z.getMediaSessionId()})),w=(0,c.Z)(u.Z.SOUNDBOARD_WHEEL),x=w.analyticsLocations,N=w.AnalyticsLocationProvider,T=o.useCallback((function(e){j(x,e);O()}),[x,O,j]);o.useEffect((function(){
l.Z.wait(k((function(){return G(this,(function(e){switch(e.label){case 0:return[4,d.I5(t)];case 1:0===e.sent().length&&O();return[2]}}))})))}),[t,O]);o.useEffect((function(){return function(){var e=S.current;b||null==e||T(e)}}),[b,t,T]);(0,s.Z)({type:i.nv.POPOUT,name:i.zs.SOUNDBOARD_POPOUT,properties:{source:g,guild_id:t,media_session_id:_}},{disableTrack:!m});var R=o.useCallback((function(e){S.current=e;I(null==e?void 0:e.id)}),[]),D=o.useCallback((function(e){if(null!=e){var t=E[e];null!=t&&R(t)}else R(null)}),[R,E]),L=o.useCallback((function(e){if(null!=e){var t=E[e];null!=t&&T(t)}}),[E,T]),H=o.useMemo((function(){return E.map((function(e){return(0,r.jsx)(Z.Z,{interactive:m,className:M().soundButton,sound:e,focused:P===e.id,guildId:t},e.id)}))}),[P,t,m,E]);return 0===E.length?null:(0,r.jsx)(N,{children:(0,r.jsx)(A,{wheelWidth:n,wheelHeight:y,itemWidth:96,itemHeight:52,showDeadZoneIndicator:!b,activeItem:P,onItemSelect:D,onItemAction:L,interactive:m,children:H})})}},981008:(e,t,n)=>{
"use strict";n.d(t,{Z:()=>u});var r=n(631134),o=n(820498),i=n(312855),a=n(975906),l=n(756328);function u(e){if(!e.isGuildStageVoice())return!1;if(!l.Z.isLive(e.id))return!1;var t=r.default.getId();if(!a.ZP.isModerator(t,e.id))return!1;var n=o.Z.getMutableParticipants(e.id,i.pV.MODERATOR);return n.length<=1||!!a.ZP.isSpeaker(t,e.id)&&n.filter((function(e){return e.id!==t&&e.speaker})).length<=0}},738022:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(791462),o=n(356004),i=n(379822);function a(){return(0,r.e7)([i.Z,o.Z],(function(){var e=i.Z.getVoiceChannelId();if(null!=e){var t=o.Z.getChannel(e);if(null==t?void 0:t.isGuildStageVoice())return t}return null}))}},171452:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(791462),o=n(756328);function i(e){return(0,r.e7)([o.Z],(function(){return o.Z.isLive(e)}),[e])}},913609:(e,t,n)=>{"use strict";n.d(t,{Z:()=>bi})
;var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),l=n(441143),u=n.n(l),c=n(496486),s=n(751615),f=n(791462),d=n(444450),p=n(173436),h=n(558128),y=n(35599),b=n(67874),v=n(722059),m=n(799217),g=n(711138),O=n(409726),E=n(280195),j=n(81717),S=n(655695),C=n(992917),P=n(679302),I=n(323093),_=n(206728),w=n(193031),x=n(623123),N=n(322928),T=n(631134),A=n(182376),Z=n(653772),R=n(940712),M=n(379822),D=n(897576),L=n(268333),k=n(742269),U=n(170729),G=n(588641),H=n(338588),B=n(594743),V=n(312855),F=n(756328),W=n(242275),Y=n(281081),z=n(688087),K=n(481542),q=n(356002),X=n(553314),Q=n(212218),J=n(962564),$=n(191940),ee=n(629590),te=n(761434),ne=n(736488),re=n(685351),oe=n(757987),ie=n(220033),ae=n(719455),le=n(705176),ue=n(965565),ce=n(905567),se=n(880068),fe=n(655432),de=n(761222),pe=n(959797);function he(e){var t;if((0,de.EO)(e.user))return pe.Z.Messages.REQUEST_TO_SPEAK_MEMBER_INFO_NEW_TO_DISCORD;var n=null===(t=e.member)||void 0===t?void 0:t.joinedAt
;if(null==n)return pe.Z.Messages.REQUEST_TO_SPEAK_MEMBER_INFO_NON_MEMBER;if(null!=e.member&&e.member.roles.length>0){var r,o;return null!==(o=null===(r=e.role)||void 0===r?void 0:r.name)&&void 0!==o?o:pe.Z.Messages.REQUEST_TO_SPEAK_MEMBER_INFO_MEMBER_ROLES}return(new Date).getTime()-Date.parse(n)<864e5?pe.Z.Messages.REQUEST_TO_SPEAK_MEMBER_INFO_NEW_MEMBER:pe.Z.Messages.REQUEST_TO_SPEAK_MEMBER_INFO_MEMBER}var ye=n(673221),be=n(356004),ve=n(108580),me=n(461061);function ge(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Oe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return
;if("string"==typeof e)return ge(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ge(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Ee=n(806008),je=n(422877),Se=n(364266),Ce=n.n(Se);function Pe(e){var t=e.className;return(0,r.jsx)(je.Z,{className:t,children:(0,r.jsx)("div",{className:Ce().background,children:(0,r.jsx)(Ee.Z,{className:Ce().foreground,width:32,height:32})})})}var Ie=n(609993),_e=n(983953),we=n.n(_e);function xe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ne(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function Te(e){
return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Ne(i,r,o,a,l,"next",e)}function l(e){Ne(i,r,o,a,l,"throw",e)}a(void 0)}))}}function Ae(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Ze(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Ae(e,t,n[t])}))}return e}function Re(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n
}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Me(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return xe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}
var De,Le=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0
}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},ke=o.memo((function(e){var t=e.toggleRequestToSpeakSidebar,n=e.chatOpen,o=(0,r.jsx)(ce.ZP.Icon,{icon:ae.Z,tooltip:pe.Z.Messages.CLOSE,onClick:t});return(0,r.jsxs)(ce.ZP,{toolbar:o,className:a()(we().headerContainer,Ae({},we().chatOpen,n)),children:[(0,r.jsx)(ce.ZP.Icon,{icon:ue.Z,disabled:!0,"aria-label":pe.Z.Messages.REQUEST_TO_SPEAK_AREA_TITLE}),(0,r.jsx)(ce.ZP.Title,{children:pe.Z.Messages.REQUEST_TO_SPEAK_AREA_TITLE})]})})),Ue=o.memo((function(e){var t=e.channel,i=e.participant,l=e.tempDisableOnInit,c=void 0!==l&&l,s=function(){(0,fe.DT)(t,i.user.id,!1)},d=function(){(0,fe.DT)(t,i.user.id,!0)},p=Me(o.useState(c),2),h=p[0],y=p[1];o.useEffect((function(){if(h){var e=setTimeout((function(){return y(!1)}),1e3);return function(){return clearTimeout(e)}}}),[]);var b=t.getGuildId();u()(null!=b,"Channel cannot be guildless");var v=(0,f.cj)([J.Z],(function(){return{isMobile:J.Z.isMobileOnline(i.user.id),
status:J.Z.getStatus(i.user.id,b)}})),m=v.isMobile,g=v.status,O=(0,f.e7)([Q.ZP],(function(){return Q.ZP.getMember(b,i.user.id)})),E=o.useMemo((function(){return Ae({},b,[i.user.id])}),[b,i.user.id]);(0,K.$)(E);var j,S=i.rtsState===ye.xO.REQUESTED_TO_SPEAK_AND_AWAITING_USER_ACK,C=function(e){(0,Y.jW)(e,Te((function(){var e,o;return Le(this,(function(a){switch(a.label){case 0:return[4,Promise.all([n.e(40532),n.e(87996),n.e(45323),n.e(1951),n.e(36401),n.e(34076)]).then(n.bind(n,536401))];case 1:e=a.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,Re(Ze({},e),{user:i.user,guildId:b,channelId:t.id,showMediaItems:!0}))}]}}))})))};return(0,r.jsxs)("div",{className:we().participantRowContainer,children:[(0,r.jsx)(te.ZP,{preload:function(){return(0,q.Z)(i.user.id,i.user.getAvatarURL(t.guild_id,80),{guildId:t.guild_id,channelId:t.id})},renderPopout:function(e){return(0,r.jsx)(X.Z,Re(Ze({},e),{userId:i.user.id,guildId:b,channelId:t.id}))},position:te.ZP.Positions.LEFT,spacing:16,
children:function(e){return(0,r.jsxs)(ee.Z,Re(Ze({className:we().participantMemberContainer,onContextMenu:C},e),{children:[(0,r.jsx)(z.Z,{size:z.u.SIZE_40,className:we().participantAvatar,user:i.user,isMobile:m,status:g}),(0,r.jsxs)("div",{className:we().participantTextContainer,children:[(0,r.jsx)(ie.Z,{name:i.userNick,color:null!==(j=null==O?void 0:O.colorString)&&void 0!==j?j:void 0,className:we().participantName}),(0,r.jsx)(re.x,{variant:"text-xs/normal",color:"header-secondary",children:he(i)})]})]}))}}),(0,r.jsx)(oe.ZP,{text:S?pe.Z.Messages.REQUEST_TO_SPEAK_INVITATION_SEND:pe.Z.Messages.REQUEST_TO_SPEAK_ACCEPT,children:function(e){return(0,r.jsx)($.Co,Re(Ze({},e),{innerClassName:we().buttonContainer,look:$.Co.Looks.BLANK,size:$.Co.Sizes.NONE,onClick:s,disabled:S||h,children:(0,r.jsx)(le.Z,{width:16,height:16})}))}}),(0,r.jsx)(oe.ZP,{text:pe.Z.Messages.REQUEST_TO_SPEAK_DECLINE,children:function(e){return(0,r.jsx)($.Co,Re(Ze({},e),{
innerClassName:a()(we().buttonContainer,we().buttonMargin),look:$.Co.Looks.BLANK,size:$.Co.Sizes.NONE,onClick:d,children:(0,r.jsx)(ae.Z,{width:16,height:16})}))}})]})})),Ge=o.memo((function(e){var t=Me(function(e){var t=(0,f.e7)([be.Z],(function(){return be.Z.getChannel(e)}),[e]),n=ve.ZP.canEveryoneRole(me.Plq.REQUEST_TO_SPEAK,t),r=Oe(o.useState(n),2),i=r[0],a=r[1];o.useEffect((function(){n!==i&&a(n)}),[n]);return[i,function(e){if(null!=t){a(e);(0,fe.Pq)(t,me.Plq.REQUEST_TO_SPEAK,e)}}]}(e.channel.id),2),n=t[0],i=t[1];return(0,r.jsx)(ne.Z,{className:we().toggle,onChange:i,value:n,children:pe.Z.Messages.MODERATOR_ALLOW_EVERYONE_RAISE_HAND})})),He=o.memo((function(){return(0,r.jsxs)("div",{className:we().emptyStateContainer,children:[(0,r.jsx)(Pe,{}),(0,r.jsx)(re.x,{className:we().emptyStateTitle,variant:"text-lg/semibold",color:"header-primary",children:pe.Z.Messages.REQUEST_TO_SPEAK_EMPTY_LIST_TITLE}),(0,r.jsx)(re.x,{className:we().emptyStateBody,variant:"text-sm/normal",
color:"header-secondary",children:pe.Z.Messages.REQUEST_TO_SPEAK_EMPTY_LIST_BODY})]})}));!function(e){e[e.TOGGLE_REQUEST_TO_SPEAK=0]="TOGGLE_REQUEST_TO_SPEAK";e[e.PARTICIPANTS=1]="PARTICIPANTS"}(De||(De={}));function Be(e){var t=e.channel,n=e.toggleRequestToSpeakSidebar,o=e.chatOpen,i=(0,B.Fd)(t.id),l=[(0,f.e7)([R.Z],(function(){return R.Z.can(Ie.Pl.MANAGE_CHANNELS,t)||R.Z.can(Ie.Pl.MANAGE_ROLES,t)}))?1:0,Math.max(1,i.length)];return(0,r.jsxs)("div",{className:a()(we().container,Ae({},we().chatOpen,o)),children:[(0,r.jsx)(ke,{toggleRequestToSpeakSidebar:n,chatOpen:o}),(0,r.jsx)(se.ZP,{className:we().contentContainer,sections:l,sectionHeight:function(e){return e===De.PARTICIPANTS?40:0},rowHeight:function(e){switch(e){case De.TOGGLE_REQUEST_TO_SPEAK:return 66;case De.PARTICIPANTS:return 0===i.length?178:48}return 0},renderRow:function(e){var n=e.section,o=e.row;switch(n){case De.TOGGLE_REQUEST_TO_SPEAK:return(0,r.jsx)(Ge,{channel:t},"rts-toggle");case De.PARTICIPANTS:
if(0===i.length)return(0,r.jsx)(He,{},"participants-empty");var a=i[o];return(0,r.jsx)(Ue,{channel:t,participant:a,tempDisableOnInit:!0},a.id)}return null},renderSection:function(e){return e.section===De.PARTICIPANTS?(0,r.jsx)(re.x,{className:we().listTitle,variant:"text-xs/bold",color:"header-secondary",children:i.length>0?pe.Z.Messages.REQUEST_TO_SPEAK_LIST_TITLE.format({numHands:i.length}):pe.Z.Messages.REQUEST_TO_SPEAK_AREA_TITLE},"participants-section"):null}})]})}var Ve=n(804626),Fe=n(517879),We=n(48843),Ye=n(90816),ze=n(570992),Ke=n(657091),qe=n.n(Ke),Xe=function(e,t){return ze.Z.getName(e.getGuildId(),e.id,t.user)};function Qe(e,t){return 0===t.length?pe.Z.Messages.CURRENTLY_IN_STAGE_EMPTY:1===t.length?pe.Z.Messages.CURRENTLY_IN_STAGE_1.format({a:Xe(e,t[0])}):2===t.length?pe.Z.Messages.CURRENTLY_IN_STAGE_2.format({a:Xe(e,t[0]),b:Xe(e,t[1])}):t.length>2?pe.Z.Messages.CURRENTLY_IN_STAGE_2_N.format({a:Xe(e,t[0]),b:Xe(e,t[1]),n:t.length-2}):void 0}const Je=function(e){
var t=e.participants,n=e.channel,i=e.hasConnectPermission,a=o.useCallback((function(){Ve.default.selectVoiceChannel(n.id)}),[n.id]),l=4===t.length?2:3,u=(0,f.Wu)([b.Z],(function(){return t.map((function(e){return b.Z.getParticipant(n.id,e.id)})).filter(Ye.lm)}),[n.id,t]);return(0,r.jsxs)("div",{className:qe().container,children:[(0,r.jsx)("div",{className:qe().tiles,style:{maxWidth:168*l},children:u.slice(0,5).map((function(e){return(0,r.jsx)(Fe.ZP,{participant:e,channel:n,className:qe().tile,paused:!0,inCall:!0,noVideoRender:!0,inPopout:!1,width:48},e.id)}))}),(0,r.jsx)(We.X,{className:qe().channelName,variant:"heading-xxl/medium",children:n.name}),(0,r.jsx)("div",{className:qe().participantsRow,children:(0,r.jsx)(re.x,{color:"header-secondary",variant:"text-sm/normal",children:Qe(n,t)})}),(0,r.jsx)($.Co,{disabled:!i,className:qe().joinButton,color:i?$.Co.Colors.GREEN:$.Co.Colors.PRIMARY,onClick:a,size:$.Co.Sizes.MEDIUM,
children:i?pe.Z.Messages.STAGE_CHANNEL_JOIN:pe.Z.Messages.CHANNEL_LOCKED_SHORT})]})};var $e=n(825524),et=n(53211),tt=n(832010),nt=n(782226),rt=n(174301),ot=n(6873),it=n(348025),at=n(403613),lt=n(807729),ut=n(993167),ct=n(605390),st=n(862770),ft=n(468811),dt=n.n(ft),pt=n(316103),ht=n(849800),yt=n.n(ht);function bt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function vt(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function mt(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function gt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){
var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return bt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ot(e){var t=e.width,n=void 0===t?24:t,i=e.height,a=void 0===i?24:i,l=e.isBadged,u=void 0!==l&&l,c=gt(o.useState((function(){return dt().v4()})),1)[0];return(0,r.jsxs)("svg",{width:n,height:a,
viewBox:"0 0 24 24",children:[(0,r.jsx)("defs",{children:(0,r.jsxs)("mask",{id:c,children:[(0,r.jsx)("rect",{fill:"white",width:"100%",height:"100%"}),u&&(0,r.jsx)("circle",{cx:"20",cy:"19",r:"10",fill:"black"})]})}),(0,r.jsx)("path",{fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd",
d:"M20.53 7.76998C20.455 7.60998 20.31 7.48998 20.135 7.44498C20.075 7.42832 20.0106 7.41165 19.9462 7.39498L19.85 7.36998C19.305 7.22998 18.635 7.56498 18.35 8.11498L17.37 9.99998C17.085 10.55 16.725 10.51 16.57 9.90998L14.395 1.38498C14.24 0.779981 13.64 0.459981 13.05 0.664981C12.46 0.869981 12.095 1.52498 12.225 2.13498L13.495 7.95998C13.63 8.56998 13.575 9.11498 13.375 9.18498C13.175 9.25498 12.85 8.83498 12.65 8.24498L10.55 2.07498C10.35 1.48498 9.71004 1.17498 9.12004 1.37998C8.53004 1.58498 8.21504 2.22998 8.41004 2.81998L10.47 8.99998C10.665 9.58998 10.665 10.125 10.465 10.195C10.265 10.265 9.88504 9.86498 9.62504 9.29998L7.27504 4.29998C7.01004 3.73998 6.32004 3.44498 5.73004 3.64998C5.14504 3.85498 4.87504 4.47498 5.14004 5.03998L8.10004 11.045C8.36004 11.61 8.41004 12.125 8.21004 12.195C8.01004 12.265 7.53004 11.93 7.14004 11.445L5.10504 8.82498C4.71504 8.33998 4.04004 8.07498 3.59504 8.22998C3.15504 8.38498 3.04004 8.94498 3.34504 9.48998L5.84504 13.865C5.90004 14.02 7.35504 16.8 7.46004 16.915C8.50004 18.565 10.145 19.51 12.23 18.79L12.96 18.5372V15.84C12.96 14.2494 14.2494 12.96 15.84 12.96H18.3887C18.763 12.143 19.1735 11.2467 19.5492 10.4262L19.5592 10.4045L19.5647 10.3926L19.5648 10.3922L19.5702 10.3804L19.581 10.3569C19.9595 9.53048 20.3003 8.78624 20.53 8.28498C20.605 8.11498 20.605 7.92998 20.53 7.76998ZM11.81 20.51L12.96 20.0792V23.395H11.815L11.185 22.03C11.055 21.75 11.045 21.425 11.165 21.135C11.285 20.845 11.52 20.62 11.81 20.51ZM14.4 16.32C14.4 15.2596 15.2596 14.4 16.32 14.4H22.08C23.1404 14.4 24 15.2596 24 16.32V22.08C24 23.1404 23.1404 24 22.08 24H16.32C15.2596 24 14.4 23.1404 14.4 22.08V16.32ZM16.32 16.56H22.08V17.52H16.32V16.56ZM22.08 18.72H16.32V19.68H22.08V18.72ZM16.32 20.88H22.08V21.84H16.32V20.88Z",
mask:"url(#".concat(c,")")})]})}function Et(e){var t=e.className,n=e.numRequestToSpeak,o=n>0,i=n>99?"99+":n;return(0,r.jsxs)("div",{className:a()(yt().raisedHandIcon,t),children:[(0,r.jsx)(Ot,{isBadged:o}),o?(0,r.jsx)(re.x,{className:yt().raisedHandCount,variant:"text-xs/semibold",children:i}):null]})}function jt(e){var t=e.toggleRequestToSpeakSidebar,n=e.showRequestToSpeakSidebar,i=e.className,a=e.numRequestToSpeak,l=e.onClick,u=mt(e,["toggleRequestToSpeakSidebar","showRequestToSpeakSidebar","className","numRequestToSpeak","onClick"]),c=o.useCallback((function(){null==l||l();t()}),[l,t]);return(0,r.jsx)(pt.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){vt(e,t,n[t])}))}return e}({onClick:c,
label:n?pe.Z.Messages.REQUEST_TO_SPEAK_AREA_CLOSE:pe.Z.Messages.REQUEST_TO_SPEAK_AREA_OPEN,className:i,iconComponent:function(){return(0,r.jsx)(Et,{numRequestToSpeak:a,className:i})}},u))}var St=n(110553),Ct=n(974902),Pt=n(674606),It=n(534830),_t=n(485859),wt=n(186121),xt=n(458981),Nt=n(531648),Tt=n(190177);function At(e){var t=(0,f.e7)([be.Z],(function(){return be.Z.getChannel(e)}),[e]),n=(0,f.e7)([R.Z],(function(){return R.Z.can(Nt.yP,t)})),o=(0,f.e7)([F.Z],(function(){return F.Z.getStageInstanceByChannel(e)}),[e]),i=(0,y.bp)(),a=function(){return null!=t&&(0,xt.T)(t,i)};return(null==t?void 0:t.isGuildStageVoice())&&n?null!=o?(0,r.jsx)(wt.sN,{id:"edit-stage",label:pe.Z.Messages.EDIT_STAGE_SUBTITLE,action:a}):(0,r.jsx)(wt.sN,{id:"start-stage",label:pe.Z.Messages.STAGE_CHANNEL_START_TITLE,action:a}):null}function Zt(e){var t=(0,f.e7)([be.Z],(function(){return be.Z.getChannel(e)}),[e]);u()(null!=t,"useNotificationSettingsItem: channel cannot be undefined");return(0,_t.Z)(t)}
function Rt(e){var t=e.channelId,n=e.closePopout,o=e.appContext,i=e.onSelect,a=e.textInStageEnabled,l=(0,f.e7)([b.Z],(function(){return b.Z.getSelectedParticipant(t)})),u=(null==l?void 0:l.type)===Tt.fO.STREAM?l.stream:null,c=(0,It.Z)(t);return(0,r.jsxs)(wt.ZP,{navId:"stage-channel-call-overflow-popout",onClose:n,"aria-label":pe.Z.Messages.CHANNEL_CALL_OVERFLOW_MENU_LABEL,onSelect:i,children:[At(t),Zt(t),(0,Ct.Z)(),(0,St.Z)(t),a?c:null,(0,Pt.Z)(u,o)]})}var Mt=n(903330),Dt=n.n(Mt);function Lt(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function kt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Lt(e,t,n[t])}))}return e}function Ut(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Gt(e){var t=e.channel,n=e.toggleRequestToSpeakSidebar,i=e.showRequestToSpeakSidebar,l=(0,y.bp)(),u=(0,f.e7)([b.Z],(function(){return b.Z.getChatOpen(t.id)}),[t.id]),c=(0,st.B)(t.id),s=(0,B.Rk)(t.id,V.pV.REQUESTED_TO_SPEAK_ONLY),d=(0,N.Vy)(t.guild_id),p=(0,ot.Y)("popup"),h=p.preventIdle,v=p.allowIdle;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(te.ZP,{position:te.ZP.Positions.BOTTOM,animation:te.ZP.Animation.NONE,align:te.ZP.Align.RIGHT,renderPopout:function(e){return(0,r.jsx)(it.Z,{children:(0,r.jsx)(Rt,Ut(kt({},e),{channelId:t.id,appContext:l,
textInStageEnabled:d}))})},autoInvert:!1,children:function(e,t){var n=t.isShown;return(0,o.createElement)(lt.Z,Ut(kt({},e),{key:"more-options",active:n,className:Dt().button,iconClassName:Dt().buttonIcon}))}},"more-options-popout"),(0,r.jsx)(rt.Z,{onOpen:h,onClose:v,className:Dt().button},"recents"),!i&&c?(0,r.jsx)("div",{className:Dt().button,children:(0,r.jsx)(jt,{toggleRequestToSpeakSidebar:function(){u&&$e.Z.updateChatOpen(t.id,!1);n()},showRequestToSpeakSidebar:i,numRequestToSpeak:s})}):null,d&&!u&&(0,r.jsx)("div",{className:a()(Dt().button,Lt({},Dt().sidebarOpen,i)),children:(0,r.jsx)(at.TH,{channelId:t.id,showRequestToSpeakSidebar:i,toggleRequestToSpeakSidebar:n,iconClassName:Dt().buttonIcon})})]})}function Ht(e){var t,n=e.channel,o=e.toggleRequestToSpeakSidebar,i=e.showRequestToSpeakSidebar,l=(0,et.Z)(n),u=(0,f.e7)([F.Z],(function(){return F.Z.getStageInstanceByChannel(n.id)})),c=(0,B.Io)(n.id),s=(0,B.Rk)(n.id,V.pV.AUDIENCE);return(0,r.jsxs)(ce.ZP,{toolbar:(0,r.jsx)(Gt,{
toggleRequestToSpeakSidebar:o,showRequestToSpeakSidebar:i,channel:n}),onDoubleClick:nt.O,transparent:!0,className:a()((0,U.Q)(me.BRd.DARK),Dt().participants),children:[(0,r.jsx)(ce.ZP.Icon,{icon:Ee.Z,disabled:!0,"aria-label":pe.Z.Messages.STAGE_CHANNEL,className:Dt().icon,color:null!=u?(0,tt.Lq)(Ie.Il.STATUS_GREEN_600):void 0}),(0,r.jsx)(ce.ZP.Title,{className:Dt().channelName,wrapperClassName:Dt().channelNameWrapper,children:null!==(t=null==u?void 0:u.topic)&&void 0!==t?t:l}),(0,r.jsx)(ce.ZP.Divider,{className:Dt().divider}),(0,r.jsx)(ut.Z,{width:16,height:16}),(0,r.jsx)(re.x,{variant:"text-xs/medium",color:"header-secondary",className:Dt().speakerCount,children:pe.Z.Messages.SPEAKING_COUNT.format({count:c})}),(0,r.jsx)(ct.Z,{width:16,height:16}),(0,r.jsx)(re.x,{variant:"text-xs/medium",color:"header-secondary",className:Dt().speakerCount,children:pe.Z.Messages.LISTENING_COUNT.format({count:s})})]})}var Bt=n(283533),Vt=n(820498),Ft=n(204369);function Wt(e,t){
(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Yt(e){return function(e){if(Array.isArray(e))return Wt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Wt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Wt(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var zt=function(e){return e},Kt=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3?arguments[3]:void 0,i=qt(zt,t,n,r),a=o.useRef(e);o.useEffect((function(){var t=i(e);a.current=t}),[e,i])
;return 0===t?e:a.current},qt=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3?arguments[3]:void 0,i=o.useRef((0,c.throttle)(e,t,r));o.useEffect((function(){i.current=(0,c.throttle)(e,t,r);return function(){var e;null===(e=i.current)||void 0===e||e.cancel()}}),[e,t,r].concat(Yt(n)));return i.current};function Xt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Qt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Xt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jt(e,t,n){var r=(0,f.e7)([Vt.Z],(function(){return[e,Vt.Z.getParticipantsVersion(e)]}),[e],Ft.QF),i=(0,f.e7)([b.Z],(function(){return b.Z.getSelectedParticipantId(e)}),[e]);return o.useMemo((function(){var o=[],a=[],l=-1,u=[];if(n){var s=Vt.Z.getMutableParticipants(e,V.pV.SPEAKER),f=!0,d=!1,p=void 0;try{for(var h,y=s[Symbol.iterator]();!(f=(h=y.next()).done);f=!0){var b=h.value;if(!b.voiceState.selfVideo&&b.type!==V.Ui.STREAM)break;b.id!==i&&u.push(b);l++}}catch(e){d=!0;p=e}finally{try{f||null==y.return||y.return()}finally{if(d)throw p}}}var v=function(e,t,n){var r=n?e.filter((function(e,t){return e.id!==i&&t>l
})):e,u=(0,c.chunk)(r,t);a.push(u);o.push(u.length)},m=null!=i?Vt.Z.getParticipant(e,i):null;(null==m?void 0:m.speaker)?v([m],1,!1):v([],1,!1);[V.pV.SPEAKER,V.pV.AUDIENCE].forEach((function(e){v(Vt.Z.getMutableParticipants(r[0],e),t[e],e===V.pV.SPEAKER)}));v(u,1,!1);return[o,a]}),[r,t,i,n,e])}var $t;!function(e){e[e.SELECTED=0]="SELECTED";e[e.SPEAKER=1]="SPEAKER";e[e.AUDIENCE=2]="AUDIENCE";e[e.MEDIA=3]="MEDIA"}($t||($t={}));var en=n(353443),tn=n(106027),nn=n(967709),rn=n.n(nn);function on(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function an(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){on(i,r,o,a,l,"next",e)}function l(e){on(i,r,o,a,l,"throw",e)}a(void 0)}))}}function ln(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function un(e){for(var t=1;t<arguments.length;t++){
var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){ln(e,t,n[t])}))}return e}function cn(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var sn=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){
return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},fn=o.memo((function(e){var t=e.guildId,n=e.channelId,o=e.user,i=e.isPremium,a=e.isBlocked;return(0,r.jsxs)("div",{className:rn().textContainer,children:[a?(0,r.jsx)(en.Z,{
className:rn().blockedIcon,color:(0,tt.Lq)(me.Ilk.STATUS_RED_500)}):null,(0,r.jsx)(re.x,{className:rn().text,variant:"text-sm/normal",color:"header-primary",children:ze.Z.getName(t,n,o)}),i?(0,r.jsx)(tn.Z,{className:rn().boost,color:(0,tt.Lq)(me.Ilk.GUILD_BOOSTING_PINK)}):null]})})),dn=o.memo((function(e){var t,n=e.participant,o=e.guildId,i=e.channel,l=e.isPremium,u=n.user,c=n.blocked,s=n.rtsState,f=s===ye.xO.REQUESTED_TO_SPEAK_AND_AWAITING_USER_ACK,d=s===ye.xO.REQUESTED_TO_SPEAK||f;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:rn().avatarContainer,children:[d&&(0,r.jsx)(ue.Z,{className:a()(rn().icon,ln({},rn().invited,f))}),(0,r.jsx)("img",{src:null!==(t=u.getAvatarURL(i.guild_id,56,!1))&&void 0!==t?t:void 0,alt:u.username,"aria-label":u.username,className:a()(rn().avatar,ln({},rn().faded,c))})]}),(0,r.jsx)(fn,{guildId:o,channelId:i.id,user:u,isPremium:l,isBlocked:c})]})})),pn=function(){return(0,r.jsx)("div",{className:rn().tileBaseContainer})}
;const hn=o.memo((function(e){var t=e.participant,i=e.channel,l=t.user,c=t.blocked,s=i.getGuildId(),d=(0,y.bp)(),p=(0,f.e7)([Q.ZP],(function(){var e;return null!=s&&null!=(null===(e=Q.ZP.getMember(s,l.id))||void 0===e?void 0:e.premiumSince)}),[s,l.id]);u()(null!=s,"Channel cannot be guildless");var h=o.useCallback((function(e){(0,Y.jW)(e,an((function(){var e,t;return sn(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(87996),n.e(45323),n.e(1951),n.e(36401),n.e(34076)]).then(n.bind(n,536401))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,cn(un({},e),{user:l,guildId:s,channelId:i.id,showMediaItems:!0,showStageChannelItems:!0,showChatItems:!1}))}]}}))})),{context:d})}),[l,s,i.id,d]),b=o.useCallback((function(e){return(0,r.jsx)(X.Z,cn(un({},e),{guildId:s,channelId:i.id,userId:l.id}))}),[i.id,s,l.id]);return(0,r.jsx)(te.ZP,{preload:function(){return(0,q.Z)(l.id,l.getAvatarURL(i.guild_id,80),{guildId:i.guild_id,channelId:i.id})},
renderPopout:b,position:te.ZP.Positions.RIGHT,spacing:8,children:function(e){var n;return(0,r.jsx)(ee.Z,cn(un({className:a()(rn().tileContainer,(n={},ln(n,rn().singleIcon,p||c),ln(n,rn().doubleIcon,p&&c),n)),onContextMenu:h},e),{children:(0,r.jsx)(dn,{participant:t,guildId:s,channel:i,isPremium:p})}))}})}));var yn=n(339753),bn=n.n(yn);const vn=o.memo((function(e){var t=e.channel,n=e.participants,o=e.maxTiles;if(0===n.length)return null;for(var i=[],a=0;a<o;a++)if(a<n.length){var l=n[a];i.push((0,r.jsx)(hn,{channel:t,participant:l},l.id))}else i.push((0,r.jsx)(pn,{},a));return(0,r.jsx)("div",{className:bn().participants,children:i})}));var mn=n(753274),gn=n(315213),On=n(790875),En=n.n(On);const jn=(0,gn.Z)(En().auto,En().fade,null!==ResizeObserver&&void 0!==ResizeObserver?ResizeObserver:mn.d);var Sn=n(370442),Cn=n(39802),Pn=n(430923),In=n(997163),_n=n(337160),wn=n(18416),xn=n(882687),Nn=n(888488),Tn=n(975906),An=n(934714),Zn=n(104640),Rn=n(180573),Mn=n.n(Rn);function Dn(e,t,n){
t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Ln(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Dn(e,t,n[t])}))}return e}function kn(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function Un(e){
var t=e.aspectRatio,n=e.blocked,o=e.channel,i=e.className,a=e.focused,l=e.children,u=e.inCall,c=e.inPopout,s=e.noBorder,f=e.onClick,d=e.onContextMenu,p=e.onDoubleClick,h=e.onVideoResize,y=e.paused,b=e.pulseSpeakingIndicator,v=e.participant,m=e.width,g=kn(e,["aspectRatio","blocked","channel","className","focused","children","inCall","inPopout","noBorder","onClick","onContextMenu","onDoubleClick","onVideoResize","paused","pulseSpeakingIndicator","participant","width"]),O=An.Z.getVideoComponent();return(0,r.jsx)("div",{style:{width:m},className:Mn().spaceBetweenTiles,children:(0,r.jsxs)(Zn.Z,{className:Mn().tileSizer,aspectRatio:t,children:[(0,r.jsx)(Fe.ZP,Ln({blocked:n,channel:o,className:i,focused:a,inCall:u,inPopout:c,noBorder:s,onClick:f,onContextMenu:d,onDoubleClick:p,onVideoResize:h,participant:v,paused:y,pulseSpeakingIndicator:b,videoComponent:O,width:m},g)),l]})})}var Gn=n(571610),Hn=n(817463),Bn=n.n(Hn);function Vn(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,
configurable:!0,writable:!0}):e[t]=n;return e}function Fn(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}const Wn=function(){return(0,r.jsx)(oe.ZP,{text:pe.Z.Messages.STAGE_MODERATOR_TOOLTIP,children:function(e){return(0,r.jsx)("div",Fn(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Vn(e,t,n[t])}))}return e}({},e),{className:Bn().container,
children:(0,r.jsx)(Gn.Z,{color:(0,tt.Lq)(me.Ilk.WHITE_500)})}))}})};var Yn=n(892314),zn=n.n(Yn);function Kn(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function qn(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Kn(i,r,o,a,l,"next",e)}function l(e){Kn(i,r,o,a,l,"throw",e)}a(void 0)}))}}function Xn(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Qn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Xn(e,t,n[t])}))}return e}function Jn(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var $n=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],
done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},er=16/9,tr=function(e){var t=e.stageParticipant,n=e.rtcParticipant,i=e.channel,a=e.guildId,l=e.user,u=e.width,c=e.isModerator,s=e.onContextMenu,f=e.inPopout,d=o.useContext(Cn.S).reducedMotion,p=t.blocked,h=t.id;return(0,r.jsx)(te.ZP,{preload:null==n?void 0:function(){return(0,q.Z)(n.user.id,n.user.getAvatarURL(i.guild_id,80),{guildId:i.guild_id,channelId:i.id})},renderPopout:function(e){return(0,r.jsx)(X.Z,Jn(Qn({},e),{guildId:a,channelId:i.id,userId:l.id}))},position:te.ZP.Positions.RIGHT,
spacing:8,children:function(e){return(0,r.jsx)(ee.Z,Jn(Qn({onContextMenu:function(e){return s(n,e)}},e),{children:(0,r.jsx)(Un,{participant:n,aspectRatio:er,blocked:p,channel:i,className:zn().tile,inCall:!0,inPopout:f,paused:!1,pulseSpeakingIndicator:!d.enabled,width:u,children:c&&(0,r.jsx)(Wn,{})},h)}))}})},nr=function(e){var t=e.stageParticipant,n=e.rtcParticipant,i=e.channel,a=e.width,l=e.isModerator,u=e.onContextMenu,c=e.inPopout,s=o.useContext(Cn.S).reducedMotion,d=t.id,p=t.blocked,h=(0,f.Wu)([wn.Z],(function(){return wn.Z.getAllActiveStreams()}),[]),y=(0,f.e7)([b.Z],(function(){return null!=i?b.Z.getSelectedParticipant(i.id):null})),v=o.useCallback((function(e,t){if(e.type===Tt.fO.STREAM){if(0===h.filter((function(t){return(0,In.V9)(t)===e.id&&t.state!==me.jm8.ENDED})).length){if(!(0,_n.p9)(i,xn.Z,Z.Z,R.Z,Pn.Z)[0])return;(0,Sn.rn)((0,In.my)(e.id),{forceMultiple:t.shiftKey})}}(null==y?void 0:y.id)===e.id?$e.Z.selectParticipant(i.id,null):$e.Z.selectParticipant(i.id,e.id)
}),[h,i,y]);return(0,r.jsx)(Un,{participant:n,aspectRatio:er,fit:n.type===Tt.fO.USER?Nn.L.COVER:void 0,blocked:p,channel:i,className:zn().tile,inCall:!0,inPopout:c,onClick:v,onContextMenu:u,paused:!1,pulseSpeakingIndicator:!s.enabled,width:a,children:l&&n.type===Tt.fO.USER&&(0,r.jsx)(Wn,{})},d)};const rr=o.memo((function(e){var t,o=e.participant,i=e.channel,a=e.width,l=(0,y.bp)(),c=i.getGuildId();u()(null!=c,"Channel cannot be guildless");var s=o.user,d=(0,f.e7)([b.Z],(function(){return b.Z.getParticipant(i.id,o.id)}),[i.id,o.id]),p=(0,f.e7)([Tn.ZP],(function(){return Tn.ZP.isModerator(s.id,i.id)}),[i.id,s.id]);if(null==d||d.type===Tt.fO.ACTIVITY)return null;var h=function(e,t){switch(e.type){case Tt.fO.HIDDEN_STREAM:case Tt.fO.STREAM:(0,Y.jW)(t,qn((function(){var t,o;return $n(this,(function(i){switch(i.label){case 0:return[4,n.e(32557).then(n.bind(n,932557))];case 1:t=i.sent(),o=t.default;return[2,function(t){return(0,r.jsx)(o,Jn(Qn({},t),{stream:e.stream,appContext:l,
exitFullscreen:function(){}}))}]}}))})),{context:l});return;case Tt.fO.USER:default:(0,Y.jW)(t,qn((function(){var e,t;return $n(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(87996),n.e(45323),n.e(1951),n.e(36401),n.e(34076)]).then(n.bind(n,536401))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,Jn(Qn({},e),{user:s,guildId:c,channelId:i.id,showMediaItems:!0,showStageChannelItems:!0,showChatItems:!1}))}]}}))})),{context:l})}},v=d.type===Tt.fO.USER&&!(null===(t=d.voiceState)||void 0===t?void 0:t.selfVideo);return(0,r.jsx)(r.Fragment,{children:v?(0,r.jsx)(tr,{stageParticipant:o,rtcParticipant:d,channel:i,guildId:c,user:s,width:a,isModerator:p,onContextMenu:h,inPopout:l===me.IlC.POPOUT}):(0,r.jsx)(nr,{stageParticipant:o,rtcParticipant:d,channel:i,guildId:c,user:s,width:a,isModerator:p,onContextMenu:h,inPopout:l===me.IlC.POPOUT})})}));var or=n(403800),ir=n.n(or);const ar=o.memo((function(e){
var t=e.channel,n=e.participants,o=e.tileWidth,i=e.selectedParticipant;return(0,r.jsx)("div",{className:ir().rowContainer,children:n.map((function(e){return e.id===(null==i?void 0:i.id)?null:(0,r.jsx)(rr,{channel:t,participant:e,width:o},e.id)}))})}));var lr=n(221713),ur=n(225464),cr=n(248604),sr=n(11605),fr=n(766936),dr=n(917870),pr=n(615568),hr=n.n(pr);function yr(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function br(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){yr(i,r,o,a,l,"next",e)}function l(e){yr(i,r,o,a,l,"throw",e)}a(void 0)}))}}function vr(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function mr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){vr(e,t,n[t])}))}return e}function gr(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var Or=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){
if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function Er(e){var t=e.channel,i=e.speaker,l=e.className,u=(0,y.bp)(),c=o.useContext(Cn.S).reducedMotion,s=(0,f.e7)([cr.Z],(function(){return cr.Z.isSpeaking(i.id)}),[i.id]),d=null!=i.member?(0,
dr.CA)(i.member):null,p=function(e){(0,Y.jW)(e,br((function(){var e,o;return Or(this,(function(a){switch(a.label){case 0:return[4,Promise.all([n.e(40532),n.e(87996),n.e(45323),n.e(1951),n.e(36401),n.e(34076)]).then(n.bind(n,536401))];case 1:e=a.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,gr(mr({},e),{user:i.user,guildId:t.guild_id,channelId:t.id,showMediaItems:!0,showStageChannelItems:!0,showChatItems:!1}))}]}}))})),{context:u})};return(0,r.jsx)(te.ZP,{preload:function(){return(0,q.Z)(i.user.id,i.user.getAvatarURL(t.guild_id,80),{guildId:t.guild_id,channelId:t.id})},renderPopout:function(e){return(0,r.jsx)(X.Z,gr(mr({},e),{guildId:t.guild_id,channelId:t.id,userId:i.id}))},position:te.ZP.Positions.RIGHT,spacing:8,children:function(e){return(0,r.jsx)(oe.ZP,{text:i.userNick,position:oe.ZP.Positions.BOTTOM,children:function(n){return(0,r.jsx)(ee.Z,gr(mr({},n,e),{onClick:function(t){t.stopPropagation();e.onClick(t)},onContextMenu:p,children:(0,r.jsx)(fr.ZP,{
src:null!=d?d:i.user.getAvatarURL(t.guild_id,24),size:fr.ZP.Sizes.SIZE_24,className:a()(hr().avatar,l),"aria-label":i.userNick,isSpeaking:s&&!c.enabled})}))}})}})}function jr(e){var t=e.speakers,n=e.channel;return(0,r.jsx)(sr.Z,{className:hr().summary,guildId:n.guild_id,users:t,max:10,renderUser:function(e,t,o){return(0,r.jsx)(Er,{channel:n,speaker:e,className:t},o)},renderMoreUsers:function(e,t,n){return(0,r.jsx)("div",{className:a()(hr().speakers,t),children:e},n)}})}var Sr=n(997177),Cr=n.n(Sr);function Pr(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}const Ir=o.memo((function(e){var t=e.label,n=e.participantCount,o=e.onClick,i=e.className,l=e.collapsed,u=e.speakers,c=e.channel,s=e.isStreamLive;return(0,r.jsxs)(ee.Z,{onClick:o,className:a()(Cr().container,i),children:[null==u?(0,r.jsx)(ct.Z,{width:20,height:20,className:Cr().micIcon}):(0,r.jsx)(ut.Z,{width:20,height:20,className:Cr().micIcon}),(0,r.jsxs)(re.x,{
color:"header-primary",variant:"text-md/semibold",className:Cr().text,children:[t,"  ",n]}),l&&null!=c&&null!=u&&u.length>0&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(jr,{channel:c,speakers:u}),s&&(0,r.jsx)(ur.ZP,{})]}),(0,r.jsx)(lr.Z,{width:20,height:20,className:a()(Cr().downIcon,Pr({},Cr().upIcon,l))})]})}));var _r=n(298579),wr=n.n(_r);function xr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Nr(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Tr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return
;if("string"==typeof e)return xr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Ar,Zr=424,Rr=624,Mr=824;!function(e){e[e.SELECTED=0]="SELECTED";e[e.SPEAKER=1]="SPEAKER";e[e.AUDIENCE=2]="AUDIENCE"}(Ar||(Ar={}));const Dr=(0,Bt.Z)((function(e){var t,n,i,l=e.channel,u=e.width,c=e.onScroll,s=(0,f.e7)([b.Z],(function(){return b.Z.getSelectedParticipantId(l.id)})),d=(0,f.cj)([Vt.Z],(function(){var e=Vt.Z.getParticipantCount(l.id,V.pV.AUDIENCE),t=null!=s?Vt.Z.getParticipant(l.id,s):null,n=Vt.Z.getMutableParticipants(l.id,V.pV.SPEAKER),r=n.filter((function(e){return e.type===V.Ui.VOICE})),o=null!=n.find((function(e){
return e.type===V.Ui.STREAM}));return{speakerCount:r.length,audienceCount:e,selectedStageParticipant:t,speakers:r,isStreamLive:o}}),[s,l.id]),p=d.speakerCount,h=d.audienceCount,y=d.selectedStageParticipant,v=d.speakers,m=d.isStreamLive,g=function(e){return Math.floor((e-32)/102)}(u),O=function(e){return e<Zr?1:e<Rr?2:e<Mr?3:4}(u),E=(Nr(t={},V.pV.SPEAKER,O),Nr(t,V.pV.AUDIENCE,g),Nr(t,V.pV.SELECTED,1),t),j=function(e){var t=(0,B.Rk)(e,V.pV.AUDIENCE),n=Qt(o.useState(!1),2),r=n[0],i=n[1];o.useEffect((function(){t>100?i(!0):t<75&&i(!1)}),[t]);return r?5e3:0}(l.id),S=Tr(function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=Jt(e,t,r),i=Qt(o,2),a=i[0],l=i[1],u=Qt(Kt(o,n,[t[V.pV.AUDIENCE]]),2),c=u[0],s=u[1],f=[a[$t.SELECTED],a[$t.SPEAKER],c[$t.AUDIENCE]],d=[l[$t.SELECTED],l[$t.SPEAKER],s[$t.AUDIENCE]];if(r){f.splice(1,0,a[$t.MEDIA]);d.splice(1,0,l[$t.MEDIA])}return[f,d]
}(l.id,E,j),2),C=S[0],P=S[1],I=[Math.max(null!==(n=C[Ar.SELECTED])&&void 0!==n?n:1,1),Math.max(null!==(i=C[Ar.SPEAKER])&&void 0!==i?i:1,1),C[Ar.AUDIENCE]],_=function(e,t){var n=Math.floor(e/t-8);return{speakerTileWidth:n,speakerTileHeight:Math.floor(n/er)}}(u,O),w=_.speakerTileWidth,x=_.speakerTileHeight,N=u-32,T=null!=(0,f.e7)([F.Z],(function(){return F.Z.getStageInstanceByChannel(l.id)}),[l.id]),A=function(e){return e===C.length-1||0===h&&1===e},Z=Tr(o.useState(!1),2),R=Z[0],M=Z[1],D=Tr(o.useState(!1),2),L=D[0],k=D[1];return(0,r.jsx)(jn,{sections:I,renderSection:function(e){var t=e.section;return t===Ar.SPEAKER?0===p?null:(0,r.jsx)(Ir,{participantCount:p,label:pe.Z.Messages.SPEAKER_LABEL,className:a()(wr().header,Nr({},wr().headerMarginTop,null==s)),onClick:function(){return M(!R)},collapsed:R,speakers:v,channel:l,isStreamLive:m},"speaker-header-".concat(t)):t===Ar.AUDIENCE?0===h?null:(0,r.jsx)(Ir,{participantCount:h,label:pe.Z.Messages.AUDIENCE_LABEL,
className:a()(wr().header,Nr({},wr().headerMarginTop,0===v.length)),onClick:function(){return k(!L)},collapsed:L,channel:l},"audience-header-".concat(t)):null},sectionHeight:function(e){return e===Ar.SELECTED?T?90:154:e===Ar.SPEAKER?0:64},renderRow:function(e){var t=e.section,n=e.row,i=P[t][n];if(null==(null==i?void 0:i.length))return null;switch(t){case Ar.SELECTED:return 0===i.length||null==i[0]?null:(0,r.jsx)("div",{className:wr().focusedRow,children:(0,r.jsx)(rr,{channel:l,participant:i[0],width:N})},"selected-participant");case Ar.SPEAKER:return R?null:(0,r.jsx)(o.Fragment,{children:(0,r.jsx)(ar,{tileWidth:w,channel:l,participants:i,selectedParticipant:y})},"speakers-".concat(t,"-").concat(n));case Ar.AUDIENCE:return L?null:(0,r.jsx)(vn,{channel:l,participants:i,maxTiles:g},"audience-".concat(t,"-").concat(n));default:return null}},rowHeight:function(e){return null==P[e][Ar.SELECTED]?0:e===Ar.SELECTED?N/er+8:e===Ar.SPEAKER?x:98},renderFooter:function(e){var t=e.section
;return A(t)?(0,r.jsx)("div",{className:wr().spacer},"bottom-spacer"):null},footerHeight:function(e){return e===Ar.SPEAKER?24:A(e)?88:0},className:wr().scroller,chunkSize:60,onScroll:c})}));var Lr=n(14395),kr=n(841522),Ur=n(457188),Gr=n(742572),Hr=n(875684),Br=n(607568),Vr=n(659956);function Fr(e){var t=e.className,n=e.channel,o=e.highlight,i=(0,y.bp)();return(0,r.jsx)(Vr.Z,{highlight:null!=o&&o,className:t,icon:(0,r.jsx)(Ee.Z,{height:20,width:20}),color:(0,tt.Lq)(Ie.Il.STATUS_GREEN_600),title:pe.Z.Messages.STAGE_CHANNEL_START_TITLE,description:pe.Z.Messages.STAGE_CHANNEL_START_SUBTITLE,onClick:function(){(0,xt.T)(n,i)}})}var Wr=n(544393),Yr=n(511390),zr=n(432107),Kr=n(899881),qr=n(906695),Xr=n(685879),Qr=n(905633),Jr=n(421040),$r=n(859023),eo=n(429677),to=n(845724),no=n(523283),ro=n(240243);function oo(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function io(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function ao(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function lo(e){var t=e.width,n=void 0===t?22:t,o=e.height,i=void 0===o?20:o,a=e.color,l=void 0===a?"currentColor":a,u=ao(e,["width","height","color"]);return(0,r.jsxs)("svg",io(function(e){
for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){oo(e,t,n[t])}))}return e}({},(0,ro.Z)(u)),{width:n,height:i,viewBox:"0 0 22 20",children:[(0,r.jsx)("path",{d:"M19.0013 3.27074L16.8648 1.13516L18 0L22 4L18 8L16.8648 6.86484L19.0013 4.72926H14V3.27074H19.0013Z",fill:l}),(0,r.jsx)("path",{d:"M13.9829 8.45686C14.4834 8.90823 15.0602 9.2765 15.6918 9.53993C15.1979 10.7194 14.1545 11.6141 12.8834 11.9017C12.8022 11.8683 12.7203 11.8358 12.6378 11.8042C13.3982 10.8786 13.8873 9.72194 13.9829 8.45686Z",fill:l}),(0,r.jsx)("path",{d:"M12 8C12 10.205 10.206 12 8 12C5.795 12 4 10.205 4 8C4 5.795 5.794 4 8 4C10.206 4 12 5.795 12 8Z",fill:l}),(0,r.jsx)("path",{d:"M0 19C0 15.467 3.29 13 8 13C12.711 13 16 15.467 16 19V20H0V19Z",fill:l}),(0,r.jsx)("path",{
d:"M20.0001 20H18.0001V19C18.0001 16.7999 17.0621 14.9067 15.5213 13.5292C18.2697 14.4355 20.0001 16.4373 20.0001 19V20Z",fill:l})]}))}var uo=n(981008);function co(e){var t=(0,f.e7)([T.default],(function(){return T.default.getId()}));return(0,ye.ZP)(t,e)===ye.xO.ON_STAGE}var so=n(171452);function fo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function po(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return fo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fo(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ho(e){var t=(0,f.e7)([T.default],(function(){return T.default.getId()})),n=(0,ye.ZP)(t,e.id),r=n===ye.xO.REQUESTED_TO_SPEAK||n===ye.xO.REQUESTED_TO_SPEAK_AND_AWAITING_USER_ACK,i=po(o.useState(r),2),a=i[0],l=i[1];o.useEffect((function(){l(r)}),[r]);return[a,function(){n===ye.xO.REQUESTED_TO_SPEAK_AND_AWAITING_USER_ACK?(0,fe.RK)(e,!0):(0,fe.Q1)(e,!a);l(!a)}]}var yo=n(423845),bo=n(639286),vo=n.n(bo);function mo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function go(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{
for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return mo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mo(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Oo(e){var t=e.channel,n=e.appContext;(0,uo.Z)(t)?(0,xt.Us)(t,n):Ve.default.disconnect()}function Eo(e,t){return e?pe.Z.Messages.AUDIENCE_LOWER_HAND:t?pe.Z.Messages.AUDIENCE_RAISE_HAND_CTA:pe.Z.Messages.AUDIENCE_RAISE_HAND_NO_PERMISSION}function jo(e){var t=e.channel,n=co(t.id),o=go(ho(t),2),i=o[0],a=o[1],l=(0,
f.e7)([R.Z],(function(){return R.Z.can(me.Plq.REQUEST_TO_SPEAK,t)}));return n?null:(0,r.jsx)(pt.d,{color:i?"white":"primaryDark",label:Eo(i,l),iconComponent:function(){return(0,r.jsx)(ue.Z,{className:i?vo().raisedHandButtonIconActive:vo().raisedHandButtonIcon})},onClick:a,className:vo().buttonSpacing,disabled:!l&&!i})}var So=o.memo((function(e){var t=e.channel,n=(0,f.e7)([M.Z],(function(){return M.Z.getVoiceChannelId()===t.id}),[t.id]);return(0,r.jsxs)("div",{className:vo().container,children:[n?(0,r.jsx)(jo,{channel:t}):null,(0,r.jsx)(Po,{channel:t})]})}));function Co(e){var t=e.onClick;return(0,r.jsx)($.Co,{size:$.Co.Sizes.MEDIUM,color:vo().primaryButtonColor,className:a()(vo().buttonSpacing,vo().buttonWithTextButton),onClick:t,children:(0,r.jsxs)("div",{className:vo().buttonWithTextInnerContainer,children:[(0,r.jsx)(le.Z,{height:24,width:24,className:vo().buttonWithTextIcon}),(0,r.jsx)(re.x,{color:"none",variant:"text-sm/medium",children:pe.Z.Messages.MODERATOR_RAISE_OWN_HAND})]})})
}function Po(e){var t=e.channel,n=e.onSelect,o=(0,y.bp)(),i=(0,Hr.o)(t.guild_id,t),l=(0,f.e7)([F.Z],(function(){return F.Z.getStageInstanceByChannel(t.id)}),[t.id]),u=(0,f.e7)([M.Z],(function(){return M.Z.getVoiceChannelId()===t.id}),[t.id]),c=(0,Kr.Z)(t).suppress,s=null!=(null==l?void 0:l.guild_scheduled_event_id),d=T.default.getId(),p=go(ho(t),1)[0],h=Tn.ZP.isModerator(d,t.id),b=(0,st.B)(t.id);return u?(h||s&&i)&&null!=l?(0,r.jsx)(te.ZP,{renderPopout:function(e){var i=e.closePopout;return(0,r.jsx)(it.Z,{children:(0,r.jsx)(wt.ZP,{navId:"exit-options","aria-label":pe.Z.Messages.SET_STATUS,onClose:i,onSelect:n,children:(0,r.jsx)(wt.sN,{id:"end-stage",color:yo.g.DANGER,action:function(){return(0,xt.Ev)(t,o)},label:pe.Z.Messages.END_GUILD_EVENT_FOR_EVERYONE,icon:no.Z})})})},align:te.ZP.Align.CENTER,position:te.ZP.Positions.TOP,animation:te.ZP.Animation.FADE,children:function(e,n){var i=e.onClick,a=n.isShown;return(0,r.jsx)(pt.d,{className:vo().buttonSpacing,
label:pe.Z.Messages.EXIT_EVENT_STAGE_OPTIONS_LABEL,color:"red",iconComponent:function(){return(0,r.jsx)(to.Z,{height:24,width:24})},onClick:function(){return Oo({channel:t,appContext:o})},onPopoutClick:i,popoutOpen:a})}}):c&&!b||p?(0,r.jsx)($.Co,{size:$.Co.Sizes.MEDIUM,color:$.Co.Colors.RED,className:a()(vo().buttonSpacing,vo().buttonWithTextButton),onClick:function(){return Oo({channel:t,appContext:o})},children:(0,r.jsxs)("div",{className:vo().buttonWithTextInnerContainer,children:[(0,r.jsx)(to.Z,{height:24,width:24,className:vo().buttonWithTextIcon}),(0,r.jsx)(re.x,{color:"none",variant:"text-sm/medium",children:pe.Z.Messages.AUDIENCE_DISCONNECT})]})}):(0,r.jsx)(pt.d,{className:vo().buttonSpacing,label:pe.Z.Messages.EXIT_EVENT_STAGE_OPTIONS_LABEL,color:"red",iconComponent:function(){return(0,r.jsx)(to.Z,{height:24,width:24})},onClick:function(){return Oo({channel:t,appContext:o})}}):(0,r.jsx)($.Co,{size:$.Co.Sizes.MEDIUM,color:$.Co.Colors.GREEN,
className:a()(vo().buttonSpacing,vo().buttonWithTextButton),onClick:function(){return function(e){(0,H.TM)(e)}(t)},children:(0,r.jsxs)("div",{className:vo().buttonWithTextInnerContainer,children:[(0,r.jsx)(eo.Z,{height:24,width:24,className:vo().buttonWithTextIcon}),(0,r.jsx)(re.x,{color:"none",variant:"text-sm/medium",children:pe.Z.Messages.STAGE_CHANNEL_JOIN})]})})}function Io(e){var t=e.onClick;return(0,r.jsx)($.Co,{size:$.Co.Sizes.MEDIUM,color:vo().primaryButtonColor,className:a()(vo().buttonSpacing,vo().buttonWithTextButton),onClick:t,children:(0,r.jsxs)("div",{className:vo().buttonWithTextInnerContainer,children:[(0,r.jsx)(lo,{height:24,width:24,className:vo().buttonWithTextIcon}),(0,r.jsx)(re.x,{color:"none",variant:"text-sm/medium",children:pe.Z.Messages.MOVE_ME_TO_AUDIENCE})]})})}var _o=o.memo((function(e){var t,n=e.channel,o=(0,Kr.Z)(n),i=o.suppress,l=o.selfMute,u=o.mute,c=i||l||u,s=(0,
st.B)(n.id),d=Z.Z.getGuild(n.getGuildId()),p=(null!==(t=null==d?void 0:d.maxStageVideoChannelUsers)&&void 0!==t?t:0)>0,h=(0,f.e7)([Pn.Z],(function(){return null!=Pn.Z.getAwaitingRemoteSessionInfo()})),y=(0,Wr.Z)(),b=y.cameraUnavailable,v=y.enabled,m=(0,zr.Z)(n),g=(0,Yr.Z)(n),O=g.limit,E=g.reachedLimit,j=(0,f.e7)([$r.default],(function(){return $r.default.getCurrentUser()})),S=(0,f.e7)([An.Z],(function(){return(0,Gr.Z)(An.Z)})),C=(0,f.e7)([M.Z],(function(){return M.Z.getVoiceChannelId()===n.id}),[n.id]);if(null==j)return null;var P=(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(te.ZP,{renderPopout:function(e){var t=e.closePopout;return(0,r.jsx)(it.Z,{children:(0,r.jsx)(kr.Z,{onClose:t})})},position:te.ZP.Positions.TOP,align:te.ZP.Align.CENTER,animation:te.ZP.Animation.FADE,children:function(e,t){var n=e.onClick,o=t.isShown;return(0,r.jsx)(Jr.C,{centerButton:!0,color:v?"white":"primaryDark",hasPermission:m,enabled:v,cameraUnavailable:b,onChange:qr.r,onCameraUnavailable:Xr.Z,
channelLimitReached:E,channelLimit:O,popoutOpen:o,onPopoutClick:n})}}),(0,r.jsx)(qr.NZ,{coloring:[qr.pv.PRIMARY_DARK,qr.UE.WHITE],channel:n,currentUser:j,exitFullScreen:function(){return null},canGoLive:S,hasPermission:m})]});return(0,r.jsxs)("div",{className:vo().container,children:[C&&(0,r.jsx)(jo,{channel:n}),C&&!i?(0,r.jsxs)("div",{className:a()(vo().avControls,vo().buttonSpacing),children:[p&&O>0&&P,(0,r.jsx)(te.ZP,{renderPopout:function(e){var t=e.closePopout;return(0,r.jsx)(it.Z,{children:(0,r.jsx)(Lr.default,{onClose:t,renderInputDevices:!0,renderOutputDevices:!0})})},align:te.ZP.Align.CENTER,position:te.ZP.Positions.TOP,animation:te.ZP.Animation.FADE,children:function(e,t){var n=e.onClick,o=t.isShown;return(0,r.jsx)(Qr.Z,{color:c?"white":"primaryDark",centerButton:!0,onPopoutClick:n,selfMute:l,serverMute:u,suppress:i,popoutOpen:o,onClick:function(){return(0,Ur.Z)(u,i)},awaitingRemote:h})}})]}):null,C&&s&&i&&(0,r.jsx)(Co,{onClick:function(){return(0,fe.RK)(n,!1)}}),C&&!i&&(0,
r.jsx)(Io,{onClick:function(){return(0,fe.yi)(n)}}),(0,r.jsx)(Po,{channel:n})]})}));function wo(e){var t=e.channel;return(0,r.jsx)("div",{className:vo().container,children:(0,r.jsx)(Po,{channel:t})})}const xo=o.memo((function(e){var t=e.channel,n=e.isOnStartStageScreen,o=co(t.id),i=(0,st.B)(t.id),a=(0,f.e7)([R.Z],(function(){return R.Z.can(Nt.yP,t)}),[t]),l=t.guild_id,u=(0,so.Z)(t.id),c=(0,f.e7)([b.Z],(function(){return null!=t?b.Z.getSelectedParticipant(t.id):null})),s=!u&&null==c;return n?(0,r.jsx)(wo,{channel:t}):o||i?(0,r.jsxs)("div",{className:vo().containerColumn,children:[(0,r.jsxs)("div",{className:vo().eventPrompts,children:[s?(0,r.jsx)(Br.Z,{guildId:l,channelId:null==t?void 0:t.id}):null,(0,r.jsx)("div",{className:vo().separator}),s&&a?(0,r.jsx)(Fr,{highlight:!0,channel:t}):null,(0,r.jsx)("div",{className:vo().separator})]}),(0,r.jsx)(_o,{channel:t})]}):(0,r.jsx)(So,{channel:t})}));var No=n(695756),To=n(143074);function Ao(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){
n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function Zo(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Ao(i,r,o,a,l,"next",e)}function l(e){Ao(i,r,o,a,l,"throw",e)}a(void 0)}))}}function Ro(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Mo(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var Do=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},
"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function Lo(e){var t=e.className,o=e.guildId,i=(0,To.Z)();return(0,r.jsx)(Vr.Z,{
className:t,icon:(0,r.jsx)(No.Z,{height:20,width:20}),color:(0,tt.Lq)(me.Ilk.BRAND_NEW_500),title:pe.Z.Messages.SCHEDULE_EVENT,description:pe.Z.Messages.SCHEDULE_EVENT_DESCRIPTION,onClick:function(){(0,D.ZD)(Zo((function(){var e,t;return Do(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(15793),n.e(42348),n.e(91147),n.e(93558),n.e(55527),n.e(38568)]).then(n.bind(n,988732))];case 1:e=i.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,Mo(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Ro(e,t,n[t])}))}return e}({},e),{guildId:o}))}]}}))})),i)}})}var ko=n(436053);function Uo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Go(e,t){
return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Uo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Uo(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ho(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=Go((0,f.e7)([Vt.Z],(function(){
var n=Vt.Z.getMutableParticipants(e),r=[],o=!0,i=!1,a=void 0;try{for(var l,u=function(){var e=l.value;if(r.length>=t)return"break";if(null!=r.find((function(t){return t.id===e.user.id})))return"continue";r.push(e.user)},c=n[Symbol.iterator]();!(o=(l=c.next()).done);o=!0){if("break"===u())break}}catch(e){i=!0;a=e}finally{try{o||null==c.return||c.return()}finally{if(i)throw a}}return[{participants:n,usersInSummary:r},Vt.Z.getParticipantsVersion(e)]}),[e,t],Ft.QF),1),r=n[0];return r}var Bo=n(910215),Vo=n.n(Bo);function Fo(e){var t=e.onClick;return(0,r.jsx)(Vr.Z,{iconContainerClassName:Vo().continueIconContainer,icon:(0,r.jsx)(Ee.Z,{className:Vo().continueIcon,height:20,width:20}),color:(0,tt.Lq)(me.Ilk.PRIMARY_DARK_700),title:pe.Z.Messages.STAGE_CONTINUE_PROMPT_TITLE,description:pe.Z.Messages.STAGE_CONTINUE_PROMPT_SUBTITLE,onClick:t})}function Wo(e){if(0===e.length)return"";if(1===e.length)return pe.Z.Messages.STAGE_AUDIENCE_WAITING_ONE.format({first:e[0].userNick})
;if(2===e.length)return pe.Z.Messages.STAGE_AUDIENCE_WAITING_TWO.format({first:e[0].userNick,second:e[1].userNick});var t=e.length-2;return pe.Z.Messages.STAGE_AUDIENCE_WAITING_MANY.format({first:e[0].userNick,second:e[1].userNick,numOthers:t})}function Yo(e){var t=e.channel,n=Ho(t.id),o=n.participants,i=n.usersInSummary;return(0,r.jsxs)("div",{className:Vo().audienceSummary,children:[(0,r.jsx)(ko.Z,{className:Vo().summaryItem,guildId:t.guild_id,users:i,size:ko.u.SIZE_16}),(0,r.jsx)(re.x,{variant:"text-sm/normal",color:"header-secondary",children:Wo(o)})]})}function zo(e){var t=e.channel,n=e.onContinueClick,o=(0,f.e7)([R.Z],(function(){return R.Z.can(Nt.yP,t)}),[t]),i=t.guild_id,a=(0,Hr.o)(i,t),l=(0,so.Z)(t.id),u=Ho(t.id).usersInSummary;return(0,r.jsxs)("div",{className:Vo().container,children:[(0,r.jsx)(je.Z,{children:(0,r.jsx)("div",{className:Vo().iconBackground,children:(0,r.jsx)(Ee.Z,{width:40,height:40,className:Vo().icon})})}),(0,r.jsxs)("div",{className:Vo().headerContainer,
children:[(0,r.jsx)(We.X,{className:Vo().title,variant:"heading-xl/medium",children:pe.Z.Messages.STAGE_START_PROMPT_TITLE_MODERATOR}),(0,r.jsx)(re.x,{className:Vo().subtitle,variant:"text-sm/normal",children:pe.Z.Messages.STAGE_START_PROMPT_SUBTITLE})]}),l?null:(0,r.jsx)(Br.Z,{guildId:i,channelId:t.id}),o?(0,r.jsx)(Fr,{className:Vo().eventPrompt,channel:t}):null,a?(0,r.jsx)(Lo,{className:Vo().eventPrompt,guildId:i}):null,(o||u.length>0)&&(0,r.jsx)("hr",{className:Vo().separator}),o?(0,r.jsx)(Fo,{onClick:n}):null,(0,r.jsx)(Yo,{channel:t})]})}var Ko=n(23816),qo=n(401844),Xo=n(932847),Qo=n(882699),Jo=n(787619),$o=n(76034),ei=n.n($o);function ti(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function ni(e){var t=e.channel,n=e.appContext,i=e.popoutOpen,a=e.popoutWindow,l=e.currentWindow,u=n===me.IlC.POPOUT,c=o.useRef(null),s=(0,f.cj)([b.Z],(function(){var e=b.Z.getMode(t.id),r=n===me.IlC.POPOUT;r&&(e=me.WtW.VIDEO)
;var o=e===me.WtW.VIDEO?b.Z.getLayout(t.id,n):me.AEg.MINIMUM;r&&o!==me.AEg.FULL_SCREEN&&(o=me.AEg.NO_CHAT);return{currentLayout:o,mode:e}}),[t,n]),d=s.currentLayout,h=s.mode,y=(0,f.e7)([M.Z],(function(){return M.Z.getVoiceChannelId()===t.id}),[t.id]);o.useEffect((function(){c.current=h}));var v=o.useRef(d),m=o.useMemo((function(){var e=null!=a&&u?a.document:document,t=l.document.getElementById("app-mount");return{currentWindow:l,currentDocument:e,rootNode:t}}),[a,u,l]),g=m.currentDocument,O=m.rootNode,j=i&&!u,S=h===me.WtW.VIDEO&&y&&!j,C=o.useCallback((function(e,r){if(r!==e){$e.Z.updateLayout(t.id,r,n);r===me.AEg.FULL_SCREEN&&t.isPrivate()&&Qo.S.dispatch(me.CkL.TEXTAREA_BLUR)}}),[n,t]),P=o.useCallback((function(e){if(null!=O&&e===me.AEg.FULL_SCREEN){C(e,v.current);(0,Jo.Pr)((function(e){v.current=e}),g)}}),[g,C,O]),I=o.useCallback((function(e){return function(){if(null!=O)if(e!==me.AEg.FULL_SCREEN){v.current=e;C(e,me.AEg.FULL_SCREEN);(0,Jo.Dj)(O)}else P(e)}}),[C,P,O])
;o.useEffect((function(){var e=function(){null!=O&&((0,Jo.rB)(O,g)||d!==me.AEg.FULL_SCREEN||I(d)())};g.addEventListener(Jo.NO,e);return function(){g.removeEventListener(Jo.NO,e)}}),[g,d,I,O]);o.useEffect((function(){Xo.default.track(me.rMx.VIDEO_LAYOUT_TOGGLED,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){ti(e,t,n[t])}))}return e}({video_layout:u?"popout":d},(0,Ko.AB)(t.id)));return function(){u&&(0,k.id)()||P(d)}}),[]);o.useEffect((function(){null!=O&&c.current===me.WtW.VIDEO&&h===me.WtW.VOICE&&(0,Jo.Pr)(O,g)}),[g,h,c,O]);o.useEffect((function(){!y&&u&&p.Z.wait((function(){return E.xv(me.KJ3.CHANNEL_CALL_POPOUT)}))}),[y,u]);return S?(0,r.jsx)(qo.Z,{themeable:!1,node:O,guestWindow:a,className:ei().rightTrayIcon,onClick:I(d)}):null}
function ri(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function oi(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function ii(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){oi(i,r,o,a,l,"next",e)}function l(e){oi(i,r,o,a,l,"throw",e)}a(void 0)}))}}function ai(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function li(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ri(e,t)
;var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ri(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ui=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1}
;case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},ci="HasBeenInStageChannel",si=function(e,t){return function(){var n=e.getGuildId();null!=n&&null!=t&&(0,S.XU)(n,t);E.hP(e)}},fi=function(){p.Z.wait((function(){return E.xv(me.KJ3.CHANNEL_CALL_POPOUT)}))},di=function(e){E.hY(me.KJ3.CHANNEL_CALL_POPOUT,e)};function pi(e){var t=e.channel,n=e.appContext,i=e.popoutOpen,a=e.popoutWindow,l=e.popoutWindowAlwaysOnTop,u=e.selectedParticipant,c=t.getGuildId(),s=(0,f.e7)([M.Z],(function(){return M.Z.getMostRecentSelectedTextChannelId(c)
}),[c]),d=T.default.getId(),p=!(0,f.e7)([b.Z],(function(){return b.Z.isFullscreenInContext(n)}))&&(!k.FB||k.FB&&G.default.supportsFeature(me.eRX.POPOUT_WINDOWS)),h=null!=u&&u.type!==Tt.fO.ACTIVITY&&u.user.id!==d,y=o.useMemo((function(){var e;return null!==(e=null==a?void 0:a.window)&&void 0!==e?e:window}),[a]),m=ni({channel:t,appContext:n,popoutOpen:i,popoutWindow:a,currentWindow:y}),g=n===me.IlC.POPOUT&&k.FB&&G.default.supportsFeature(me.eRX.POPOUT_WINDOWS);return(0,r.jsxs)(r.Fragment,{children:[h?(0,r.jsx)(x.Z,{context:(0,v.Z)(u.type),userId:u.user.id,currentWindow:y,sliderClassName:ei().volumeSlider}):null,g?(0,r.jsx)(w.Z,{className:ei().rightTrayIcon,popoutWindowAlwaysOnTop:l,onToggleStayOnTop:di}):null,p?(0,r.jsx)(_.Z,{className:ei().rightTrayIcon,popoutOpen:i,onOpenPopout:si(t,s),onClosePopout:fi}):null,m]})}function hi(e){var t=e.channel,n=(0,y.bp)(),o=(0,f.e7)([R.Z],(function(){return R.Z.can(me.Plq.CREATE_INSTANT_INVITE,t)})),i=(0,f.e7)([Z.Z],(function(){
return Z.Z.getGuild(t.guild_id)})),a=(0,f.e7)([F.Z],(function(){return F.Z.getStageInstanceByChannel(t.id)})),l=o||null!=(null==a?void 0:a.invite_code);return null!=i&&l?(0,r.jsx)(C.Z,{channel:t,appContext:n,className:ei().leftTrayIcon,analyticsLocation:me.ZY5.GUILD_CHANNEL}):null}function yi(e){var t=e.channel,n=e.toggleRequestToSpeakSidebar,i=e.showRequestToSpeakSidebar,a=e.popoutWindow,l=e.popoutWindowAlwaysOnTop,d=e.popoutOpen,p=e.textInStageEnabled,h=e.chatOpen,v=(0,y.bp)(),g=(0,f.e7)([M.Z],(function(){return M.Z.getVoiceChannelId()===t.id}),[t.id]),E=(0,f.e7)([R.Z],(function(){return R.Z.can(me.Plq.CONNECT,t)})),j=(0,B.w8)(t.id,V.pV.SPEAKER),S=(0,f.e7)([b.Z],(function(){return b.Z.getSelectedParticipant(t.id)}),[t.id]),C=d&&v!==me.IlC.POPOUT,_=li(o.useState(0),2),w=_[0],x=_[1],N=(0,W.ZP)().isOnStartStageScreen;(0,W.MV)(t);var T,Z=(0,f.e7)([A.Z],(function(){return A.Z.getToastsEnabled(t.id)}));o.useEffect((function(){p||g||!d||fi()}),[p,d,g]);if(!p&&!g&&!d){var D=(0,
O.e)(t),k=t.getGuildId();u()(null!=k,"Guild voice channel without guild id.");return(0,r.jsx)(s.l_,{to:(0,L.LY)(null!=D?D:k)})}T=N?(0,r.jsx)(zo,{channel:t,onContinueClick:function(){(0,W.Ku)(!1);g||(0,H.TM)(t)}}):g?(0,r.jsx)(Dr,{channel:t,onScroll:function(e){var t=e.target.scrollTop;(0,c.debounce)((function(){return x(t)}),1e3,{leading:!0})()}}):(0,r.jsx)(Je,{participants:j,channel:t,hasConnectPermission:E});return(0,r.jsx)(I.Z,{disableGradients:0===w&&I.e.TOP,renderBottomLeft:function(){return(0,r.jsx)(hi,{channel:t})},renderBottomCenter:function(){return g?(0,r.jsx)(xo,{channel:t,isOnStartStageScreen:N}):null},renderBottomRight:function(){return g?(0,r.jsx)(pi,{channel:t,appContext:v,popoutOpen:d,popoutWindow:a,popoutWindowAlwaysOnTop:l,selectedParticipant:S}):null},renderHeader:function(){return(0,r.jsx)(Ht,{toggleRequestToSpeakSidebar:n,showRequestToSpeakSidebar:i,channel:t})},renderChatToasts:p?function(){return!p||!Z||h||C?null:(0,r.jsx)(m.ZP,{children:(0,r.jsx)(P.Z,{
className:ei().chatToasts,channelId:t.id})})}:void 0,onActive:function(){},onPreventIdle:function(){},onAllowIdle:function(){},onForceIdle:function(){},screenMessage:C?{mainText:pe.Z.Messages.POPOUT_PLAYER_OPENED}:null,idle:!1,children:!C&&T})}function bi(e){var t=e.channel,i=li(o.useState(!1),2),l=i[0],u=i[1],c=o.useCallback((function(){u(!l)}),[l,u]),s=(0,f.cj)([j.Z],(function(){return{popoutWindow:j.Z.getWindow(me.KJ3.CHANNEL_CALL_POPOUT),popoutWindowAlwaysOnTop:j.Z.getIsAlwaysOnTop(me.KJ3.CHANNEL_CALL_POPOUT)}})),p=s.popoutWindow,v=s.popoutWindowAlwaysOnTop,O=null!=p&&!p.closed,E=(0,y.bp)(),S=(0,f.e7)([b.Z],(function(){return b.Z.getChatOpen(t.id)}),[t.id]),C=(0,f.e7)([Z.Z],(function(){return Z.Z.getGuild(t.guild_id)}),[t.guild_id]),P=(0,N.Vy)(t.guild_id);o.useEffect((function(){if(null==d.Z.get(ci)){(0,D.ZD)(ii((function(){var e,t;return ui(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(55644)]).then(n.bind(n,555644))];case 1:e=o.sent(),t=e.default
;return[2,function(e){return(0,r.jsx)(t,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){ai(e,t,n[t])}))}return e}({},e))}]}}))})));d.Z.set(ci,Date.now())}}),[]);var I,_=(0,h.Z)(),w=_.width,x=void 0===w?0:w,T=_.ref,A=x-550;return(0,r.jsxs)(m.B2,{children:[(0,r.jsxs)("div",{className:ei().container,ref:T,children:[(0,r.jsx)("div",{className:a()(ei().callContainer,(0,U.Q)(me.BRd.DARK),(I={},ai(I,ei().sidebarVisible,l),ai(I,ei().sidebarOrChatVisible,l||P&&S),I)),children:(0,r.jsx)(yi,{channel:t,toggleRequestToSpeakSidebar:c,showRequestToSpeakSidebar:l,popoutWindow:p,popoutWindowAlwaysOnTop:v,popoutOpen:O,textInStageEnabled:P,chatOpen:S})}),l?(0,r.jsx)(Be,{channel:t,toggleRequestToSpeakSidebar:c,chatOpen:P&&S}):null,(0,r.jsx)("div",{
className:ei().channelChatWrapper,children:P&&S&&(!O||O&&E===me.IlC.POPOUT)&&(0,r.jsx)(g.Z,{channel:t,guild:C,maxWidth:A})})]}),(0,r.jsx)(m.H_,{})]})}},772669:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(785893),o=(n(667294),n(519073)),i=n(440392),a=n.n(i);const l=function(e){var t=e.size;return(0,r.jsx)("div",{className:a().unownedStickerLockContainer,style:{width:t,height:t},children:(0,r.jsx)(o.Z,{width:12,height:12,className:a().unownedStickerLockIcon})})}},735084:(e,t,n)=>{"use strict";n.d(t,{Z:()=>M});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),l=n(496486),u=n(829207),c=n(281081),s=n(842592),f=n(747465),d=n(629590),p=n(685351),h=n(542448),y=n(897576),b=n(932847),v=n(661311),m=n(893264),g=n(673973),O=n(493266),E=n(772669),j=n(461061),S=n(959797),C=n(692933),P=n.n(C);function I(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function _(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){
var i=e.apply(t,n);function a(e){I(i,r,o,a,l,"next",e)}function l(e){I(i,r,o,a,l,"throw",e)}a(void 0)}))}}function w(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){w(e,t,n[t])}))}return e}function N(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))
;return e}function T(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}var A=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue
;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},Z=(0,u.Mg)(P().stickerPickerPreviewDimensions),R=(0,u.Mg)(P().stickerPickerPreviewPadding);const M=o.memo((function(e){
var t=e.isDisplayingIndividualStickers,i=void 0!==t&&t,u=e.preferAnimation,C=void 0===u||u,I=e.getStickerItemProps,M=e.getStickerRowProps,D=e.gutterWidth,L=e.inspectedStickerPosition,k=e.isScrolling,U=e.isUsingKeyboardNavigation,G=e.onInspect,H=e.onSelect,B=e.rowIndex,V=e.stickerClassName,F=e.stickerDescriptors,W=e.stickerPadding,Y=void 0===W?R:W,z=e.stickerSize,K=void 0===z?Z:z,q=e.ownedStickerPacks,X=e.enlargeOnInteraction,Q=void 0!==X&&X,J=e.channel,$=e.currentUser,ee=e.checkSendability,te=void 0===ee||ee,ne=(0,s.O)().location,re=K+2*Y,oe=o.useMemo((function(){return{gridColumnGap:D,gridTemplateColumns:"repeat(auto-fill, ".concat(re,"px)"),height:re,paddingRight:i?void 0:re}}),[i,D,re]),ie=o.useMemo((function(){return{width:K,height:K,padding:Y}}),[Y,K]);return(0,r.jsx)("div",N(x({className:P().row,style:oe},null==M?void 0:M(B)),{children:F.map((function(e){
var t,u=e.visibleRowIndex===(null==L?void 0:L.rowIndex)&&e.columnIndex===(null==L?void 0:L.columnIndex),s=e.type===m.al.STICKER&&Q&&u,Z=(0,l.throttle)((function(){!0===(null==k?void 0:k.current)||!0===(null==U?void 0:U.current)||u||null==G||G(e)}),250),R=null!==(t=null==I?void 0:I(e.columnIndex,B))&&void 0!==t?t:{},M=R.ref,D=R.tabIndex,F=R.onFocus,W=T(R,["ref","tabIndex","onFocus"]);switch(e.type){case m.al.CREATE_STICKER:return(0,r.jsx)("div",N(x({},W),{children:(0,r.jsxs)(d.Z,{"aria-label":e.name,className:a()(P().createSticker,V,w({},P().createInspected,u)),innerRef:M,tabIndex:D,onFocus:null!=F?F:Z,onMouseMove:Z,onClick:function(){if(e.type===m.al.CREATE_STICKER){b.default.track(j.rMx.OPEN_MODAL,{type:j.jXE.CREATE_STICKER_MODAL,location:ne});(0,y.ZD)(_((function(){var t,o;return A(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(87562),n.e(52643)]).then(n.bind(n,687562))];case 1:t=i.sent(),o=t.default;return[2,function(t){return(0,r.jsx)(o,x({
guildId:e.guild_id},t))}]}}))})))}},style:ie,children:[!Q&&(0,r.jsx)("div",{className:P().inspectedIndicator}),(0,r.jsx)("div",{className:P().iconWrapper,children:(0,r.jsx)(h.Z,{className:P().icon})}),(0,r.jsx)(p.x,{color:"interactive-active",variant:"text-xs/normal",children:S.Z.Messages.STICKER_PICKER_CREATE_STICKER})]})}),e.guild_id);case m.al.STICKER:var Y,z=i&&null!=q&&(0,g.jl)(e.sticker)&&!q.has(e.sticker.pack_id);return(0,o.createElement)("div",N(x({},W),{key:e.sticker.id}),(0,r.jsxs)(d.Z,{className:a()(P().sticker,V,w({},P().stickerInspected,u)),innerRef:M,tabIndex:D,onFocus:null!=F?F:Z,onMouseMove:Z,onClick:function(t){!0!==(null==k?void 0:k.current)&&!0!==(null==U?void 0:U.current)&&(null==H||H(e,t))},onContextMenu:function(e){(0,c.jW)(e,_((function(){var e,t;return A(this,(function(o){switch(o.label){case 0:return[4,n.e(90794).then(n.bind(n,690794))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,x({},e))}]}}))})))},style:ie,"data-type":"sticker",
"data-id":e.sticker.id,children:[(0,r.jsx)(f.Z,{children:(0,O.Co)(e.sticker)}),(0,r.jsxs)("div",{"aria-hidden":!0,children:[!Q&&(0,r.jsx)("div",{className:P().inspectedIndicator}),(0,r.jsx)(O.ZP,{className:a()(P().stickerNode,(Y={},w(Y,P().stickerNodeDimmed,Q&&!u&&null!=L&&-1!==L.rowIndex&&-1!==L.columnIndex),w(Y,P().stickerNodeHidden,s),w(Y,P().stickerUnsendable,te&&!(0,v.kl)(e.sticker,$,J)),Y)),disableAnimation:!u&&!C,enlargeOnInteraction:Q,isInteracting:u,maskAsset:u,sticker:e.sticker,size:K}),z?(0,r.jsx)(E.Z,{size:20}):null]})]}))}}))}))}))},75720:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o,Q:()=>i});var r=(0,n(553494).B)({kind:"user",id:"2022-07_system_dm_safety_onboarding",label:"System DM Safety Onboarding",defaultConfig:{systemDMRedesignEnabled:!1},treatments:[{id:1,label:"Enabled, v1 copy",config:{systemDMRedesignEnabled:!0}},{id:2,label:"Enabled, v2 copy",config:{systemDMRedesignEnabled:!0}}]});const o=r;function i(){return r.getCurrentConfig({}).systemDMRedesignEnabled}},
107025:(e,t,n)=>{"use strict";n.d(t,{Z:()=>T});var r=n(496486),o=n.n(r),i=n(277563),a=n(791462),l=n(173436),u=n(356004),c=n(212218),s=n(835279),f=n(962564),d=n(979662),p=n(859023),h=n(90816),y=n(108580),b=n(461061);function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e){g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return g(e)}function O(e,t){return!t||"object"!==S(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function E(e,t){E=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return E(e,t)}function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]
;if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var S=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{
Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var o=g(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return O(this,n)}}var P={},I=function(){function e(t,n,r){m(this,e);this.guildId=t;this.parentId=n;this.threadId=r;this.version=0;this.sections={};this.allUserIds=new Set}var t=e.prototype;t.rebuild=function(e){var t=this;this.version++;this.sections={};null!=e&&(this.allUserIds=new Set(e));var n=u.Z.getChannel(this.parentId);o()(Array.from(this.allUserIds)).map((function(e){var r=j(t.calculateNewState(e,n),3);return{userId:e,sectionId:r[0],displayName:r[1],canViewChannel:r[2]}})).sort((function(e,t){return i.default.compare(e.userId,t.userId)})).sortBy((function(e){return e.displayName})).forEach((function(e){t.addUser(e.userId,e.sectionId,e.displayName,e.canViewChannel,!0)}))};t.updateMultipleUserIds=function(e,t){var n=this
;if(null!=t&&this.guildId!==t)return!1;if(0===(e=e.filter((function(e){return n.allUserIds.has(e)}))).length)return!1;e.length>50?this.rebuild():e.forEach((function(e){return n.updateUserId(e)}));return!0};t.updateUserId=function(e){if(!this.allUserIds.has(e))return!1;var t=j(this.findOldState(e),3),n=t[0],r=t[1],o=t[2],i=j(this.calculateNewState(e,u.Z.getChannel(this.parentId)),3),a=i[0],l=i[1],c=i[2];if(n===a&&r===l&&o===c)return!1;this.removeUserId(e,n);this.addUser(e,a,l,c);return!0};t.addUserId=function(e){var t=j(this.calculateNewState(e,u.Z.getChannel(this.parentId)),3),n=t[0],r=t[1],o=t[2];this.addUser(e,n,r,o)};t.removeUserId=function(e,t){this.allUserIds.delete(e);if(null!=t&&this.removeUserIdFromSection(e,t))return!0;for(var n in this.sections)if(this.removeUserIdFromSection(e,n))return!0;return!1};t.addUser=function(e,t,n,r,o){this.allUserIds.add(e);var i=p.default.getUser(e);if(null!=i&&""!==i.username){t in this.sections||(this.sections[t]={sectionId:t,usersById:{},
userIds:[]});var a=this.sections[t];a.usersById[e]={userId:e,displayName:n,canViewChannel:r};if(o)a.userIds.push(e);else{var l=this.findUserIdSortedPosition(a,e,n);a.userIds.splice(l,0,e)}this.version++}};t.findUserIdSortedPosition=function(e,t,n){for(var r=e.userIds,o=e.usersById,i=0;i<r.length;i++){var a=r[i],l=o[a].displayName;if(l===n){if(t<a)return i}else if(null==l){if(null!=n)return i}else if(null!=n&&n<l)return i}return r.length};t.removeUserIdFromSection=function(e,t){var n=this.sections[t];if(null==t)return!1;if(e in n.usersById){delete n.usersById[e];n.userIds=n.userIds.filter((function(t){return t!==e}));this.version++;return!0}return!1};t.findOldState=function(e){for(var t in this.sections){var n=this.sections[t];if(e in n.usersById){var r=n.usersById[e];return[t,r.displayName,r.canViewChannel]}}return[void 0,void 0,!1]};t.calculateNewState=function(e,t){
var n,r,o=c.ZP.getMember(this.guildId,e),i=p.default.getUser(e),a=p.default.getCurrentUser(),l=(null==i?void 0:i.id)===(null==a?void 0:a.id)?d.Z.getStatus():f.Z.getStatus(e,this.guildId),u=null!=i&&null!=t&&y.ZP.can({permission:b.Plq.VIEW_CHANNEL,user:i,context:t}),s=l!==b.Skl.OFFLINE&&l!==b.Skl.INVISIBLE&&l!==b.Skl.UNKNOWN?null!==(n=null==o?void 0:o.hoistRoleId)&&void 0!==n?n:"online":"offline",h=null!==(r=null==o?void 0:o.nick)&&void 0!==r?r:null==i?void 0:i.username;return[s,null==h?void 0:h.toLowerCase(),u]};return e}();function _(e){return w(e.user.id)}function w(e){if(null==e)return!1;var t=!1;for(var n in P)P[n].updateUserId(e)&&(t=!0);return t}function x(e){var t=e.guildId,n=!1;for(var r in P)if(P[r].guildId===t){P[r].rebuild();n=!0}return n}var N=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}})
;t&&E(e,t)}(n,e);var t=C(n);function n(){m(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(){this.waitFor(u.Z,c.ZP,s.Z,f.Z,d.Z,p.default);this.syncWith([s.Z],(function(){var e=s.Z.getSubscribedThreadIds(),t=!1;for(var n in P)if(!e.has(n)){delete P[n];t=!0}return t}));this.syncWith([d.Z],(function(){var e;return w(null===(e=p.default.getCurrentUser())||void 0===e?void 0:e.id)}))};r.getMemberListVersion=function(e){var t;return null===(t=P[e])||void 0===t?void 0:t.version};r.getMemberListSections=function(e){var t;return null===(t=P[e])||void 0===t?void 0:t.sections};r.canUserViewChannel=function(e,t,n){var r,o=P[e];if(null==o)return!1;var i,a=null===(r=o.sections[t])||void 0===r?void 0:r.usersById[n];return null!==(i=null==a?void 0:a.canViewChannel)&&void 0!==i&&i};r.__getLocalVars=function(){return{memberLists:P}};return n}(a.ZP.Store);N.displayName="ThreadMemberListStore";const T=new N(l.Z,{CONNECTION_OPEN:function(){P={}},
THREAD_MEMBERS_UPDATE:function(e){if(!(e.id in P))return!1;var t,n;null===(t=e.addedMembers)||void 0===t||t.forEach((function(t){var n=t.userId;return P[e.id].addUserId(n)}));null===(n=e.removedMemberIds)||void 0===n||n.forEach((function(t){return P[e.id].removeUserId(t)}))},THREAD_UPDATE:function(e){var t,n=e.channel;if(!(n.id in P)||!0!==(null===(t=n.threadMetadata)||void 0===t?void 0:t.archived))return!1;delete P[n.id]},THREAD_DELETE:function(e){var t=e.channel;if(!(t.id in P))return!1;delete P[t.id]},CHANNEL_UPDATES:function(e){var t=e.updates,n=new Set(t.map((function(e){return e.channel.id}))),r=!1;for(var o in P)if(n.has(P[o].parentId)){P[o].rebuild();r=!0}return r},THREAD_MEMBER_LIST_UPDATE:function(e){var t=e.threadId,n=e.guildId,r=e.members,o=u.Z.getChannel(t),i=null==o?void 0:o.parent_id;if(null!=i){P[t]=new I(n,i,t);P[t].rebuild(r.map((function(e){return e.user_id})))}},USER_UPDATE:_,PRESENCE_UPDATES:function(e){return e.updates.map((function(e){return w(e.user.id)
})).some((function(e){return e}))},GUILD_MEMBER_ADD:_,GUILD_MEMBER_UPDATE:_,GUILD_MEMBER_REMOVE:_,PRESENCES_REPLACE:function(e){var t=e.presences,n=o()(t).map((function(e){var t;return null===(t=e.user)||void 0===t?void 0:t.id})).filter(h.lm).uniq().value(),r=!1;for(var i in P)P[i].updateMultipleUserIds(n)&&(r=!0);return r},GUILD_MEMBERS_CHUNK:function(e){var t=e.guildId,n=e.members.map((function(e){return e.user.id})),r=!1;for(var o in P)P[o].updateMultipleUserIds(n,t)&&(r=!0);return r},GUILD_ROLE_UPDATE:x,GUILD_ROLE_DELETE:x,PASSIVE_UPDATE_V1:function(e){var t;return null===(t=e.members)||void 0===t?void 0:t.reduce((function(e,t){return w(t.user.id)||e}),!1)}})},578186:(e,t,n)=>{"use strict";n.d(t,{Z:()=>j});var r=n(785893),o=n(667294),i=n(761434),a=n(946596),l=n(680977),u=n(905567),c=n(882699),s=n(527815),f=n(418880),d=n(504003),p=n(461061),h=n(959797),y=n(353121),b=n.n(y);function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}
function m(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){m(e,t,n[t])}))}return e}function O(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){
var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e){var t=e.channel,n=(0,s.B)(t),y=E(o.useState(!1),2),v=y[0],m=y[1];o.useEffect((function(){var e=function(){return m(!0)};c.S.subscribe(p.CkL.OPEN_THREAD_NOTIFICATION_SETTINGS,e);return function(){
c.S.unsubscribe(p.CkL.OPEN_THREAD_NOTIFICATION_SETTINGS,e)}}),[]);var j=h.Z.Messages.NOTIFICATION_SETTINGS;return(0,r.jsx)(i.ZP,{shouldShow:v,animation:i.ZP.Animation.NONE,position:i.ZP.Positions.BOTTOM,align:i.ZP.Align.RIGHT,autoInvert:!1,onRequestClose:function(){return m(!1)},renderPopout:function(e){return(0,r.jsx)(f.Z,O(g({},e),{channel:t,navId:"thread-context",label:h.Z.Messages.THREAD_ACTIONS_MENU_LABEL}))},children:function(e,t){var o=t.isShown;return(0,r.jsx)(u.ZP.Icon,O(g({},e),{onClick:function(){return m((function(e){return!e}))},tooltip:o?null:j,icon:n===d.iN.NO_MESSAGES?l.Z:a.Z,foreground:n===d.iN.NO_MESSAGES?b().strikethrough:null,"aria-label":j,selected:o}))}})}},139832:(e,t,n)=>{"use strict";n.d(t,{Z:()=>M})
;var r=n(785893),o=n(667294),i=n(850202),a=n(539404),l=n(150680),u=n(555448),c=n(532835),s=n(592587),f=n(413198),d=n(677893),p=n(366295),h=n(41225),y=n(409726),b=n(186121),v=n(672549),m=n(761434),g=n(719455),O=n(895917),E=n(557328),j=n(905567),S=n(882699),C=n(578186),P=n(665357),I=n(461061),_=n(959797);function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function x(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){x(e,t,n[t])}))}return e}function T(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){
var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z(e){var t=e.channel,n=function(){l((function(e){return!e}))},i=A(o.useState(!1),2),a=i[0],l=i[1],u=_.Z.Messages.MORE;return(0,r.jsx)(m.ZP,{shouldShow:a,animation:m.ZP.Animation.NONE,position:m.ZP.Positions.BOTTOM,align:m.ZP.Align.RIGHT,autoInvert:!1,onRequestClose:function(){return l(!1)},renderPopout:function(e){return(0,r.jsx)(R,T(N({},e),{channel:t}))},children:function(e,t){var o=t.isShown;return(0,r.jsx)(j.ZP.Icon,T(N({},e),{onClick:n,tooltip:o?null:u,icon:E.Z,"aria-label":u,selected:o}))}})}function R(e){var t=e.channel,n=e.closePopout,o=e.onSelect,y=function(){(0,v.Kh)(t.id)},m=(0,l.Z)(t,"Sidebar Overflow"),g=(0,u.Z)(t),E=(0,f.Z)(t),j=(0,d.Z)(t),C=(0,i.Z)(t),P=(0,s.Z)(t.id),w=(0,c.Z)(t),x=(0,a.Z)(t),N=(0,
h.Z)(t.id),T=(0,p.Z)(t);return(0,r.jsxs)(b.ZP,{navId:"thread-context",onClose:n,"aria-label":_.Z.Messages.THREAD_ACTIONS_MENU_LABEL,onSelect:o,children:[(0,r.jsxs)(b.kS,{children:[m,(0,r.jsx)(b.sN,{id:"open",label:_.Z.Messages.OPEN_IN_FULL_VIEW,action:y})]}),(0,r.jsxs)(b.kS,{children:[E,j]}),(0,r.jsxs)(b.kS,{children:[w,g,P]}),(0,r.jsxs)(b.kS,{children:[(0,r.jsx)(b.sN,{id:"search",label:_.Z.Messages.SEARCH,icon:O.Z,action:function(){y();setTimeout((function(){S.S.dispatch(I.CkL.FOCUS_SEARCH,{prefillCurrentChannel:!1})}),2e3)}}),(0,r.jsx)(b.sN,{id:"pins",label:_.Z.Messages.PINS,icon:O.Z,action:function(){y();S.S.dispatch(I.CkL.TOGGLE_CHANNEL_PINS)}})]}),(0,r.jsxs)(b.kS,{children:[T,C,x]}),(0,r.jsx)(b.kS,{children:N})]})}function M(e){var t=e.channel,n=e.baseChannelId;return(0,r.jsxs)(r.Fragment,{children:[t.isForumPost()?null:(0,r.jsx)(C.Z,{channel:t}),(0,r.jsx)(Z,{channel:t}),(0,r.jsx)(j.ZP.Icon,{icon:g.Z,tooltip:_.Z.Messages.CLOSE,onClick:function(){return(0,P.vN)((0,
y.e)(t),null!=n?n:t.parent_id)}})]})}},329480:(e,t,n)=>{"use strict";n.d(t,{Z:()=>x});var r=n(785893),o=n(667294),i=n(791462),a=n(281081),l=n(455591),u=n(29189),c=n(23816),s=n(53211),f=n(691869),d=n(772235),p=n(672549),h=n(356004),y=n(402124),b=n(653772),v=n(905567),m=n(139832),g=n(461061),O=n(959797),E=n(974290),j=n.n(E);function S(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function C(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){S(i,r,o,a,l,"next",e)}function l(e){S(i,r,o,a,l,"throw",e)}a(void 0)}))}}function P(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){
return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){P(e,t,n[t])}))}return e}function _(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var w=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),
0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function x(e){var t=e.channelId,E=e.baseChannelId,S=e.channelViewSource,P=void 0===S?"Split View":S,x=(0,i.e7)([h.Z],(function(){return h.Z.getChannel(t)})),N=(0,i.e7)([b.Z],(function(){return b.Z.getGuild(null==x?void 0:x.getGuildId())})),T=(0,s.Z)(x),A=o.useRef(!1);o.useEffect((function(){if(null!=x&&!A.current){A.current=!0;var e=(0,
c.KG)(h.Z.getChannel(x.id),!0);(0,c.yw)(g.rMx.CHANNEL_OPENED,_(I({},e),{channel_id:x.id,guild_id:x.guild_id,parent_id:x.parent_id,channel_view:P}))}}),[x,P]);if(null==x||null==N)return null;var Z=(0,r.jsx)(m.Z,{channel:x,baseChannelId:E});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(u.Z,{channel:x,draftType:y.d.ChannelMessage}),(0,r.jsx)(v.ZP,{toolbar:Z,"aria-label":O.Z.Messages.THREAD_HEADER_BAR_A11Y_LABEL,children:(0,d.ud)({channel:x,channelName:T,guild:N,inSidebar:!0,handleContextMenu:function(e){(0,a.jW)(e,C((function(){var e,t;return w(this,(function(o){switch(o.label){case 0:return[4,n.e(98412).then(n.bind(n,669102))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,_(I({},e),{channel:x}))}]}}))})))},handleClick:function(){null!=x&&(0,p.Kh)(x.id)}})}),(0,r.jsx)("div",{className:j().chat,children:(0,r.jsx)(l.Z,{channel:x,guild:N,chatInputType:f.I.SIDEBAR},t)})]})}},159091:(e,t,n)=>{"use strict";n.d(t,{Z:()=>b,r:()=>v})
;var r=n(667294),o=n(948861),i=n(992497),a=n(529245),l=n(682964),u=n(25765),c=n(318615),s=n(905286),f=n(640753),d=n(402124),p=n(635950),h=n(461061),y=n(959797);function b(e){var t=e.parentChannel,n=e.parentMessageId,o=e.threadSettings,i=e.privateThreadMode,l=e.location,u=e.onThreadCreated,c=e.useDefaultThreadName,s=r.useCallback((function(e,t,n,r){a.Z.uploadFiles({channelId:e.id,uploads:t,draftType:d.d.FirstThreadMessage,options:{stickerIds:r},parsedMessage:f.ZP.parse(e,n)})}),[]);return(0,p.JA)({parentChannel:t,parentMessageId:n,threadSettings:o,privateThreadMode:i,location:l,onThreadCreated:u,useDefaultThreadName:c,uploadHandler:s})}function v(e){var t=e.parentChannel,n=e.guild,r=(0,s.Hr)((function(e){return{name:e.name,appliedTags:e.appliedTags}}),o.Z),a=r.name,f=r.appliedTags;return(0,p.Wj)({parentChannel:t,name:a,appliedTags:f,upload:function(e,t,r){return new Promise((function(o,a){var s,f=(null===(s=l.Z.getCurrentConfig({}))||void 0===s?void 0:s.enabled)?new u.Z(e):new c.t(e)
;f.on("error",(function(e,t,r){t!==h.evJ.EXPLICIT_CONTENT||null==n?a({body:r}):i.Z.show({title:y.Z.Messages.UPLOAD_AREA_UPLOAD_FAILED_TITLE,body:y.Z.Messages.BOT_GUILD_EXPLICIT_CONTENT.format({name:n.toString()})})}));f.on("complete",(function(e,t){o({body:t})}));f.uploadFiles(r,t,"message.attachments")}))}})}},875673:(e,t,n)=>{"use strict";n.d(t,{Z:()=>S});var r=n(785893),o=n(667294),i=n(973935),a=n(388721),l=n(791462),u=n(605644),c=n(426217),s=n(796080),f=n(658826),d=n(525709);function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function y(e){y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return y(e)}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){h(e,t,n[t])}))}return e}function v(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function m(e,t){return!t||"object"!==O(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e,t){g=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return g(e,t)}var O=function(e){
return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var o=y(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m(this,n)}}var j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&g(e,t)}(n,e);var t=E(n);function n(){p(this,n);return t.apply(this,arguments)}var l=n.prototype;l.componentDidMount=function(){var e=this.props,t=e.visible;null==e.inlineSpecs&&this.show(t)};l.componentWillUnmount=function(){
null==this.props.inlineSpecs&&this.show(!1)};l.componentDidUpdate=function(e){var t=e.position,n=e.offsetX,r=e.offsetY,o=e.tutorialId,i=e.visible,a=e.windowSize;o!==this.props.tutorialId?u.Z.hide(o):i===this.props.visible&&t===this.props.position&&n===this.props.offsetX&&r===this.props.offsetY&&a===this.props.windowSize||this.show(this.props.visible)};l.show=function(e){var t=this.props,n=t.tutorialId,r=t.position,o=t.offsetX,l=t.offsetY,c=t.visible,s=t.inlineSpecs,f=t.autoInvert;if(e&&null==s){var d=(0,i.findDOMNode)(this);if(!(0,a.k)(d))return;var p=d.getBoundingClientRect(),h=p.top,y=p.left,b=p.right,v=p.bottom;u.Z.show(n,{position:r,targetWidth:b-y,targetHeight:v-h,autoInvert:f,origin:{x:y,y:h},offset:{x:o,y:l}})}else c&&u.Z.hide(n)};l.render=function(){var e=this.props,t=e.inlineSpecs,n=e.tutorialId,i=e.children,a=e.visible,l=e.windowFocused,u=e.position,c=e.autoInvert,s=d.Z.getData()[n];return null!=t&&null!=s?(0,r.jsxs)(r.Fragment,{children:[i,a&&(0,r.jsx)(f.V,b({autoInvert:c,
position:u,tutorialId:n,tutorialDefinition:s,focused:l},t))]}):o.Children.only(i)};return n}(o.Component);j.defaultProps={position:s.q_.TOP,offsetX:0,offsetY:0,autoInvert:!0};function S(e){var t=e.tutorialId,n=(0,l.e7)([d.Z],(function(){return d.Z.shouldShow(t)}),[t]),o=(0,l.e7)([c.Z],(function(){return c.Z.isFocused()})),i=(0,l.e7)([c.Z],(function(){return c.Z.windowSize()}),[]);return(0,r.jsx)(j,v(b({},e),{visible:n,windowFocused:o,windowSize:i}))}},658826:(e,t,n)=>{"use strict";n.d(t,{V:()=>se,Z:()=>fe});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),l=n(441143),u=n.n(l),c=n(973935),s=n(388721),f=n(791462),d=n(605644),p=n(212033),h=n(426217),y=n(796080),b=n(629590),v=n(44562),m=n(741215),g=n.n(m),O=n(949191),E=n.n(O),j=n(305257),S=n.n(j);function C(){return(0,r.jsx)("div",{className:g().container,children:(0,r.jsxs)("svg",{width:"224",height:"148",viewBox:"0 0 224 148",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{
d:"M0.5 33.5H223.5V140C223.5 144.142 220.142 147.5 216 147.5H8C3.85786 147.5 0.5 144.142 0.5 140V33.5Z",fill:"#F2F3F4",stroke:"#E3E5E8"}),(0,r.jsx)("circle",{cx:"28",cy:"120",r:"16",fill:"url(#tutorial-media-channels-image1)"}),(0,r.jsx)("path",{
d:"M62.104 116L61.468 107.72H59.488L57.4 113.96L55.3 107.72H53.284L52.648 116H54.076L54.496 109.892L56.584 116.024H58L60.076 109.892L60.52 116H62.104ZM65.7704 111.08C66.4664 111.08 66.8264 111.584 66.9224 112.484H64.6064C64.7144 111.548 65.1944 111.08 65.7704 111.08ZM68.3144 115.412L68.1464 114.284C67.5104 114.728 66.8984 115.004 66.1544 115.004C65.2664 115.004 64.6544 114.512 64.5944 113.384H68.3144C68.3144 113.3 68.3264 113.156 68.3264 113.036C68.3264 111.392 67.5464 110.084 65.8064 110.084C64.2944 110.084 63.1664 111.224 63.1664 113.108C63.1664 115.196 64.3784 116.12 65.9984 116.12C66.9344 116.12 67.6904 115.844 68.3144 115.412ZM72.6338 112.088C72.6338 112.724 72.2498 113.192 71.6138 113.192C70.9898 113.192 70.6058 112.736 70.6058 112.136C70.6058 111.5 70.9778 111.008 71.6138 111.008C72.2258 111.008 72.6338 111.476 72.6338 112.088ZM74.6858 116.24C74.6858 115.352 73.9418 114.98 72.7538 114.812L72.0098 114.74C71.1098 114.608 70.9298 114.56 70.9298 114.368C70.9298 114.272 71.0258 114.164 71.1698 114.056C71.3138 114.08 71.4698 114.092 71.6378 114.092C72.8858 114.092 73.9538 113.348 73.9538 112.1C73.9538 111.836 73.9058 111.572 73.7978 111.344L74.8538 111.272L74.6618 110.12L73.2458 110.624C72.8258 110.276 72.2738 110.084 71.6018 110.084C70.3058 110.084 69.2738 110.864 69.2738 112.136C69.2738 112.904 69.6818 113.504 70.3658 113.828C69.8858 114.116 69.6338 114.428 69.6338 114.752C69.6338 114.98 69.7418 115.196 69.9698 115.376C69.2498 115.784 68.8778 116.204 68.8778 116.744C68.8778 117.704 70.0658 118.184 71.6378 118.184C73.3178 118.184 74.6858 117.488 74.6858 116.24ZM71.7338 117.332C70.6418 117.332 70.1258 117.02 70.1258 116.588C70.1258 116.288 70.3178 116.012 70.7378 115.712C71.0258 115.772 71.2058 115.808 71.6018 115.856L72.3818 115.952C73.1018 116.06 73.3538 116.24 73.3538 116.552C73.3538 116.984 72.7658 117.332 71.7338 117.332ZM78.8219 114.404C78.4259 114.788 77.9579 115.028 77.4659 115.028C77.0219 115.028 76.7579 114.776 76.7579 114.356C76.7579 113.804 77.1539 113.312 78.8219 113.108V114.404ZM80.2619 116V112.028C80.2619 110.636 79.5179 110.084 78.0179 110.084C77.0939 110.084 76.3859 110.288 75.7139 110.552L75.8939 111.704C76.5179 111.428 77.1539 111.236 77.8259 111.236C78.4619 111.236 78.8219 111.476 78.8219 112.1V112.268C76.4819 112.496 75.3299 113.108 75.3299 114.512C75.3299 115.52 75.9899 116.12 76.9739 116.12C77.8379 116.12 78.4379 115.736 78.9059 115.244L79.0259 116H80.2619ZM86.633 116V111.824C86.633 110.744 86.057 110.084 84.977 110.084C84.197 110.084 83.585 110.504 83.045 111.02L82.913 110.204H81.689V116H83.129V112.088C83.549 111.644 84.005 111.356 84.449 111.356C84.977 111.356 85.193 111.704 85.193 112.208V116H86.633Z",
fill:"#060607"}),(0,r.jsx)("path",{
d:"M62.02 132L61.372 123.72H59.992L57.412 130.512L54.832 123.72H53.44L52.78 132H53.836L54.34 125.316L56.932 132.036H57.832L60.424 125.316L60.94 132H62.02ZM65.8287 126.996C66.6567 126.996 67.0647 127.524 67.1967 128.448H64.4367C64.6047 127.476 65.1687 126.996 65.8287 126.996ZM68.2647 131.352L68.1087 130.392C67.4847 130.884 66.8847 131.208 66.0567 131.208C65.0607 131.208 64.4367 130.584 64.3887 129.252H68.2767V129.024C68.2767 127.44 67.5087 126.156 65.8407 126.156C64.4007 126.156 63.3207 127.284 63.3207 129.12C63.3207 131.22 64.4847 132.12 65.9727 132.12C66.9207 132.12 67.6527 131.832 68.2647 131.352ZM71.073 123.72H69.789L70.077 129.54L70.773 129.384L71.073 123.72ZM71.025 132V130.572H69.825V132H71.025ZM84.7192 132L84.0712 123.72H82.6912L80.1112 130.512L77.5312 123.72H76.1392L75.4792 132H76.5352L77.0392 125.316L79.6312 132.036H80.5312L83.1232 125.316L83.6392 132H84.7192ZM89.6079 130.428C89.1279 130.92 88.5279 131.232 87.9039 131.232C87.3639 131.232 87.0519 130.932 87.0519 130.464C87.0519 129.876 87.4959 129.3 89.6079 129.096V130.428ZM90.6759 132V127.992C90.6759 126.72 90.0039 126.156 88.6119 126.156C87.7239 126.156 87.0759 126.36 86.3919 126.636L86.5359 127.56C87.1599 127.284 87.8199 127.068 88.5159 127.068C89.1759 127.068 89.6079 127.32 89.6079 128.04V128.28C87.2199 128.532 85.9959 129.096 85.9959 130.524C85.9959 131.496 86.6439 132.12 87.6759 132.12C88.6119 132.12 89.2359 131.7 89.6919 131.232L89.8119 132H90.6759ZM92.6347 134.184C93.4747 134.184 94.0987 133.872 94.5667 132.6L96.9067 126.276H95.7907L94.2907 130.728L92.7547 126.192L91.6747 126.36L93.7627 132.024L93.6187 132.408C93.3907 133.02 93.0667 133.248 92.5867 133.248C92.4187 133.248 92.2027 133.212 92.0227 133.164L92.1787 134.136C92.2867 134.16 92.4067 134.184 92.6347 134.184ZM103.068 128.976C103.068 127.068 102.048 126.156 100.812 126.156C100.032 126.156 99.4795 126.552 99.0955 126.948V123.336L98.0275 123.504V131.712C98.7835 131.94 99.3955 132.072 100.26 132.072C101.916 132.072 103.068 131.064 103.068 128.976ZM101.988 129.024C101.988 130.5 101.364 131.16 100.248 131.16C99.7195 131.16 99.4555 131.1 99.0955 130.968V128.04C99.5275 127.5 100.056 127.104 100.656 127.104C101.424 127.104 101.988 127.776 101.988 129.024ZM106.61 126.996C107.438 126.996 107.846 127.524 107.978 128.448H105.218C105.386 127.476 105.95 126.996 106.61 126.996ZM109.046 131.352L108.89 130.392C108.266 130.884 107.666 131.208 106.838 131.208C105.842 131.208 105.218 130.584 105.17 129.252H109.058V129.024C109.058 127.44 108.29 126.156 106.622 126.156C105.182 126.156 104.102 127.284 104.102 129.12C104.102 131.22 105.266 132.12 106.754 132.12C107.702 132.12 108.434 131.832 109.046 131.352ZM117.779 129.768C117.779 128.52 117.227 127.968 115.619 127.236C114.359 126.66 114.047 126.36 114.047 125.724C114.047 125.112 114.467 124.608 115.415 124.608C116.075 124.608 116.699 124.872 117.155 125.22L117.335 124.092C116.855 123.816 116.255 123.624 115.451 123.624C113.951 123.624 112.931 124.476 112.931 125.808C112.931 126.996 113.519 127.512 115.079 128.22C116.327 128.784 116.663 129.096 116.663 129.852C116.663 130.656 116.051 131.112 115.187 131.112C114.359 131.112 113.579 130.776 113.015 130.404L112.847 131.556C113.459 131.88 114.263 132.096 115.163 132.096C116.711 132.096 117.779 131.196 117.779 129.768ZM122.456 130.428C121.976 130.92 121.376 131.232 120.752 131.232C120.212 131.232 119.9 130.932 119.9 130.464C119.9 129.876 120.344 129.3 122.456 129.096V130.428ZM123.524 132V127.992C123.524 126.72 122.852 126.156 121.46 126.156C120.572 126.156 119.924 126.36 119.24 126.636L119.384 127.56C120.008 127.284 120.668 127.068 121.364 127.068C122.024 127.068 122.456 127.32 122.456 128.04V128.28C120.068 128.532 118.844 129.096 118.844 130.524C118.844 131.496 119.492 132.12 120.524 132.12C121.46 132.12 122.084 131.7 122.54 131.232L122.66 132H123.524ZM127.928 132.024L127.784 131.112C127.652 131.136 127.484 131.148 127.292 131.148C126.692 131.148 126.5 130.86 126.5 130.392V127.176H127.88L127.736 126.276H126.5V124.212L125.456 124.368V126.276H124.592V127.176H125.456V130.584C125.456 131.736 126.116 132.096 127.124 132.096C127.496 132.096 127.748 132.06 127.928 132.024ZM129.199 126.276V130.44C129.199 131.472 129.763 132.12 130.855 132.12C131.659 132.12 132.343 131.676 132.883 131.172L133.015 132H133.867V126.276H132.799V130.236C132.283 130.788 131.707 131.16 131.143 131.16C130.519 131.16 130.267 130.764 130.267 130.176V126.276H129.199ZM138.755 127.176L138.587 126.156C137.651 126.204 136.991 126.792 136.583 127.44L136.403 126.276H135.551V132H136.619V128.616C137.003 127.86 137.807 127.224 138.755 127.176ZM140.397 129.252C140.397 127.836 141.045 127.104 141.945 127.104C142.557 127.104 142.905 127.2 143.349 127.428V130.164C142.893 130.776 142.389 131.172 141.729 131.172C140.961 131.172 140.397 130.512 140.397 129.252ZM139.317 129.3C139.317 131.22 140.337 132.12 141.573 132.12C142.413 132.12 143.001 131.688 143.433 131.172L143.565 132H144.417V123.336L143.349 123.504V126.456C142.989 126.312 142.473 126.204 141.909 126.204C140.517 126.204 139.317 127.212 139.317 129.3ZM149.362 130.428C148.882 130.92 148.282 131.232 147.658 131.232C147.118 131.232 146.806 130.932 146.806 130.464C146.806 129.876 147.25 129.3 149.362 129.096V130.428ZM150.43 132V127.992C150.43 126.72 149.758 126.156 148.366 126.156C147.478 126.156 146.83 126.36 146.146 126.636L146.29 127.56C146.914 127.284 147.574 127.068 148.27 127.068C148.93 127.068 149.362 127.32 149.362 128.04V128.28C146.974 128.532 145.75 129.096 145.75 130.524C145.75 131.496 146.398 132.12 147.43 132.12C148.366 132.12 148.99 131.7 149.446 131.232L149.566 132H150.43ZM152.389 134.184C153.229 134.184 153.853 133.872 154.321 132.6L156.661 126.276H155.545L154.045 130.728L152.509 126.192L151.429 126.36L153.517 132.024L153.373 132.408C153.145 133.02 152.821 133.248 152.341 133.248C152.173 133.248 151.957 133.212 151.777 133.164L151.933 134.136C152.041 134.16 152.161 134.184 152.389 134.184ZM159.19 129.54L159.886 129.384L159.994 128.196C161.422 127.548 162.286 126.984 162.286 125.688C162.286 124.38 161.29 123.564 159.826 123.564C158.842 123.564 157.99 123.912 157.258 124.452L157.414 125.556C158.086 125.004 158.83 124.584 159.766 124.584C160.57 124.584 161.158 125.004 161.158 125.736C161.158 126.504 160.654 126.888 159.526 127.356L159.034 127.56L159.19 129.54ZM158.938 132H160.138V130.572H158.938V132Z",
fill:"#2E3338"}),(0,r.jsx)("path",{d:"M0.5 8C0.5 3.85786 3.85786 0.5 8 0.5H216C220.142 0.5 223.5 3.85786 223.5 8V33.5H0.5V8Z",fill:"#F2F3F4",stroke:"#E3E5E8"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",
d:"M12.5641 23.75C12.253 23.75 12.0174 23.4689 12.0718 23.1626L12.5 20.75H10.0951C9.78449 20.75 9.54905 20.4698 9.60259 20.1638L9.69009 19.6638C9.73196 19.4246 9.93972 19.25 10.1826 19.25H12.7625L13.5575 14.75H11.1526C10.842 14.75 10.6065 14.4698 10.6601 14.1638L10.7476 13.6638C10.7895 13.4246 10.9972 13.25 11.2401 13.25H13.82L14.2793 10.6626C14.3216 10.4239 14.5291 10.25 14.7716 10.25H15.2559C15.567 10.25 15.8026 10.5311 15.7482 10.8374L15.32 13.25H19.82L20.2793 10.6626C20.3216 10.4239 20.5291 10.25 20.7716 10.25H21.2559C21.567 10.25 21.8026 10.5311 21.7482 10.8374L21.32 13.25H23.7249C24.0355 13.25 24.271 13.5302 24.2174 13.8362L24.1299 14.3362C24.0881 14.5754 23.8803 14.75 23.6374 14.75H21.0575L20.2625 19.25H22.6674C22.978 19.25 23.2135 19.5302 23.1599 19.8362L23.0724 20.3362C23.0306 20.5754 22.8228 20.75 22.5799 20.75H20L19.5407 23.3374C19.4984 23.5761 19.2909 23.75 19.0484 23.75H18.5641C18.253 23.75 18.0174 23.4689 18.0718 23.1626L18.5 20.75H14L13.5407 23.3374C13.4984 23.5761 13.2909 23.75 13.0484 23.75H12.5641ZM15.0578 14.75L14.2628 19.25H18.7628L19.5578 14.75H15.0578Z",
fill:"#4F5660"}),(0,r.jsx)("path",{
d:"M41.014 22V17.128C41.014 15.868 40.384 15.098 39.11 15.098C38.2 15.098 37.458 15.588 36.856 16.19C36.604 15.532 36.086 15.098 35.12 15.098C34.21 15.098 33.524 15.588 32.894 16.19L32.74 15.238H31.312V22H32.992V17.422C33.482 16.918 33.972 16.582 34.49 16.582C35.106 16.582 35.33 16.988 35.33 17.576V22H37.01V17.422C37.5 16.918 37.99 16.582 38.508 16.582C39.124 16.582 39.334 16.988 39.334 17.576V22H41.014ZM46.3967 20.138C45.9347 20.586 45.3887 20.866 44.8147 20.866C44.2967 20.866 43.9887 20.572 43.9887 20.082C43.9887 19.438 44.4507 18.864 46.3967 18.626V20.138ZM48.0767 22V17.366C48.0767 15.742 47.2087 15.098 45.4587 15.098C44.3807 15.098 43.5547 15.336 42.7707 15.644L42.9807 16.988C43.7087 16.666 44.4507 16.442 45.2347 16.442C45.9767 16.442 46.3967 16.722 46.3967 17.45V17.646C43.6667 17.912 42.3227 18.626 42.3227 20.264C42.3227 21.44 43.0927 22.14 44.2407 22.14C45.2487 22.14 45.9487 21.692 46.4947 21.118L46.6347 22H48.0767ZM53.8857 22.098L55.6777 21.832L53.0317 18.29L55.5237 15.238H53.6197L51.4217 18.038V11.892L49.7417 12.158V22H51.4217V18.64L53.8857 22.098ZM59.1699 16.26C59.9819 16.26 60.4019 16.848 60.5139 17.898H57.8119C57.9379 16.806 58.4979 16.26 59.1699 16.26ZM62.1379 21.314L61.9419 19.998C61.1999 20.516 60.4859 20.838 59.6179 20.838C58.5819 20.838 57.8679 20.264 57.7979 18.948H62.1379C62.1379 18.85 62.1519 18.682 62.1519 18.542C62.1519 16.624 61.2419 15.098 59.2119 15.098C57.4479 15.098 56.1319 16.428 56.1319 18.626C56.1319 21.062 57.5459 22.14 59.4359 22.14C60.5279 22.14 61.4099 21.818 62.1379 21.314ZM66.9533 18.78V17.156H63.3133V18.78H66.9533ZM72.9665 18.528C72.9665 20.012 72.3085 20.726 71.4405 20.726C70.8665 20.726 70.5445 20.628 70.1385 20.432V17.534C70.5865 16.96 71.0625 16.582 71.6645 16.582C72.4205 16.582 72.9665 17.226 72.9665 18.528ZM74.6605 18.43C74.6605 16.162 73.5265 15.098 72.1125 15.098C71.1745 15.098 70.5165 15.616 70.0405 16.162L69.8865 15.238H68.4585V24.604L70.1385 24.352V21.804C70.5445 21.958 71.0625 22.07 71.7065 22.07C73.2605 22.07 74.6605 20.95 74.6605 18.43ZM77.7827 22V11.892L76.1027 12.158V22H77.7827ZM83.2561 20.138C82.7941 20.586 82.2481 20.866 81.6741 20.866C81.1561 20.866 80.8481 20.572 80.8481 20.082C80.8481 19.438 81.3101 18.864 83.2561 18.626V20.138ZM84.9361 22V17.366C84.9361 15.742 84.0681 15.098 82.3181 15.098C81.2401 15.098 80.4141 15.336 79.6301 15.644L79.8401 16.988C80.5681 16.666 81.3101 16.442 82.0941 16.442C82.8361 16.442 83.2561 16.722 83.2561 17.45V17.646C80.5261 17.912 79.1821 18.626 79.1821 20.264C79.1821 21.44 79.9521 22.14 81.1001 22.14C82.1081 22.14 82.8081 21.692 83.3541 21.118L83.4941 22H84.9361ZM92.3691 22V17.128C92.3691 15.868 91.6971 15.098 90.4371 15.098C89.5271 15.098 88.8131 15.588 88.1831 16.19L88.0291 15.238H86.6011V22H88.2811V17.436C88.7711 16.918 89.3031 16.582 89.8211 16.582C90.4371 16.582 90.6891 16.988 90.6891 17.576V22H92.3691ZM99.0642 20.012C99.0642 18.738 98.3782 18.262 96.6282 17.814C95.6202 17.548 95.3682 17.338 95.3682 16.974C95.3682 16.61 95.6762 16.358 96.3062 16.358C96.9782 16.358 97.7762 16.596 98.4482 16.974L98.6722 15.574C98.0002 15.28 97.1882 15.098 96.3062 15.098C94.7382 15.098 93.8142 15.924 93.8142 17.1C93.8142 18.332 94.5002 18.808 96.1382 19.228C97.2162 19.494 97.5102 19.69 97.5102 20.166C97.5102 20.614 97.1182 20.88 96.3902 20.88C95.5502 20.88 94.6542 20.558 93.9262 20.082L93.7022 21.482C94.3462 21.832 95.3542 22.14 96.3342 22.14C98.1122 22.14 99.0642 21.342 99.0642 20.012Z",
fill:"#060607"}),(0,r.jsx)("circle",{cx:"28",cy:"62",r:"16",fill:"url(#tutorial-media-channels-image2)"}),(0,r.jsx)("path",{
d:"M59.572 60V51.72H58.096V57.144L54.376 51.72H52.876V60H54.352V54.3L58.252 60H59.572ZM63.4852 55.08C64.1812 55.08 64.5412 55.584 64.6372 56.484H62.3212C62.4292 55.548 62.9092 55.08 63.4852 55.08ZM66.0292 59.412L65.8612 58.284C65.2252 58.728 64.6132 59.004 63.8692 59.004C62.9812 59.004 62.3692 58.512 62.3092 57.384H66.0292C66.0292 57.3 66.0412 57.156 66.0412 57.036C66.0412 55.392 65.2612 54.084 63.5212 54.084C62.0092 54.084 60.8812 55.224 60.8812 57.108C60.8812 59.196 62.0932 60.12 63.7132 60.12C64.6492 60.12 65.4052 59.844 66.0292 59.412ZM68.7047 60V51.336L67.2647 51.564V60H68.7047ZM71.7281 60V51.336L70.2881 51.564V60H71.7281ZM73.8635 62.184C74.9075 62.184 75.5795 61.764 76.0715 60.372L78.2915 54.204H76.8395L75.5435 58.284L74.2235 54.12L72.7235 54.312L74.8235 59.988L74.7755 60.156C74.5835 60.78 74.1995 60.996 73.7195 60.996C73.4675 60.996 73.2635 60.96 73.0835 60.912L73.2755 62.124C73.4075 62.16 73.5515 62.184 73.8635 62.184Z",fill:"#060607"}),(0,r.jsx)("path",{
d:"M58.792 76.084L59.908 75.844L56.716 67.684H55.588L52.348 76H53.524L54.448 73.516H57.82L58.792 76.084ZM56.128 69.004L57.448 72.52H54.82L56.128 69.004ZM65.7697 76V71.836C65.7697 70.804 65.1937 70.156 64.1137 70.156C63.2977 70.156 62.6257 70.612 62.0857 71.104L61.9537 70.276H61.1017V76H62.1697V72.04C62.6857 71.488 63.2617 71.116 63.8257 71.116C64.4497 71.116 64.7017 71.512 64.7017 72.1V76H65.7697ZM67.7558 78.184C68.5958 78.184 69.2198 77.872 69.6878 76.6L72.0278 70.276H70.9118L69.4118 74.728L67.8758 70.192L66.7958 70.36L68.8838 76.024L68.7398 76.408C68.5118 77.02 68.1878 77.248 67.7078 77.248C67.5398 77.248 67.3238 77.212 67.1438 77.164L67.2998 78.136C67.4078 78.16 67.5278 78.184 67.7558 78.184ZM77.9291 73.144C77.9291 71.26 76.8011 70.156 75.2651 70.156C73.7411 70.156 72.6371 71.26 72.6371 73.144C72.6371 75.028 73.7411 76.12 75.2651 76.12C76.8011 76.12 77.9291 75.028 77.9291 73.144ZM76.8491 73.144C76.8491 74.344 76.3211 75.232 75.2651 75.232C74.2571 75.232 73.7171 74.32 73.7171 73.144C73.7171 71.944 74.2331 71.044 75.2651 71.044C76.2971 71.044 76.8491 71.968 76.8491 73.144ZM83.9572 76V71.836C83.9572 70.804 83.3812 70.156 82.3012 70.156C81.4852 70.156 80.8132 70.612 80.2732 71.104L80.1412 70.276H79.2892V76H80.3572V72.04C80.8732 71.488 81.4492 71.116 82.0132 71.116C82.6372 71.116 82.8892 71.512 82.8892 72.1V76H83.9572ZM87.8013 70.996C88.6293 70.996 89.0373 71.524 89.1693 72.448H86.4093C86.5773 71.476 87.1413 70.996 87.8013 70.996ZM90.2373 75.352L90.0813 74.392C89.4573 74.884 88.8573 75.208 88.0293 75.208C87.0333 75.208 86.4093 74.584 86.3613 73.252H90.2493V73.024C90.2493 71.44 89.4813 70.156 87.8133 70.156C86.3733 70.156 85.2933 71.284 85.2933 73.12C85.2933 75.22 86.4573 76.12 87.9453 76.12C88.8933 76.12 89.6253 75.832 90.2373 75.352ZM101.73 70.276H100.662L99.4503 74.512L98.1903 70.276H97.2903L96.0303 74.512L94.7823 70.192L93.7383 70.36L95.5743 76.024H96.4623L97.7223 71.704L98.9943 76.024H99.8943L101.73 70.276ZM106.014 74.428C105.534 74.92 104.934 75.232 104.31 75.232C103.77 75.232 103.458 74.932 103.458 74.464C103.458 73.876 103.902 73.3 106.014 73.096V74.428ZM107.082 76V71.992C107.082 70.72 106.41 70.156 105.018 70.156C104.13 70.156 103.482 70.36 102.798 70.636L102.942 71.56C103.566 71.284 104.226 71.068 104.922 71.068C105.582 71.068 106.014 71.32 106.014 72.04V72.28C103.626 72.532 102.402 73.096 102.402 74.524C102.402 75.496 103.05 76.12 104.082 76.12C105.018 76.12 105.642 75.7 106.098 75.232L106.218 76H107.082ZM113.406 76V71.836C113.406 70.804 112.83 70.156 111.75 70.156C110.934 70.156 110.262 70.612 109.722 71.104L109.59 70.276H108.738V76H109.806V72.04C110.322 71.488 110.898 71.116 111.462 71.116C112.086 71.116 112.338 71.512 112.338 72.1V76H113.406ZM117.815 76.024L117.671 75.112C117.539 75.136 117.371 75.148 117.179 75.148C116.579 75.148 116.387 74.86 116.387 74.392V71.176H117.767L117.623 70.276H116.387V68.212L115.343 68.368V70.276H114.479V71.176H115.343V74.584C115.343 75.736 116.003 76.096 117.011 76.096C117.383 76.096 117.635 76.06 117.815 76.024ZM124.494 76.024L124.35 75.112C124.218 75.136 124.05 75.148 123.858 75.148C123.258 75.148 123.066 74.86 123.066 74.392V71.176H124.446L124.302 70.276H123.066V68.212L122.022 68.368V70.276H121.158V71.176H122.022V74.584C122.022 75.736 122.682 76.096 123.69 76.096C124.062 76.096 124.314 76.06 124.494 76.024ZM130.71 73.144C130.71 71.26 129.582 70.156 128.046 70.156C126.522 70.156 125.418 71.26 125.418 73.144C125.418 75.028 126.522 76.12 128.046 76.12C129.582 76.12 130.71 75.028 130.71 73.144ZM129.63 73.144C129.63 74.344 129.102 75.232 128.046 75.232C127.038 75.232 126.498 74.32 126.498 73.144C126.498 71.944 127.014 71.044 128.046 71.044C129.078 71.044 129.63 71.968 129.63 73.144ZM139.375 76V71.836C139.375 70.804 138.799 70.156 137.719 70.156C136.903 70.156 136.243 70.612 135.775 71.032V67.336L134.707 67.504V76H135.775V72.04C136.291 71.488 136.867 71.116 137.431 71.116C138.055 71.116 138.307 71.512 138.307 72.1V76H139.375ZM144.299 74.428C143.819 74.92 143.219 75.232 142.595 75.232C142.055 75.232 141.743 74.932 141.743 74.464C141.743 73.876 142.187 73.3 144.299 73.096V74.428ZM145.367 76V71.992C145.367 70.72 144.695 70.156 143.303 70.156C142.415 70.156 141.767 70.36 141.083 70.636L141.227 71.56C141.851 71.284 142.511 71.068 143.207 71.068C143.867 71.068 144.299 71.32 144.299 72.04V72.28C141.911 72.532 140.687 73.096 140.687 74.524C140.687 75.496 141.335 76.12 142.367 76.12C143.303 76.12 143.927 75.7 144.383 75.232L144.503 76H145.367ZM151.692 76V71.836C151.692 70.804 151.116 70.156 150.036 70.156C149.22 70.156 148.548 70.612 148.008 71.104L147.876 70.276H147.024V76H148.092V72.04C148.608 71.488 149.184 71.116 149.748 71.116C150.372 71.116 150.624 71.512 150.624 72.1V76H151.692ZM156.484 72.136C156.484 72.82 156.028 73.36 155.296 73.36C154.588 73.36 154.132 72.844 154.132 72.184C154.132 71.488 154.576 70.936 155.296 70.936C156.004 70.936 156.484 71.452 156.484 72.136ZM158.188 76.42C158.188 75.532 157.432 75.148 156.22 74.932L155.812 74.86C154.804 74.68 154.6 74.632 154.6 74.428C154.6 74.32 154.72 74.188 154.888 74.08C155.032 74.104 155.176 74.116 155.32 74.116C156.484 74.116 157.516 73.372 157.516 72.148C157.516 71.824 157.444 71.524 157.288 71.26L158.38 71.152L158.224 70.192L156.772 70.636C156.376 70.324 155.872 70.156 155.296 70.156C154.132 70.156 153.1 70.912 153.1 72.148C153.1 72.928 153.532 73.528 154.168 73.852C153.784 74.08 153.568 74.356 153.568 74.632C153.568 74.848 153.676 75.052 153.928 75.232C153.124 75.664 152.716 76.12 152.716 76.708C152.716 77.716 153.904 78.184 155.392 78.184C156.88 78.184 158.188 77.62 158.188 76.42ZM155.44 77.416C154.324 77.416 153.736 77.08 153.736 76.624C153.736 76.228 154.036 75.892 154.708 75.556C154.936 75.604 155.104 75.64 155.416 75.7L156.1 75.82C156.916 75.964 157.18 76.204 157.18 76.552C157.18 77.032 156.556 77.416 155.44 77.416ZM167.003 73.144C167.003 71.26 165.875 70.156 164.339 70.156C162.815 70.156 161.711 71.26 161.711 73.144C161.711 75.028 162.815 76.12 164.339 76.12C165.875 76.12 167.003 75.028 167.003 73.144ZM165.923 73.144C165.923 74.344 165.395 75.232 164.339 75.232C163.331 75.232 162.791 74.32 162.791 73.144C162.791 71.944 163.307 71.044 164.339 71.044C165.371 71.044 165.923 71.968 165.923 73.144ZM168.339 70.276V74.44C168.339 75.472 168.903 76.12 169.995 76.12C170.799 76.12 171.483 75.676 172.023 75.172L172.155 76H173.007V70.276H171.939V74.236C171.423 74.788 170.847 75.16 170.283 75.16C169.659 75.16 169.407 74.764 169.407 74.176V70.276H168.339ZM177.44 76.024L177.296 75.112C177.164 75.136 176.996 75.148 176.804 75.148C176.204 75.148 176.012 74.86 176.012 74.392V71.176H177.392L177.248 70.276H176.012V68.212L174.968 68.368V70.276H174.104V71.176H174.968V74.584C174.968 75.736 175.628 76.096 176.636 76.096C177.008 76.096 177.26 76.06 177.44 76.024ZM184.119 76.024L183.975 75.112C183.843 75.136 183.675 75.148 183.483 75.148C182.883 75.148 182.691 74.86 182.691 74.392V71.176H184.071L183.927 70.276H182.691V68.212L181.647 68.368V70.276H180.783V71.176H181.647V74.584C181.647 75.736 182.307 76.096 183.315 76.096C183.687 76.096 183.939 76.06 184.119 76.024ZM190.082 76V71.836C190.082 70.804 189.506 70.156 188.426 70.156C187.61 70.156 186.95 70.612 186.482 71.032V67.336L185.414 67.504V76H186.482V72.04C186.998 71.488 187.574 71.116 188.138 71.116C188.762 71.116 189.014 71.512 189.014 72.1V76H190.082ZM193.038 68.452C193.038 68.08 192.738 67.768 192.366 67.768C191.994 67.768 191.682 68.08 191.682 68.452C191.682 68.824 191.994 69.124 192.366 69.124C192.738 69.124 193.038 68.824 193.038 68.452ZM192.894 76V70.276H191.826V76H192.894ZM198.656 74.404C198.656 73.312 198.02 72.904 196.604 72.544C195.704 72.316 195.416 72.1 195.416 71.716C195.416 71.308 195.752 71.056 196.4 71.056C197 71.056 197.636 71.26 198.14 71.548L198.308 70.54C197.768 70.3 197.132 70.156 196.424 70.156C195.176 70.156 194.408 70.828 194.408 71.74C194.408 72.76 194.948 73.168 196.292 73.504C197.324 73.756 197.648 73.948 197.648 74.476C197.648 74.956 197.216 75.232 196.484 75.232C195.704 75.232 195.008 74.944 194.468 74.572L194.312 75.58C194.804 75.856 195.644 76.12 196.4 76.12C197.876 76.12 198.656 75.448 198.656 74.404ZM60.328 86.276H59.26L58.048 90.512L56.788 86.276H55.888L54.628 90.512L53.38 86.192L52.336 86.36L54.172 92.024H55.06L56.32 87.704L57.592 92.024H58.492L60.328 86.276ZM63.5318 86.996C64.3598 86.996 64.7678 87.524 64.8998 88.448H62.1398C62.3078 87.476 62.8718 86.996 63.5318 86.996ZM65.9678 91.352L65.8118 90.392C65.1878 90.884 64.5878 91.208 63.7598 91.208C62.7638 91.208 62.1398 90.584 62.0918 89.252H65.9798V89.024C65.9798 87.44 65.2118 86.156 63.5438 86.156C62.1038 86.156 61.0238 87.284 61.0238 89.12C61.0238 91.22 62.1878 92.12 63.6758 92.12C64.6238 92.12 65.3558 91.832 65.9678 91.352ZM69.5201 86.996C70.3481 86.996 70.7561 87.524 70.8881 88.448H68.1281C68.2961 87.476 68.8601 86.996 69.5201 86.996ZM71.9561 91.352L71.8001 90.392C71.1761 90.884 70.5761 91.208 69.7481 91.208C68.7521 91.208 68.1281 90.584 68.0801 89.252H71.9681V89.024C71.9681 87.44 71.2001 86.156 69.5321 86.156C68.0921 86.156 67.0121 87.284 67.0121 89.12C67.0121 91.22 68.1761 92.12 69.6641 92.12C70.6121 92.12 71.3441 91.832 71.9561 91.352ZM76.9364 92.084L78.1004 91.904L75.4844 88.808L77.8964 86.276H76.6124L74.3924 88.676V83.336L73.3244 83.504V92H74.3924V89L76.9364 92.084ZM81.1099 86.996C81.9379 86.996 82.3459 87.524 82.4779 88.448H79.7179C79.8859 87.476 80.4499 86.996 81.1099 86.996ZM83.5459 91.352L83.3899 90.392C82.7659 90.884 82.1659 91.208 81.3379 91.208C80.3419 91.208 79.7179 90.584 79.6699 89.252H83.5579V89.024C83.5579 87.44 82.7899 86.156 81.1219 86.156C79.6819 86.156 78.6019 87.284 78.6019 89.12C78.6019 91.22 79.7659 92.12 81.2539 92.12C82.2019 92.12 82.9339 91.832 83.5459 91.352ZM89.5822 92V87.836C89.5822 86.804 89.0062 86.156 87.9262 86.156C87.1102 86.156 86.4382 86.612 85.8982 87.104L85.7662 86.276H84.9142V92H85.9822V88.04C86.4982 87.488 87.0742 87.116 87.6382 87.116C88.2622 87.116 88.5142 87.512 88.5142 88.1V92H89.5822ZM91.9983 89.252C91.9983 87.836 92.6463 87.104 93.5463 87.104C94.1583 87.104 94.5063 87.2 94.9503 87.428V90.164C94.4943 90.776 93.9903 91.172 93.3303 91.172C92.5623 91.172 91.9983 90.512 91.9983 89.252ZM90.9183 89.3C90.9183 91.22 91.9383 92.12 93.1743 92.12C94.0143 92.12 94.6023 91.688 95.0343 91.172L95.1663 92H96.0183V83.336L94.9503 83.504V86.456C94.5903 86.312 94.0743 86.204 93.5103 86.204C92.1183 86.204 90.9183 87.212 90.9183 89.3ZM99.3194 89.54L100.015 89.384L100.123 88.196C101.551 87.548 102.415 86.984 102.415 85.688C102.415 84.38 101.419 83.564 99.9554 83.564C98.9714 83.564 98.1194 83.912 97.3874 84.452L97.5434 85.556C98.2154 85.004 98.9594 84.584 99.8954 84.584C100.699 84.584 101.287 85.004 101.287 85.736C101.287 86.504 100.783 86.888 99.6554 87.356L99.1634 87.56L99.3194 89.54ZM99.0674 92H100.267V90.572H99.0674V92Z",
fill:"#2E3338"}),(0,r.jsxs)("defs",{children:[(0,r.jsx)("pattern",{id:"tutorial-media-channels-image1",x:"0",y:"0",patternUnits:"objectBoundingBox",height:"1",width:"1",children:(0,r.jsx)("image",{x:"0",y:"0",height:"32",width:"32",href:E()})}),(0,r.jsx)("pattern",{id:"tutorial-media-channels-image2",x:"0",y:"0",patternUnits:"objectBoundingBox",height:"1",width:"1",children:(0,r.jsx)("image",{x:"0",y:"0",height:"32",width:"32",href:S()})})]})]})})}var P=n(416933),I=n.n(P);function _(){return(0,r.jsx)("div",{className:I().container,children:(0,r.jsxs)("svg",{width:"248",height:"67",viewBox:"0 0 248 67",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{
d:"M1.91937 22.0819L0.353585 25.3514C0.282937 25.5093 0.265227 25.6857 0.303076 25.8544C0.311999 25.943 0.339002 26.0288 0.382429 26.1067C0.425856 26.1845 0.484791 26.2527 0.555622 26.3071C0.607907 26.38 0.675826 26.4403 0.754452 26.4838C0.833079 26.5273 0.920441 26.5529 1.0102 26.5586C1.19659 26.5915 1.38843 26.5741 1.5658 26.5083L4.74788 24.949L5.15196 24.8484L5.55603 24.949L8.73811 26.5083H9.29371L9.74829 26.2568C9.85659 26.1275 9.92655 25.9707 9.95033 25.8041C9.98818 25.6354 9.97046 25.459 9.89982 25.3011L8.33403 22.0315C8.2926 21.919 8.27539 21.799 8.28352 21.6794C8.27533 21.5434 8.29245 21.4069 8.33403 21.277L9.89982 18.1081C9.94425 18.0329 9.97177 17.949 9.98049 17.8621C9.98921 17.7753 9.97892 17.6876 9.95033 17.6051C9.93611 17.4208 9.86561 17.2453 9.74829 17.1021C9.60449 16.9853 9.42824 16.9151 9.2432 16.9009C9.16036 16.8724 9.07231 16.8622 8.98511 16.8709C8.89791 16.8796 8.81364 16.907 8.73811 16.9512L5.50552 18.5105L5.10145 18.6111L4.69737 18.5105L1.5153 16.9512C1.43095 16.9057 1.3382 16.8778 1.24269 16.8692C1.14717 16.8605 1.05089 16.8713 0.959695 16.9009C0.792331 16.9246 0.634911 16.9943 0.505112 17.1021C0.372179 17.2408 0.284186 17.416 0.252566 17.6051C0.236844 17.779 0.271925 17.9537 0.353585 18.1081L1.86886 21.3273C1.94921 21.4454 1.98499 21.5879 1.96988 21.7297C1.98577 21.7888 1.98948 21.8504 1.9808 21.9109C1.97212 21.9715 1.95122 22.0296 1.91937 22.0819Z",
fill:"#AEC7FF"}),(0,r.jsx)("path",{d:"M205.949 47.6259C218.112 47.6259 227.971 37.8071 227.971 25.695C227.971 13.5829 218.112 3.76405 205.949 3.76405C193.787 3.76405 183.927 13.5829 183.927 25.695C183.927 37.8071 193.787 47.6259 205.949 47.6259Z",fill:"url(#tutorial-media-voice-channels-image2)"}),(0,r.jsx)("path",{d:"M206.106 47.5713C218.256 47.5713 228.106 37.7216 228.106 25.5713C228.106 13.4211 218.256 3.57133 206.106 3.57133C193.956 3.57133 184.106 13.4211 184.106 25.5713C184.106 37.7216 193.956 47.5713 206.106 47.5713Z",stroke:"#3ba55c",strokeWidth:"3"}),(0,r.jsx)("path",{d:"M43.8822 66.4461C56.0446 66.4461 65.9042 56.6273 65.9042 44.5152C65.9042 32.4031 56.0446 22.5843 43.8822 22.5843C31.7198 22.5843 21.8602 32.4031 21.8602 44.5152C21.8602 56.6273 31.7198 66.4461 43.8822 66.4461Z",fill:"url(#tutorial-media-voice-channels-image1)"}),(0,r.jsx)("path",{
d:"M43.6684 66.0315C55.8187 66.0315 65.6684 56.1818 65.6684 44.0315C65.6684 31.8813 55.8187 22.0315 43.6684 22.0315C31.5181 22.0315 21.6684 31.8813 21.6684 44.0315C21.6684 56.1818 31.5181 66.0315 43.6684 66.0315Z",stroke:"#3ba55c",strokeWidth:"3"}),(0,r.jsx)("path",{d:"M138.597 43.8116C134.96 31.857 134.96 19.0973 138.597 7.14265",stroke:"#FF6E5C",strokeWidth:"5",strokeMiterlimit:"10",strokeLinecap:"round"}),(0,r.jsx)("path",{d:"M111.562 25.5955C115.2 37.5501 115.2 50.3098 111.562 62.2644",stroke:"#FFED00",strokeWidth:"5",strokeMiterlimit:"10",strokeLinecap:"round"}),(0,r.jsx)("path",{d:"M159.71 37.6246C158.509 33.6948 157.896 29.6101 157.892 25.5023C157.9 21.3782 158.513 17.2775 159.71 13.3296",stroke:"#FF6E5C",strokeWidth:"5",strokeMiterlimit:"10",strokeLinecap:"round"}),(0,r.jsx)("path",{d:"M149.154 10.2613C146.124 20.198 146.124 30.8065 149.154 40.7433",stroke:"#FF6E5C",strokeWidth:"5",strokeMiterlimit:"10",strokeLinecap:"round"}),(0,r.jsx)("path",{
d:"M170.266 16.4482C169.347 19.3785 168.887 22.4324 168.903 25.5023C168.887 28.5721 169.347 31.626 170.266 34.5563",stroke:"#FF6E5C",strokeWidth:"5",strokeMiterlimit:"10",strokeLinecap:"round"}),(0,r.jsx)("path",{d:"M90.0579 56.1351C91.2957 52.1951 91.9258 48.0908 91.9267 43.9625C91.9301 39.8503 91.2999 35.7619 90.0579 31.8401",stroke:"#FFED00",strokeWidth:"5",strokeMiterlimit:"10",strokeLinecap:"round"}),(0,r.jsx)("path",{d:"M100.614 28.6068C103.644 38.5435 103.644 49.152 100.614 59.0887",stroke:"#FFED00",strokeWidth:"5",strokeMiterlimit:"10",strokeLinecap:"round"}),(0,r.jsx)("path",{d:"M79.5015 34.9084C81.3857 40.7986 81.3857 47.1263 79.5015 53.0165",stroke:"#FFED00",strokeWidth:"5",strokeMiterlimit:"10",strokeLinecap:"round"}),(0,r.jsx)("path",{
d:"M182.237 57.1914L184.257 56.4872C184.354 56.4431 184.436 56.3722 184.494 56.2831C184.551 56.1939 184.582 56.0902 184.582 55.9842C184.582 55.8783 184.551 55.7746 184.494 55.6854C184.436 55.5962 184.354 55.5254 184.257 55.4812L182.237 54.777C182.16 54.7552 182.088 54.7169 182.027 54.6648C181.966 54.6127 181.917 54.548 181.884 54.4752L181.176 52.4632C181.143 52.3626 181.079 52.275 180.993 52.2128C180.907 52.1507 180.803 52.1173 180.697 52.1173C180.59 52.1173 180.487 52.1507 180.4 52.2128C180.314 52.275 180.25 52.3626 180.217 52.4632L179.51 54.4752C179.476 54.548 179.427 54.6127 179.366 54.6648C179.305 54.7169 179.233 54.7552 179.156 54.777L177.186 55.4812C177.052 55.4812 176.924 55.5342 176.829 55.6286C176.734 55.7229 176.681 55.8508 176.681 55.9842C176.681 56.1176 176.734 56.2456 176.829 56.3399C176.924 56.4343 177.052 56.4872 177.186 56.4872L179.156 57.1914C179.233 57.2133 179.305 57.2516 179.366 57.3037C179.427 57.3558 179.476 57.4205 179.51 57.4933L180.217 59.5053C180.25 59.6059 180.314 59.6935 180.4 59.7556C180.487 59.8178 180.59 59.8512 180.697 59.8512C180.803 59.8512 180.907 59.8178 180.993 59.7556C181.079 59.6935 181.143 59.6059 181.176 59.5053L181.884 57.4933C181.917 57.4205 181.966 57.3558 182.027 57.3037C182.088 57.2516 182.16 57.2133 182.237 57.1914Z",
fill:"#EC7DF7"}),(0,r.jsx)("path",{d:"M242.696 1.35812C242.696 0.746955 242.199 0.251511 241.585 0.251511C240.972 0.251511 240.474 0.746955 240.474 1.35812V2.4949C240.474 3.10607 240.972 3.60151 241.585 3.60151C242.199 3.60151 242.696 3.10607 242.696 2.4949V1.35812Z",fill:"#7196FF"}),(0,r.jsx)("path",{d:"M242.696 10.2613C242.696 9.65011 242.199 9.15466 241.585 9.15466C240.972 9.15466 240.474 9.65011 240.474 10.2613V11.3981C240.474 12.0092 240.972 12.5047 241.585 12.5047C242.199 12.5047 242.696 12.0092 242.696 11.3981V10.2613Z",fill:"#7196FF"}),(0,r.jsx)("path",{d:"M246.636 7.49476C247.25 7.49476 247.747 6.99933 247.747 6.38817C247.747 5.77701 247.25 5.28156 246.636 5.28156H245.495C244.881 5.28156 244.384 5.77701 244.384 6.38817C244.384 6.99933 244.881 7.49476 245.495 7.49476H246.636Z",fill:"#7196FF"}),(0,r.jsx)("path",{
d:"M237.696 7.49477C238.31 7.49477 238.807 6.99931 238.807 6.38815C238.807 5.77699 238.31 5.28154 237.696 5.28154H236.555C235.941 5.28154 235.443 5.77699 235.443 6.38815C235.443 6.99931 235.941 7.49477 236.555 7.49477H237.696Z",fill:"#7196FF"}),(0,r.jsx)("path",{d:"M25.2929 2.23526C24.8786 1.82274 24.207 1.82274 23.7928 2.23526C23.3786 2.64777 23.3786 3.31659 23.7928 3.7291L24.5535 4.48669C24.9678 4.8992 25.6394 4.8992 26.0536 4.48669C26.4678 4.07418 26.4678 3.40536 26.0536 2.99285L25.2929 2.23526Z",fill:"#F7D036"}),(0,r.jsx)("path",{d:"M31.3539 8.25656C30.9397 7.84404 30.2681 7.84404 29.8538 8.25656C29.4396 8.66907 29.4396 9.33789 29.8538 9.7504L30.6146 10.508C31.0288 10.9205 31.7004 10.9205 32.1146 10.508C32.5289 10.0955 32.5289 9.42666 32.1146 9.01415L31.3539 8.25656Z",fill:"#F7D036"}),(0,r.jsx)("path",{
d:"M32.109 3.71739C32.5233 3.30488 32.5233 2.63606 32.109 2.22354C31.6948 1.81103 31.0232 1.81103 30.609 2.22355L29.8482 2.98114C29.434 3.39365 29.434 4.06247 29.8482 4.47498C30.2625 4.88749 30.9341 4.88749 31.3483 4.47498L32.109 3.71739Z",fill:"#F7D036"}),(0,r.jsx)("path",{d:"M26.0985 9.73869C26.5128 9.32618 26.5128 8.65736 26.0985 8.24485C25.6843 7.83233 25.0127 7.83233 24.5985 8.24485L23.8378 9.00244C23.4235 9.41495 23.4235 10.0838 23.8378 10.4963C24.252 10.9088 24.9236 10.9088 25.3378 10.4963L26.0985 9.73869Z",fill:"#F7D036"}),(0,r.jsxs)("defs",{children:[(0,r.jsx)("pattern",{id:"tutorial-media-voice-channels-image1",x:"0",y:"0",patternUnits:"objectBoundingBox",height:"1",width:"1",children:(0,r.jsx)("image",{x:"0",y:"0",height:"44",width:"44",href:E()})}),(0,r.jsx)("pattern",{id:"tutorial-media-voice-channels-image2",x:"0",y:"0",patternUnits:"objectBoundingBox",height:"1",width:"1",children:(0,r.jsx)("image",{x:"0",y:"0",height:"44",width:"44",href:S()})})]})]})})}
var w=n(948861),x=n(125628),N=n(551433),T=n(356004),A=n(653772),Z=n(859023),R=n(969225),M=n(766936),D=n(917870),L=n(52415),k=n.n(L);function U(){var e=(0,N.Z)((function(e){return{guildId:e.guildId,channelId:e.channelId}}),w.Z),t=e.guildId,n=e.channelId,o=(0,f.e7)([A.Z],(function(){return A.Z.getGuild(t)})),i=(0,f.e7)([T.Z],(function(){return null==o?T.Z.getChannel(n):null})),a=(0,f.e7)([Z.default],(function(){return Z.default.getCurrentUser()})),l=null!=i?(0,x.x)(i):null,u=null!=a?a.getAvatarURL(t,80):D.pK[0],c=(0,r.jsx)(M.ZP,{src:u,"aria-hidden":!0,size:M.ZP.Sizes.SIZE_80,className:k().avatarSizeOverride}),s=null;s=null!=o?(0,r.jsx)(R.Z,{guild:o}):null!=l?(0,r.jsx)(M.ZP,{"aria-hidden":!0,src:l,size:M.ZP.Sizes.SIZE_80,className:k().avatarSizeOverride}):c;return(0,r.jsxs)("div",{className:k().container,children:[(0,r.jsx)("div",{className:k().personAvatar,children:c}),(0,r.jsx)("div",{className:k().guildAvatar,children:s}),(0,r.jsx)("svg",{className:k().illustration,
xmlns:"http://www.w3.org/2000/svg",width:"156",height:"70",viewBox:"0 0 123 55",children:(0,r.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,r.jsx)("path",{fill:"#D3D6ED",d:"M7.6003,3.7337 C7.6003,3.1817 7.1533,2.7337 6.6003,2.7337 C5.7663,2.7337 5.0903,2.0577 5.0903,1.2237 C5.0903,0.6717 4.6423,0.2237 4.0903,0.2237 C3.5383,0.2237 3.0903,0.6717 3.0903,1.2237 C3.0903,2.0577 2.4133,2.7337 1.5803,2.7337 C1.0283,2.7337 0.5803,3.1817 0.5803,3.7337 C0.5803,4.2857 1.0283,4.7337 1.5803,4.7337 C2.4133,4.7337 3.0903,5.4097 3.0903,6.2437 C3.0903,6.7967 3.5383,7.2437 4.0903,7.2437 C4.6423,7.2437 5.0903,6.7967 5.0903,6.2437 C5.0903,5.4097 5.7663,4.7337 6.6003,4.7337 C7.1533,4.7337 7.6003,4.2857 7.6003,3.7337"}),(0,r.jsx)("path",{fill:"#ACB0FF",
d:"M96.6157,5.4263 C96.6157,4.8743 96.1687,4.4263 95.6157,4.4263 C95.0627,4.4263 94.6157,4.8743 94.6157,5.4263 C94.6157,6.2603 93.9397,6.9363 93.1057,6.9363 C92.5537,6.9363 92.1057,7.3843 92.1057,7.9363 C92.1057,8.4883 92.5537,8.9363 93.1057,8.9363 C93.9397,8.9363 94.6157,9.6123 94.6157,10.4463 C94.6157,10.9983 95.0627,11.4463 95.6157,11.4463 C96.1687,11.4463 96.6157,10.9983 96.6157,10.4463 C96.6157,9.6123 97.2917,8.9363 98.1257,8.9363 C98.6787,8.9363 99.1257,8.4883 99.1257,7.9363 C99.1257,7.3843 98.6787,6.9363 98.1257,6.9363 C97.2917,6.9363 96.6157,6.2603 96.6157,5.4263 Z"}),(0,r.jsx)("path",{fill:"#FFF",
d:"M120.7351 14.0452L119.5511 15.2282C119.1611 15.6182 119.1611 16.2512 119.5511 16.6422 119.7471 16.8372 120.0031 16.9352 120.2581 16.9352 120.5141 16.9352 120.7701 16.8372 120.9651 16.6422L122.1491 15.4592C122.5401 15.0682 122.5401 14.4362 122.1491 14.0452 121.7581 13.6542 121.1261 13.6542 120.7351 14.0452zM113.635 21.1452C113.245 21.5352 113.245 22.1682 113.635 22.5592 113.831 22.7542 114.087 22.8522 114.342 22.8522 114.598 22.8522 114.855 22.7542 115.049 22.5592L116.233 21.3752C116.624 20.9842 116.624 20.3522 116.233 19.9612 115.842 19.5702 115.209 19.5702 114.819 19.9612L113.635 21.1452zM120.9655 19.9612C120.5745 19.5702 119.9425 19.5702 119.5515 19.9612 119.1605 20.3522 119.1605 20.9842 119.5515 21.3752L120.7355 22.5592C120.9305 22.7542 121.1865 22.8522 121.4425 22.8522 121.6975 22.8522 121.9535 22.7542 122.1495 22.5592 122.5395 22.1682 122.5395 21.5352 122.1495 21.1452L120.9655 19.9612zM115.0491 14.0449C114.6591 13.6549 114.0251 13.6549 113.6351 14.0449 113.2451 14.4359 113.2451 15.0689 113.6351 15.4589L114.8191 16.6419C115.0141 16.8369 115.2701 16.9349 115.5261 16.9349 115.7821 16.9349 116.0381 16.8369 116.2331 16.6419 116.6241 16.2509 116.6241 15.6189 116.2331 15.2279L115.0491 14.0449z"
}),(0,r.jsx)("rect",{width:"40",height:"25",x:"68",y:"22",fill:"#999CF4",fillRule:"nonzero",rx:"3"}),(0,r.jsx)("path",{fill:"#999CF4",fillRule:"nonzero",d:"M90,46 L90,53.8100983 C90,54.362383 90.4477153,54.8100983 91,54.8100983 C91.2501917,54.8100983 91.4912948,54.7163131 91.6757246,54.5472524 L101,46 L90,46 Z",transform:"matrix(-1 0 0 1 191 0)"}),(0,r.jsxs)("g",{fill:"#FFF",fillRule:"nonzero",opacity:".902",transform:"translate(78 32)",children:[(0,r.jsx)("circle",{cx:"2.5",cy:"2.5",r:"2.5"}),(0,r.jsx)("circle",{cx:"10.5",cy:"2.5",r:"2.5"}),(0,r.jsx)("circle",{cx:"18.5",cy:"2.5",r:"2.5"})]}),(0,r.jsx)("rect",{width:"40",height:"25",x:"13",y:"9",fill:"#5865f2",fillRule:"nonzero",rx:"3"}),(0,r.jsx)("path",{fill:"#5865f2",fillRule:"nonzero",d:"M20,33 L20,40.8100983 C20,41.362383 20.4477153,41.8100983 21,41.8100983 C21.2501917,41.8100983 21.4912948,41.7163131 21.6757246,41.5472524 L31,33 L20,33 Z"}),(0,r.jsxs)("g",{fill:"#FFF",fillRule:"nonzero",opacity:".902",
transform:"translate(23 19)",children:[(0,r.jsx)("circle",{cx:"2.5",cy:"2.5",r:"2.5"}),(0,r.jsx)("circle",{cx:"10.5",cy:"2.5",r:"2.5"}),(0,r.jsx)("circle",{cx:"18.5",cy:"2.5",r:"2.5"})]})]})})]})}var G=Object.freeze({"voice-conversations":{popoutPosition:y.q_.RIGHT,highPriority:!0,textAlign:v.iu.CENTER,media:function(){return(0,r.jsx)(_,{})}},"writing-messages":{popoutPosition:y.q_.TOP,highPriority:!0,textAlign:v.iu.CENTER,spacing:10,media:function(){return(0,r.jsx)(U,{})}},"direct-messages":{popoutPosition:y.q_.RIGHT},"create-first-server":{popoutPosition:y.q_.RIGHT,highPriority:!0},"organize-by-topic":{popoutPosition:y.q_.RIGHT,textAlign:v.iu.CENTER,spacing:8,media:function(){return(0,r.jsx)(C,{})}},"instant-invite":{popoutPosition:y.q_.RIGHT,spacing:24,highPriority:!0},"whos-online":{spacing:16,popoutPosition:y.q_.LEFT},"server-settings":{popoutPosition:y.q_.BOTTOM,spacing:10},"friends-list":{spacing:8,popoutPosition:y.q_.RIGHT},"create-more-servers":{spacing:8,
popoutPosition:y.q_.RIGHT}}),H=function(e){return e in G?G[e]:null},B=n(971738),V=n(620741),F=n(959797),W=n(444310),Y=n.n(W),z=function(){return(0,r.jsx)(r.Fragment,{children:F.Z.Messages.TIP_INSTANT_INVITE_BODY3.format({shareIcon:F.Z.Messages.INSTANT_INVITE,shareIconHook:function(){return(0,r.jsx)(V.Z,{className:Y().icon},"icon")}})})},K=function(){var e=(0,f.e7)([A.Z,B.Z],(function(){return A.Z.getGuild(B.Z.getGuildId())}),[]),t=null==e?void 0:e.name;return(0,r.jsx)(r.Fragment,{children:F.Z.Messages.TIP_WRITING_MESSAGES_BODY3.format({serverName:t})})},q=n(525709),X=n(461061),Q=n(850637),J=n.n(Q);function $(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function te(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function ne(e){
ne=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return ne(e)}function re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){te(e,t,n[t])}))}return e}function oe(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function ie(e,t){return!t||"object"!==ue(t)&&"function"!=typeof t?function(e){
if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ae(e,t){ae=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return ae(e,t)}function le(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return $(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ue=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function ce(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=ne(e);if(t){var o=ne(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ie(this,n)}}var se=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&ae(e,t)}(n,e);var t=ce(n);function n(){ee(this,n);var e
;(e=t.apply(this,arguments)).state={offsetX:null,offsetY:null};e.handleDismiss=function(){d.Z.dismiss(e.props.tutorialId)};return e}var o=n.prototype;o.componentDidMount=function(){this.updateCache()};o.componentDidUpdate=function(e){var t=e.tutorialId,n=e.origin,r=n.x,o=n.y,i=e.targetWidth,a=e.targetHeight,l=e.position,u=e.offset;this.props.tutorialId===t&&this.props.origin.x===r&&this.props.origin.y===o&&this.props.targetWidth===i&&this.props.targetHeight===a&&this.props.position===l&&this.props.offset.x===u.x&&this.props.offset.y===u.y||this.updateCache()};o.updateCache=function(){var e=(0,c.findDOMNode)(this);if(null!=e&&(0,s.k)(e,HTMLElement)){var t,n,r=e.offsetWidth,o=e.offsetHeight,i={offsetX:(this.props.targetWidth-r)/2,offsetY:(this.props.targetHeight-o)/2};switch(this.props.position){case y.q_.LEFT:i.offsetX=-r;break;case y.q_.RIGHT:i.offsetX=this.props.targetWidth;break;case y.q_.BOTTOM:i.offsetY=this.props.targetHeight;break;case y.q_.TOP:default:i.offsetY=-o}
i.offsetX+=null!==(t=this.props.offset.x)&&void 0!==t?t:0;i.offsetY+=null!==(n=this.props.offset.y)&&void 0!==n?n:0;this.setState(i)}};o.handleSkipTips=function(){d.Z.suppressAll()};o.getTutorialPopoutText=function(){return function(e){var t,n,o=null!==(t={VOICE_CONVERSATIONS:{title:(0,r.jsx)("div",{className:Y().voiceChannelsTitle,children:F.Z.Messages.NUF_VOICE_CHANNELS_TITLE}),body:F.Z.Messages.NUF_VOICE_CHANNELS_DESCRIPTION},WRITING_MESSAGES:{title:(0,r.jsx)("div",{className:Y().writingMessagesTitle,children:F.Z.Messages.TIP_WRITING_MESSAGES_TITLE3}),body:(0,r.jsx)(K,{})},ORGANIZE_BY_TOPIC:{title:(0,r.jsx)("div",{className:Y().channelsTitle,children:F.Z.Messages.NUF_CHANNELS_TITLE}),body:F.Z.Messages.NUF_CHANNELS_DESCRIPTION},WHOS_ONLINE:{title:F.Z.Messages.TIP_WHOS_ONLINE_TITLE3,body:F.Z.Messages.TIP_WHOS_ONLINE_BODY3.format()},INSTANT_INVITE:{title:F.Z.Messages.TIP_INSTANT_INVITE_TITLE3,body:(0,r.jsx)(z,{})},SERVER_SETTINGS:{title:F.Z.Messages.TIP_SERVER_SETTINGS_TITLE3,
body:F.Z.Messages.TIP_SERVER_SETTINGS_BODY3.format()},DIRECT_MESSAGES:{title:F.Z.Messages.TIP_DIRECT_MESSAGES_TITLE3,body:F.Z.Messages.TIP_DIRECT_MESSAGES_BODY3.format()},CREATE_MORE_SERVERS:{title:F.Z.Messages.TIP_CREATE_MORE_SERVERS_TITLE3,body:F.Z.Messages.TIP_CREATE_MORE_SERVERS_BODY3.format()},CREATE_FIRST_SERVER:{title:F.Z.Messages.TIP_CREATE_FIRST_SERVER_TITLE3,body:F.Z.Messages.TIP_CREATE_FIRST_SERVER_BODY3.format()},FRIENDS_LIST:{title:F.Z.Messages.TIP_FRIENDS_LIST_TITLE3,body:F.Z.Messages.TIP_FRIENDS_LIST_BODY3.format()}}[e.replace(/-/g,"_").toUpperCase()])&&void 0!==t?t:{};return{title:o.title,body:o.body,isLongText:null!==(n=o.isLongText)&&void 0!==n&&n}}(this.props.tutorialId)};o.render=function(){var e=this.props,t=e.tutorialId,n=e.autoInvert,o=e.focused,i=e.origin,l=H(t);if(null==l)return null;var u=l.media,c=l.textAlign,s=l.isLongText,f=l.highPriority,d=l.spacing,p=l.arrowAlignment,h=void 0===p?v.cy.TOP:p,y=l.popoutPosition,m=this.state,g=m.offsetX,O=m.offsetY,E={
left:null!=g?i.x+g:void 0,top:null!=O?i.y+O:void 0},j=function(e){var t,n=o&&!e;return te(t={},J().animating,n),te(t,J().notAnimating,!n),te(t,J().highPriority,f),t},S=this.getTutorialPopoutText();return(0,r.jsx)(v.ZP,oe(re({position:y,renderMedia:u,textAlign:c,spacing:d,isLongText:s,uniqueId:t,autoInvert:n,arrowAlignment:h,forceTheme:X.BRd.LIGHT,onSkipAll:this.handleSkipTips,onComplete:this.handleDismiss},S),{children:function(e,t){var n,i,l,u,c=t.isShown;return(0,r.jsx)(b.Z,oe(re({},e),{className:J().indicator,style:E,children:(0,r.jsxs)("div",{className:a()(J().animationContainer,j(c)),children:[(n=c,u=o&&!n,!0!==f?null:(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:a()(J().top,(i={},te(i,J().animating,u),te(i,J().notAnimating,!u),i))}),(0,r.jsx)("div",{className:a()(J().bottom,(l={},te(l,J().animating,u),te(l,J().notAnimating,!u),l))})]})),(0,r.jsx)("div",{className:a()(J().innerCircle,j(c))}),(0,r.jsx)("div",{className:a()(J().outerCircle,j(c))})]})}))}}))};return n
}(o.PureComponent);const fe=function(){var e=(0,f.cj)([q.Z,h.Z,p.Z],(function(){return{indicators:q.Z.getIndicators(),tutorialData:q.Z.getData(),shouldShowAny:q.Z.shouldShowAnyIndicators()&&!p.Z.hasLayers(),windowFocused:h.Z.isFocused()}})),t=e.indicators,n=e.tutorialData,o=e.windowFocused;return e.shouldShowAny?(0,r.jsx)(r.Fragment,{children:Object.entries(t).map((function(e){var t=le(e,2),i=t[0],a=t[1],l=n[i];u()(null!=l,"Missing tutorial definition for ".concat(i));return(0,r.jsx)(se,re({tutorialId:i,tutorialDefinition:l,focused:o},a),i)}))}):null}},525709:(e,t,n)=>{"use strict";n.d(t,{Z:()=>w});var r=n(606076),o=n(791462),i=n(173436),a=n(172762);const l=Object.freeze({"voice-conversations":{popoutOffset:{x:45,y:0}},"writing-messages":{prerequisites:["voice-conversations"],popoutOffset:{x:-36,y:0}},"direct-messages":{popoutOffset:{x:50,y:0}},"create-first-server":{popoutOffset:{x:45,y:0}},"organize-by-topic":{popoutOffset:{x:50,y:0}},"instant-invite":{
prerequisites:["organize-by-topic"],popoutOffset:{x:-10,y:0}},"whos-online":{prerequisites:["instant-invite"],popoutOffset:{x:-50,y:0}},"server-settings":{prerequisites:["instant-invite"],popoutOffset:{y:32,x:0}},"friends-list":{prerequisites:["instant-invite"],popoutOffset:{x:45,y:0}},"create-more-servers":{prerequisites:["server-settings"],popoutOffset:{x:45,y:0}}});var u=n(32733);function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function d(e){d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return d(e)}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){f(e,t,n[t])}))}return e}function h(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function y(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function b(e,t){b=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return b(e,t)}function v(e,t){return function(e){
if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var m=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function g(e){var t=function(){
if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var o=d(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y(this,n)}}var O={},E={},j=!0,S={},C=!1;function P(){return l}function I(){S={};if(!j){var e=P(),t=!0,n=!1,r=void 0;try{for(var o,i=Object.entries(e)[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=v(o.value,2),l=a[0],u=a[1],c=!1!==O[l];S[l]=c;if(c&&null!=u.prerequisites){var s=!0,f=!1,d=void 0;try{for(var p,h=u.prerequisites[Symbol.iterator]();!(s=(p=h.next()).done);s=!0){var y=p.value;!1===O[y]||(S[l]=!1)}}catch(e){f=!0;d=e}finally{try{s||null==h.return||h.return()}finally{if(f)throw d}}}}}catch(e){n=!0;r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}}}var _=function(e){!function(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&b(e,t)}(n,e);var t=g(n);function n(){s(this,n);return t.apply(this,arguments)}var o=n.prototype;o.initialize=function(){I();this.mustEmitChanges((function(e){return"CONNECTION_OPEN"!==e.type}));this.waitFor(a.Z)};o.shouldShow=function(e){return!(!C||j||u.a||function(e){return r.tq&&["writing-messages","organize-by-topic"].includes(e)}(e))&&(S[e]||!1)};o.shouldShowAnyIndicators=function(){return!j};o.getIndicators=function(){return E};o.getData=function(){return P()};o.getDefinition=function(e){var t=this.getData();return null!=t?t[e]:null};o.__getLocalVars=function(){return{indicators:O,activeIndicators:E,tutorialIndicatorsSuppressed:j,shouldShow:S,readyToShow:C}};return n}(o.ZP.Store);_.displayName="TutorialIndicatorStore";const w=new _(i.Z,{CONNECTION_OPEN:function(e){
var t=e.tutorial;C=!0;j=!0;O={};if(null!=t){j=t.indicators_suppressed;t.indicators_confirmed.forEach((function(e){return O[e]=!1}))}I()},CONNECTION_CLOSED:function(){C=!1},TUTORIAL_INDICATOR_DISMISS:function(e){O=h(p({},O),f({},e.tutorialId,!1));delete(E=p({},E))[e.tutorialId];I()},TUTORIAL_INDICATOR_SHOW:function(e){E=h(p({},E),f({},e.tutorialId,e.renderData))},TUTORIAL_INDICATOR_HIDE:function(e){delete(E=p({},E))[e.tutorialId]},TUTORIAL_INDICATOR_SUPPRESS_ALL:function(){j=!0}})},749469:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(785893),o=(n(667294),n(791462)),i=n(600341),a=n(186121),l=n(42944),u=n(934714),c=n(405959),s=n(959797);function f(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function d(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e)
;t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function p(){var e=(0,o.e7)([u.Z],(function(){return(0,c.P)(u.Z.getInputVolume())}));return(0,r.jsx)(a.II,{id:"input",label:s.Z.Messages.FORM_LABEL_INPUT_VOLUME,control:function(t,n){return(0,r.jsx)(l.Z,d(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){f(e,t,n[t])}))}return e}({},t),{ref:n,value:e,onChange:function(e){return i.Z.setInputVolume((0,c.A)(e))},"aria-label":s.Z.Messages.FORM_LABEL_INPUT_VOLUME}))}})}},488455:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var r=n(785893),o=(n(667294),
n(791462)),i=n(600341),a=n(186121),l=n(934714),u=n(742269),c=n(461061),s=n(959797);function f(){var e=!u.FB,t=(0,o.e7)([l.Z],(function(){return l.Z.getMode()})),n=function(e,n){return(0,r.jsx)(a.k5,{id:e,group:"input-modes",label:n,checked:t===e,action:function(){return i.Z.setMode(e)}},e)};return[n(c.pM4.VOICE_ACTIVITY,s.Z.Messages.INPUT_MODE_VAD),n(c.pM4.PUSH_TO_TALK,e?s.Z.Messages.INPUT_MODE_PTT_LIMITED:s.Z.Messages.INPUT_MODE_PTT)]}},557893:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(785893),o=(n(667294),n(791462)),i=n(600341),a=n(186121),l=n(42944),u=n(934714),c=n(405959),s=n(742269),f=n(959797);function d(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function p(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){
return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function h(){var e=(0,o.e7)([u.Z],(function(){return(0,c.P)(u.Z.getOutputVolume())}));return(0,r.jsx)(a.II,{id:"output",label:f.Z.Messages.FORM_LABEL_OUTPUT_VOLUME,control:function(t,n){return(0,r.jsx)(l.Z,p(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){d(e,t,n[t])}))}return e}({},t),{ref:n,value:e,maxValue:s.FB?200:100,onChange:function(e){return i.Z.setOutputVolume((0,c.A)(e))},"aria-label":f.Z.Messages.FORM_LABEL_OUTPUT_VOLUME}))}})}},972271:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(791462),o=n(934714),i=n(34405);function a(){
return(0,r.e7)([o.Z],(function(){return(0,i.Z)(o.Z)}))}},363572:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(570992),o=n(190177);function i(e,t,n){if(t.type===o.fO.ACTIVITY){var i;return null!==(i=null==n?void 0:n.name)&&void 0!==i?i:null}return r.Z.getName(e.getGuildId(),e.id,t.user)}},776500:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(190177);function o(e){var t,n;return e.type!==r.fO.ACTIVITY&&((0,r._5)(e)?null!=e.streamId:null!==(n=null===(t=e.voiceState)||void 0===t?void 0:t.selfVideo)&&void 0!==n&&n)}},544393:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(496486),o=n.n(r),i=n(791462),a=n(934714),l=n(866452);function u(){var e=(0,i.cj)([a.Z],(function(){var e,t,n=null===(t=null===(e=o()(a.Z.getVideoDevices()).values().first())||void 0===e?void 0:e.disabled)||void 0===t||t;return{enabled:a.Z.isVideoEnabled(),cameraUnavailable:n||!a.Z.supports(l.AN.VIDEO)}}));return{enabled:e.enabled,cameraUnavailable:e.cameraUnavailable}}},899881:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s})
;var r=n(791462),o=n(985836),i=n(631134),a=n(934714),l=n(940712),u=n(882687),c=n(461061);const s=function(e){return(0,r.cj)([i.default,u.Z,a.Z,l.Z,o.Z],(function(){return function(e){var t,n=e.channel,r=e.authenticationStore,s=void 0===r?i.default:r,f=e.voiceStateStore,d=void 0===f?u.Z:f,p=e.mediaEngineStore,h=void 0===p?a.Z:p,y=e.permissionStore,b=void 0===y?l.Z:y,v=e.viewAsRoleStore,m=void 0===v?o.Z:v,g=null!=n?d.getVoiceState(n.getGuildId(),s.getId()):null,O=h.isSelfMute()||h.isSelfMutedTemporarily(),E=null==n?void 0:n.getGuildId(),j=m.isViewingRoles(E)&&!b.can(c.Plq.SPEAK,n);return{selfMute:O,suppress:(null==g?void 0:g.suppress)||j,mute:null!==(t=null==g?void 0:g.mute)&&void 0!==t&&t}}({channel:e,authenticationStore:i.default,voiceStateStore:u.Z,mediaEngineStore:a.Z,permissionStore:l.Z,viewAsRoleStore:o.Z})}))}},241874:(e,t,n)=>{"use strict";n.d(t,{OV:()=>W,ZP:()=>z})
;var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),l=n(791462),u=n(842592),c=n(623899),s=n(779759),f=n(896348),d=n(478372),p=n(174572),h=n(578068),y=n(173436),b=n(750839),v=n(81717),m=n(882699),g=n(461061),O=function(e,t){return y.Z.wait((function(){(0,b.Cz)(e,t)}))};function E(e){var t,n=e.embedId,i=e.className,a=e.style,u=(0,l.e7)([v.Z],(function(){return v.Z.getWindow(g.KJ3.CHANNEL_CALL_POPOUT)})),c=null!==(t=null==u?void 0:u.window)&&void 0!==t?t:window,s=o.useRef(null),f=o.useMemo((function(){var e=null;return function(){null==e&&(e=c.requestAnimationFrame((function(){var t,r;O(n,null!==(r=null===(t=s.current)||void 0===t?void 0:t.getBoundingClientRect())&&void 0!==r?r:null);e=null})))}}),[n,c]);o.useEffect((function(){c.addEventListener("resize",f);m.S.subscribe(g.CkL.REMEASURE_TARGET,f);return function(){c.removeEventListener("resize",f);m.S.unsubscribe(g.CkL.REMEASURE_TARGET,f)}}),[f,c]);o.useLayoutEffect((function(){var e=s.current;if(null!=e){var t=e.ownerDocument.defaultView
;if(null!=t){f();var r=new t.ResizeObserver(f);r.observe(e);return function(){r.disconnect();O(n,null)}}}}),[n,f]);return(0,r.jsx)("div",{ref:s,style:a,className:i})}var j,S=n(644723),C=n(182134),P=n(859169),I=n(64833),_=n(320115),w=n(631134),x=n(859023),N=n(191940),T=n(685351),A=n(757987),Z=n(766936),R=n(436053),M=n(90816),D=n(570992),L=n(366236),k=n(959797),U=n(854911),G=n.n(U);function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function B(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function V(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}
}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return H(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return H(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}!function(e){e[e.SMALL=0]="SMALL";e[e.MEDIUM=1]="MEDIUM";e[e.LARGE=2]="LARGE"}(j||(j={}));var F=["embedded_background"];function W(e){var t=e.avatarSize,n=e.guildId,o=e.channelId,i=e.users,a=null!=t?t:L.u8.SIZE_32,l=(0,L.px)(a);return(0,r.jsx)(R.Z,{size:l,guildId:n,users:i,max:4,renderUser:function(e){if(null==e)return null;var t=D.Z.getName(n,o,e);return(0,r.jsx)(A.DY,{text:t,color:A.FG.GREY,children:(0,r.jsx)("img",{src:e.getAvatarURL(n,l),alt:t,className:G().avatar},e.id)},e.id)}})}function Y(e){
var t,n,o,i,d,p,h=e.participants,y=e.application,b=e.currentEmbeddedApplication,v=e.channel,m=e.width,g=function(e){return e>400?j.LARGE:e>300?j.MEDIUM:j.SMALL}(m),O=V(function(e){return e>400?[Z.ZP.Sizes.SIZE_56,56]:e>300?[Z.ZP.Sizes.SIZE_32,32]:[Z.ZP.Sizes.SIZE_24,24]}(m),1),E=O[0],C=(0,l.Wu)([x.default,w.default],(function(){return Array.from(h).map((function(e){return w.default.getId()===e?null:x.default.getUser(e)})).filter(M.lm)})),P=(0,l.e7)([c.ZP],(function(){return c.ZP.getEmbeddedActivitiesForChannel(v.id).find((function(e){return e.application_id===y.id}))})),_=(0,I.Z)().analyticsLocations,A=(0,u.O)(),R=null!==(o=D.Z.getName(v.getGuildId(),v.id,null==C?void 0:C[0]))&&void 0!==o?o:null==C||null===(t=C[0])||void 0===t?void 0:t.username,L=(0,f.s5)({userId:null===(n=x.default.getCurrentUser())||void 0===n?void 0:n.id,activity:P,channelId:v.id,application:y})===f.Fw.CAN_JOIN,U=null!==(i=v.getGuildId())&&void 0!==i?i:void 0;return(0,r.jsxs)("div",{className:G().splash,
children:[(0,r.jsx)(W,{avatarSize:E,guildId:U,channelId:v.id,users:C}),(0,r.jsx)(T.x,{className:a()(G().subheader,(d={},B(d,G().small,g===j.SMALL),B(d,G().medium,g===j.MEDIUM),d)),variant:"text-sm/normal",children:C.length>1?k.Z.Messages.EMBEDDED_ACTIVITIES_USERNAME_AND_OTHERS.format({username:R,count:C.length-1}):k.Z.Messages.EMBEDDED_ACTIVITIES_IS_PLAYING.format({username:R})}),(0,r.jsx)(T.x,{className:a()(G().header,(p={},B(p,G().small,g===j.SMALL),B(p,G().medium,g===j.MEDIUM),p)),variant:"text-sm/normal",children:y.name}),(0,r.jsx)("div",{className:G().buttons,children:L?(0,r.jsx)(N.Co,{onClick:function(e){e.stopPropagation();null!=P&&(0,s.Z)({activity:P,currentEmbeddedApplication:b,activityChannelId:v.id,locationObject:A.location,embeddedActivitiesManager:S.Z,analyticsLocations:_})},size:function(e){switch(e){case j.LARGE:return N.Co.Sizes.LARGE;case j.MEDIUM:return N.Co.Sizes.MEDIUM;case j.SMALL:return N.Co.Sizes.SMALL}}(g),className:G().button,color:N.Co.Colors.PRIMARY,
children:k.Z.Messages.EMBEDDED_ACTIVITIES_JOIN_ACTIVITY}):null})]})}function z(e){var t=e.participant,n=e.width,o=e.selected,i=e.interactible,a=e.channel,l=(0,I.Z)(P.Z.ACTIVITY_TILE).AnalyticsLocationProvider,u=t.id,c=(0,d.Z)(),s=(null==c?void 0:c.channelId)===a.id&&c.application_id===u,f=(0,p.Z)(),y=V((0,_.Z)([u]),1)[0],b=(0,h.Z)({applicationId:u,names:F,size:1024}).url,v=!o&&s,m=!s,g=!s&&!o;return(0,r.jsx)(l,{children:(0,r.jsx)("div",{className:G().container,children:(0,r.jsxs)(r.Fragment,{children:[v&&(0,r.jsx)(E,{className:G().iframe,embedId:(0,C.Z)(a.id,u)}),m&&null!=y&&null!=b&&""!==b?(0,r.jsx)("img",{className:G().splashImage,alt:y.name,src:b}):null,g&&null!=y&&(0,r.jsx)(Y,{width:n,channel:a,participants:t.participants,application:y,currentEmbeddedApplication:f}),i||m?null:(0,r.jsx)("div",{className:G().clickShield})]})})})}},225391:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),l=n(917507),u=n.n(l);function c(e,t,n){
t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}const s=o.forwardRef((function(e,t){var n=e.children,o=e.className,i=e.style,l=e.noBorder,s=void 0!==l&&l,f=e.participantUserId;return(0,r.jsx)("div",{className:a()(o,u().tile,c({},u().noBorder,s)),style:i,ref:t,"data-selenium-video-tile":f,children:n})}))},517879:(e,t,n)=>{"use strict";n.d(t,{BP:()=>It,ZP:()=>_t});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),l=n(791462),u=n(600341),c=n(239396),s=n(320115),f=n(722059),d=n(468811),p=n.n(d),h=n(173436),y=n(730189),b=n(23816),v=n(809107),m=n(333480),g=n(496486),O=n(211248),E=n.n(O),j=n(793089),S=n.n(j);function C(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function P(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){C(i,r,o,a,l,"next",e)}function l(e){C(i,r,o,a,l,"throw",e)}a(void 0)}))}}var I,_=function(e,t){
var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1]
;return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},w=(I=P((function(e){var t,n,r,o,i,a,l,u,c;return _(this,(function(s){switch(s.label){case 0:t=e.animationType,n=e.animationId,r=e.url,o=e.shouldResize;i=m.Jw[t];a=null!=n&&n<i.length?i[n]:(0,g.sample)(i);l=JSON.parse(JSON.stringify(a));u=l.assets[0];return o?[4,(0,m.lv)(r)]:[3,2];case 1:c=s.sent();return[3,3];case 2:c=r;s.label=3;case 3:u.p=c;return[2,l]}}))})),function(e){return I.apply(this,arguments)});function x(e){var t=e.containerDimensions,n=e.effect,i=e.onComplete,a=o.useRef(null);o.useEffect((function(){var e,t;(t=P((function(){var t;return _(this,(function(r){switch(r.label){case 0:return null==a.current?[3,2]:[4,w(n)];case 1:t=r.sent();(e=E().loadAnimation({container:a.current,renderer:"svg",loop:!1,autoplay:!0,animationData:t,rendererSettings:{preserveAspectRatio:"xMidYMax slice"}})).addEventListener("complete",(function(){return null==i?void 0:i(n.id)}));r.label=2;case 2:return[2]}}))})),function(){
return t.apply(this,arguments)})();return function(){null==e||e.destroy()}}),[i,n]);return(0,r.jsx)("div",{className:S().effect,style:{height:t.height,width:t.width},ref:a})}var N=n(461061),T=n(492297),A=n.n(T);function Z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function R(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||D(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e){return function(e){if(Array.isArray(e))return Z(e)}(e)||function(e){
if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||D(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){if(e){if("string"==typeof e)return Z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Z(e,t):void 0}}function L(e){var t=e.channelId,n=e.guildId,i=e.userId,a=e.containerDimensions,u=(0,l.e7)([y.Z],(function(){return y.Z.useReducedMotion})),c=R(o.useState([]),2),s=c[0],f=c[1],d=s.length<50,g=v.Z.getCurrentConfig({guildId:null!=n?n:""}).hasMinMax;o.useEffect((function(){var e=function(e){var r=e.channelId,o=e.userId,a=e.emoji,l=e.animationType,c=e.animationId;if((!g||null==i||i===o)&&r===t&&!u&&d){var s=(0,
m._r)(a),h=null!=a.id&&!a.animated,y={id:p()(),animationType:l,animationId:c,shouldResize:h,url:s,userId:o};f((function(e){return M(e).concat([y])}));b.ZP.trackWithMetadata(N.rMx.VOICE_CHANNEL_EFFECT_VIEWED,{channel_id:t,guild_id:n})}};h.Z.subscribe("VOICE_CHANNEL_EFFECT_SEND",e);return function(){h.Z.unsubscribe("VOICE_CHANNEL_EFFECT_SEND",e)}}),[g,t,n,i,u,d]);var O=o.useCallback((function(e){f((function(t){var n=M(t),r=n.findIndex((function(t){return t.id===e}));n.splice(r,1);return n}))}),[]);return u?null:(0,r.jsx)("div",{className:A().effectsWrapper,style:{width:a.width},children:(0,r.jsx)("div",{className:A().effects,children:s.map((function(e){return(0,r.jsx)(x,{containerDimensions:a,effect:e,onComplete:O},e.id)}))})})}var k=n(832010),U=n(549867),G=n(264115),H=n(46027),B=n(409112),V=n(452689);function F(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function W(e){for(var t=1;t<arguments.length;t++){
var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){F(e,t,n[t])}))}return e}function Y(e){var t=e.callTileRef,n=e.isFiring,o=(0,B.Z)(),i=(0,H.Z)(t);return null==i||null==t?null:(0,r.jsx)(U.Z,{position:{y:i.y+t.clientHeight/2,x:i.x+t.clientWidth/2},firing:n,count:4*o.count})}function z(e){return(0,r.jsx)(G.Z,{confettiLocation:V.Hn.CALL_TILE,children:(0,r.jsx)(Y,W({},e))})}var K=n(667805),q=n(794851),X=n(704427),Q=n(248088),J=n(152163),$=n(540877),ee=n.n($);function te(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ne(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{
for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return te(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return te(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var re=-120,oe=function(e){return"scale(".concat(1-e/re,") rotate(").concat(e,"deg)")};function ie(e){var t,n=e.userId,i=e.voiceChannelEffect,u=e.onComplete,c=i.emoji,s=i.sentAt,f=(0,l.e7)([y.Z],(function(){return y.Z.useReducedMotion})),d=ne(o.useState(!0),2),p=d[0],h=d[1],b=!f,v=(0,Q.useTransition)(p,{from:{rotate:re},enter:{
rotate:0},leave:{rotate:re},config:Q.config.default,immediate:f,onRest:function(e,t){"leave"===t.phase&&u()}});o.useEffect((function(){var e;Date.now()-s>=2e3?(0,X.H6)(n):e=setTimeout((function(){h(!1);b&&(0,X.H6)(n)}),b?2e3:6e3);return function(){null!=e&&clearTimeout(e)}}),[s,n,b]);return b?null:v((function(e,n){var o=e.rotate;return n&&(0,r.jsx)(Q.animated.div,{className:ee().voiceChannelEffectEmojiContainer,style:{transform:o.to(oe)},children:(0,r.jsx)(J.Z,{className:a()(ee().voiceChannelEffectEmoji),emojiId:c.id,emojiName:c.name,animated:null!==(t=c.animated)&&void 0!==t&&t})})}))}var ae=n(631134),le=n(934714),ue=n(629590),ce=n(685351),se=n(757987),fe=n(888488),de=n(8217),pe=n(353443),he=n(701197),ye=n(332761),be=n(353967),ve=n(433415),me=n(71284),ge=n(557328),Oe=n(915306),Ee=n(385156),je=n(363572),Se=n(241874),Ce=n(225391),Pe=n(370442),Ie=n(415344),_e=n(2157),we=n(201413),xe=n(306599),Ne=n(67121),Te=n(940237),Ae=n(18416),Ze=n(426217),Re=n(673340),Me=n(240243);function De(e,t){
(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Le(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function ke(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Ue(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r]
;t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function Ge(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return De(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return De(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function He(e){
var t=e.width,n=void 0===t?24:t,i=e.height,a=void 0===i?24:i,l=e.color,u=void 0===l?"currentColor":l,c=e.foreground,s=Ue(e,["width","height","color","foreground"]),f=Ge(o.useState((function(){return p().v4()})),1)[0];return(0,r.jsxs)("svg",ke(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Le(e,t,n[t])}))}return e}({},(0,Me.Z)(s)),{width:n,height:a,viewBox:"0 0 24 24",fill:"none",children:[(0,r.jsxs)("g",{"clip-path":"url(".concat(f,")"),children:[(0,r.jsx)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",
d:"M2 4.49956C2 3.39656 2.897 2.49956 4 2.49956H16.3994L2.3179 16.5811C2.11679 16.2692 2 15.8979 2 15.4996L2 4.49956ZM7.88469 19.4996H11L11 17.4996H9.88469L22 5.38426L22 15.4996C22 16.6036 21.103 17.4996 20 17.4996L13 17.4996L13 19.4996L17 19.4996L17 21.4996H7L7 20.3843L7.88469 19.4996Z",fill:u}),(0,r.jsx)("rect",{className:c,x:"1.53553",y:"20.1924",width:"28",height:"2",transform:"rotate(-45 1.53553 20.1924)",fill:"#ED4245"})]}),(0,r.jsx)("defs",{children:(0,r.jsx)("clipPath",{id:f,children:(0,r.jsx)("rect",{width:"24",height:"24",fill:"white"})})})]}))}var Be=n(225464),Ve=n(234182),Fe=n(735237),We=n(90395),Ye=n(430642),ze=n(13579),Ke=n(721431);function qe(e){return e<=220}var Xe=n(190177),Qe=n(866452),Je=n(959797),$e=n(32599),et=n.n($e);function tt(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){tt(e,t,n[t])}))}return e}function rt(e){var t=e.participant,n=e.selected,o=e.focused,i=e.idle,a=e.width,u=(0,l.e7)([Ae.Z],(function(){return Ae.Z.getActiveStreamForUser(t.user.id)})),c=qe(a);return(0,r.jsxs)(r.Fragment,{children:[n?null:(0,r.jsx)(Ke.Z,{participant:t}),o||null==u||u.state===N.jm8.ENDED||u.state===N.jm8.FAILED?null:(0,r.jsx)(Ne.Z,{size:Be.ZP.Sizes.LARGE,className:et().liveIndicator,participant:t,showQuality:!c&&!i,isUpsellEnabled:!1})]})}function ot(e){var t=e.isSmall;return(0,r.jsxs)("div",{className:a()(et().content,et().streamPreview,et().streamUnavailable,tt({},et().small,t)),children:[(0,r.jsx)(ce.x,{className:et().streamUnavailableText,color:"always-white",variant:t?"text-sm/semibold":"text-md/semibold",children:Je.Z.Messages.CONSOLE_STREAM_UNAVAILABLE}),(0,r.jsx)("div",{
className:et().darkCircle,children:(0,r.jsx)(He,{className:et().stopStreamIcon,foreground:et().stopStreamForeground})})]})}function it(e){var t=e.participant,n=e.selected,o=e.onVideoResize,i=e.paused,u=e.fit,c=e.inPopout,s=e.width,f=le.Z.getVideoComponent(),d=(0,l.e7)([ae.default],(function(){return ae.default.getId()})),p=(0,_e.Z)(),h=t.stream,y=t.user,b=t.streamId,v=(0,l.e7)([Ae.Z],(function(){return Ae.Z.getActiveStreamForUser(y.id)}),[y.id]),m=(0,l.e7)([Ae.Z],(function(){return Ae.Z.getAllActiveStreams().length>0})),g=(0,l.e7)([Ze.Z],(function(){return Ze.Z.isFocused()})),O=(null==v?void 0:v.ownerId)===d,E=O&&!g&&!c,j=null!=v?(0,we.Z)(v,y,y.id===d,E):null,S=s<195;return p?(0,r.jsx)(ot,{isSmall:S}):(null==v?void 0:v.state)===N.jm8.ENDED?(0,r.jsx)(We.Z,{selected:n,stream:v,width:s}):(null==v?void 0:v.state)===N.jm8.FAILED?(0,r.jsx)(Ye.Z,{selected:n,stream:v,width:s}):t.type===Xe.fO.HIDDEN_STREAM?(0,r.jsx)(ze.Z,{selected:n,participant:t,width:s
}):null!=v&&!n&&null!=f&&le.Z.supports(Qe.AN.VIDEO)?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(fe.Z,{onResize:o,wrapperClassName:et().videoWrapper,className:et().content,streamId:b,videoComponent:f,fit:u,paused:i||E,videoSpinnerContext:O?Ie.m.SELF_STREAM:Ie.m.REMOTE_STREAM}),null!=j?(0,r.jsx)(Te.Z,nt({size:(0,Fe.L)(s)},j)):null]}):(0,r.jsxs)("div",{className:a()(et().content,et().streamPreview,tt({},et().small,S)),children:[(0,r.jsx)(xe.Z,{noText:!0,className:a()(et().absoluteFill,tt({},et().streamPreviewOpacity,null==v)),stream:t.stream}),n?null:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Ve.a,{isSmall:S,children:(0,r.jsx)(ce.x,{variant:S?"text-sm/semibold":"text-md/semibold",color:"none",children:s<175?Je.Z.Messages.WATCH:Je.Z.Messages.WATCH_STREAM})}),m?(0,r.jsx)(Ve.a,{className:et().addCTA,tooltip:Je.Z.Messages.STREAM_WATCH_MULTIPLE_TOOLTIP,onClick:function(e){e.stopPropagation();(0,Pe.rn)(h,{forceMultiple:!0})},isSmall:S,children:(0,r.jsx)(Re.Z,{className:et().addStreamIcon})
}):null]})]})}var at=n(823569),lt=n(879022),ut=n(81717),ct=n(42595),st=n(917870),ft=n(570992),dt=n(776500),pt=n(366236);function ht(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var yt=ct.Z.AvatarSizes.SIZE_80,bt=ct.Z.AvatarSizes.SIZE_40;function vt(e){var t=e.participant,n=e.channel,o=e.inCall,i=e.width,u=e.paused,c=e.selected,s=e.fit,d=e.onVideoResize,p=e.blocked,h=e.noVideoRender,b=void 0!==h&&h,v=e.pulseSpeakingIndicator,m=void 0!==v&&v,g=le.Z.getVideoComponent(),O=(0,l.e7)([ae.default],(function(){return ae.default.getId()})),E=(0,l.e7)([y.Z],(function(){return y.Z.useReducedMotion})),j=t.user,S=t.streamId,C=t.speaking,P=j.id===O,I=(0,dt.Z)(t),_=(0,l.e7)([Ze.Z],(function(){return Ze.Z.isFocused()})),w=(0,l.e7)([ut.Z],(function(){return ut.Z.getWindowFocused(N.KJ3.CHANNEL_CALL_POPOUT)})),x=(0,l.e7)([le.Z],(function(){return null!=j.id&&le.Z.isLocalVideoDisabled(j.id,(0,f.Z)(t.type))
}),[j.id,t.type]),T=ft.Z.getName(n.getGuildId(),n.id,j),A=i<124,Z=(0,at.E)().canUseAvatarDecorations;if(o&&!x&&!b&&I&&!c&&null!=g&&le.Z.supports(Qe.AN.VIDEO))return(0,r.jsx)(fe.Z,{onResize:d,wrapperClassName:et().videoWrapper,className:et().content,mirror:P,streamId:S,videoComponent:g,fit:s,paused:u,videoSpinnerContext:j.id===O?Ie.m.SELF_VIDEO:Ie.m.REMOTE_VIDEO});var R=!E&&C&&(w||_),M=A?bt:yt,D=Z?(0,st.NZ)({userId:j.id,avatarDecoration:j.avatarDecoration,size:(0,lt.y)(M)}):null;return(0,r.jsx)("div",{className:a()(et().content,ht({},et().blockedAvatar,p)),children:(0,r.jsx)(ct.Z,{"aria-label":T,src:j.getAvatarURL(n.guild_id,A?pt.H8[bt].size:pt.H8[yt].size,R),avatarDecoration:D,backgroundSrc:j.getAvatarURL(n.guild_id,80),size:M,pulseSpeakingIndicator:m,speaking:C})})}function mt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function gt(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n
;return e}function Ot(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){gt(e,t,n[t])}))}return e}function Et(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function jt(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t)
;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function St(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return mt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mt(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Ct=o.memo((function(e){var t,n,i,d,p=e.participant,h=e.onDoubleClick,y=e.onContextMenu,b=e.onClick,m=e.onMouseDown,g=e.onKeyDown,O=e.className,E=e.style,j=e.channel,S=e.width,C=e.inPopout,P=e.onVideoResize,I=e.inCall,_=void 0!==I&&I,w=e.selected,x=void 0!==w&&w,T=e.noBorder,A=void 0!==T&&T,Z=e.noVideoRender,R=void 0!==Z&&Z,M=e.focused,D=void 0!==M&&M,k=e.blocked,U=void 0!==k&&k,G=e.fit,H=void 0===G?fe.L.CONTAIN:G,B=e.paused,F=void 0!==B&&B,W=e.pulseSpeakingIndicator,Y=void 0!==W&&W,Q=o.useContext(q.h9),J=St(o.useState(!1),2),$=J[0],ee=J[1],te=(0,l.e7)([ae.default],(function(){return ae.default.getId()})),ne=p.type===Xe.fO.ACTIVITY?null:null===(t=p.user)||void 0===t?void 0:t.id,re=St((0,s.Z)(p.type===Xe.fO.ACTIVITY?[p.id]:[]),1)[0],oe=(0,l.e7)([le.Z],(function(){return null!=ne&&le.Z.isLocalVideoDisabled(ne,(0,
f.Z)(p.type))}),[ne,p.type]),ue=function(e,t){var n,r,o=null,i=null,a=null,l=!1,u=!1;switch(e.type){case Xe.fO.ACTIVITY:break;case Xe.fO.USER:o=e.streamId;a=e.voiceState;l=e.speaking;u=e.ringing;break;case Xe.fO.STREAM:o=e.streamId;i=e.stream}return{streamId:o,stream:i,speaking:l,ringing:u,muted:null!==(n=null==a?void 0:a.isVoiceMuted())&&void 0!==n&&n,deafen:null!==(r=null==a?void 0:a.isVoiceDeafened())&&void 0!==r&&r,mirror:e.type===Xe.fO.USER&&e.user.id===t,hasVideo:(0,dt.Z)(e)}}(p,te),ce=ue.speaking,se=ue.muted,pe=ue.deafen,ye=ue.ringing,be=ue.hasVideo,ve=(0,l.e7)([le.Z],(function(){return null!=ne&&le.Z.isLocalMute(ne,(0,f.Z)(p.type))}),[ne,p.type]),me=p.type===Xe.fO.STREAM&&ne===te,ge=v.Z.getCurrentConfig({guildId:null!==(d=j.getGuildId())&&void 0!==d?d:""}).hasMinMax,Oe=(0,l.e7)([X.ZP],(function(){return null!=ne?X.ZP.getEffectForUserId(ne):null}));o.useEffect((function(){ee(D)}),[D]);var Ee=o.useCallback((function(){null!=ne&&u.Z.toggleLocalMute(ne,Qe.Yn.STREAM)
}),[ne]),Pe=o.useCallback((function(e){null==b||b(p,e)}),[b,p]),Ie=o.useCallback((function(e){null==h||h(p,e)}),[h,p]),_e=o.useCallback((function(e){null==y||y(p,e)}),[y,p]),we=null,xe=null,Ne=!0,Te="";switch(p.type){case Xe.fO.STREAM:we=(0,r.jsx)(it,{participant:p,selected:x,width:S,fit:H,onVideoResize:P,paused:F,inPopout:C});xe=(0,r.jsx)(rt,{participant:p,selected:x,width:S,focused:D,idle:Q});Ne=!1;Te=Je.Z.Messages.CALL_TILE_A11Y_LABEL_STREAM.format({streamerName:p.user.username});break;case Xe.fO.USER:we=(0,r.jsx)(vt,{channel:j,inCall:_,participant:p,fit:H,onVideoResize:P,paused:F,selected:x,width:S,blocked:U,noVideoRender:R,pulseSpeakingIndicator:Y});Te=Je.Z.Messages.CALL_TILE_A11Y_LABEL_USER.format({username:p.user.username});break;case Xe.fO.ACTIVITY:we=(0,r.jsx)(Se.ZP,{interactible:D,participant:p,selected:x,channel:j,width:S});Te=Je.Z.Messages.CALL_TILE_A11Y_LABEL_ACTIVITY.format({activityName:null==re?void 0:re.name});break;case Xe.fO.HIDDEN_STREAM:we=(0,r.jsx)(it,{
participant:p,selected:x,width:S,fit:H,onVideoResize:P,paused:F,inPopout:C})}var Ae,Ze,Re,Me,De=o.useRef(null);return(0,r.jsx)(c.Z,{section:N.jXE.VOICE_CHANNEL_TILE,children:(0,r.jsx)("div",{className:a()(et().wrapper,gt({},et().ringing,ye),O),children:(0,r.jsxs)(K.Z,{shakeLocation:V.oZ.VOICE_USER,isShaking:ce,className:et().tile,children:[(0,r.jsx)(Ce.Z,{ref:De,className:a()(et().tile,(Re={},gt(Re,et().noBorder,A),gt(Re,et().noInteraction,null==b),gt(Re,et().idle,Q),gt(Re,et().videoLayer,Ne),Re)),noBorder:A,style:E,participantUserId:ne,children:(0,r.jsxs)(de.Z,{"aria-label":Te,className:et().tileChild,onDoubleClick:Ie,onContextMenu:_e,onClick:Pe,onMouseDown:m,onKeyDown:g,focusProps:{offset:1},children:[p.type===Xe.fO.USER&&null!=ne&&null!=Oe?(0,r.jsx)(ie,{voiceChannelEffect:Oe,onComplete:function(){return(0,X.H6)(ne)},userId:ne}):null,ge&&p.type===Xe.fO.USER?(0,r.jsx)("div",{className:et().voiceChannelEffectsContainer,children:(0,r.jsx)(L,{userId:ne,channelId:j.id,
guildId:j.getGuildId(),containerDimensions:{width:null!==(Ae=null==De||null===(n=De.current)||void 0===n?void 0:n.clientWidth)&&void 0!==Ae?Ae:0,height:null!==(Ze=null==De||null===(i=De.current)||void 0===i?void 0:i.clientHeight)&&void 0!==Ze?Ze:0}})}):null,we,A?null:(0,r.jsx)("div",{className:et().indicators,children:xe}),x?(0,r.jsx)("div",{className:et().selectedScreen,children:(0,r.jsx)(he.Z,{className:et().selectedIcon})}):null,p.type!==Xe.fO.ACTIVITY?(0,r.jsx)(Pt,{focused:D,width:S,inCall:_,participantType:p.type,hasVideo:null!=be&&be,muted:se,deafen:pe,idle:Q,title:(0,je.Z)(j,p),blocked:U,localMute:ve,localVideoDisabled:oe,hideAudioIcon:me,onContextMenu:_e,onToggleMute:Ee}):null,_&&!A?(0,r.jsx)("div",{className:a()(et().border,(Me={},gt(Me,et().voiceChannelEffect,!D&&null!=Oe),gt(Me,et().speaking,ce&&!D),Me))}):null]})}),(0,r.jsx)(z,{isFiring:$,callTileRef:De.current})]})})})}));Ct.displayName="CallTile";var Pt=o.memo((function(e){
var t=e.muted,n=e.deafen,o=e.idle,i=e.title,l=e.width,u=e.hasVideo,c=e.inCall,s=e.localMute,f=e.localVideoDisabled,d=e.focused,p=e.blocked,h=e.hideAudioIcon,y=e.participantType,b=e.onContextMenu,v=e.onToggleMute,m=null,g=null,O=null,E=qe(l),j=function(e){return e<=124}(l);if(!h)if(n||t||s){var S=n?be.Z:ve.Z;m=(0,r.jsx)(S,{foreground:a()(gt({},et().localMuteStrikethrough,s&&!n)),className:et().status});if(s&&y===Xe.fO.STREAM&&u&&!d){m=(0,r.jsx)(se.ZP,{text:Je.Z.Messages.UNMUTE,children:function(e){var t=e.onClick,n=jt(e,["onClick"]);return(0,r.jsx)(ue.Z,Et(Ot({},n),{onClick:function(e){e.stopPropagation();null==t||t();v()},className:a()(et().status,et().interactive),children:(0,r.jsx)(Ee.Z,{})}))}})}}else if(!s&&y===Xe.fO.STREAM&&u&&!E&&!d){m=(0,r.jsx)(se.ZP,{text:Je.Z.Messages.MUTE,children:function(e){var t=e.onClick,n=jt(e,["onClick"]);return(0,r.jsx)(ue.Z,Et(Ot({},n),{onClick:function(e){e.stopPropagation();null==t||t();v()},
className:a()(et().status,et().interactive,et().toggleMute),children:(0,r.jsx)(Oe.Z,{})}))}})}c&&le.Z.supports(Qe.AN.VIDEO)||!u||(g=(0,r.jsx)(he.Z,{className:et().status}));c&&u&&f&&(g=(0,r.jsx)(ye.Z,{className:et().status,foreground:et().localMuteStrikethrough}));if(y===Xe.fO.STREAM&&!d&&u){O=(0,r.jsx)(se.ZP,{text:Je.Z.Messages.OPTIONS,children:function(e){var t=e.onClick,n=jt(e,["onClick"]);return(0,r.jsx)(ue.Z,Et(Ot({},n),{onClick:function(e){e.stopPropagation();null==t||t();b(e)},className:a()(et().status,et().interactive),children:(0,r.jsx)(ge.Z,{})}))}})}return(0,r.jsxs)("div",{className:a()(et().overlay,gt({},et().small,l<195)),children:[j?(0,r.jsx)("div",{}):(0,r.jsxs)(ce.x,{className:a()(et().overlayTitle,gt({},et().idle,o)),color:"none",variant:"text-md/normal",children:[p?(0,r.jsx)("div",{className:et().blocked,children:(0,r.jsx)(pe.Z,{className:et().blockedIcon,color:(0,k.Lq)(N.Ilk.STATUS_RED_500)})}):null,y===Xe.fO.STREAM&&(0,r.jsx)(me.Z,{className:et().titleIcon
}),null!=i&&""!==i?(0,r.jsx)("span",{className:et().overlayTitleText,children:i}):null]}),(0,r.jsxs)("div",{className:et().statusContainer,children:[g,m,O]})]})}));Pt.displayName="CallTileOverlay";var It=fe.L;const _t=Ct},234182:(e,t,n)=>{"use strict";n.d(t,{a:()=>p});var r=n(785893),o=(n(667294),n(294184)),i=n.n(o),a=n(191940),l=n(757987),u=n(760443),c=n.n(u);function s(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function f(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function d(e,t){if(null==e)return{};var n,r,o=function(e,t){
if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function p(e){var t=e.children,n=e.onClick,o=e.className,u=e.tooltip;return(0,r.jsx)(l.ZP,{text:u,children:function(e){var l=e.onClick,u=d(e,["onClick"]);return(0,r.jsx)(a.Co,f(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){s(e,t,n[t])}))}return e}({},u),{onClick:function(e){null==n||n(e);null==l||l()},innerClassName:c().buttonReset,color:i()(c().cta,o),size:a.Co.Sizes.MIN,children:t}))}})}},906695:(e,t,n)=>{"use strict"
;n.d(t,{UE:()=>gn,pv:()=>mn,NZ:()=>Cn,ZP:()=>wn,r:()=>Sn});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),l=n(441143),u=n.n(l),c=n(248088),s=n(791462),f=n(820028),d=n(600341),p=n(804626),h=n(370442),y=n(239396),b=n(842592),v=n(952013),m=n(35599),g=n(39802),O=n(730189),E=n(623899),j=n(627599),S=n(416866);var C=n(228260),P=n(90151),I=n(428801),_=n(859169),w=n(64833),x=n(67874),N=n(14395),T=n(841522),A=n(457188),Z=n(95048),R=n(430923),M=n(781479),D=n(997163),L=n(742572),k=n(505780),U=n(217891),G=n(186121),H=n(348025),B=n(316103),V=n(356004),F=n(761434),W=n(845724),Y=n(523283),z=n(455040),K=n(427809),q=n(303680),X=n(875684),Q=n(423845),J=n(959797),$=n(135582),ee=n.n($);function te(e){var t=e.guildId,n=e.channelId,o=e.onClick,i=(0,m.bp)(),a=(0,U.qY)(n),l=(0,s.e7)([V.Z],(function(){return V.Z.getChannel(n)}),[n]),u=(0,X.o)(t,l);if(null==a)return null;var c=function(){null!=l&&(0,q.Z)(l)?(0,z.lC)(l,i):o()},f=function(){K.Z.endEvent(a.id,a.guild_id)};return u?(0,r.jsx)(F.ZP,{
renderPopout:function(e){var t=e.closePopout;return(0,r.jsx)(H.Z,{children:(0,r.jsx)(G.ZP,{navId:"exit-options",onSelect:function(){},"aria-label":J.Z.Messages.DISCONNECT_MENU,onClose:t,children:(0,r.jsx)(G.sN,{id:"end-voice-event",color:Q.g.DANGER,action:f,label:J.Z.Messages.END_EVENT,icon:Y.Z})})})},align:F.ZP.Align.CENTER,position:F.ZP.Positions.TOP,animation:F.ZP.Animation.FADE,children:function(e){var t=e.onClick;return(0,r.jsx)(B.d,{label:J.Z.Messages.DISCONNECT_SELF,color:"red",iconComponent:W.Z,onClick:c,onPopoutClick:t,className:ee().buttonSpacing})}}):(0,r.jsx)(B.d,{className:ee().buttonSpacing,label:J.Z.Messages.DISCONNECT_SELF,color:"red",iconComponent:W.Z,onClick:o})}var ne=n(607568),re=n(6873),oe=n(4258);function ie(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function ae(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r]
;t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function le(e){var t=e.isActivityActive,n=ae(e,["isActivityActive"]);return(0,r.jsx)(B.d,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){ie(e,t,n[t])}))}return e}({color:t?"white":"primaryDark",iconComponent:oe.Z},n))}var ue=n(414501),ce=n(630519),se=n(72895),fe=n(905633),de=n(440521),pe=n(696229);function he(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function ye(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{}
;var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function be(e){var t=e.hasPermission,n=e.centerButton,o=void 0!==n&&n,i=ye(e,["hasPermission","centerButton"]),a=o?B.d:B.Z,l=t?J.Z.Messages.SHARE_YOUR_SCREEN:J.Z.Messages.ACTIVITY_PANEL_GO_LIVE_TOOLTIP_NO_PERMISSION_IN_VOICE;return(0,r.jsx)(a,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){he(e,t,n[t])}))}return e}({label:l,disabled:!t,iconComponent:pe.Z},i))}
var ve=n(421040),me=n(809107),ge=n(18416),Oe=n(934714),Ee=n(379822),je=n(859023),Se=n(304546),Ce=n(757987),Pe=n(108580),Ie=n(544393),_e=n(511390),we=n(432107),xe=n(899881),Ne=n(35220),Te=n(424210),Ae=n(362362),Ze=n.n(Ae);function Re(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Re(e,t,n[t])}))}return e}function De(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})))
;n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Le(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}var ke=(0,c.animated)((function(e){var t=e.className,n=e.percentComplete,o=52;return(0,r.jsx)("svg",{className:t,width:o,height:o,viewBox:"0 0 ".concat(o," ").concat(o),children:(0,r.jsx)("circle",{style:{strokeDashoffset:100*n},className:Ze().progress,cx:26,cy:26,r:20,fill:"none",stroke:"#4F545C",pathLength:"100"})})}));function Ue(e){
var t=e.totalCooldownSeconds,n=e.remainingCooldownSeconds,o=e.onClick,i=e.onKeyDown,a=e.onMouseEnter,l=e.onMouseLeave,u=Le(e,["totalCooldownSeconds","remainingCooldownSeconds","onClick","onKeyDown","onMouseEnter","onMouseLeave"]),s=n>0,f=(0,c.useSpring)({percentComplete:0!==n?(t-n)/t:0,config:De(Me({},c.config.molasses),{duration:1e3})}),d=s?J.Z.Messages.VOICE_CHANNEL_EFFECTS_COOLDOWN.format({seconds:n}):void 0;return(0,r.jsxs)("div",{className:Ze().container,children:[(0,r.jsx)(B.d,De(Me({},u),{disabled:s,label:d,iconComponent:Te.Z,onClick:o,onKeyDown:i,onMouseEnter:a,onMouseLeave:l,grow:!1})),s?(0,r.jsx)(ke,{className:Ze().countdown,percentComplete:f.percentComplete}):null]})}
var Ge=n(704427),He=n(496486),Be=n(468811),Ve=n.n(Be),Fe=n(173436),We=n(956345),Ye=n(152163),ze=n(725616),Ke=n(747465),qe=n(23816),Xe=n(681641),Qe=n(536989),Je=n(992735),$e=n(803204),et=n(191940),tt=n(629590),nt=n(851994),rt=n(629858),ot=n(94813),it=n(221713),at=n(641082),lt=n(90816),ut=n(863419),ct=n(675860),st=n(389650),ft=n(461061);function dt(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function pt(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var ht,yt=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),
0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};!function(e){e.EMOJI_PICKER="emoji_picker";e.EFFECT_BAR="effect_bar"}(ht||(ht={}));var bt,vt,mt,gt=(vt=(bt=function(e){var t,n,r,o,i,a,l,u,c,s;return yt(this,(function(f){switch(f.label){case 0:t=e.channel,n=e.emoji,r=e.location,o=e.animationType,i=e.animationId,a=e.isPremium;if(null==n||Ge.ZP.isOnCooldown)return[2];l=a&&null!=o?o:st.q.BASIC
;f.label=1;case 1:f.trys.push([1,3,,4]);u=null!=n.id?{emoji_id:n.id,emoji_name:n.name,animation_type:l,animation_id:i}:{emoji_id:null,emoji_name:n.optionallyDiverseSequence,animation_type:l,animation_id:i};return[4,ct.Z.post({url:ft.ANM.VOICE_CHANNEL_EFFECTS(t.id),body:u})];case 2:f.sent();Et(t,n,r,l);Fe.Z.dispatch({type:"VOICE_CHANNEL_EFFECT_SENT_LOCAL"});return[3,4];case 3:if(429===(c=f.sent()).status&&null!=c.body.retry_after){s=1e3*c.body.retry_after;Fe.Z.dispatch({type:"VOICE_CHANNEL_EFFECT_UPDATE_TIME_STAMP",cooldownEndsAtMs:s})}return[3,4];case 4:return[2]}}))},function(){var e=this,t=arguments;return new Promise((function(n,r){var o=bt.apply(e,t);function i(e){dt(o,n,r,i,a,"next",e)}function a(e){dt(o,n,r,i,a,"throw",e)}i(void 0)}))}),function(e){return vt.apply(this,arguments)}),Ot=(pt(mt={},st.q.BASIC,"Basic"),pt(mt,st.q.PREMIUM,"Premium"),mt),Et=function(e,t,n,r){var o=(0,
at.sp)([t],e.getGuildId()),i=o.unicode,a=o.custom,l=o.customExternal,u=o.managed,c=o.managedExternal,s=o.animated,f=Ot[r];qe.ZP.trackWithMetadata(ft.rMx.VOICE_CHANNEL_EFFECT_SENT,{channel_id:e.id,guild_id:e.getGuildId(),location:n,emoji_unicode:i,emoji_custom:a,emoji_custom_external:l,emoji_managed:u,emoji_managed_external:c,emoji_animated:s,animation_type:f})};function jt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function St(e){St=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return St(e)}function Ct(e,t){return!t||"object"!==_t(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Pt(e,t){Pt=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Pt(e,t)}var It,_t=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function wt(e){
var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=St(e);if(t){var o=St(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ct(this,n)}}var xt=function(){It=It===st.q.BASIC?st.q.PREMIUM:st.q.BASIC},Nt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Pt(e,t)}(n,e);var t=wt(n);function n(){jt(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(e){var t;It=null!==(t=null==e?void 0:e.animationType)&&void 0!==t?t:st.q.PREMIUM};r.getState=function(){return{animationType:It}};r.__getLocalVars=function(){return{
animationType:It,handleToggleAnimationType:xt}};return n}(s.ZP.PersistedStore);Nt.displayName="VoiceChannelEffectsPersistedStore";Nt.persistKey="VoiceChannelEffectsPersistedStore";const Tt=new Nt(Fe.Z,{VOICE_CHANNEL_EFFECT_TOGGLE_ANIMATION_TYPE:xt});var At=n(333480),Zt=n(347735);function Rt(e){var t=e.value,n=e.labelText,o=e.onChange,i=e.onShowUpsell,a=(0,s.e7)([je.default],(function(){return je.default.getCurrentUser()})),l=ut.ZP.canUseFancyVoiceChannelReactions(a),u="";u=l?t?J.Z.Messages.VOICE_CHANNEL_EFFECTS_TOGGLE_TOOLTIP_ENABLED:J.Z.Messages.VOICE_CHANNEL_EFFECTS_TOGGLE_TOOLTIP_DISABLED:J.Z.Messages.VOICE_CHANNEL_EFFECTS_TOGGLE_UPSELL;return(0,r.jsx)(Zt.Z,{checked:t,onChange:o,labelText:n,tooltipText:u,iconAltText:J.Z.Messages.VOICE_CHANNEL_EFFECTS_TOGGLE_TADA_ALT,canToggle:l,onClick:l?function(){}:i})}var Mt=n(833054),Dt=n(298716),Lt=n(228031),kt=n(332342),Ut=n.n(kt);function Gt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}
function Ht(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Bt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||Ft(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vt(e){return function(e){if(Array.isArray(e))return Gt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ft(e)||function(){
throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ft(e,t){if(e){if("string"==typeof e)return Gt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Gt(e,t):void 0}}var Wt="vcfx-".concat(Ve().v4()),Yt=function(e){var t=e.emoji,n=e.isDisabled,i=void 0!==n&&n,l=e.onClick,u=Bt(o.useState(!1),2),s=u[0],f=u[1],d=o.useCallback((function(){s||f(!0)}),[s,f]),p=o.useCallback((function(){f(!1)}),[f]);return(0,r.jsx)(et.Co,{onClick:l,look:et.Co.Looks.BLANK,size:et.Co.Sizes.NONE,onMouseEnter:d,onMouseLeave:p,children:(0,r.jsx)(c.Spring,{config:rt.u,from:{value:0},to:{value:s?1:0},children:function(e){var n=e.value;return(0,r.jsx)(c.animated.div,{style:{transform:n.to([0,1],[1,1.14]).to((function(e){
return"scale(".concat(e,")")}))},children:(0,r.jsx)(Ye.Z,{className:a()(Ut().emoji,Ht({},Ut().emojiItemDisabled,i)),emojiId:t.id,emojiName:null==t?void 0:t.surrogates,animated:t.animated})})}})})},zt=ft.HzX.CHAT,Kt={section:ft.jXE.VOICE_CHANNEL_EFFECTS_EMOJI_PICKER,openPopoutType:"voice_channel_effect_emoji_picker"},qt=[ze.Z.getByName("thumbsup"),ze.Z.getByName("eyes"),ze.Z.getByName("laughing"),ze.Z.getByName("watermelon"),ze.Z.getByName("fork_and_knife"),ze.Z.getByName("yum")].filter(lt.lm);function Xt(e){var t,n=e.channel,i=e.closePopout,l=e.onFocus,u=me.Z.getCurrentConfig({guildId:n.guild_id}).hasMinMax,c=(0,s.e7)([O.Z],(function(){return O.Z.useReducedMotion})),d=(0,s.e7)([je.default],(function(){return je.default.getCurrentUser()})),p=ut.ZP.canUseFancyVoiceChannelReactions(d),h=(0,s.e7)([Tt],(function(){return Tt.getState().animationType})),y=Bt(o.useState(!1),2),b=y[0],v=y[1],m=(0,Xe.wC)(n.guild_id),g=(0,He.uniqBy)(Vt(m).concat(Vt(qt)),"name").filter((function(e){
return!at.ZP.isEmojiFilteredOrLocked(e,n,zt)})).slice(0,Ge.oS),E=(null!==(t=Ge.ZP.recentlyUsedEmojis)&&void 0!==t?t:[]).filter((function(e){return!g.slice(0,Ge.oS-1).some((function(t){return t.name===e.name}))}));E.length>0&&g.splice(g.length-1,1,E[0]);var j=(0,At.Iu)(h),S=function(e,t){Fe.Z.dispatch({type:"VOICE_CHANNEL_EFFECT_RECENT_EMOJI",emoji:e});gt({channel:n,emoji:e,location:ht.EMOJI_PICKER,animationType:h,animationId:j,isPremium:p});v(!t);t&&(0,Je.$2)(null)},C=n.id,P=n.guild_id;o.useEffect((function(){qe.ZP.trackWithMetadata(ft.rMx.VOICE_CHANNEL_EFFECT_BAR_VIEWED,{channel_id:C,guild_id:P})}),[C,P]);o.useEffect((function(){b&&qe.ZP.trackWithMetadata(ft.rMx.VOICE_CHANNEL_EFFECT_EMOJI_PICKER_EXPANDED,{channel_id:C,guild_id:P})}),[b,C,P]);var I=function(e){null!=e&&e.keyCode!==ft.yXg.TAB&&(e.keyCode!==ft.yXg.ENTER||e.shiftKey?v(!0):v(!b))},_=[];c&&_.push(f.z$.VOICE_CHANNEL_EFFECTS_REDUCED_MOTION_TOOLTIP);return(0,r.jsx)(Z.Z,{contentTypes:_,children:function(e){
var t=e.visibleContent,o=e.markAsDismissed,s=c&&t===f.z$.VOICE_CHANNEL_EFFECTS_REDUCED_MOTION_TOOLTIP;return(0,r.jsxs)(nt.Z,{"aria-labelledby":Wt,children:[(0,r.jsx)(ot.y,{forceLevel:2,children:(0,r.jsx)(Ke.Z,{children:(0,r.jsx)(ot.H,{id:Wt,children:J.Z.Messages.VOICE_CHANNEL_EFFECTS_HOTBAR_TITLE})})}),(0,r.jsx)(F.ZP,{position:Ce.ZP.Positions.LEFT,"aria-label":J.Z.Messages.VOICE_CHANNEL_EFFECTS_MORE,shouldShow:s,renderPopout:function(){return(0,r.jsx)("div",{onMouseEnter:l,children:(0,r.jsx)($e.ZP,{className:Ut().reducedMotionTooltip,header:J.Z.Messages.VOICE_CHANNEL_EFFECTS_REDUCED_MOTION_TOOLTIP_TITLE,content:J.Z.Messages.VOICE_CHANNEL_EFFECTS_REDUCED_MOTION_TOOLTIP_BODY,onClick:function(){We.Z.open(ft.oAB.ACCESSIBILITY,null,{scrollPosition:Lt.rP.REDUCED_MOTION});i()},markAsDismissed:o,buttonCTA:J.Z.Messages.VOICE_CHANNEL_EFFECTS_REDUCED_MOTION_TOOLTIP_CONFIRM,secondaryButtonCTA:J.Z.Messages.VOICE_CHANNEL_EFFECTS_REDUCED_MOTION_TOOLTIP_CANCEL,caretPosition:$e.DF.RIGHT_CENTER})})},
children:function(){return(0,r.jsxs)("div",{className:Ut().container,children:[u?(0,r.jsx)(Qe.Z,{analyticsOverride:Kt,channel:n,className:a()(Ut().animatedPicker,Ht({},Ut().animatedPickerTall,b)),headerClassName:a()(Ut().emojiPickerHeader,Ht({},Ut().emojiPickerHeaderExpanded,b)),closePopout:i,onSelectEmoji:b?S:function(){},shouldHidePickerActions:!b,wrapper:"div",pickerIntention:zt,searchProps:{accessory:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Rt,{labelText:J.Z.Messages.VOICE_CHANNEL_EFFECTS_TOGGLE,value:h===st.q.PREMIUM,onChange:function(){if(p){qe.ZP.trackWithMetadata(ft.rMx.VOICE_CHANNEL_EFFECT_FANCY_ANIMATION_TOGGLED,{channel_id:C,guild_id:P,enabled:!(h===st.q.PREMIUM)});return Fe.Z.dispatch({type:"VOICE_CHANNEL_EFFECT_TOGGLE_ANIMATION_TYPE"})}},onShowUpsell:function(){return(0,Mt.openEffectsUpsellModal)({analytics:{type:b?Dt.cd.VOICE_CHANNEL_EFFECTS_TOGGLE_CLICKED_EXPANDED:Dt.cd.VOICE_CHANNEL_EFFECTS_TOGGLE_CLICKED,object:ft.qAy.VOICE_CHANNEL_EFFECTS_TOGGLE,
section:b?ft.jXE.VOICE_CHANNEL_EFFECTS_EMOJI_PICKER:ft.jXE.VOICE_CHANNEL_EFFECTS_BAR}})}}),(0,r.jsx)(tt.Z,{className:Ut().dropDownContainer,onClick:function(){v(!b);l()},children:(0,r.jsx)(it.Z,{className:Ut().dropDown})})]}),onKeyDown:I}}):null,(0,r.jsx)("div",{className:Ut().slotsContainer,children:(0,r.jsx)("div",{className:a()(Ut().slots,Ht({},Ut().slotsWide,u)),children:g.map((function(e){var t=at.ZP.isEmojiDisabled(e,n,ft.HzX.CHAT);return(0,r.jsx)("div",{className:Ut().slot,children:(0,r.jsx)(Ce.DY,{text:e.name,position:Ce.ZP.Positions.TOP,"aria-label":e.name,tooltipClassName:Ut().tooltipContainer,color:Ce.ZP.Colors.BRAND,children:(0,r.jsx)(Yt,{emoji:e,isDisabled:t,onClick:function(){t?(0,Mt.openEffectsUpsellModal)({analytics:{type:Dt.cd.EMOJI_PICKER_EMOJI_CLICKED,object:ft.qAy.BUTTON_CTA,section:ft.jXE.VOICE_CHANNEL_EFFECTS_BAR}}):gt({channel:n,emoji:e,location:ht.EFFECT_BAR,animationType:h,animationId:j,isPremium:p})}})})},e.name)}))})})]})}})]})}})}const Qt=function(e){
var t=e.isHovered,n=e.closePopout,i=e.onMouseEnter,a=e.onMouseLeave,l=e.onFocus,u=e.channel;o.useEffect((function(){t||n()}),[n,t]);return(0,r.jsx)(H.Z,{children:(0,r.jsx)("div",{onMouseEnter:i,onMouseLeave:a,children:(0,r.jsx)(Xt,{channel:u,closePopout:n,onFocus:l})})})};var Jt=n(716698),$t=n.n(Jt);function en(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function tn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return en(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return en(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const nn=function(e){var t=e.channel,n=e.baseColor,i=e.activeColor,a=tn(o.useState(!1),2),l=a[0],u=a[1],c=tn(o.useState(!1),2),f=c[0],d=c[1],p=tn(o.useState(!1),2),h=p[0],y=p[1],b=tn(o.useState(null),2),v=b[0],m=b[1],g=tn(o.useState(null),2),O=g[0],E=g[1],j=(0,s.e7)([Ge.ZP],(function(){return Ge.ZP.effectCooldownEndTime})),S=o.useMemo((function(){return null!=j?(j.getTime()-Date.now())/1e3:0}),[j]),C=(0,Ne.Z)(null!=j?j:new Date).seconds,P=C>0,I=o.useCallback((function(e,t){if("focus"!==e.type){null!==v&&clearTimeout(v);if(!h&&!P){if(!l){u(!0);d(!1)}null==t||t()}}}),[v,h,P,l]),_=o.useCallback((function(){null!==v&&clearTimeout(v);h||m(setTimeout((function(){u(!1);m(null)
}),300))}),[v,h]),w=o.useCallback((function(){null!==O&&clearTimeout(O);h||E(setTimeout((function(){d(!1);E(null)}),300))}),[O,h]),x=o.useCallback((function(){if(!f){d(!0);u(!1)}if(null!=O){clearTimeout(O);E(null)}}),[O,f]),N=o.useCallback((function(e,t){if(null!==v){clearTimeout(v);m(null)}if(null!==O){clearTimeout(O);E(null)}y(!h);l&&!h||null==t||t(e)}),[O,v,h,l]),T=o.useCallback((function(e,t){N(e,t)}),[N]),A=o.useCallback((function(e,t){e.keyCode===ft.yXg.ENTER&&e.keyCode===ft.yXg.SPACE&&N(e,t)}),[N]);o.useEffect((function(){return function(){null!=v&&clearTimeout(v);null!=O&&clearTimeout(O)}}),[O,v]);var Z=l||f||h;return(0,r.jsx)(F.ZP,{animationPosition:F.ZP.Positions.BOTTOM,position:F.ZP.Positions.BOTTOM,align:F.ZP.Align.CENTER,spacing:16,useMouseEnter:!0,onRequestClose:function(){u(!1);d(!1);y(!1)},renderPopout:function(e){var n=e.closePopout;return(0,r.jsx)(Qt,{isHovered:Z,channel:t,closePopout:n,onMouseEnter:x,onMouseLeave:w,onFocus:function(){return y(!0)}})},
children:function(e){var t=e.onClick,o=e.onKeyDown,a=e.onMouseEnter;return(0,r.jsx)(Ue,{totalCooldownSeconds:S,remainingCooldownSeconds:C,color:Z?i:n,className:$t().controlButton,onKeyDown:function(e){return A(e,o)},onClick:function(e){return T(e,t)},onMouseEnter:function(e){return I(e,a)},onMouseLeave:_})}})};var rn=n(487170),on=n(685879),an=n(744739),ln=n(640606),un=n(475389),cn=n(190177);function sn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function fn(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function dn(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){fn(i,r,o,a,l,"next",e)}function l(e){fn(i,r,o,a,l,"throw",e)}a(void 0)}))}}function pn(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function hn(e){for(var t=1;t<arguments.length;t++){
var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){pn(e,t,n[t])}))}return e}function yn(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function bn(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e)
;for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function vn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return sn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}
var mn,gn,On,En=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0
}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};!function(e){e.PRIMARY_DARK="primaryDark";e.PRIMARY_LIGHT="primaryLight"}(mn||(mn={}));!function(e){e.WHITE="white";e.ACTIVE_LIGHT="activeLight"}(gn||(gn={}));function jn(){var e=(0,s.e7)([O.Z],(function(){return O.Z.useReducedMotion}));function t(){return(t=dn((function(){var e;return En(this,(function(t){switch(t.label){case 0:return[4,n.e(29615).then(n.t.bind(n,229615,19))];case 1:e=t.sent();return[2,e.default]}}))}))).apply(this,arguments)}return(0,r.jsx)(Se.Z,{importData:function(){return t.apply(this,arguments)},shouldAnimate:!e,className:$t().sparkles})}function Sn(e,t){if(Oe.Z.isVideoEnabled()!==e){var n=function(){return d.Z.setVideoEnabled(e)};e?(0,un.Z)(n,t):n()}}function Cn(e){var t=e.channel,n=e.currentUser,i=e.exitFullScreen,a=e.canGoLive,l=e.coloring,u=e.hasPermission,c=(0,m.bp)(),f=(0,s.Wu)([ge.Z],(function(){return ge.Z.getAllActiveStreams()})).find((function(e){
return e.ownerId===n.id})),d=t.getGuildId(),p=o.useCallback((function(){null==i||i();if(!a)return(0,an.Z)();(0,ln.Z)(d,t.id,ft.ZY5.GUILD_CHANNEL)}),[d,t.id,a,i]),h=null!=f;return(0,r.jsx)(re.Z,{children:(0,r.jsx)(F.ZP,{renderPopout:function(e){var o=e.closePopout;return(0,r.jsx)(H.Z,{children:(0,r.jsx)(rn.Z,{channel:t,currentUser:n,activeStreams:null!=f?[f]:[],handleGoLive:p,onClose:o,appContext:c})})},position:F.ZP.Positions.TOP,align:F.ZP.Align.CENTER,animation:F.ZP.Animation.FADE,children:function(e,t){var n=e.onClick,o=bn(e,["onClick"]),i=t.isShown;return(0,r.jsx)("div",{children:null!=f?(0,r.jsx)(de.Z,yn(hn({},o),{color:l[1],centerButton:!0,className:$t().controlButton,onClick:function(){return(0,k.Z)(f)},isSelfStream:!0,onPopoutClick:h?n:null,popoutOpen:i,shouldShowTooltip:!i})):(0,r.jsx)(be,yn(hn({},o),{centerButton:!0,color:l[0],className:$t().controlButton,hasPermission:u,onClick:a?p:an.Z,onPopoutClick:h?n:null,popoutOpen:i,shouldShowTooltip:!i}))})}})})}function Pn(e){
var t=e.channel,n=(0,m.bp)()===ft.IlC.POPOUT,o=(0,w.Z)().analyticsLocations,i=(0,C.KF)(t.id),a=(0,C.g5)(i),l=t.getGuildId(),u=(0,S.Z)(l)&&null!=l,c=(0,s.e7)([E.ZP],(function(){return E.ZP.isLaunchingActivity()})),f=(0,b.O)(),d=(0,j.i)({guildId:l}).shouldShowFreeIndicator,p=function(e){var t=e.channelId;return(0,s.e7)([E.ZP],(function(){return E.ZP.getEmbeddedActivitiesForChannel(t).some((function(e){return e.connections.size>0}))}))}({channelId:t.id});if(!u)return null;var h=i!==C.jy.CAN_LAUNCH||c;return(0,r.jsxs)("div",{className:$t().buttonContainer,children:[(0,r.jsx)(le,{className:$t().controlButton,disabled:h,label:a,isActivityActive:p,onClick:function(){(0,I.Z)({channel:t,guildId:t.guild_id,locationObject:f.location,openInPopout:n,analyticsLocations:o})}}),d?(0,r.jsx)(P.A,{top:4,right:10,size:12,maskColor:P.T.BLACK}):null]})}!function(e){e.ACTIVITY="ACTIVITY";e.STREAM="STREAM";e.CALL="CALL";e.EVENT="EVENT"}(On||(On={}));var In=o.memo((function(e){
var t=e.connectedActivityApplicationId,n=e.currentUser,i=e.onDisconnectCall,a=e.channel,l=(0,s.e7)([x.Z],(function(){return x.Z.getSelectedParticipant(a.id)})),u=o.useContext(g.S).reducedMotion,f=vn(o.useState(!1),2),d=f[0],y=f[1],b=null==l?void 0:l.id,v=(0,s.e7)([ge.Z],(function(){return null!=b?ge.Z.getActiveStreamForStreamKey(b):null}),[b]),m=(null==l?void 0:l.type)===cn.fO.STREAM&&null!=v&&v.ownerId!==(null==n?void 0:n.id),O=(0,s.Wu)([ge.Z],(function(){return ge.Z.getAllActiveStreamsForChannel(a.id).filter((function(e){return e.ownerId!==(null==n?void 0:n.id)}))})),E=(0,U.qY)(a.id),j=o.useCallback((function(){return(null==l?void 0:l.type)===cn.fO.ACTIVITY&&l.id===t?On.ACTIVITY:m?On.STREAM:null!=E?On.EVENT:On.CALL}),[l,t,m,E]),S=vn(o.useState(j()),2),C=S[0],P=S[1],I=(0,c.useSpring)({opacity:d?.2:1,transform:d&&!u.enabled?"scale(0.7)":"scale(1)",config:{mass:2,tension:d?600:1e3,friction:45,precision:.01,clamp:d},onRest:function(){P(j());y(!1)}});o.useEffect((function(){j()!==C&&y(!0)
}),[C,j]);var _=function(e,t){var o={centerButton:!0,className:$t().controlButton,popoutOpen:e};switch(C){case On.ACTIVITY:if(null==l||null==n)return;return(0,r.jsx)(ce.Z,yn(hn({},o),{applicationId:l.id,color:"red",channelId:a.id,onPopoutClick:O.length>0?t:null}));case On.STREAM:return(0,r.jsx)(de.Z,yn(hn({},o),{color:"red",onClick:function(){if(null!=v)(0,h.g)((0,D.V9)(v));else{var e=!0,t=!1,n=void 0;try{for(var r,o=O[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var i=r.value;(0,h.g)((0,D.V9)(i))}}catch(e){t=!0;n=e}finally{try{e||null==o.return||o.return()}finally{if(t)throw n}}}},onPopoutClick:O.length>1?t:null,isSelfStream:!1}));case On.CALL:return(0,r.jsx)(se.Z,yn(hn({},o),{color:"red",onClick:function(){p.default.disconnect();null==i||i()},onPopoutClick:O.length>0?t:null}));case On.EVENT:return(0,r.jsx)(te,{guildId:a.guild_id,channelId:a.id,onClick:function(){p.default.disconnect();null==i||i()}})}};return(0,r.jsx)(F.ZP,{renderPopout:function(e){var t=e.closePopout;return(0,
r.jsx)(rn.Z,{channel:a,currentUser:n,activeStreams:O,handleGoLive:ft.VqG,hideSelfOptions:!0,onClose:t})},position:F.ZP.Positions.TOP,align:F.ZP.Align.CENTER,animation:F.ZP.Animation.FADE,children:function(e,t){var n=e.onClick,o=t.isShown;return(0,r.jsx)(c.animated.div,{style:I,children:_(o,n)})}})}));function _n(e){var t=e.channel,n=e.cameraUnavailable,i=e.hasCameraPermission,l=(0,m.bp)(),u=(0,_e.Z)(t),c=u.reachedLimit,s=u.limit,f=o.useCallback((function(){(0,un.Z)((function(){return p.default.selectVoiceChannel(t.id,!0)}),l)}),[t.id,l]),d=o.useCallback((function(){p.default.selectVoiceChannel(t.id,!1)}),[t.id]),h=o.useCallback((function(){n?(0,on.Z)():f()}),[n,f]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(ve.C,{enabled:!0,centerButton:!0,join:!0,color:"green",channelLimitReached:c,channelLimit:s,channel:t,cameraUnavailable:n,hasPermission:i,onCameraUnavailable:h,className:$t().controlButton,iconClassName:$t().joinIcon,onChange:f}),(0,r.jsx)(ue.Z,{centerButton:!0,color:"green",
channel:t,className:a()($t().controlButton,$t().lastButton),onClick:d})]})}function wn(e){var t,n=e.channel,o=e.mode,i=e.className,l=e.onDisconnectCall,c=e.exitFullScreen,d=e.idleProps,p=(0,s.e7)([je.default],(function(){var e=je.default.getCurrentUser();u()(null!=e,"CenterControlTray: currentUser cannot be undefined");return e})),h=(0,Ie.Z)(),b=h.cameraUnavailable,m=h.enabled,g=(0,we.Z)(n),O=(0,xe.Z)(n),j=O.suppress,S=O.selfMute,C=O.mute,P=j||S||C,I=(0,s.cj)([Oe.Z],(function(){return{canGoLive:(0,L.Z)(Oe.Z)}})).canGoLive,x=(0,M.Z)(),D=(0,s.e7)([R.Z],(function(){return null!=R.Z.getAwaitingRemoteSessionInfo()})),k=null!=x,U=(0,s.e7)([Ee.Z],(function(){return(null!==(t=null==x?void 0:x.channelId)&&void 0!==t?t:Ee.Z.getVoiceChannelId())===n.id})),G=(0,s.e7)([E.ZP],(function(){var e=E.ZP.getSelfEmbeddedActivityForChannel(n.id);return null!=e?e.application_id:null})),B=(0,_e.Z)(n),V=B.reachedLimit,W=B.limit,Y=me.Z.useExperiment({guildId:n.guild_id},{autoTrackExposure:!0}).enabled,z=(0,
v.ZP)(),K=(0,w.Z)(_.Z.VOICE_CONTROL_TRAY).AnalyticsLocationProvider;if(!U)return(0,r.jsx)(K,{children:(0,r.jsx)(_n,{channel:n,cameraUnavailable:b,hasCameraPermission:g})});var q=Y&&Pe.ZP.can({permission:ft.Plq.ADD_REACTIONS,user:p,context:n})&&!n.isPrivate(),X=mn.PRIMARY_DARK;o===ft.WtW.VOICE&&(X=z===ft.BRd.LIGHT?mn.PRIMARY_LIGHT:X);var Q=gn.WHITE;o===ft.WtW.VOICE&&(Q=z===ft.BRd.LIGHT?gn.ACTIVE_LIGHT:Q);var $=[];q&&$.push(f.z$.VOICE_CHANNEL_EFFECTS_BUTTON_SPARKLE);return(0,r.jsx)(K,{children:(0,r.jsxs)(y.Z,{section:ft.jXE.VOICE_CONTROL_TRAY,children:[(0,r.jsx)("div",{className:$t().eventPromptsContainer,children:(0,r.jsx)(ne.Z,{guildId:n.guild_id,channelId:n.id})}),(0,r.jsxs)("div",{className:a()($t().wrapper,i),children:[!k&&(0,r.jsx)(F.ZP,{renderPopout:function(e){var t=e.closePopout;return(0,r.jsx)(H.Z,{children:(0,r.jsx)(T.Z,{onClose:t})})},position:F.ZP.Positions.TOP,align:F.ZP.Align.CENTER,animation:F.ZP.Animation.FADE,children:function(e,t){var n=e.onClick,o=t.isShown;return(0,
r.jsx)(ve.C,{centerButton:!0,color:m?Q:X,hasPermission:g,className:$t().controlButton,enabled:m,cameraUnavailable:b,onChange:Sn,onCameraUnavailable:on.Z,channelLimitReached:V,channelLimit:W,popoutOpen:o,onPopoutClick:n})}}),!k&&(0,r.jsx)(Pn,{channel:n}),!k&&(0,r.jsx)(Cn,{coloring:[X,Q],channel:n,currentUser:p,exitFullScreen:c,canGoLive:I,hasPermission:g}),(0,r.jsx)(F.ZP,{renderPopout:function(e){var t=e.closePopout;return(0,r.jsx)(H.Z,{children:(0,r.jsx)(N.default,{onClose:t,renderInputDevices:!0,renderOutputDevices:!0,renderInputModes:!0})})},align:F.ZP.Align.CENTER,position:F.ZP.Positions.TOP,animation:F.ZP.Animation.FADE,children:function(e,t){var n=e.onClick,o=t.isShown;return(0,r.jsx)(fe.Z,{color:P?Q:X,centerButton:!0,onPopoutClick:k?null:n,className:$t().controlButton,selfMute:S,serverMute:C,suppress:j,popoutOpen:o,awaitingRemote:D,onClick:function(){return(0,A.Z)(C,j)}})}}),q?(0,r.jsxs)("div",{className:$t().buttonContainer,children:[(0,r.jsx)(nn,{channel:n,baseColor:X,
activeColor:Q}),(0,r.jsx)(Z.Z,{contentTypes:$,children:function(e){var t=e.visibleContent,n=e.markAsDismissed;if(t===f.z$.VOICE_CHANNEL_EFFECTS_BUTTON_SPARKLE)return(0,r.jsx)(Ce.DY,{text:J.Z.Messages.VOICE_CHANNEL_EFFECTS_SPARKLE_TOOLTIP,forceOpen:null!=d&&!d.idle,className:$t().sparkleContainer,color:Ce.ZP.Colors.BRAND,tooltipClassName:$t().effectTooltip,children:(0,r.jsx)("div",{onMouseEnter:function(){return n()},className:$t().sparkleContainer,children:(0,r.jsx)(jn,{})})})}})]}):null,(0,r.jsx)(In,{connectedActivityApplicationId:G,currentUser:p,channel:n,onDisconnectCall:l})]})]})})}},735237:(e,t,n)=>{"use strict";n.d(t,{L:()=>f,Z:()=>d});var r=n(785893),o=(n(667294),n(294184)),i=n.n(o),a=n(191940),l=n(487502),u=n(685351),c=n(260382),s=n.n(c);function f(e){return e<400?"small":e<1e3?"medium":"large"}function d(e){var t=e.onCTAClick,n=e.callToAction,o=e.header,c=e.description,f=e.size,d=e.className,p=e.artURL,h=e.noArt,y=void 0!==h&&h,b=e.selected,v=void 0!==b&&b;return(0,
r.jsxs)(l.Z,{className:d,justify:l.Z.Justify.CENTER,align:l.Z.Align.CENTER,direction:l.Z.Direction.VERTICAL,style:{padding:4},children:[!y&&null!=p&&(0,r.jsx)("div",{className:i()(s().art,s()[f]),style:{backgroundImage:"url(".concat(p,")")}}),null!=o?(0,r.jsx)(u.x,{color:"none",variant:"text-md/semibold",className:s().header,children:o}):null,null!=c?(0,r.jsx)(u.x,{color:"none",className:s().description,variant:"text-sm/medium",children:c}):null,v||null==n?null:(0,r.jsx)(a.Co,{className:s().outerButton,size:a.Co.Sizes.NONE,color:a.Co.Colors.WHITE,look:a.Co.Looks.BLANK,innerClassName:s().button,onClick:function(e){e.stopPropagation();null==t||t(e)},children:n})]})}},992917:(e,t,n)=>{"use strict";n.d(t,{Z:()=>_});var r=n(785893),o=(n(667294),n(294184)),i=n.n(o),a=n(441143),l=n.n(a),u=n(791462),c=n(613258),s=n(296942),f=n(653772),d=n(940712),p=n(191940),h=n(897576),y=n(461061),b=n(86030),v=n(959797),m=n(684592),g=n.n(m);function O(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e)
;return}l.done?t(u):Promise.resolve(u).then(r,o)}function E(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){O(i,r,o,a,l,"next",e)}function l(e){O(i,r,o,a,l,"throw",e)}a(void 0)}))}}function j(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){j(e,t,n[t])}))}return e}function C(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){
return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function P(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}var I=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),
0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function _(e){var t=e.stream,o=e.applicationId,a=e.channel,m=e.exitFullScreen,O=e.appContext,j=e.analyticsLocation,_=e.className,w=P(e,["stream","applicationId","channel","exitFullScreen","appContext","analyticsLocation","className"]),x=null==a?void 0:a.getGuildId(),N=null==a?void 0:a.id,T=(0,u.e7)([f.Z],(function(){
return null!=x?f.Z.getGuild(x):null}),[x]),A=(0,u.e7)([c.ZP],(function(){return c.ZP.getActiveEventByChannel(N)}),[N]);if(!function(e,t){return null!=e&&null!=t&&d.Z.can(y.Plq.CREATE_INSTANT_INVITE,t)}(T,a))return null;var Z=v.Z.Messages.INSTANT_INVITE;null!=t?Z=v.Z.Messages.INVITE_STREAM_HEADER:null!=o&&(Z=v.Z.Messages.EMBEDDED_ACTIVITIES_INVITE_TO_ACTIVITY);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(p.Co,C(S({size:p.Co.Sizes.SMALL,color:g().buttonColor,onClick:function(){l()(null!=T,"guild cannot be null");l()(null!=a,"channel cannot be null");!function(e){var t=e.guild,o=e.channel,i=e.streamUserId,a=e.applicationId,l=e.appContext,u=e.exitFullScreen,c=e.analyticsLocation,s=e.guildScheduledEvent;null==u||u();(0,h.ZD)(E((function(){var e,l;return I(this,(function(u){switch(u.label){case 0:return[4,Promise.all([n.e(40532),n.e(15793),n.e(42348),n.e(23647)]).then(n.bind(n,715793))];case 1:e=u.sent(),l=e.default;return[2,function(e){return(0,r.jsx)(l,C(S({},e),{guild:t,channel:o,
streamUserId:i,applicationId:a,analyticsLocation:c,source:o.isGuildStageVoice()?y.t4x.STAGE_CHANNEL:y.t4x.STREAM_INVITE,guildScheduledEvent:s}))}]}}))})),{modalKey:"stream-invite-modal",contextKey:l===y.IlC.POPOUT?b.u1:b.z1})}({guild:T,channel:a,streamUserId:null==t?void 0:t.ownerId,applicationId:o,appContext:O,exitFullScreen:m,analyticsLocation:j,guildScheduledEvent:A})},className:i()(_,g().textButton)},w),{children:Z})),(0,r.jsx)(s.Z,{channel:a,stream:t,appContext:O,className:i()(_,g().iconButton),exitFullScreen:m,analyticsLocation:j,guildScheduledEvent:A})]})}},487170:(e,t,n)=>{"use strict";n.d(t,{Z:()=>k,E:()=>L});var r=n(785893),o=n(667294),i=n(791462),a=n(239396),l=n(67874),u=n(674606),c=n(600341),s=n(842592),f=n(59770),d=n(186121),p=n(497802),h=n(653772),y=n(934714),b=n(859023),v=n(897576),m=n(461061),g=n(664637),O=n(86030),E=n(866452),j=n(959797);function S(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function C(e){
return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){S(i,r,o,a,l,"next",e)}function l(e){S(i,r,o,a,l,"throw",e)}a(void 0)}))}}function P(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){P(e,t,n[t])}))}return e}function _(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n
}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var w=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2]
;a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function x(e,t){var a,l=(0,i.cj)([p.Z],(function(){return p.Z.getState()})),u=l.preset,S=l.resolution,P=l.fps,x=(0,i.e7)([y.Z],(function(){return null!==(a=y.Z.getDesktopSource())&&void 0!==a?a:{id:null}})).id,N=(0,i.e7)([b.default],(function(){return b.default.getCurrentUser()})),T=(0,i.e7)([h.Z],(function(){var t;return null===(t=h.Z.getGuild(null==e?void 0:e.guildId))||void 0===t?void 0:t.premiumTier})),A=(0,s.O)().location,Z=o.useCallback((function(e,o,i,a){e?c.Z.setDesktopSource({sourceId:x,preset:g.tI.PRESET_CUSTOM,resolution:o,frameRate:i,sound:!0,context:E.Yn.STREAM}):function(e,t){(0,v.ZD)(C((function(){var e,o;return w(this,(function(i){switch(i.label){case 0:return[4,n.e(69224).then(n.bind(n,69224))];case 1:e=i.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,_(I({},e),{analyticsSource:t
}))}]}}))})),{contextKey:e===m.IlC.POPOUT?O.u1:O.z1})}(t,_(I({},A),{object:m.qAy.RADIO_ITEM,objectType:a}))}),[t,A,x]);if(null==e)return null;var R=u===g.tI.PRESET_DOCUMENTS?g.ws.FPS_30:P,M=g.af.map((function(e){var t=e.value,n=e.label,o=(0,f.Z)(g.tI.PRESET_CUSTOM,S,t,N,T);return(0,r.jsx)(d.k5,{group:"stream-settings-fps",id:"stream-settings-fps-".concat(t),label:n,checked:t===P,action:function(){return Z(o,S,t,m.Qqv.RESOLUTION)}},"stream-settings-fps-".concat(t))})),D=g.km.map((function(e){var t=e.value,n=e.label,o=(0,f.Z)(g.tI.PRESET_CUSTOM,t,R,N,T);return(0,r.jsx)(d.k5,{group:"stream-settings-resolution",id:"stream-settings-resolution-".concat(t),label:n,checked:t===S,action:function(){return Z(o,t,R,m.Qqv.RESOLUTION)}},"stream-settings-resolution-".concat(t))}));return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d.kS,{label:j.Z.Messages.SCREENSHARE_FRAME_RATE,children:M}),(0,r.jsx)(d.kS,{label:j.Z.Messages.STREAM_RESOLUTION,children:D})]})}
var N=n(505780),T=n(18416),A=n(696229),Z=n(789093),R=n(666095),M=n(570992),D=n(742269);function L(e,t,n){var r=(0,i.e7)([l.Z],(function(){return l.Z.getSelectedParticipantId(e.id)})),o=(0,i.e7)([T.Z],(function(){return null!=r?T.Z.getActiveStreamForStreamKey(r):null}),[r]);return(0,i.Wu)([b.default],(function(){var r=n.filter((function(e){return e.ownerId!==(null==t?void 0:t.id)})).map((function(t){return{stream:t,username:M.Z.getName(e.getGuildId(),e.id,b.default.getUser(t.ownerId))}}));return 1===r.length&&r[0].stream.ownerId===(null==o?void 0:o.ownerId)?[]:r}),[e,o,n,t])}function k(e){var t,n=e.channel,o=e.currentUser,i=e.activeStreams,l=e.hideSelfOptions,c=void 0!==l&&l,s=e.showReportOption,f=void 0!==s&&s,p=e.handleGoLive,h=e.onClose,b=e.onSelect,v=e.appContext,g=void 0===v?m.IlC.APP:v,O=y.Z.supports(E.AN.DESKTOP_CAPTURE_APPLICATIONS),S=null!==(t=i.find((function(e){return e.ownerId===(null==o?void 0:o.id)})))&&void 0!==t?t:null,C=L(n,o,i),P=x(S,g),I=(0,
u.Z)(S,g,m.VqG),_=null==S?(0,r.jsx)(d.sN,{id:"share-your-screen",label:j.Z.Messages.SHARE_YOUR_SCREEN,icon:A.Z,action:p}):(0,r.jsxs)(r.Fragment,{children:[D.FB?(0,r.jsx)(d.sN,{id:"stream-settings",label:j.Z.Messages.SCREENSHARE_STREAM_QUALITY,children:P}):null,f?I:null,O?(0,r.jsx)(d.sN,{id:"change-windows",label:j.Z.Messages.SCREENSHARE_CHANGE_WINDOWS,icon:A.Z,action:p}):null,(0,r.jsx)(d.sN,{id:"stop-streaming",label:j.Z.Messages.STOP_STREAMING,icon:Z.Z,action:function(){return(0,N.Z)(S)}})]});return(0,r.jsx)(a.Z,{section:m.jXE.CONTEXT_MENU,children:(0,r.jsxs)(d.ZP,{onSelect:b,navId:"manage-streams",onClose:h,"aria-label":null!=S?j.Z.Messages.STOP_STREAMING:j.Z.Messages.SHARE_YOUR_SCREEN,children:[(0,r.jsx)(d.kS,{children:C.map((function(e){var t=e.stream,n=e.username;return(0,r.jsx)(d.sN,{id:t.ownerId,label:j.Z.Messages.STOP_WATCHING_USER.format({username:n}),icon:R.Z,action:function(){return(0,N.Z)(t)}},"manage-stream-menu".concat(t.ownerId))}))}),c?null:_]})})}},90395:(e,t,n)=>{
"use strict";n.d(t,{Z:()=>c});var r=n(785893),o=(n(667294),n(370442)),i=n(997163),a=n(735237),l=n(959797),u=n(802566);function c(e){var t=e.stream,n=e.width,c=e.noArt,s=void 0!==c&&c,f=e.selected,d=void 0!==f&&f;return(0,r.jsx)(a.Z,{artURL:u,noArt:s,selected:d,size:(0,a.L)(n),header:l.Z.Messages.STREAM_ENDED,onCTAClick:function(){return(0,o.aP)((0,i.V9)(t))},callToAction:l.Z.Messages.CLOSE_STREAM})}},430642:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var r=n(785893),o=(n(667294),n(370442)),i=n(997163),a=n(95467),l=n(735237),u=n(461061),c=n(959797),s=n(192941);function f(e){var t=e.stream,n=e.width,f=e.selected,d=void 0!==f&&f,p=e.noArt,h=void 0!==p&&p;return(0,r.jsx)(l.Z,{artURL:s,header:c.Z.Messages.STREAM_FAILED_TITLE,size:(0,l.L)(n),noArt:h,selected:d,description:c.Z.Messages.STREAM_FAILED_DESCRIPTION.format({helpUrl:a.Z.getArticleURL(u.BhN.STREAM_FAILED)}),onCTAClick:function(){return(0,o.aP)((0,i.V9)(t))},callToAction:c.Z.Messages.CLOSE_STREAM})}},13579:(e,t,n)=>{"use strict";n.d(t,{
Z:()=>g});var r=n(785893),o=(n(667294),n(294184)),i=n.n(o),a=n(791462),l=n(370442),u=n(18416),c=n(631134),s=n(685351),f=n(673340),d=n(234182),p=n(735237),h=n(959797),y=n(207336),b=n.n(y);function v(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var m=n(987601);function g(e){var t=e.participant,n=e.width,o=e.noArt,y=void 0!==o&&o,g=e.selected,O=void 0!==g&&g,E=n<195,j=(0,a.e7)([u.Z,c.default],(function(){return u.Z.getAllActiveStreams().some((function(e){return e.ownerId!==c.default.getId()}))}));return(0,r.jsx)("div",{className:i()(b().content,b().streamHidden,v({},b().small,E)),children:(0,r.jsx)(p.Z,{className:b().streamHiddenEmptyState,artURL:m,noArt:y,selected:O,size:(0,p.L)(n),header:E?null:h.Z.Messages.STREAM_HIDDEN,description:O?null:(0,r.jsxs)("div",{className:i()(b().streamHiddenCTA,v({},b().largePaddingTop,!E)),children:[(0,r.jsx)(d.a,{isSmall:E,children:(0,r.jsx)(s.x,{
variant:E?"text-sm/semibold":"text-md/semibold",color:"none",children:n<175?h.Z.Messages.WATCH:h.Z.Messages.WATCH_STREAM})}),j?(0,r.jsx)(d.a,{className:b().addCTA,tooltip:h.Z.Messages.STREAM_WATCH_MULTIPLE_TOOLTIP,onClick:function(e){e.stopPropagation();(0,l.rn)(t.stream,{forceMultiple:!0})},isSmall:E,children:(0,r.jsx)(f.Z,{className:b().addStreamIcon})}):null]})})})}},721431:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(785893),o=(n(667294),n(206893)),i=n(294184),a=n.n(i),l=n(757987),u=n(81951),c=n(6873),s=n(400534),f=n.n(s);function d(e){var t=e.errorMessage,n=e.className;return(0,r.jsx)(l.DY,{className:a()(n,f().root),text:t,position:l.ZP.Positions.BOTTOM,color:l.FG.GREY,children:(0,r.jsx)(c.Z,{children:(0,r.jsx)(u.Z,{"aria-label":null!=t?t:"",className:f().warningIcon})})})}var p=n(498377);function h(e){var t=e.participant,n=e.className,i=function(e){return null==e?null:p.Z.isDeveloper?"".concat(e.message," (").concat(e.errorType,")"):e.message}((0,o.Z)(t));return null!=i?(0,
r.jsx)(d,{className:n,errorMessage:i}):null}},685879:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(785893),o=(n(667294),n(934714)),i=n(897576),a=n(866452),l=n(959797);function u(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){u(i,r,o,a,l,"next",e)}function l(e){u(i,r,o,a,l,"throw",e)}a(void 0)}))}}function s(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){s(e,t,n[t])}))}return e}function d(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var p=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1
};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function h(e){o.Z.supports(a.AN.VIDEO)?(0,i.ZD)(c((function(){var t,o;return p(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(49135)]).then(n.bind(n,149135))];case 1:t=i.sent(),o=t.default;return[2,function(t){return(0,r.jsx)(o,d(f({},t),{header:l.Z.Messages.CAMERA_UNAVAILABLE,body:l.Z.Messages.CAMERA_NO_DEVICE,confirmText:l.Z.Messages.OKAY,onConfirm:e}))}]}}))}))):(0,i.ZD)(c((function(){var t,o;return p(this,(function(a){switch(a.label){case 0:
return[4,Promise.all([n.e(40532),n.e(49135)]).then(n.bind(n,149135))];case 1:t=a.sent(),o=t.default;return[2,function(t){return(0,r.jsx)(o,d(f({},t),{header:l.Z.Messages.VIDEO_UNSUPPORTED_BROWSER_TITLE,body:l.Z.Messages.VIDEO_UNSUPPORTED_BROWSER_BODY,confirmText:l.Z.Messages.DOWNLOAD_APP,onConfirm:function(){null==e||e();(0,i.ZD)(c((function(){var e,t;return p(this,(function(o){switch(o.label){case 0:return[4,Promise.resolve().then(n.bind(n,884994))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,f({source:"Video unsupported browser"},e))}]}}))})))}}))}]}}))})))}},744739:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(785893),o=(n(667294),n(897576)),i=n(959797);function a(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function l(e){a(i,r,o,l,u,"next",e)}function u(e){a(i,r,o,l,u,"throw",e)}l(void 0)
}))}}function u(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){u(e,t,n[t])}))}return e}function s(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var f=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]
},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function d(){
var e=function(){(0,o.ZD)(l((function(){var e,t;return f(this,(function(o){switch(o.label){case 0:return[4,Promise.resolve().then(n.bind(n,884994))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,c({source:"Screenshare Unavailable"},e))}]}}))})))};(0,o.ZD)(l((function(){var t,o;return f(this,(function(a){switch(a.label){case 0:return[4,Promise.all([n.e(40532),n.e(49135)]).then(n.bind(n,149135))];case 1:t=a.sent(),o=t.default;return[2,function(t){return(0,r.jsx)(o,s(c({},t),{header:i.Z.Messages.SCREENSHARE_UNAVAILABLE,body:i.Z.Messages.SCREENSHARE_UNAVAILABLE_DOWNLOAD_APP,confirmText:i.Z.Messages.DOWNLOAD_APP,onConfirm:e}))}]}}))})))}},640606:(e,t,n)=>{"use strict";n.d(t,{Z:()=>E});var r=n(785893),o=(n(667294),n(370442)),i=n(59770),a=n(91956),l=n(100133),u=n(81717),c=n(653772),s=n(934714),f=n(859023),d=n(897576),p=n(742269),h=n(461061),y=n(664637);function b(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}
function v(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){b(i,r,o,a,l,"next",e)}function l(e){b(i,r,o,a,l,"throw",e)}a(void 0)}))}}function m(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function g(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var O=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i
;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function E(e,t,b){if((0,l.Y)())(0,l.$)("Go Live");else{var E=u.Z.getWindowOpen(h.KJ3.CHANNEL_CALL_POPOUT)?h.KJ3.CHANNEL_CALL_POPOUT:null;(0,a.Z)(E)
;if(p.FB)(0,d.ZD)(v((function(){var t,o;return O(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(58342)]).then(n.bind(n,58342))];case 1:t=i.sent(),o=t.default;return[2,function(t){return(0,r.jsx)(o,g(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){m(e,t,n[t])}))}return e}({},t),{guildId:e,analyticsLocation:b}))}]}}))})));else{var j,S=(0,i.Z)(y.tI.PRESET_CUSTOM,y.LY.RESOLUTION_1080,y.ws.FPS_30,f.default.getCurrentUser(),null===(j=c.Z.getGuild(e))||void 0===j?void 0:j.premiumTier)?{width:1920,height:1080}:{width:1280,height:720};s.Z.getMediaEngine().getDesktopSource(S,!0).then((function(n){(0,o.WH)(e,t,{pid:null,sourceId:n,sourceName:null})}))}}}},475389:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p})
;var r=n(785893),o=(n(667294),n(409271)),i=n(897576),a=n(461061),l=n(86030);function u(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){u(i,r,o,a,l,"next",e)}function l(e){u(i,r,o,a,l,"throw",e)}a(void 0)}))}}function s(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function f(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var d=function(e,t){var n,r,o,i,a={
label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{
value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function p(e,t){o.qF.getSetting()?(0,i.ZD)(c((function(){var t,o;return d(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(65926),n.e(52199)]).then(n.bind(n,952199))];case 1:t=i.sent(),o=t.default;return[2,function(t){return(0,r.jsx)(o,f(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){s(e,t,n[t])}))}return e}({},t),{onEnable:e,videoEnabled:!1}))}]}}))})),{modalKey:"camera-preview",contextKey:t===a.IlC.POPOUT?l.u1:l.z1}):null==e||e()}},348025:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(785893),o=n(667294),i=n(6873);function a(e){var t=e.children,n=(0,i.Y)("popup"),a=n.preventIdle,l=n.allowIdle;o.useEffect((function(){a();return function(){return l()}}),[l,a])
;return(0,r.jsx)(r.Fragment,{children:t})}},679302:(e,t,n)=>{"use strict";n.d(t,{z:()=>Z,Z:()=>M});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),l=n(496486),u=n(248088),c=n(791462),s=n(173436),f=n(825524),d=n(549425),p=n(180445),h=n(978571),y=n(60890),b=n(673973),v=n(493266),m=n(171447),g=n(105405),O=n(629590),E=n(352297),j=n(917870),S=n(90816),C=n(170729),P=n(461061),I=n(123984),_=n.n(I);function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function x(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function N(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}
return i}}(e,t)||A(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e){return function(e){if(Array.isArray(e))return w(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||A(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){if(e){if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?w(e,t):void 0}}var Z=1e4;function R(e){var t,n=e.message,i=(0,c.e7)([g.Z],(function(){return g.Z.isBlocked(n.author.id)})),l=(0,
y.Uj)(n),u=o.useContext(p.Z),s=N(o.useState(!1),2),m=s[0],S=s[1],C=o.useCallback((function(e){if("A"!==e.target.nodeName){f.Z.updateChatOpen(n.channel_id,!0);d.Z.jumpToMessage({channelId:n.channel_id,messageId:n.id,flash:!0})}}),[n.channel_id,n.id]),P=null!=n.content&&""!==n.content?(0,h.ZP)(n,{isInteracting:m}).content:null,I=(0,E.f)(n,P,i,_().messageContent,_().messageContentIcon),w=I.contentPlaceholder,T=I.renderedContent,A=I.icon,Z=(0,b.cv)(n),R=Z.length>0?Z.map((function(e){return(0,r.jsx)(v.ZP,{className:_().sticker,size:128,sticker:e,isInteracting:m})})):null;return(0,r.jsxs)(O.Z,{className:_().toast,onMouseEnter:function(){S(!0)},onMouseLeave:function(){S(!1)},onClick:C,children:[(0,r.jsxs)("div",{className:a()(_().messageContentWrapper,x({},_().mentioned,n.mentioned)),children:[null!==(t=null!=T?T:R)&&void 0!==t?t:(0,r.jsx)("span",{children:w}),null!=R?null:A]}),(0,r.jsx)("img",{alt:"",src:null!=(null==l?void 0:l.guildMemberAvatar)&&null!=u?(0,j.JM)({guildId:u,
userId:n.author.id,avatar:l.guildMemberAvatar}):n.author.getAvatarURL(u,32),className:_().avatar})]})}function M(e){var t=e.channelId,n=e.className,i=N(o.useState(!1),2),f=i[0],d=i[1],p=function(e){var t,n=e.channelId,r=e.isFrozen,i=e.count,a=e.lingerMs,l=N(o.useState([]),2),u=l[0],f=l[1],d=o.useRef(null);o.useEffect((function(){var e=function(e){var t=e.channelId,r=e.message;if(t===n&&r.type!==P.uaV.STAGE_START&&r.type!==P.uaV.STAGE_END&&r.type!==P.uaV.STAGE_TOPIC&&r.type!==P.uaV.STAGE_SPEAKER&&r.type!==P.uaV.STAGE_RAISE_HAND){var o={messageId:r.id,timeout:setTimeout((function(){f((function(e){return e.slice(1)}))}),a)};f((function(e){return T(e).concat([o])}))}};s.Z.subscribe("MESSAGE_CREATE",e);return function(){s.Z.unsubscribe("MESSAGE_CREATE",e)}}),[n,i,a]);o.useEffect((function(){return function(){var e=!0,t=!1,n=void 0;try{for(var r,o=u[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var i=r.value;clearTimeout(i.timeout)}}catch(e){t=!0;n=e}finally{try{
e||null==o.return||o.return()}finally{if(t)throw n}}}}),[]);o.useEffect((function(){u.length>3&&f((function(e){for(var t=e.length-3,n=0;n<t;n++)clearTimeout(e[n].timeout);return T(e.slice(t))}))}),[u]);r&&null==d.current?d.current=u:r||null==d.current||(d.current=null);var p=null!==(t=d.current)&&void 0!==t?t:u;return(0,c.Wu)([m.Z],(function(){return p.map((function(e){return m.Z.getMessage(n,e.messageId)}))}),[p]).filter(S.lm)}({channelId:t,isFrozen:f,count:3,lingerMs:Z}),h=o.useRef({}),y=N(o.useState({}),2),b=y[0],v=y[1],g=o.useCallback((function(e,t){null==t?delete h.current[e]:h.current[e]=t}),[]);o.useLayoutEffect((function(){var e={},t=0,n=!0,r=!1,o=void 0;try{for(var i,a=p[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u,c=i.value,s=null!==(u=h.current[c.id])&&void 0!==u?u:0;e[c.id]=t;t+=s+8}}catch(e){r=!0;o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}(0,l.isEqual)(e,b)||v(e)}),[p]);var O=p.map((function(e){return{message:e,height:h.current[e.id],
y:b[e.id]}})),E=(0,u.useTransition)(O,{keys:function(e){return e.message.id},from:function(){return{opacity:0}},enter:function(e){return{opacity:1,y:e.y}},update:function(e){return{y:e.y}},leave:function(e){var t=e.height;return{opacity:0,y:-(null!=t?t:0)-8}}});return(0,r.jsx)("div",{className:a()(n,(0,C.Q)(P.BRd.DARK)),onMouseEnter:function(){d(!0)},onMouseLeave:function(){d(!1)},children:E((function(e,t){var n=e.opacity,o=e.y;return(0,r.jsx)(u.animated.div,{ref:function(e){return g(t.message.id,null!=e?e.offsetHeight:null)},className:_().toastWrapper,style:{opacity:n,translateY:o},children:(0,r.jsx)(R,{message:t.message})})}))})}},323093:(e,t,n)=>{"use strict";n.d(t,{e:()=>r,Z:()=>y});var r,o=n(785893),i=(n(667294),n(294184)),a=n.n(i),l=n(487502),u=n(940237),c=n(744794),s=n.n(c);function f(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function d(e){for(var t=1;t<arguments.length;t++){
var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){f(e,t,n[t])}))}return e}function p(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}!function(e){e[e.TOP=0]="TOP";e[e.BOTTOM=1]="BOTTOM"}(r||(r={}));function h(e){var t=e.disableGradients,n=void 0!==t&&t,i=e.renderHeader,a=e.renderBottomLeft,u=e.renderBottomCenter,c=e.renderBottomRight,f=e.renderCenter,d=n===r.TOP||!0===n,p=n===r.BOTTOM||!0===n;return(0,o.jsxs)("div",{className:s().videoControls,children:[!d&&(0,o.jsx)("div",{
className:s().gradientTop}),!p&&(0,o.jsx)("div",{className:s().gradientBottom}),(0,o.jsx)("div",{className:s().topControls,children:null==i?void 0:i()}),null==f?void 0:f(),(0,o.jsxs)("div",{className:s().bottomControls,children:[(0,o.jsx)(l.Z,{grow:0,shrink:1,basis:"50%",align:l.Z.Align.CENTER,children:null==a?void 0:a()}),(0,o.jsx)(l.Z,{grow:1,justify:l.Z.Justify.CENTER,align:l.Z.Align.CENTER,children:null==u?void 0:u()}),(0,o.jsx)(l.Z,{grow:0,shrink:1,justify:l.Z.Justify.END,basis:"50%",align:l.Z.Align.CENTER,children:null==c?void 0:c()})]})]})}function y(e){var t=e.screenMessage,n=e.onDoubleClick,r=e.onActive,i=e.onForceIdle,l=e.idle,c=e.children,y=e.renderChatButton,b=e.renderChatToasts,v=e.renderVoiceChannelEffects,m=p(e,["screenMessage","onDoubleClick","onActive","onForceIdle","idle","children","renderChatButton","renderChatToasts","renderVoiceChannelEffects"]);return(0,o.jsxs)("div",{className:a()(s().root,f({},s().idle,l)),onMouseMove:r,onMouseDown:r,onMouseLeave:i,
onDoubleClick:n,children:[c,null!=t?(0,o.jsx)(u.Z,d({size:"large"},t)):null,(0,o.jsx)(h,d({},m)),null==y?void 0:y({className:s().chatButton,showingClassName:s().chatButtonShowing}),null==b?void 0:b(),null==v?void 0:v()]})}},940237:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(785893),o=(n(667294),n(735237)),i=n(487502),a=n(515506),l=n.n(a);function u(e){var t=e.mainText,n=e.supportingText,a=e.children,u=e.size;return(0,r.jsxs)(i.Z,{className:l().root,justify:i.Z.Justify.CENTER,align:i.Z.Align.CENTER,direction:i.Z.Direction.VERTICAL,children:[(0,r.jsx)(o.Z,{header:t,description:n,size:u}),a]})}},403613:(e,t,n)=>{"use strict";n.d(t,{TH:()=>F,Y:()=>W})
;var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),l=n(496486),u=n(468811),c=n.n(u),s=n(791462),f=n(820028),d=n(825524),p=n(67874),h=n(95048),y=n(803204),b=n(365667),v=n(379822),m=n(475823),g=n(761434),O=n(685351),E=n(757987),j=n(122768),S=n(238585),C=n(679302),P=n(316103),I=n(461061),_=n(610804),w=n(959797),x=n(34021),N=n.n(x),T=n(135849),A=n.n(T),Z=n(742918),R=n.n(Z);function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function D(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){D(e,t,n[t])}))}return e}function k(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function U(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function G(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){
var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H(e){var t=(0,s.e7)([m.Z],(function(){return!(0,l.isEmpty)(m.Z.getTypingUsers(e))}),[e]),n=(0,s.e7)([v.Z],(function(){return v.Z.getVoiceChannelId()===e}),[e]),r=(0,s.cj)([b.ZP],(function(){return{unreadCount:b.ZP.getUnreadCount(e),mentionCount:b.ZP.getMentionCount(e)}}),[e]);return{
unreadCount:r.unreadCount,mentionCount:r.mentionCount,voiceChannelIsSelected:n,isTyping:t}}function B(e){var t=e.width,n=void 0===t?24:t,i=e.height,a=void 0===i?24:i,l=e.isBadged,u=void 0!==l&&l,s=e.isTyping,f=void 0!==s&&s,d=G(o.useState((function(){return c().v4()})),1)[0];return(0,r.jsxs)("svg",{width:n,height:a,viewBox:"0 0 24 24",children:[(0,r.jsx)("defs",{children:(0,r.jsxs)("mask",{id:d,children:[(0,r.jsx)("rect",{fill:"white",width:"100%",height:"100%"}),f&&(0,r.jsx)("g",{fill:"black",transform:"translate(5.5, 8.5) scale(".concat(11/24,")"),children:(0,r.jsx)(j.I,{dotRadius:3.5,spacing:3,fill:"black"})}),u&&(0,r.jsx)("circle",{cx:"20",cy:"19",r:"10",fill:"black"})]})}),(0,r.jsx)("path",{fill:"currentColor",d:"M4.79805 3C3.80445 3 2.99805 3.8055 2.99805 4.8V15.6C2.99805 16.5936 3.80445 17.4 4.79805 17.4H7.49805V21L11.098 17.4H19.198C20.1925 17.4 20.998 16.5936 20.998 15.6V4.8C20.998 3.8055 20.1925 3 19.198 3H4.79805Z",mask:"url(#".concat(d,")")})]})}function V(e){
var t,n=e.className,o=H(e.channelId),i=o.unreadCount,l=o.mentionCount,u=o.isTyping,c=null!=l&&l>0,s=null!==(t=c?l:i)&&void 0!==t?t:0,f=s>99?"99+":s,d=o.voiceChannelIsSelected&&null!=i&&i>0;return(0,r.jsxs)("div",{className:a()(N().chatIcon,n),children:[(0,r.jsx)(B,{isBadged:d,isTyping:u}),d&&(0,r.jsx)(O.x,{className:a()(N().unreadCount,D({},N().mention,c)),variant:"text-xs/normal",children:f})]})}function F(e){var t=e.channelId,n=e.className,i=e.showingClassName,l=e.onClick,u=e.inPopout,c=e.showRequestToSpeakSidebar,f=e.toggleRequestToSpeakSidebar,h=U(e,["channelId","className","showingClassName","onClick","inPopout","showRequestToSpeakSidebar","toggleRequestToSpeakSidebar"]),y=h.disabled,b=o.useRef(null),v=(0,s.e7)([p.Z],(function(){return p.Z.getChatOpen(t)}),[t]),m=function(e){var t=H(e),n=t.unreadCount,r=t.mentionCount,i=t.isTyping,a=G(o.useState(!1),2),l=a[0],u=a[1];o.useEffect((function(){u(n>0);var e=setTimeout((function(){u(!1)}),C.z);return function(){clearTimeout(e);u(!1)}
}),[n]);return{isShowing:l||r>0||i,unreadCount:n,mentionCount:r}}(t),g=m.isShowing,O=m.unreadCount,j=m.mentionCount,_=o.useCallback((function(){null==l||l();!v&&c&&(null==f||f());d.Z.updateChatOpen(t,!v)}),[t,v,l,c,f]),x=o.useCallback((function(e){var n=e.className;return(0,r.jsx)(V,{className:n,channelId:t})}),[t]),N=o.useCallback((function(){var e;null===(e=b.current)||void 0===e||e.focus()}),[]);(0,S.yp)({event:I.CkL.FOCUS_CHAT_BUTTON,handler:y?null:N});var T,A=G(o.useState(!1),2),Z=A[0],R=A[1],M=o.useCallback((function(){u&&R(!0)}),[u]);(0,S.yp)({event:I.CkL.SHOW_TEXT_IN_VOICE_POPOUT_COMING_SOON_TIP,handler:M});o.useEffect((function(){var e;Z&&(e=setTimeout((function(){R(!1)}),3e3));return function(){clearTimeout(e)}}),[Z]);var k=[T=u&&y?w.Z.Messages.TEXT_IN_VOICE_POPOUT_DISABLED:v?w.Z.Messages.VIDEO_CALL_HIDE_CHAT:w.Z.Messages.VIDEO_CALL_SHOW_CHAT];j>0&&k.push(w.Z.Messages.GUILD_SIDEBAR_CHANNEL_A11Y_LABEL_MENTIONS.format({mentionCount:j}))
;O>0&&k.push(w.Z.Messages.GUILD_SIDEBAR_CHANNEL_A11Y_LABEL_UNREAD);return(0,r.jsx)(P.Z,L({buttonRef:b,onClick:_,label:T,"aria-label":k.join(", "),iconComponent:x,tooltipPosition:E.as.BOTTOM,wrapperClassName:a()(n,null!=i&&D({},i,g)),forceTooltipOpen:Z},h))}function W(e){var t=e.channelId,n=o.useCallback((function(){d.Z.updateChatOpen(t,!0)}),[t]);return(0,r.jsx)(h.Z,{contentTypes:[f.z$.CALL_CHAT_BUTTON_TEXT_IN_VOICE_COACH_MARK],groupName:_.R.CALL_CHAT_BUTTON,children:function(t){var o=t.visibleContent,i=t.markAsDismissed;return o===f.z$.CALL_CHAT_BUTTON_TEXT_IN_VOICE_COACH_MARK?(0,r.jsx)(g.ZP,{renderPopout:function(){return(0,r.jsx)(y.ZP,{className:N().upsellTooltipOffset,header:w.Z.Messages.TEXT_IN_VOICE_ONBOARDING_TITLE,asset:(0,r.jsx)("img",{alt:"",src:R(),className:A().fullWidthImage}),content:w.Z.Messages.TEXT_IN_VOICE_ONBOARDING_SUBTITLE,buttonCTA:w.Z.Messages.TEXT_IN_VOICE_ONBOARDING_CTA,onClick:n,secondaryButtonCTA:w.Z.Messages.DISMISS,markAsDismissed:i,
caretPosition:y.ZP.CaretPosition.TOP_RIGHT})},position:g.ZP.Positions.BOTTOM,align:g.ZP.Align.RIGHT,animation:g.ZP.Animation.TRANSLATE,spacing:16,shouldShow:!0,children:function(){return(0,r.jsx)(F,k(L({},e),{onClick:i}))}}):(0,r.jsx)(F,L({},e))}})}},807729:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(785893),o=(n(667294),n(757987)),i=n(557328),a=n(316103),l=n(959797);function u(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function c(){c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return c.apply(this,arguments)}function s(e){var t=c({},e);return(0,r.jsx)(a.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){
return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){u(e,t,n[t])}))}return e}({label:l.Z.Messages.MORE,iconComponent:i.Z,tooltipPosition:o.as.BOTTOM},t))}},296942:(e,t,n)=>{"use strict";n.d(t,{Z:()=>j});var r=n(785893),o=(n(667294),n(441143)),i=n.n(o),a=n(791462),l=n(653772),u=n(940712),c=n(620741),s=n(897576),f=n(316103),d=n(461061),p=n(86030),h=n(959797);function y(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function b(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){y(i,r,o,a,l,"next",e)}function l(e){y(i,r,o,a,l,"throw",e)}a(void 0)}))}}function v(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){v(e,t,n[t])}))}return e}function g(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function O(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r]
;t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}var E=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}
o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function j(e){var t=e.stream,o=e.channel,y=e.exitFullScreen,v=e.appContext,j=e.analyticsLocation,S=e.guildScheduledEvent,C=O(e,["stream","channel","exitFullScreen","appContext","analyticsLocation","guildScheduledEvent"]),P=null==o?void 0:o.getGuildId(),I=(0,a.e7)([l.Z],(function(){return null!=P?l.Z.getGuild(P):null}),[P]);return function(e,t){return null!=e&&null!=t&&u.Z.can(d.Plq.CREATE_INSTANT_INVITE,t)}(I,o)?(0,r.jsx)(f.Z,m({onClick:function(){i()(null!=I,"guild cannot be null");i()(null!=o,"channel cannot be null");!function(e){var t=e.guild,o=e.channel,i=e.streamUserId,a=e.appContext,l=e.exitFullScreen,u=e.analyticsLocation,c=e.guildScheduledEvent;null==l||l();(0,s.ZD)(b((function(){var e,a;return E(this,(function(l){switch(l.label){case 0:
return[4,Promise.all([n.e(40532),n.e(15793),n.e(42348),n.e(23647)]).then(n.bind(n,715793))];case 1:e=l.sent(),a=e.default;return[2,function(e){return(0,r.jsx)(a,g(m({},e),{guild:t,channel:o,streamUserId:i,analyticsLocation:u,source:o.isGuildStageVoice()?d.t4x.STAGE_CHANNEL:d.t4x.STREAM_INVITE,guildScheduledEvent:c}))}]}}))})),{modalKey:"stream-invite-modal",contextKey:a===d.IlC.POPOUT?p.u1:p.z1})}({guild:I,channel:o,streamUserId:null==t?void 0:t.ownerId,appContext:v,exitFullScreen:y,analyticsLocation:j,guildScheduledEvent:S})},iconComponent:c.Z,label:h.Z.Messages.ACTIVITY_INVITE_MODAL_SEARCH_PLACEHOLDER},C)):null}},414501:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(785893),o=(n(667294),n(429677)),i=n(316103),a=n(959797);function l(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function u(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){
var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function c(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function s(e){var t=e.channel,n=e.centerButton,s=void 0!==n&&n,f=c(e,["channel","centerButton"]),d=s?i.d:i.Z,p=t.isManaged()||!t.isPrivate()?a.Z.Messages.CONNECT:a.Z.Messages.JOIN_CALL;return(0,r.jsx)(d,u(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){l(e,t,n[t])}))}return e}({},f),{iconComponent:o.Z,label:p}))}},630519:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(785893),o=(n(667294),n(823343)),i=n(485502),a=n(334444),l=n(316103),u=n(959797);function c(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function s(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function f(e,t){
if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function d(e){var t=e.channelId,n=e.applicationId,d=e.centerButton,p=void 0!==d&&d,h=f(e,["channelId","applicationId","centerButton"]),y=p?l.d:l.Z,b=(0,i.c)({channelId:t});return(0,r.jsx)(y,s(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){c(e,t,n[t])}))}return e}({},h),{onClick:function(){b()||(0,o.mW)({channelId:t,applicationId:n})},iconComponent:a.Z,
label:u.Z.Messages.EMBEDDED_ACTIVITIES_LEAVE_ACTIVITY}))}},72895:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(785893),o=(n(667294),n(845724)),i=n(316103),a=n(959797);function l(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function u(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function c(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e)
;for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function s(e){var t=e.centerButton,n=void 0!==t&&t,s=c(e,["centerButton"]),f=n?i.d:i.Z;return(0,r.jsx)(f,u(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){l(e,t,n[t])}))}return e}({},s),{iconComponent:o.Z,label:a.Z.Messages.DISCONNECT_SELF}))}},905633:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(785893),o=(n(667294),n(242829)),i=n(993167),a=n(433415),l=n(316103),u=n(592695),c=n.n(u);function s(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function f(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e)
;for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function d(e){var t=e.className;return(0,r.jsx)(a.Z,{foreground:c().slash,className:t})}function p(e){var t=e.selfMute,n=e.serverMute,a=e.suppress,u=e.centerButton,c=void 0!==u&&u,p=e.awaitingRemote,h=f(e,["selfMute","serverMute","suppress","centerButton","awaitingRemote"]),y=t||n||a,b=c?l.d:l.Z,v=(0,o.Z)(t,n,a,p),m=y?d:i.Z;return(0,r.jsx)(b,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){s(e,t,n[t])}))}return e}({iconComponent:m,label:v},h))}},206728:(e,t,n)=>{"use strict"
;n.d(t,{Z:()=>p});var r=n(785893),o=(n(667294),n(294184)),i=n.n(o),a=n(895917),l=n(316103),u=n(959797),c=n(946078),s=n.n(c);function f(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function d(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function p(e){var t=e.popoutOpen,n=e.onClosePopout,o=e.onOpenPopout,c=d(e,["popoutOpen","onClosePopout","onOpenPopout"]),p=t?u.Z.Messages.POPOUT_RETURN:u.Z.Messages.POPOUT_PLAYER;return(0,r.jsx)(l.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){f(e,t,n[t])}))}return e}({label:p,onClick:t?n:o,iconComponent:a.Z,iconClassName:i()(f({},s().popIn,t))},c))}},193031:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(785893),o=(n(667294),n(924635)),i=n(27617),a=n(316103),l=n(959797);function u(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function c(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function s(e){
var t=e.popoutWindowAlwaysOnTop,n=e.onToggleStayOnTop,s=c(e,["popoutWindowAlwaysOnTop","onToggleStayOnTop"]),f=t?l.Z.Messages.POPOUT_REMOVE_FROM_TOP:l.Z.Messages.POPOUT_STAY_ON_TOP,d=t?i.Z:o.Z;return(0,r.jsx)(a.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){u(e,t,n[t])}))}return e}({onClick:function(){return n(!t)},label:f,iconComponent:d},s))}},440521:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var r=n(785893),o=(n(667294),n(789093)),i=n(666095),a=n(316103),l=n(959797);function u(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function c(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r]
;t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function s(e){return e?l.Z.Messages.STOP_STREAMING:l.Z.Messages.STOP_WATCHING}function f(e){var t=e.isSelfStream,n=e.centerButton,l=void 0!==n&&n,f=c(e,["isSelfStream","centerButton"]),d=l?a.d:a.Z;return(0,r.jsx)(d,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){u(e,t,n[t])}))}return e}({label:s(t),iconComponent:t?o.Z:i.Z},f))}},349832:(e,t,n)=>{"use strict";n.d(t,{Z:()=>A});var r=n(785893),o=n(667294),i=n(791462),a=n(487170),l=n(640606),u=n(356004),c=n(859023),s=n(761434),f=n(73393),d=n(240243)
;function p(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function h(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function y(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function b(e){
var t=e.width,n=void 0===t?8:t,o=e.height,i=void 0===o?8:o,a=e.color,l=void 0===a?"currentColor":a,u=e.foreground,c=y(e,["width","height","color","foreground"]);return(0,r.jsx)("svg",h(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){p(e,t,n[t])}))}return e}({},(0,d.Z)(c)),{width:n,height:i,viewBox:"0 0 8 8",fill:"none",children:(0,r.jsx)("path",{className:u,fill:l,d:"M8 3.99957L4 0 0 3.99957l1.20161 1.20149L3.1502 3.25268V8h1.6996V3.25268l1.94858 1.94838L8 3.99957z"})}))}var v=n(440455),m=n(863419),g=n(6873),O=n(316103),E=n(461061),j=n(298716),S=n(959797),C=n(258311),P=n.n(C);function I(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function _(e){
for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){I(e,t,n[t])}))}return e}function w(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function x(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){
var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function N(e){var t=e.className;return(0,r.jsx)(f.Z,{className:t})}function T(e){var t=e.className;return(0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)(v.ZP,{className:t,mask:v.ZP.Masks.HEADER_BAR_BADGE,children:(0,r.jsx)(N,{})}),(0,r.jsx)(b,{className:P().badgeUpgrade})]})}function A(e){var t=e.hideBadges,n=void 0!==t&&t,f=e.stream,d=x(e,["hideBadges","stream"]),p=(0,i.e7)([c.default],(function(){return m.ZP.isPremium(c.default.getCurrentUser(),j.p9.TIER_1)})),h=(0,i.e7)([u.Z],(function(){return u.Z.getChannel(null==f?void 0:f.channelId)})),y=o.useMemo((function(){return null!=f?[f]:[]}),[f]),b=o.useCallback((function(){null!=h&&(0,l.Z)(h.getGuildId(),h.id,E.jXE.STREAM_SETTINGS)}),[h]);if(null==f||null==h)return null;var v=N;n||p||(v=T);return(0,r.jsx)(s.ZP,{position:s.ZP.Positions.TOP,renderPopout:function(e){var t=e.closePopout
;return(0,r.jsx)(g.Z,{children:(0,r.jsx)(a.Z,{channel:h,currentUser:c.default.getCurrentUser(),activeStreams:y,onClose:t,showReportOption:!0,handleGoLive:b})})},animation:s.ZP.Animation.FADE,children:function(e){return(0,r.jsx)(O.Z,_(w(_({},e),{label:S.Z.Messages.STREAMER_SETTINGS_TITLE,iconComponent:v}),d))}})}},850513:(e,t,n)=>{"use strict";n.d(t,{Z:()=>b});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),l=n(825524),u=n(822375),c=n(605390),s=n(316103),f=n(959797),d=n(685109),p=n.n(d);function h(e){var t=e.className,n=e.isVertical;return(0,r.jsxs)("div",{className:p().iconContainer,children:[(0,r.jsx)(u.Z,{className:a()(n?p().upCaret:p().leftCaret,t)}),(0,r.jsx)(c.Z,{className:a()(p().members,t)})]})}function y(e){var t=e.className,n=e.isVertical;return(0,r.jsxs)("div",{className:p().iconContainer,children:[(0,r.jsx)(u.Z,{className:a()(n?p().downCaret:p().rightCaret,t)}),n&&(0,r.jsx)(c.Z,{className:a()(p().members,t)})]})}function b(e){
var t=e.channelId,n=e.className,i=e.isParticipantsOpen,u=e.isVertical,c=void 0!==u&&u,d=e.hideTooltip,b=void 0!==d&&d,v=o.useCallback((function(e){var t=e.className;return i?(0,r.jsx)(y,{className:t,isVertical:c}):(0,r.jsx)(h,{className:t,isVertical:c})}),[i,c]);return(0,r.jsx)(s.Z,{label:i?f.Z.Messages.VIDEO_CALL_HIDE_MEMBERS:f.Z.Messages.VIDEO_CALL_SHOW_MEMBERS,className:a()(p().participantsButton,n),onClick:function(){l.Z.toggleParticipants(t,!i)},iconComponent:v,shouldShowTooltip:!b})}},421040:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y,C:()=>b});var r=n(785893),o=(n(667294),n(294184)),i=n.n(o),a=n(35599),l=n(423206),u=n(701197),c=n(316103),s=n(283253),f=n.n(s);function d(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function p(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){
var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function h(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function y(e){var t=(0,l.X)(e),n=e.enabled,o=e.cameraUnavailable,i=e.onChange,c=e.onCameraUnavailable,s=e.hasPermission,f=e.children,d=e.channelLimitReached,p=void 0!==d&&d,h=(0,a.bp)(),y=o?function(){return c()}:function(){return i(!e.enabled,h)};return(0,r.jsx)(r.Fragment,{children:f({onClick:y,active:n,disabled:!s||p&&!n,iconComponent:u.Z,label:t,
unavailable:o})})}function b(e){var t=e.enabled,n=e.join,o=e.channel,a=e.onChange,l=e.onCameraUnavailable,u=e.cameraUnavailable,s=e.hasPermission,b=e.className,v=e.channelLimitReached,m=e.channelLimit,g=e.centerButton,O=void 0!==g&&g,E=e.onPopoutClick,j=h(e,["enabled","join","channel","onChange","onCameraUnavailable","cameraUnavailable","hasPermission","className","channelLimitReached","channelLimit","centerButton","onPopoutClick"]),S=O?c.d:c.Z;return(0,r.jsx)(y,{enabled:t,join:n,channel:o,onChange:a,onCameraUnavailable:l,cameraUnavailable:u,hasPermission:s,channelLimitReached:v,channelLimit:m,children:function(e){var t=e.unavailable,n=h(e,["unavailable"]);return(0,r.jsx)(S,p(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){d(e,t,n[t])
}))}return e}({},n,j),{className:i()(b,d({},f().fauxDisabled,t)),onPopoutClick:E}))}})}},623123:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});var r=n(785893),o=(n(667294),n(294184)),i=n.n(o),a=n(791462),l=n(600341),u=n(934714),c=n(776451),s=n(405959),f=n(742269),d=n(6873),p=n(964063),h=n.n(p);const y=a.ZP.connectStores([u.Z],(function(e){var t=e.userId,n=e.context;return{currentVolume:u.Z.getLocalVolume(t,n),muted:u.Z.isLocalMute(t,n)}}))((function(e){var t=e.iconClassName,n=e.currentVolume,o=e.sliderClassName,a=e.userId,u=e.currentWindow,p=void 0===u?window:u,y=e.muted,b=e.context;return(0,r.jsx)(d.Z,{children:(0,r.jsx)(c.Z,{currentWindow:p,iconClassName:i()(t,h().controlIcon),sliderClassName:o,value:(0,s.P)(n),muted:y,maxValue:f.FB?200:100,onValueChange:function(e){return function(e,t,n,r){e>0&&n&&l.Z.toggleLocalMute(t,r);l.Z.setLocalVolume(t,(0,s.A)(e),r)}(e,a,y,b)},onToggleMute:function(){return function(e,t){l.Z.toggleLocalMute(e,t)}(a,b)}})})}))},809107:(e,t,n)=>{"use strict";n.d(t,{
Z:()=>r});const r=(0,n(553494).B)({kind:"guild",id:"2022-06_voice_channel_effects",label:"Voice Channel Effects",defaultConfig:{enabled:!1,hasMinMax:!1},treatments:[{id:1,label:"Voice Channel Effects Enabled",config:{enabled:!0,hasMinMax:!1}},{id:2,label:"Voice Channel Effects Enabled w/Nitro Upsell",config:{enabled:!0,hasMinMax:!1}},{id:3,label:"Voice Channel Effects Enabled Min/Max",config:{enabled:!0,hasMinMax:!0}}]})},704427:(e,t,n)=>{"use strict";n.d(t,{oS:()=>E,H6:()=>j,ZP:()=>A});var r=n(496486),o=n(791462),i=n(173436),a=n(838478),l=n(333480);function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function f(e){f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){
return e.__proto__||Object.getPrototypeOf(e)};return f(e)}function d(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e,t){p=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return p(e,t)}function h(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")
}()}var y,b=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d(this,n)}}var m=[],g={},O=[],E=8,j=function(e){null!=e&&i.Z.dispatch({type:"VOICE_CHANNEL_EFFECT_CLEAR",userId:e})},S=[],C=1e4,P=function(){var e=new Date;if((S=[e].concat(h(S)).slice(0,20)).length>=20){var t=S[S.length-1],n=e.getTime()-t.getTime();n<C&&(y=new Date(e.getTime()+C-n))}},I=function(e){var t=e.cooldownEndsAtMs;y=new Date(Date.now()+t)},_=(0,r.debounce)((function(){var e=(0,l.cX)(O);a.Z.announce(e,"polite");O=[]}),500),w=function(e){
var t=e.emoji,n=e.userId,r=e.animationType;g[n]={emoji:t,sentAt:Date.now(),animationType:r};O=h(O).concat([{emojiName:t.name,userId:n}]);_()},x=function(e){var t=e.emoji;if(null!=t){m.unshift(t);(m=(0,r.uniqBy)(m,"name")).length>E+1&&m.pop()}},N=function(e){var t=e.userId;null!=g[t]&&delete g[t]},T=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&p(e,t)}(n,e);var t=v(n);function n(){c(this,n);return t.apply(this,arguments)}var r=n.prototype;r.getEffectForUserId=function(e){return g[e]};r.__getLocalVars=function(){return{effectCooldownEndTime:y,recentlyUsedEmojis:m,effectsByUserId:g,effectsToAnnounce:O,lastSentEffects:S,MAX_EFFECTS_COUNT:20,MAX_EFFECTS_INTERVAL_MS:C,handleVoiceChannelEffectSentLocal:P,handleTimestampUpdate:I,announceReaction:_,handleReceivedVoiceChannelEffect:w,
handleAddRecentlyUsedEmojis:x,handleClearVoiceChannelEffect:N}};!function(e,t,n){t&&s(e.prototype,t);n&&s(e,n)}(n,[{key:"recentlyUsedEmojis",get:function(){return m}},{key:"isOnCooldown",get:function(){return null!=y&&new Date<y}},{key:"effectCooldownEndTime",get:function(){return y}}]);return n}(o.ZP.Store);T.displayName="VoiceChannelEffectsStore";const A=new T(i.Z,{VOICE_CHANNEL_EFFECT_CLEAR:N,VOICE_CHANNEL_EFFECT_RECENT_EMOJI:x,VOICE_CHANNEL_EFFECT_SEND:w,VOICE_CHANNEL_EFFECT_SENT_LOCAL:P,VOICE_CHANNEL_EFFECT_UPDATE_TIME_STAMP:I})},833054:(e,t,n)=>{"use strict";n.r(t);n.d(t,{default:()=>j,openEffectsUpsellModal:()=>S});var r=n(785893),o=(n(667294),n(91956)),i=n(324920),a=n(237886),l=n(897576),u=n(109813),c=n(932847),s=n(461061),f=n(959797),d=n(941472),p=n.n(d),h=n(77015),y=n.n(h);function b(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function v(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){
var i=e.apply(t,n);function a(e){b(i,r,o,a,l,"next",e)}function l(e){b(i,r,o,a,l,"throw",e)}a(void 0)}))}}function m(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){m(e,t,n[t])}))}return e}function O(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}var E=function(e,t){var n,r,o,i,a={label:0,sent:function(){
if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}
}([i,l])}}};function j(e){var t=e.onClose,n=e.analytics,l=O(e,["onClose","analytics"]),d=f.Z.Messages.VOICE_CHANNEL_EFFECTS_UPSELL_BODY_2.format({onPressMore:function(){(0,o.Z)();t();c.default.track(s.rMx.PREMIUM_PROMOTION_OPENED,{location_section:s.jXE.VOICE_CHANNEL_EFFECTS_UPSELL_MODAL,location_object:s.qAy.NAVIGATION_LINK});(0,i.z)()}});return(0,r.jsx)(a.Z,g({title:f.Z.Messages.VOICE_CHANNEL_EFFECTS_UPSELL_HEADER_2,glowUp:d,body:d,artContainerClassName:p().artContainer,enableArtBoxShadow:!1,type:n.type,analyticsLocation:{section:s.jXE.VOICE_CHANNEL_EFFECTS_UPSELL_MODAL,object:n.object},analyticsSource:{page:s.ZY5.CHANNEL_CALL,section:n.section},onClose:t,onSubscribeClick:o.Z,artElement:(0,r.jsx)(u.Z,{className:p().video,src:y(),loop:!0,autoPlay:!0})},l))}function S(e){var t=e.analytics;(0,l.ZD)(v((function(){var e,o;return E(this,(function(i){switch(i.label){case 0:return[4,Promise.resolve().then(n.bind(n,833054))];case 1:e=i.sent(),o=e.default;return[2,function(e){return(0,
r.jsx)(o,g({analytics:t},e))}]}}))})))}},700982:(e,t,n)=>{"use strict";n.d(t,{y0:()=>s,RM:()=>f,Xb:()=>d,sm:()=>p,VP:()=>h,Es:()=>y});var r=n(675860),o=n(173436),i=n(461061);function a(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function l(e){a(i,r,o,l,u,"next",e)}function u(e){a(i,r,o,l,u,"throw",e)}l(void 0)}))}}var u,c=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){
case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},s=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];o.Z.dispatch({type:"WELCOME_SCREEN_VIEW",guildId:e,isLurking:t})},f=(u=l((function(e){var t;return c(this,(function(n){switch(n.label){case 0:o.Z.dispatch({type:"WELCOME_SCREEN_FETCH_START"});n.label=1;case 1:n.trys.push([1,3,,4]);return[4,r.Z.get({url:i.ANM.GUILD_WELCOME_SCREEN(e),oldFormErrors:!0})];case 2:t=n.sent();o.Z.dispatch({
type:"WELCOME_SCREEN_FETCH_SUCCESS",guildId:e,welcomeScreen:t.body});return[2,t.body];case 3:n.sent();o.Z.dispatch({type:"WELCOME_SCREEN_FETCH_FAIL"});return[3,4];case 4:return[2]}}))})),function(e){return u.apply(this,arguments)}),d=function(){o.Z.dispatch({type:"WELCOME_SCREEN_SETTINGS_RESET"})},p=function(){o.Z.dispatch({type:"WELCOME_SCREEN_SETTINGS_CLEAR"})},h=function(e){o.Z.dispatch({type:"WELCOME_SCREEN_SETTINGS_UPDATE",settings:e})},y=function(){var e=l((function(e,t){var n;return c(this,(function(a){switch(a.label){case 0:o.Z.dispatch({type:"WELCOME_SCREEN_SUBMIT"});a.label=1;case 1:a.trys.push([1,3,,4]);return[4,r.Z.patch({url:i.ANM.GUILD_WELCOME_SCREEN(e),body:{description:t.description,welcome_channels:t.channels,enabled:t.enabled},oldFormErrors:!0})];case 2:n=a.sent();o.Z.dispatch({type:"WELCOME_SCREEN_SUBMIT_SUCCESS",guildId:e,welcomeScreen:n.body});return[3,4];case 3:a.sent();o.Z.dispatch({type:"WELCOME_SCREEN_SUBMIT_FAILURE"});return[3,4];case 4:return[2]}}))}))
;return function(t,n){return e.apply(this,arguments)}}()},94181:(e,t,n)=>{"use strict";n.d(t,{a:()=>f,Z:()=>O});var r=n(791462),o=n(173436);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e){a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return a(e)}function l(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e,t){u=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return u(e,t)}var c=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0
}catch(e){return!1}}();return function(){var n,r=a(e);if(t){var o=a(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}var f={},d={},p={},h=!1,y=!1,b=!1;function v(e){var t=e.invite.guild;if(null!=(null==t?void 0:t.welcome_screen)){d[t.id]=t.welcome_screen;return!0}return!1}function m(e){var t=e.welcomeScreen,n=e.guildId;d[n]=null!=t?t:f}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&u(e,t)}(n,e);var t=s(n);function n(){i(this,n);return t.apply(this,arguments)}var r=n.prototype;r.get=function(e){if(null!=e)return d[e]};r.isFetching=function(){return y};r.hasError=function(){return b};r.hasSeen=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return null!=e&&(t?h:p[e]||!1)};r.__getLocalVars=function(){return{
welcomeScreens:d,seenGuilds:p,lurkingGuildSeen:h,fetching:y,hasError:b}};return n}(r.ZP.Store);g.displayName="WelcomeScreenStore";const O=new g(o.Z,{INVITE_RESOLVE_SUCCESS:v,INVITE_ACCEPT_SUCCESS:v,WELCOME_SCREEN_SUBMIT_SUCCESS:m,WELCOME_SCREEN_UPDATE:m,WELCOME_SCREEN_VIEW:function(e){var t=e.guildId,n=e.isLurking;p[t]=!0;n&&(h=!0)},GUILD_STOP_LURKING:function(){h=!1},GUILD_DELETE:function(e){var t=e.guild.id;p[t]=!1},WELCOME_SCREEN_FETCH_START:function(){y=!0;b=!1},WELCOME_SCREEN_FETCH_SUCCESS:function(e){y=!1;b=!1;var t=e.welcomeScreen,n=e.guildId;d[n]=null!=t?t:f},WELCOME_SCREEN_FETCH_FAIL:function(){y=!1;b=!0}})},406010:(e,t,n)=>{"use strict";n.d(t,{Z:()=>j});var r=n(496486),o=n.n(r),i=n(791462),a=n(173436),l=n(370442),u=n(997163),c=n(855846);function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e){f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return f(e)}function d(e,t){
return!t||"object"!==h(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e,t){p=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return p(e,t)}var h=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d(this,n)}}var b=12e4,v={},m={},g=new Set;function O(){v={};m={}}var E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function")
;e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&p(e,t)}(n,e);var t=y(n);function n(){s(this,n);return t.apply(this,arguments)}var r=n.prototype;r.getPreviewURL=function(e,t,n){var r=(0,u.V9)({streamType:null!=e?c.lo.GUILD:c.lo.CALL,guildId:e,channelId:t,ownerId:n}),o=v[r];if(null==o||Date.now()>o.expires){if(!g.has(r)){g.add(r);a.Z.wait((function(){(0,l.n9)(e,t,n)}))}return null}return o.url};r.getPreviewURLForStreamKey=function(e){var t=(0,u.my)(e),n=t.guildId,r=t.channelId,o=t.ownerId;return this.getPreviewURL(n,r,o)};r.getIsPreviewLoading=function(e,t,n){var r=(0,u.V9)({streamType:null!=e?c.lo.GUILD:c.lo.CALL,guildId:e,channelId:t,ownerId:n});return g.has(r)};r.__getLocalVars=function(){return{READ_PREVIEW_EXPIRY:b,READ_PREVIEW_DEFAULT_RETRY:1e4,streamPreviews:v,fetchAttempts:m,fetchingPreviews:g}};return n}(i.ZP.Store);E.displayName="ApplicationStreamPreviewStore";const j=new E(a.Z,{CONNECTION_OPEN:O,LOGOUT:O,
STREAM_PREVIEW_FETCH_START:function(e){var t,n=e.streamKey;m[n]=(null!==(t=m[n])&&void 0!==t?t:0)+1;g.add(n)},STREAM_PREVIEW_FETCH_SUCCESS:function(e){var t=e.streamKey,n=e.previewURL;v[t]={url:n,expires:Date.now()+b};m[t]=0;g.delete(t)},STREAM_PREVIEW_FETCH_FAIL:function(e){var t=e.streamKey,n=e.retryAfter;v[t]={url:null,expires:Date.now()+(null!=n?n:1e4*m[t])};g.delete(t)},VOICE_STATE_UPDATES:function(e){var t=e.voiceStates;return(!o().isEmpty(v)||!o().isEmpty(m))&&t.reduce((function(e,t){var n=t.userId,r=t.guildId,o=t.channelId;if(t.selfStream)return e;var i=(0,u.V9)({streamType:null!=r?c.lo.GUILD:c.lo.CALL,guildId:r,channelId:o,ownerId:n});delete v[i];delete m[i];return!0}),!1)}})},182376:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(791462),o=n(173436);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e){a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return a(e)}
function l(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e,t){u=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return u(e,t)}var c=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=a(e);if(t){var o=a(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}var f={toastsEnabledForChannel:{}},d=f;var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function")
;e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&u(e,t)}(n,e);var t=s(n);function n(){i(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(e){d=null!=e?e:f};r.getToastsEnabled=function(e){var t;return null===(t=d.toastsEnabledForChannel[e])||void 0===t||t};r.getState=function(){return d};r.__getLocalVars=function(){return{initialState:f,state:d}};return n}(r.ZP.PersistedStore);p.displayName="CallChatToastsStore";p.persistKey="CallChatToasts";const h=new p(o.Z,{CALL_CHAT_TOASTS_SET_ENABLED:function(e){var t=e.channelId,n=e.toastsEnabled;d.toastsEnabledForChannel[t]=n},LOGOUT:function(){d.toastsEnabledForChannel={}}})},577088:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(791462),o=n(173436);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e){a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return a(e)
}function l(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e,t){u=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return u(e,t)}var c,s=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=a(e);if(t){var o=a(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}!function(e){e.FAILED="failed";e.SUCCEEDED="succeeded"}(c||(c={}));var d={};var p=function(e){!function(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&u(e,t)}(n,e);var t=f(n);function n(){i(this,n);return t.apply(this,arguments)}var r=n.prototype;r.getFollowerStatsForChannel=function(e){return d[e]};r.__getLocalVars=function(){return{ChannelFollowerStatsFetchStates:c,channelIdToFollowerStats:d}};return n}(r.ZP.Store);p.displayName="ChannelFollowerStatsStore";const h=new p(o.Z,{CONNECTION_OPEN:function(){d={}},CHANNEL_FOLLOWER_STATS_FETCH_SUCCESS:function(e){var t=e.channelId,n=e.stats;n=null!=n?n:{};d[t]={loadingStatus:c.SUCCEEDED,lastFetched:Date.now(),channelsFollowing:n.channels_following,guildMembers:n.guild_members,guildsFollowing:n.guilds_following,usersSeenEver:n.users_seen_ever,subscribersGainedSinceLastPost:n.subscribers_gained_since_last_post,subscribersLostSinceLastPost:n.subscribers_lost_since_last_post}},
CHANNEL_FOLLOWER_STATS_FETCH_FAILURE:function(e){var t=e.channelId;d[t]={loadingStatus:c.FAILED,lastFetched:Date.now(),channelsFollowing:0,guildMembers:0,guildsFollowing:0,usersSeenEver:0,subscribersGainedSinceLastPost:0,subscribersLostSinceLastPost:0}}})},280671:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(791462),o=n(173436),i=n(537127);function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e){l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return l(e)}function u(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e,t){c=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return c(e,t)}var s=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function f(e){var t=function(){
if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=l(e);if(t){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u(this,n)}}var d=new Set;var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&c(e,t)}(n,e);var t=f(n);function n(){a(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(e){null!=e&&(d=new Set(e.expandedFolders));this.waitFor(i.Z)};r.getState=function(){return{expandedFolders:Array.from(d)}};r.getExpandedFolders=function(){return d};r.isFolderExpanded=function(e){return d.has(e)}
;r.__getLocalVars=function(){return{expandedFolders:d}};return n}(r.ZP.PersistedStore);p.displayName="ExpandedGuildFolderStore";p.persistKey="ExpandedGuildFolderStore";const h=new p(o.Z,{TOGGLE_GUILD_FOLDER_EXPAND:function(e){var t=e.folderId;(d=new Set(d)).has(t)?d.delete(t):d.add(t)},SET_GUILD_FOLDER_EXPANDED:function(e){var t=e.folderId,n=e.expanded;d=new Set(d);n?d.add(t):d.has(t)&&d.delete(t)},USER_SETTINGS_PROTO_UPDATE:function(){var e=i.Z.getGuildFolders();if(null==e)return!1;var t=!1,n=!0,r=!1,o=void 0;try{for(var a,l=function(){var n=a.value;if(!e.some((function(e){return e.folderId===n}))){(d=new Set(d)).delete(n);t=!0}},u=d[Symbol.iterator]();!(n=(a=u.next()).done);n=!0)l()}catch(e){r=!0;o=e}finally{try{n||null==u.return||u.return()}finally{if(r)throw o}}return t},GUILD_FOLDER_COLLAPSE:function(){if(0===d.size)return!1;d=new Set}})},945505:(e,t,n)=>{"use strict";n.d(t,{Z:()=>S});var r=n(496486),o=n.n(r),i=n(791462),a=n(173436),l=n(499486);function u(e,t){
if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function s(e){s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return s(e)}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){c(e,t,n[t])}))}return e}function d(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}
return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function p(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e,t){h=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return h(e,t)}var y=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=s(e);if(t){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p(this,n)}}var v,m,g=Object.freeze({}),O={};function E(e){var t=e.lobbyId;delete O[t]}
var j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&h(e,t)}(n,e);var t=b(n);function n(){u(this,n);return t.apply(this,arguments)}var r=n.prototype;r.getAllVoiceStates=function(){return O};r.getVoiceStates=function(e){var t;return null!==(t=O[e])&&void 0!==t?t:g};r.getVoiceState=function(e,t){return this.getVoiceStates(e)[t]};r.getLobbyIdsForUser=function(e){return Object.keys(O).filter((function(t){return null!=O[t][e]}))};r.__getLocalVars=function(){return{EMPTY_MAP:g,lobbies:O,currentUserId:v,currentSessionId:m}};return n}(i.ZP.Store);j.displayName="LobbyVoiceStateStore";const S=new j(a.Z,{CONNECTION_OPEN:function(e){var t=e.user,n=e.sessionId;O={};v=t.id;m=n},OVERLAY_INITIALIZE:function(e){var t=e.lobbyVoiceStates,n=e.user,r=e.sessionId;O={};o().each(t,(function(e,t){O[t]={}
;o().each(e,(function(e,n){O[t][n]=new l.Z(e)}))}));v=n.id;m=r},LOBBY_VOICE_STATE_UPDATE:function(e){var t,n,r=e.sessionId,o=e.userId,i=e.lobbyId,a=e.channelId,u=e.mute,s=e.deaf,p=e.selfMute,h=e.selfDeaf,y=o===v&&r!==m,b=null!==(t=O[i])&&void 0!==t?t:{},g=b[o];null==a||y||(n=null==g?new l.Z({userId:o,sessionId:r,channelId:a,mute:u,deaf:s,selfMute:p,selfDeaf:h}):g.merge({userId:o,sessionId:r,channelId:a,mute:u,deaf:s,selfMute:p,selfDeaf:h}));if(g===n)return!1;null==n?delete(b=f({},b))[o]:b=d(f({},b),c({},o,n));O[i]=b},LOBBY_DELETE:E,LOBBY_DISCONNECT:E})},520134:(e,t,n)=>{"use strict";n.d(t,{Z:()=>j});var r=n(791462),o=n(173436),i=n(53551),a=n(604860),l=n(356004),u=n(365667),c=n(379822),s=n(703863);function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e){d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return d(e)}function p(e,t){
return!t||"object"!==y(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e,t){h=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return h(e,t)}var y=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var o=d(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p(this,n)}}var v=[];function m(){var e=s.Z.getPrivateChannelIds().filter((function(e){return u.ZP.getMentionCount(e)>0}));e.length>20&&(e.length=20);if((0,a.EF)(e,v))return!1;v=e;return!0}function g(){return m()}
function O(e){var t=e.channelId,n=l.Z.getChannel(t);return!(null==n||!(0,i.hv)(n.type))&&m()}var E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&h(e,t)}(n,e);var t=b(n);function n(){f(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(){this.waitFor(s.Z,l.Z,c.Z,u.ZP)};r.getUnreadPrivateChannelIds=function(){return v};r.__getLocalVars=function(){return{MAX_UNREAD_CHANNELS:20,unreadPrivateChannelIds:v}};return n}(r.ZP.Store);E.displayName="PrivateChannelReadStateStore";const j=new E(o.Z,{CONNECTION_OPEN:g,OVERLAY_INITIALIZE:g,MESSAGE_CREATE:O,MESSAGE_ACK:O,CHANNEL_SELECT:function(e){var t=e.channelId,n=l.Z.getChannel(t);return!(null==n||!(0,i.hv)(n.type))&&m()},CHANNEL_DELETE:function(e){var t=e.channel.id,n=l.Z.getChannel(t);return!(null==n||!(0,i.hv)(n.type))&&m()},
WINDOW_FOCUS:function(){var e=l.Z.getChannel(c.Z.getChannelId());return!(null==e||!(0,i.hv)(e.type))&&m()},CHANNEL_CREATE:function(e){var t=e.channel.id,n=l.Z.getChannel(t);return!(null==n||!(0,i.hv)(n.type))&&m()},CHANNEL_UPDATES:function(e){var t=e.updates,n=!1,r=!0,o=!1,a=void 0;try{for(var u,c=t[Symbol.iterator]();!(r=(u=c.next()).done);r=!0){var s=u.value.channel.id,f=l.Z.getChannel(s);null!=f&&(0,i.hv)(f.type)&&(n=!0)}}catch(e){o=!0;a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return!!n&&m()}})},19710:(e,t,n)=>{"use strict";n.d(t,{Z:()=>B});var r=n(496486),o=n.n(r),i=n(791462),a=n(173436),l=n(961033),u=n(53551),c=n(912551),s=n(356004),f=n(488076),d=n(105405),p=n(859023),h=n(461061);function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e){v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){
return e.__proto__||Object.getPrototypeOf(e)};return v(e)}function m(e,t){return!t||"object"!==E(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e,t){g=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return g(e,t)}function O(e){return function(e){if(Array.isArray(e))return y(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")
}()}var E=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var o=v(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m(this,n)}}var S,C=!1,P="",I=0,_=[],w=!1,x=new Set,N=null;function T(){P="";I=0;_=[];x=new Set;C=!1;N=null}function A(e){P=e;I=0;Z()}function Z(){if(!C)return!1;var e=s.Z.getChannel(N);if(0===P.trim().length){null!=S&&S.clearQuery();_=function(e){var t=d.Z.getFriendIDs();null!=e&&(t=t.filter((function(t){return!e.recipients.includes(t)})));return t.reduce((function(e,t){var n=p.default.getUser(t);if(null==n)return e;e.push({user:n});return e}),[]).sort(M)}(e);return!0}
var t=null!=e?e.recipients:[];null!=S&&S.setQuery(P,{friends:!0},t,function(){var e,t=f.Z.getFrequently().filter((function(e){return e instanceof u.ZP&&e.type===h.d4z.DM})),n=(e=Math).max.apply(e,O(t.map((function(e){var t=e.id;return f.Z.getScore(t)})))),r={};t.forEach((function(e){var t=f.Z.getScore(e.id),o=e.getRecipientId(),i=d.Z.isFriend(o)?.2:0,a=null!=s.Z.getDMFromUserId(o)?.1:0;r[o]=1+t/n+i+a}));return r}());return!1}function R(){if(!C)return!1;var e=w;return(w=o().some(d.Z.getRelationships(),(function(e){return e===h.OGo.FRIEND})))!==e}function M(e,t){return(0,c._I)(e.user.username.toLocaleLowerCase()).localeCompare((0,c._I)(t.user.username.toLocaleLowerCase()))}function D(e){var t=e.results;if(C&&""!==P){_=t.map((function(e){var t=e.user,n=e.id,r=e.score,o=e.comparator;return{user:null!=t?t:p.default.getUser(n),score:r,comparator:o}}));H.emitChange()}}function L(){if(null!=S){S.destroy();S=null}return l.Z.getSearchContext(D,1e3)}function k(e){if(e.key!==h.vTt)return!1;C=!0
;R();S=L();N=null;A("")}function U(){if(null!=S){S.destroy();S=null}T()}var G=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&g(e,t)}(n,e);var t=j(n);function n(){b(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(){this.waitFor(p.default,s.Z,d.Z);this.syncWith([p.default,s.Z],Z);this.syncWith([d.Z],R)};r.getResults=function(){return _};r.hasFriends=function(){return w};r.getSelectedUsers=function(){return x};r.getQuery=function(){return P};r.getState=function(){return{query:P,selectedRow:I,selectedUsers:x,results:_,hasFriends:w}};r.__getLocalVars=function(){return{LIMIT:1e3,userSearchContext:S,isOpen:C,query:P,selectedRow:I,results:_,hasFriends:w,selectedUsers:x,selectedChannelId:N,instance:H}};return n}(i.ZP.Store);G.displayName="PrivateChannelRecipientsInviteStore"
;var H=new G(a.Z,{CONNECTION_OPEN:function(){T()},CHANNEL_SELECT:function(e){var t=e.guildId,n=e.channelId;if(null!=t)return!1;var r=C;T();C=r;N=n;return Z()},MODAL_PUSH:k,SHOW_ACTION_SHEET:k,PRIVATE_CHANNEL_RECIPIENTS_INVITE_OPEN:function(e){C=!0;R();S=L();N=e.channelId;A("")},MODAL_POP:U,HIDE_ACTION_SHEET:U,PRIVATE_CHANNEL_RECIPIENTS_INVITE_CLOSE:U,PRIVATE_CHANNEL_RECIPIENTS_INVITE_QUERY:function(e){N=e.channelId;A(e.query)},PRIVATE_CHANNEL_RECIPIENTS_INVITE_SELECT:function(e){I=e.row},PRIVATE_CHANNEL_RECIPIENTS_ADD_USER:function(e){var t=e.userId;x.add(t);x=new Set(x)},PRIVATE_CHANNEL_RECIPIENTS_REMOVE_USER:function(e){var t=e.userId;x.delete(t);x=new Set(x)}});const B=H},24397:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var r=n(496486),o=n.n(r),i=n(791462),a=n(173436),l=n(653772);function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e){c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){
return e.__proto__||Object.getPrototypeOf(e)};return c(e)}function s(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e,t){f=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return f(e,t)}var d=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}var h=null,y={};var b=function(e){!function(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&f(e,t)}(n,e);var t=p(n);function n(){u(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(){this.waitFor(l.Z)};r.getOptimalRegion=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=this.getRegions(t);return null!=n?null!==(e=n.find((function(e){return e.optimal})))&&void 0!==e?e:o().sample(n):null};r.getOptimalRegionId=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.getOptimalRegion(e);return null!=t?t.id:null};r.getRandomRegion=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.getRegions(e);return null!=t?o().sample(t):null};r.getRandomRegionId=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.getRandomRegion(e)
;return null!=t?t.id:null};r.getRegions=function(e){return null!=e?y[e]:h};r.__getLocalVars=function(){return{defaultRegions:h,guildRegions:y}};return n}(i.ZP.Store);b.displayName="RegionStore";const v=new b(a.Z,{LOAD_REGIONS:function(e){var t=o().sortBy(e.regions,(function(e){return e.name}));null!=e.guildId?y[e.guildId]=t:h=t},GUILD_DELETE:function(e){delete y[e.guild.id]}})},273192:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(791462),o=n(444450),i=n(173436),a=n(784041);function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e){u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return u(e)}function c(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e,t){s=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return s(e,t)}
var f=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}var p="SpellcheckStore",h=!0,y=new Set;function b(){o.Z.set(p,{enabled:h,learnedWords:y})}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&s(e,t)}(n,e);var t=d(n);function n(){l(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(){var e=o.Z.get(p);if(null!=e){
h=e.enabled;y=new Set(e.learnedWords);(0,a.gL)(h);(0,a.fG)(y)}};r.isEnabled=function(){return h};r.__getLocalVars=function(){return{STORAGE_KEY:p,enabled:h,learnedWords:y}};return n}(r.ZP.Store);v.displayName="SpellcheckStore";const m=new v(i.Z,{SPELLCHECK_TOGGLE:function(){h=!h;(0,a.gL)(h);b()},SPELLCHECK_LEARN_WORD:function(e){var t=e.word;y.add(t.toLocaleLowerCase());(0,a.fG)(y);b()},I18N_LOAD_SUCCESS:function(e){var t=e.locale;(0,a._2)(t)}})},520571:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var r=n(785893),o=(n(667294),n(173436)),i=n(815415),a=n(897576),l=n(461061);function u(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){u(i,r,o,a,l,"next",e)}function l(e){u(i,r,o,a,l,"throw",e)}a(void 0)}))}}function s(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n
;return e}function f(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function d(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}var p,h,y=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},
"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},b=null;function v(e){null!=p&&e?p():null!=h&&h();p=null;h=null}function m(){var e=!1
;(0,a.ZD)(c((function(){var t,o;return y(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(91472)]).then(n.bind(n,291472))];case 1:t=i.sent(),o=t.default;return[2,function(t){var n=t.onClose,i=d(t,["onClose"]);return(0,r.jsx)(o,f(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){s(e,t,n[t])}))}return e}({},i),{onClose:function(t){e=t;n()}}))}]}}))})),{onCloseCallback:function(){(0,i.M)(e)}})}const g={init:function(){o.Z.subscribe("PREMIUM_REQUIRED_MODAL_OPEN",(function(e){v(!1);b=e.context;p=e.resolve;h=e.reject;l.e3s===e.context&&m()}));o.Z.subscribe("PREMIUM_REQUIRED_MODAL_CLOSE",(function(e){var t=e.shouldContinue;b=null;v(t)}));o.Z.subscribe("OVERLAY_SET_INPUT_LOCKED",(function(e){if(e.locked&&null!=b){
b=null;v(!1)}}))}}},733621:(e,t,n)=>{"use strict";n.d(t,{Z:()=>O});var r=n(785893),o=(n(667294),n(173436)),i=n(401763),a=n(897576),l=n(461061);function u(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){u(i,r,o,a,l,"next",e)}function l(e){u(i,r,o,a,l,"throw",e)}a(void 0)}))}}function s(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function f(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){
Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function d(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}var p,h,y=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:
a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},b=null,v=null;function m(e){null!=p&&null!=b?p(b):null!=h&&h(e);p=null;h=null}function g(e,t,o,u){var p=null;(0,a.ZD)(c((function(){var i,a;return y(this,(function(c){switch(c.label){case 0:return[4,Promise.all([n.e(40532),n.e(2832),n.e(55712)]).then(n.bind(n,855712))];case 1:i=c.sent(),a=i.default;return[2,function(n){var i=n.onClose,c=d(n,["onClose"]);return(0,r.jsx)(a,f(function(e){for(var t=1;t<arguments.length;t++){
var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){s(e,t,n[t])}))}return e}({},c),{onClose:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;p=e;i()},applicationId:t,skuId:o,analyticsSource:u,isIAP:e===l.IlC.OVERLAY}))}]}}))})),{onCloseCallback:function(){(0,i.J)(p)}})}const O={init:function(){o.Z.subscribe("PURCHASE_CONFIRMATION_MODAL_OPEN",(function(e){m();v=e.context;b=e.entitlements;p=e.resolve;h=e.reject;l.e3s===e.context&&g(e.context,e.applicationId,e.skuId,e.analyticsSource)}));o.Z.subscribe("PURCHASE_CONFIRMATION_MODAL_CLOSE",(function(e){var t=e.error;v=null;m(t)}));o.Z.subscribe("OVERLAY_SET_INPUT_LOCKED",(function(e){if(e.locked&&null!=v){v=null;m()}}))}}},86111:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>V,yk:()=>F})
;var r=n(368365),o=n(791462),i=n(444450),a=n(173436),l=n(642400),u=n(825524),c=n(354290),s=n(351621),f=n(804626),d=n(53211),p=n(455040),h=n(35197),y=n(655695),b=n(672549),v=n(338588),m=n(756328),g=n(665357),O=n(356004),E=n(653772),j=n(765515),S=n(940712),C=n(105405),P=n(379822),I=n(979662),_=n(859023),w=n(882687),x=n(570992),N=n(873463),T=n(339511),A=n(742269),Z=n(402801),R=n(461061),M=n(998689),D=n(959797);function L(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e){k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return k(e)}function U(e,t){return!t||"object"!==H(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function G(e,t){G=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return G(e,t)}var H=function(e){
return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function B(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=k(e);if(t){var o=k(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return U(this,n)}}var V="message1",F=.4,W="message3",Y="message2",z="discord_dismissed_notification_shown",K=document.hasFocus(),q=null,X=["FR","GF","PF","TF","RE","GP","MQ","YT","NC","PM","WF"],Q=new(function(){function e(){L(this,e);this._channels={}}var t=e.prototype;t.track=function(e,t){var n=this._channels[e];if(null==n){n=[];this._channels[e]=n}n.push(t);for(;n.length>1;){var r=n.shift();null!=r&&null!=r.close&&r.close()}};t.clearChannel=function(e){var t=this._channels[e];if(null!=t){
delete this._channels[e];t.forEach((function(e){return e.close()}))}};return e}());function J(){return j.Z.getDesktopType()===R.qrD.NEVER||I.Z.getStatus()===R.Skl.DND}function $(e){return null!=w.Z.getVoiceStateForChannel(e)}var ee=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&G(e,t)}(n,e);var t=B(n);function n(){L(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(){this.waitFor(_.default,O.Z,j.Z,E.Z,m.Z,C.Z,S.Z,w.Z,h.Z)};r.__getLocalVars=function(){return{MESSAGE_SAME_CHANNEL_SOUND:W,MESSAGE_SAME_CHANNEL_SOUND_VOLUME:.4,ACTIVITY_START_SOUND:Y,ACTIVITY_START_SOUND_VOLUME:.4,MAX_PER_CHANNEL:1,DISCORD_DISMISSED_NOTIF_KEY:z,focused:K,userCountryCode:q,NOTIFY_ON_CLOSE_COUNTRIES:X,notificationTracker:Q}};return n}(o.ZP.Store);ee.displayName="NotificationStore"
;new ee(a.Z,__OVERLAY__?{}:{NOTIFICATIONS_SET_PERMISSION_STATE:function(e){e.enabled!==R.$Ab.ENABLED||A.FB||T.Z.showNotification(n(998634),D.Z.Messages.NOTIFICATION_TITLE_DISCORD,D.Z.Messages.BROWSER_NOTIFICATIONS_ENABLED_BODY,{notif_type:"NOTIFICATIONS_SET_PERMISSION_STATE"},{omitViewTracking:!0,sound:V,volume:F,tag:"hello",onClick:function(){window.focus()}})},NOTIFICATION_CREATE:function(e){var t=e.icon,n=e.title,r=e.body,o=e.trackingProps,i=e.options;if(J())return!1;T.Z.showNotification(t,n,r,o,i);return!1},WINDOW_FOCUS:function(e){if(K=e.focused){var t=P.Z.getChannelId();null!=t&&Q.clearChannel(t)}},MESSAGE_CREATE:function(e){var t=e.channelId,r=e.message;if(e.optimistic)return!1;var o=O.Z.getChannel(t),i=_.default.getUser(r.author.id);if(null==o||null==i)return!1;var l=(0,N.eF)(r,t,!K),c=j.Z.getNotifyMessagesInSelectedChannel()&&(0,N.N_)(r,t);if(!l&&!c)return!1;var f=!j.Z.isSoundDisabled(V);if(c){f&&Z.GN(W,.4);if(!K)return!1}if(!l)return!1;var d=n(870).Z,p=n(300327).Z
;if(null!=d.getFocusedPID()&&p.getTextChatNotificationMode()===R.Ypu.ENABLED)return!1;var h=(0,N.Xi)(o,r,i),y=h.icon,v=h.title,m=h.body;a.Z.dispatch({type:"RPC_NOTIFICATION_CREATE",channelId:o.id,message:r,icon:y,title:v,body:m});if(j.Z.getDesktopType()===R.qrD.NEVER){f&&Z.GN(V,F);return!1}var g=T.Z.showNotification(y,v,m,{notif_type:"MESSAGE_CREATE",notif_user_id:r.author.id,message_id:r.id,message_type:r.type,channel_id:o.id,channel_type:o.type,guild_id:o.guild_id},{omitViewTracking:!0,tag:r.id,sound:f?V:void 0,volume:F,onClick:function(){(0,b.Kh)(o.id);o.type!==R.d4z.GUILD_VOICE&&o.type!==R.d4z.GUILD_STAGE_VOICE||u.Z.updateChatOpen(o.id,!0);s.default.clickedNotification()}});null!=g&&Q.track(o.id,g)},CHANNEL_SELECT:function(e){var t=e.channelId;null!=t&&Q.clearChannel(t);return!1},MESSAGE_ACK:function(e){var t=e.channelId;Q.clearChannel(t);return!1},ACTIVITY_START:function(e){var t=e.userId,n=e.activity;if(J())return!1;if(n.type===R.IIU.PLAYING){var r=_.default.getUser(t)
;if(null==r)return!1;var o=r.toString(),i=n.name,a=r.getAvatarURL(void 0,128),u=D.Z.Messages.NOTIFICATION_TITLE_START_GAME,c=D.Z.Messages.NOTIFICATION_BODY_START_GAME.format({username:o,gameName:i});T.Z.showNotification(a,u,c,{notif_type:"ACTIVITY_START",activity_type:R.IIU.PLAYING,notif_user_id:t,activity_name:i},{sound:Y,playSoundIfDisabled:!1,volume:.4,onClick:function(){l.Z.openPrivateChannel(t)}});return!1}return!1},VOICE_STATE_UPDATES:function(e){var t=e.voiceStates;if(!J()){var n=_.default.getCurrentUser();if(null!=n){var r=t.find((function(e){return e.userId===n.id}));if(null!=r){var o=r.channelId,i=r.guildId,a=r.suppress,l=r.requestToSpeakTimestamp;if(null!=o&&null!=i&&(!a&&null!=l)){var u=E.Z.getGuild(i),c=O.Z.getChannel(o),s=m.Z.getStageInstanceByChannel(o);null!=u&&null!=c&&null!=s&&T.Z.showNotification(u.getIconURL(128),c.name,D.Z.Messages.STAGE_SPEAK_INVITE_PUSH_NOTIFICATION.format({channelName:(0,d.F)(c,_.default,C.Z),channelTopic:null==s?void 0:s.topic}),{
notif_type:"Stage Speak Invite"},{})}}}}},STAGE_INSTANCE_UPDATE:function(e){var t=e.instance;if(J())return!1;if(!t.send_start_notification)return!1;if($(t.channel_id))return!1;var n=_.default.getCurrentUser(),o=E.Z.getGuild(t.guild_id),i=O.Z.getChannel(t.channel_id),a=_.default.getUser(t.host_id);if(null==n||null==i||null==o||null==a)return!1;if(!(0,N.LL)(n,a,i))return!1;if(!S.Z.can(r.Z.combine(R.Plq.CONNECT,R.Plq.VIEW_CHANNEL),i))return!1;T.Z.showNotification(o.getIconURL(128),D.Z.Messages.STAGE_START_PUSH_NOTIFICATION_TITLE.format({guildName:o.name}),D.Z.Messages.STAGE_START_PUSH_NOTIFICATION_BODY.format({username:x.Z.getName(o.id,i.id,a),topic:t.topic}),{notif_type:"STAGE_INSTANCE_CREATE",guild_id:o.id,channel_id:i.id},{onClick:function(){(0,v.Cq)(i)}})},GUILD_SCHEDULED_EVENT_UPDATE:function(e){var t=e.guildScheduledEvent;if(J())return!1;if(null==t.notification_type)return!1
;t.notification_type===M.sy.EVENT_START&&(t.entity_type===M.WX.STAGE_INSTANCE||t.entity_type===M.WX.VOICE?function(e){if(J())return!1;var t=e.channel_id;if(null==t)return!1;if($(t))return!1;var n=_.default.getCurrentUser(),o=E.Z.getGuild(e.guild_id),i=O.Z.getChannel(e.channel_id),a=_.default.getUser(e.host_id);if(null==n||null==i||null==o||null==a)return!1;if(!S.Z.can(r.Z.combine(R.Plq.CONNECT,R.Plq.VIEW_CHANNEL),i))return!1;T.Z.showNotification(o.getIconURL(128),D.Z.Messages.GUILD_SCHEDULED_EVENT_STAGE_START_TITLE.format({guildName:o.name}),D.Z.Messages.GUILD_SCHEDULED_EVENT_STAGE_START_BODY.format({topic:e.name,username:x.Z.getName(o.id,i.id,a)}),{notif_type:"GUILD_SCHEDULED_EVENT_UPDATE",guild_id:o.id,channel_id:i.id},{onClick:function(){e.entity_type===M.WX.STAGE_INSTANCE&&(0,v.Cq)(i);e.entity_type===M.WX.VOICE&&f.default.selectVoiceChannel(i.id)}})}(t):t.entity_type===M.WX.EXTERNAL&&function(e){if(J())return!1;var t=_.default.getCurrentUser(),n=E.Z.getGuild(e.guild_id)
;if(null==t||null==n)return!1;T.Z.showNotification(n.getIconURL(128),D.Z.Messages.GUILD_SCHEDULED_EVENT_STAGE_START_TITLE.format({guildName:n.name}),D.Z.Messages.GUILD_SCHEDULED_EVENT_EXTERNAL_START_BODY.format({topic:e.name}),{notif_type:"GUILD_SCHEDULED_EVENT_UPDATE",guild_id:n.id},{onClick:function(){c.Z.transitionToGuildSync(e.guild_id);(0,p.bO)({eventId:e.id})}})}(t))},THREAD_CREATE:function(e){var t=e.channel,n=e.isNewlyCreated;if(J())return!1;var r=O.Z.getChannel(t.parent_id);if(null==r||r.type!==R.d4z.GUILD_FORUM)return!1;if(!n)return!1;if(!(0,N.FI)(t,r,!K))return!1;var o=_.default.getUser(t.ownerId);if(null==o)return!1;var i=E.Z.getGuild(r.guild_id);if(null==i)return!1;var a=D.Z.Messages.FORUM_CHANNEL_THREAD_CREATED_PUSH_TITLE_MOBILE.format({channelName:r.name,guildName:i.name}),l=D.Z.Messages.FORUM_CHANNEL_THREAD_CREATED_PUSH_BODY_MOBILE.format({channelName:t.name,userUsername:o.toString()}),u=o.getAvatarURL(void 0,128);T.Z.showNotification(u,a,l,{notif_type:"THREAD_CREATE",
notif_user_id:o.id},{onClick:function(){(0,g.ok)(t)}})},GENERIC_PUSH_NOTIFICATION_SENT:function(e){var t=e.icon,n=e.title,r=e.body,o=e.route,i=e.trackingType,a=e.tag;if(J())return!1;if(null==n||null==r||null==i)return!1;T.Z.showNotification(t,n,r,{notif_type:i},{onClick:function(){null!=o&&(0,y.uL)(o)},tag:a});return!1},WINDOW_HIDDEN:function(){var e=(0,A.ED)(),t=(0,A.IJ)();if(!(!i.Z.get(z,!1)&&A.FB&&(e||t)))return!1;var r=!1;null!=q&&(r=X.includes(q));if(!r)return!1;T.Z.showNotification(n(482773),D.Z.Messages.NOTIFICATION_TITLE_DISCORD,D.Z.Messages.NOTIFICATION_BODY_DISCORD_HIDDEN,{notif_type:"WINDOW_HIDDEN"},{overrideStreamerMode:!0,onClick:function(){(0,y.uL)(R.Z5c.SETTINGS(e?"windows":"linux"))},onShown:function(){i.Z.set(z,!0)}});return!1},LOGOUT:function(){i.Z.remove(z);return!1},CONNECTION_OPEN:function(e){var t=e.countryCode;q=t}})},552007:(e,t,n)=>{"use strict";n.d(t,{Z:()=>b});var r=n(785893),o=n(667294),i=n(496486),a=n.n(i),l=n(493316),u=n(959797);function c(e,t){
if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e){s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return s(e)}function f(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e,t){d=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return d(e,t)}var p=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=s(e);if(t){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments)
;return f(this,n)}}var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&d(e,t)}(n,e);var t=h(n);function n(){c(this,n);return t.apply(this,arguments)}var o=n.prototype;o.componentDidMount=function(){var e=this,t=this.props,n=t.intervalDuration,r=t.onInterval;this._interval=setInterval((function(){e.forceUpdate();null==r||r()}),n)};o.componentWillUnmount=function(){null!=this._interval&&clearInterval(this._interval)};o.defaultRender=function(e){var t=this.props,n=t.showDays,o=t.showUnits,i=t.className,l=[e.days,e.hours,e.minutes,e.seconds],c=[u.Z.Messages.COUNTDOWN_UNITS_SECONDS,u.Z.Messages.COUNTDOWN_UNITS_MINUTES,u.Z.Messages.COUNTDOWN_UNITS_HOURS,u.Z.Messages.COUNTDOWN_UNITS_DAYS];if(0===e.days)l.shift();else if(!n){var s=l.shift();l[0]+=24*s}var f=a()(l).map((function(e){return e<10?"0".concat(e):e
})).map((function(e,t){return[t>0&&!o?":":" ",(0,r.jsxs)("span",{children:[e,o?c[l.length-t-1]:null]},t)]})).flatten().value();return(0,r.jsx)("span",{className:i,children:f})};o.render=function(){var e=this.props,t=e.deadline,n=e.children,o=e.className,i=e.stopAtOneSec;if(t===1/0)return(0,r.jsx)("span",{className:o,"aria-label":u.Z.Messages.MAX_AGE_NEVER,children:""});var a=(0,l.TD)(Date.now(),t,i);return null!=n?n(a,this.defaultRender.bind(this,a)):this.defaultRender(a)};return n}(o.PureComponent);y.defaultProps={showDays:!0,showUnits:!1,stopAtOneSec:!1,intervalDuration:1e3};const b=y},629858:(e,t,n)=>{"use strict";n.d(t,{u:()=>g,Z:()=>O});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),l=n(248088),u=n(511716),c=n(191940),s=n(461061),f=n(959797),d=n(307174),p=n.n(d);function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n
;return e}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){y(e,t,n[t])}))}return e}function v(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{
for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var g={tension:800,friction:24};const O=function(e){var t=e.tabIndex,n=e.className,i=e.renderButtonContents,d=e.active,h=e.onClick,y=e["aria-controls"],O=e.focusProps,E=m(o.useState(!1),2),j=E[0],S=E[1],C=m(o.useState(0),2),P=C[0],I=C[1],_=j||d,w=(0,u.l)(p(),"emojiButton",_?"Hovered":"Normal"),x=function(e){
var t=-e%s.DCN.PickerPerRow*22,n=22*-Math.floor(e/s.DCN.PickerPerRow);return{backgroundPosition:"".concat(t,"px ").concat(n,"px"),backgroundSize:"".concat(22*s.DCN.PickerPerRow,"px ").concat(22*Math.ceil(s.DCN.PickerCount/s.DCN.PickerPerRow),"px")}}(P),N=o.useCallback((function(){if(!_){var e=Math.floor(Math.random()*s.DCN.PickerCount);S(!0);I(e)}}),[_,S,I]),T=o.useCallback((function(){S(!1)}),[S]);return(0,r.jsx)(c.Co,{look:c.Co.Looks.BLANK,size:c.Co.Sizes.NONE,tabIndex:t,className:a()(w,n),onMouseEnter:N,onMouseOver:N,onMouseLeave:T,onClick:h,"aria-label":f.Z.Messages.SELECT_EMOJI,"aria-controls":y,"aria-expanded":d,"aria-selected":d,"aria-haspopup":"dialog",focusProps:O,children:null!=i?i():(0,r.jsx)(l.Spring,{config:g,to:{value:_?1:0},children:function(e){var t=e.value;return(0,r.jsx)(l.animated.div,{className:p().sprite,style:v(b({},x),{transform:t.to([0,1],[1,1.14]).to((function(e){return"scale(".concat(e,")")})),filter:t.to((function(e){return"grayscale(".concat(100-100*e,"%)")
}))})})}})})}},246887:(e,t,n)=>{"use strict";n.d(t,{ox:()=>_,OZ:()=>w,ZP:()=>x});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),l=n(487502),u=n(94813),c=n(461061),s=n(643193),f=n.n(s),d=n(380203),p=n.n(d);function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function b(e){b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return b(e)}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&E(e,t)}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){
return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){y(e,t,n[t])}))}return e}function g(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function O(e,t){return!t||"object"!==j(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function E(e,t){E=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return E(e,t)}var j=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function S(e){var t=function(){
if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=b(e);if(t){var o=b(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return O(this,n)}}var C=o.createContext(c.BRd.DARK),P=C.Provider,I=C.Consumer,_=function(e){v(n,e);var t=S(n);function n(){h(this,n);return t.apply(this,arguments)}n.prototype.render=function(){var e=this.props,t=e.lightSrc,n=e.darkSrc,o=e.width,i=e.height,u=e.offsetX,s=e.offsetY,d=e.style;return(0,r.jsx)(I,{children:function(e){return(0,r.jsx)(l.Z.Child,{grow:0,className:a()(f().image,p().marginBottom40),style:g(m({},d),{width:o,height:i,marginLeft:u,marginTop:s,backgroundImage:"url(".concat(e===c.BRd.DARK?n:t,")")})})}})};return n}(o.PureComponent),w=function(e){
var t=e.children,n=e.className,o=e.noteClassName,i=e.note,c=e.style;return(0,r.jsxs)(l.Z.Child,{grow:0,direction:l.Z.Direction.VERTICAL,style:c,children:[null!=t&&(0,r.jsx)(u.H,{className:a()(n,f().title),children:t}),null!=i?(0,r.jsx)("div",{className:a()(o,f().text,p().marginTop8),children:i}):null]})},x=function(e){v(n,e);var t=S(n);function n(){h(this,n);return t.apply(this,arguments)}n.prototype.render=function(){var e=this.props,t=e.children,n=e.theme,o=e.className,i=e.style;return(0,r.jsx)(P,{value:n,children:(0,r.jsx)(l.Z,{direction:l.Z.Direction.VERTICAL,align:l.Z.Align.CENTER,justify:l.Z.Justify.CENTER,className:a()(f().wrapper,o),style:i,children:t})})};return n}(o.PureComponent);x.Text=w;x.Image=_},177097:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(785893),o=n(667294),i=n(647446),a=n(655695),l=n(461061);function u(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function c(e){
for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){u(e,t,n[t])}))}return e}function s(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function f(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){
var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}const d=o.forwardRef((function(e,t){var n=e.href,u=e.children,d=e.onClick,p=e.onKeyPress,h=e.focusProps,y=f(e,["href","children","onClick","onKeyPress","focusProps"]),b=o.useCallback((function(e){if(!e.repeat){if(e.charCode===l.yXg.SPACE||e.charCode===l.yXg.ENTER){e.preventDefault();null!=n&&(0,a.uL)(n);null==d||d()}null==p||p(e)}}),[n,p,d]),v=o.useCallback((function(e){if(!e.metaKey&&!e.shiftKey&&0===e.button){e.preventDefault();e.stopPropagation();null!=n&&(0,a.uL)(n);null==d||d()}}),[n,d]),m=(0,r.jsx)("a",s(c({ref:t,href:n,onClick:v,onKeyPress:b},y),{children:u}));return(0,r.jsx)(i.tE,s(c({},h),{children:m}))}))},350577:(e,t,n)=>{"use strict";n.d(t,{_:()=>L,Z:()=>U});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),l=n(973935),u=n(742269),c=n(738017),s=n(388721),f=n(461061);function d(e,t,n){t in e?Object.defineProperty(e,t,{
value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function p(e){p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return p(e)}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){d(e,t,n[t])}))}return e}function y(e,t){return!t||"object"!==v(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function b(e,t){b=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return b(e,t)}var v=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1
;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y(this,n)}}var g=Math.pow(3,2),O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&b(e,t)}(n,e);var t=m(n);function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var r;(r=t.call(this,e))._height=0;r._width=0;r._dragStart={x:0,y:0};r._offsetX=0;r._offsetY=0;r._removeListeners=function(){};r.handleSetRef=function(e){r._ref=e};r.handleMouseDown=function(e){var t=r.props,n=t.dragAnywhere,o=t.disabled,i=t.selector;if(!o){
var a=r.state.position,l=e.target;if(e.button===f.AeJ.PRIMARY&&(n||null!=i&&l.matches(i))){r.grabDimensions();r._dragStart={x:e.clientX,y:e.clientY};r._offsetX=e.clientX-a.x._value;r._offsetY=e.clientY-a.y._value;var u=e.nativeEvent.view;r._removeListeners();u.addEventListener("mousemove",r.handleMouseMove);u.addEventListener("mouseup",r.handleMouseUp);r._removeListeners=function(){u.removeEventListener("mousemove",r.handleMouseMove);u.removeEventListener("mouseup",r.handleMouseUp)}}}};r.handleMouseMove=function(e){e.preventDefault();var t=r.props,n=t.onDragStart,o=t.onDrag;if(!t.disabled){var i,a,l,u,c,s,f=r.state,d=f.dragging,p=f.dragging;!d&&(i=r._dragStart,a={x:e.clientX,y:e.clientY},l=i.x,u=i.y,c=a.x,s=a.y,Math.pow(l-c,2)+Math.pow(u-s,2))>g&&(d=!0);if(d){r.animateToPosition(e.clientX-r._offsetX,e.clientY-r._offsetY,{tension:80,friction:8},null,!1);r.setState({dragging:d},(function(){p||null==n||n(e.clientX,e.clientY);null==o||o(e.clientX,e.clientY)}))}}}
;r.handleMouseUp=function(e){r._removeListeners();r.state.dragging&&r.setState({dragging:!1},(function(){var t=r.props.onDragEnd;null==t||t(e.clientX,e.clientY)}))};var o=new c.Z.Value(e.initialX),i=new c.Z.Value(e.initialY);r.state={dragging:!1,position:new c.Z.ValueXY({x:o,y:i})};return r}var o=n.prototype;o.componentDidMount=function(){var e=this.props,t=e.initialX,n=e.initialY;this.setPosition(t,n)};o.componentWillUnmount=function(){this._removeListeners()};o.animateToPosition=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0,o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];o&&this.grabDimensions();var i=this.translate(e,t);c.Z.spring(this.state.position,h({toValue:{x:i.x,y:i.y}},n)).start(r)};o.setPosition=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];n&&this.grabDimensions();var r=this.translate(e,t);this.state.position.setValue({x:r.x,y:r.y})}
;o.grabDimensions=function(){var e=(0,l.findDOMNode)(this._ref);if((0,s.k)(e)){this._height=e.clientHeight;this._width=e.clientWidth}};o.translate=function(e,t){var n=this.props,r=n.maxX,o=n.maxY;e<0?e=0:e>r-this._width&&(e=r-this._width);t<0?t=0:t>o-this._height&&(t=o-this._height);return{x:e,y:t}};o.render=function(){var e=this.state,t=e.dragging,n=e.position,o=this.props,i=o.className,a=o.children,l=[0,1],u=["0px","1px"],s=c.Z.accelerate(h({pointerEvents:t?"none":"auto",transform:[{translateX:n.x.interpolate({inputRange:l,outputRange:u})},{translateY:n.y.interpolate({inputRange:l,outputRange:u})}]},this.props.style));return(0,r.jsx)(c.Z.div,{ref:this.handleSetRef,className:i,onMouseDown:this.handleMouseDown,style:s,children:a})};return n}(o.PureComponent);O.defaultProps={maxX:0,maxY:0,initialX:0,initialY:0,disabled:!1,dragAnywhere:!1};const E=O;var j=n(347754),S=n.n(j),C=n(480798),P=n.n(C);function I(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}
function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function w(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function x(e){x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return x(e)}function N(e,t){return!t||"object"!==A(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function T(e,t){T=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return T(e,t)}var A=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{
Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=x(e);if(t){var o=x(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return N(this,n)}}var R=80,M=132,D=80,L=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&T(e,t)}(n,e);var t=Z(n);function n(){I(this,n);var e;(e=t.apply(this,arguments))._width=0;e._height=0;e._velocityX=0;e._velocityY=0;e._lastMoveX=0;e._lastMoveY=0;e.ensureIsInPosition=function(){e.setPosition(e.props.position)};e.handleSetInnerDivRef=function(t){e._innerDiv=t;var n=null==t?void 0:t.ownerDocument.defaultView;if(null!=t&&null!=n){var r;e._resizeObserver=new n.ResizeObserver(e.ensureIsInPosition);null===(r=e._resizeObserver)||void 0===r||r.observe(t)}}
;e.handleSetDraggableRef=function(t){e._draggable=t};e.handleDragStart=function(t,n){e._velocityX=0;e._velocityY=0;e._lastMoveX=t;e._lastMoveY=n;e._lastMoveTime=new Date};e.handleDrag=function(t,n){var r=new Date,o=Number(r)-Number(e._lastMoveTime);e._velocityX=(t-e._lastMoveX)/o;e._velocityY=(n-e._lastMoveY)/o;e._lastMoveX=t;e._lastMoveY=n;e._lastMoveTime=r};e.handleDragEnd=function(t,n){var r,o=e.props,i=o.maxX,a=o.maxY,l=e.calculateDecayingPosition(t,n,e._velocityX,e._velocityY),u=!0,c=!0;l.x>i/2&&(c=!1);l.y>a/2&&(u=!1);r=u&&c?f.VD2.TOP_LEFT:u&&!c?f.VD2.TOP_RIGHT:!u&&c?f.VD2.BOTTOM_LEFT:f.VD2.BOTTOM_RIGHT;e.animateToPosition(r,e.ensureIsInPosition);if(r!==e.props.position){var s=e.props,d=s.id,p=s.onMove;null==p||p(d,r)}};return e}var o=n.prototype;o.componentDidMount=function(){this.setPosition(this.props.position)};o.componentDidUpdate=function(e){
e.edgeOffsetTop===this.props.edgeOffsetTop&&e.edgeOffsetLeft===this.props.edgeOffsetLeft&&e.edgeOffsetBottom===this.props.edgeOffsetBottom&&e.edgeOffsetRight===this.props.edgeOffsetRight&&e.maxX===this.props.maxX&&e.maxY===this.props.maxY&&e.dockedRect===this.props.dockedRect||this.ensureIsInPosition()};o.componentWillUnmount=function(){var e;null===(e=this._resizeObserver)||void 0===e||e.disconnect()};o.getPosition=function(e){var t=(0,l.findDOMNode)(this._innerDiv);if(null!=t){var n=t.getBoundingClientRect();this._width=n.width;this._height=n.height}var r=this.props,o=r.edgeOffsetTop,i=r.edgeOffsetLeft,a=r.edgeOffsetBottom,c=r.edgeOffsetRight,s=r.maxX,d=r.maxY,p=r.dockedRect,h=Math.round(o),y=Math.round(d-a-this._height),b=Math.round(i),v=Math.round(s-c-this._width),m=(0,u.Xf)()!==u.AB.WEB&&this.inPopout?22:0;if(null!=p){var g,O;return{y:(null!==(g=null==p?void 0:p.y)&&void 0!==g?g:0)-m,x:null!==(O=null==p?void 0:p.x)&&void 0!==O?O:0}}switch(e){case f.VD2.TOP_LEFT:return{y:h,x:b}
;case f.VD2.BOTTOM_LEFT:return{y,x:b};case f.VD2.TOP_RIGHT:return{y:h,x:v};default:return{y,x:v}}};o.setPosition=function(e){var t,n=this.getPosition(e),r=n.x,o=n.y;null===(t=this._draggable)||void 0===t||t.setPosition(r,o)};o.animateToPosition=function(e,t){var n,r=this.getPosition(e),o=r.x,i=r.y;null===(n=this._draggable)||void 0===n||n.animateToPosition(o,i,{},t)};o.calculateDecayingPosition=function(e,t,n,r){return{x:e+200*n,y:t+200*r}};o.getXOffset=function(){var e=this.props,t=e.position,n=e.edgeOffsetLeft,r=e.edgeOffsetRight;switch(t){case f.VD2.TOP_LEFT:case f.VD2.BOTTOM_LEFT:return-n;default:return r}};o.getYOffset=function(){var e=this.props,t=e.position,n=e.edgeOffsetTop,r=e.edgeOffsetBottom;switch(t){case f.VD2.TOP_LEFT:case f.VD2.TOP_RIGHT:return-n;default:return r}};o.render=function(){var e=this.props,t=e.maxX,n=e.maxY,o=e.dockedRect,i=e.hidden,l={};null!=o&&(l={transform:"translate3d(".concat(o.x,", ").concat(o.y,", 0)"),width:o.width,height:o.height});return(0,
r.jsx)(E,{dragAnywhere:!0,ref:this.handleSetDraggableRef,className:a()(S().pictureInPictureWindow,P().elevationHigh,w({},S().hidden,i)),maxX:t,maxY:n,disabled:null!=o,onDragStart:this.handleDragStart,onDrag:this.handleDrag,onDragEnd:this.handleDragEnd,children:(0,r.jsx)("div",{ref:this.handleSetInnerDivRef,style:l,children:this.props.children})})};!function(e,t,n){t&&_(e.prototype,t);n&&_(e,n)}(n,[{key:"inPopout",get:function(){return this.props.appContext===f.IlC.POPOUT}}]);return n}(o.PureComponent);L.defaultProps={hidden:!1};var k=function(e){var t=e.selectedPIPWindow,n=e.pipWindows,o=e.maxX,i=e.maxY,a=e.onWindowMove,l=e.dockedRect,u=e.pictureInPictureComponents,c=e.appContext;return(0,r.jsx)("div",{className:S().pictureInPicture,children:function(){if(null==t)return null;var e=Array.from(n.values()).map((function(e){if(e.id!==t.id&&e.component!==f.NYg.EMBED_IFRAME)return null;var n="string"==typeof e.component?u[e.component]:e.component;return(0,r.jsx)(n,function(e){
for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){w(e,t,n[t])}))}return e}({},e.props),"pipWindow-".concat(e.id))}));return(0,r.jsx)(L,{appContext:c,position:t.position,id:t.id,hidden:t.hidden,onMove:a,maxX:o,maxY:i,dockedRect:l,edgeOffsetTop:R,edgeOffsetBottom:M,edgeOffsetLeft:D,edgeOffsetRight:R,children:e})}()})};const U=o.memo(k)},329915:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),l=n(633518),u=n.n(l);function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e){s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return s(e)}function f(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?function(e){
if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e,t){d=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return d(e,t)}var p=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=s(e);if(t){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}var y=Object.freeze({SMALL:1,MEDIUM:2,LARGE:4}),b=20,v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,
configurable:!0}});t&&d(e,t)}(n,e);var t=h(n);function n(){c(this,n);return t.apply(this,arguments)}var o=n.prototype;o.renderCircle=function(){var e=this.props,t=e.strokeSize,n=e.percent,o=e.colorOverride,i=e.background,l=Math.min(Math.max(n,0),100),c=(b-t)/2,s=c*Math.PI*2;return(0,r.jsxs)("svg",{viewBox:"0 0 ".concat(b," ").concat(b),className:u().circle,children:[(0,r.jsx)("circle",{className:u().circleBackgroundAlt,cx:10,cy:10,r:10}),(0,r.jsx)("circle",{className:a()(u().circleBackground,i),cx:10,cy:10,r:(b-2*t)/2}),(0,r.jsx)("circle",{className:u().circleProgress,cx:10,cy:10,r:c,strokeWidth:"".concat(t,"px"),strokeLinecap:"round",transform:"rotate(-90 ".concat(10," ").concat(10,")"),stroke:null!=o?o:"currentColor",style:{strokeDasharray:s,strokeDashoffset:(1-l/100)*s}})]})};o.render=function(){var e=this.props,t=e.className,n=e.children;return(0,r.jsxs)("div",{className:a()(u().progressCircle,t),children:[this.renderCircle(),null!=n?(0,r.jsx)("div",{className:u().circleOverlay,
children:n}):null]})};return n}(o.Component);v.StrokeSizes=y;v.defaultProps={strokeSize:y.MEDIUM};const m=v},983801:(e,t,n)=>{"use strict";n.d(t,{W:()=>A,Z:()=>Z});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),l=n(125447),u=n(666164),c=n(629590),s=n(487502),f=n(100166),d=n(272729),p=n(725002),h=n(467976),y=n.n(h);function b(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function v(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){b(i,r,o,a,l,"next",e)}function l(e){b(i,r,o,a,l,"throw",e)}a(void 0)}))}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function O(e){O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return O(e)}function E(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&I(e,t)}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){g(e,t,n[t])}))}return e}function S(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}
function C(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function P(e,t){return!t||"object"!==_(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function I(e,t){I=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return I(e,t)}var _=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))
;return!0}catch(e){return!1}}();return function(){var n,r=O(e);if(t){var o=O(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return P(this,n)}}var x=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}
if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},N=function(e){E(n,e);var t=w(n);function n(){m(this,n);return t.apply(this,arguments)}n.prototype.render=function(){var e=this.props,t=e.label,n=e.value,o=e.renderValue,i=e.className;return(0,r.jsxs)(s.Z,{className:a()(y().quickSelect,i),align:s.Z.Align.CENTER,children:[(0,r.jsx)("div",{className:y().quickSelectLabel,children:t}),(0,r.jsxs)(s.Z,{align:s.Z.Align.CENTER,className:y().quickSelectClick,children:[(0,r.jsx)("div",{className:y().quickSelectValue,children:null!=o?o(n):n.label}),(0,r.jsx)("div",{className:y().quickSelectArrow})]})]})};return n}(o.PureComponent),T=function(e){E(n,e);var t=w(n);function n(){m(this,n);var e;(e=t.apply(this,arguments)).handleClick=function(){var t=e.props,n=t.option,r=t.onChange
;null==r||r(n)};return e}n.prototype.render=function(){var e=this,t=this.props,n=t.selected,o=t.renderOption,i=t.option;return(0,r.jsx)(l.mh,{id:i.key,children:function(t){return(0,r.jsx)(c.Z,S(j({focusProps:{enabled:!1},className:a()(y().quickSelectPopoutOption,{selected:n}),onClick:e.handleClick},t),{role:"option",children:o(i,n)}))}})};return n}(o.PureComponent);function A(e){var t=e.options,n=e.value,o=e.scroller,i=e.renderOption,c=e.onChange,s=e.className,h=a()(y().quickSelectPopout,s,g({},y().quickSelectPopoutScroll,o)),b=t.map((function(e){var t=null!=n&&e.value===n.value,o=t?void 0:c;return(0,r.jsx)(T,{className:y().quickSelectPopoutOption,renderOption:i,option:e,onChange:o,selected:t},e.key||e.value)})),m=(0,d.Dt)(),O=(0,u.ZP)({id:m,isEnabled:!0,wrap:!0,scrollToStart:function(){return v((function(){return x(this,(function(e){return[2]}))}))()},scrollToEnd:function(){return v((function(){return x(this,(function(e){return[2]}))}))()}}),E=O.containerProps,P=E.ref,I=C(E,["ref"])
;(0,f.T)(P);return(0,r.jsx)(l.bG,{navigator:O,children:(0,r.jsx)("div",S(j({ref:P,className:h},I),{role:"listbox",children:o?(0,r.jsx)(p.ZP,{className:y().quickSelectScroller,children:b}):b}))})}const Z=N},269972:(e,t,n)=>{"use strict";n.d(t,{Z:()=>C});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),l=n(647446),u=n(629590),c=n(685351),s=n(801593),f=n(523283),d=n(469282),p=n(959797),h=n(415030),y=n.n(h);function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function m(e){m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return m(e)}function g(e,t){return!t||"object"!==E(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function O(e,t){O=Object.setPrototypeOf||function(e,t){
e.__proto__=t;return e};return O(e,t)}var E=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=m(e);if(t){var o=m(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return g(this,n)}}var S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&O(e,t)}(n,e);var t=j(n);function n(){b(this,n);var e;(e=t.apply(this,arguments))._textInputRef=o.createRef();e._containerRef=o.createRef();e.handleClear=function(){
var t=e.props,n=t.onClear,r=t.forwardedRef,o=(null!=r?r:e._textInputRef).current;null!=o&&o.focus();null!=n&&n()};return e}n.prototype.render=function(){var e=this.props,t=e.autoFocus,n=e.label,o=e.placeholder,i=e.searchTerm,h=e.inputClassName,b=e.className,v=e.onChange,m=e.onFocus,g=e.onBlur,O=e.onKeyPress,E=e.autoComplete,j=e.forwardedRef,S=e.closeIconClassName,C=e.searchIconClassName,P=e.cta,I=null!=i&&i.length>0,_=null!=j?j:this._textInputRef;return(0,r.jsx)(l.tE,{focusTarget:_,ringTarget:this._containerRef,children:(0,r.jsxs)("div",{className:a()(y().searchBox,b),ref:this._containerRef,children:[(0,r.jsx)(s.ZP,{inputRef:_,focusProps:{enabled:!1},name:"search",maxLength:100,className:y().searchBoxInputWrapper,inputClassName:a()(y().searchBoxInput,h),onChange:v,onFocus:m,onBlur:g,onKeyPress:O,value:I?i:"",placeholder:o,autoFocus:t,"aria-label":n,autoComplete:E?"on":"off"}),null!=P?(0,r.jsx)(c.x,{color:"text-muted",variant:"text-xs/normal",className:y().cta,children:P}):null,I?(0,
r.jsx)(u.Z,{onClick:this.handleClear,className:y().clear,"aria-label":p.Z.Messages.SEARCH_CLEAR,children:(0,r.jsx)(f.Z,{className:a()(y().clearIcon,S)})}):(0,r.jsx)(d.Z,{className:a()(y().searchIcon,C),"aria-label":p.Z.Messages.SEARCH})]})})};return n}(o.Component);S.defaultProps={autoComplete:!1};const C=o.forwardRef((function(e,t){return(0,r.jsx)(S,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){v(e,t,n[t])}))}return e}({forwardedRef:t},e))}))},476213:(e,t,n)=>{"use strict";n.d(t,{Z:()=>w});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),l=n(496486),u=n.n(l),c=n(647446),s=n(388721),f=n(730189),d=n(757987),p=n(73432),h=n.n(p);function y(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n
;return e}function b(e){b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return b(e)}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){y(e,t,n[t])}))}return e}function m(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function g(e,t){return!t||"object"!==j(t)&&"function"!=typeof t?function(e){
if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function O(e,t){O=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return O(e,t)}var E,j=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=b(e);if(t){var o=b(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return g(this,n)}}!function(e){e[e.ABOVE=0]="ABOVE";e[e.BELOW=1]="BELOW"}(E||(E={}));function C(e,t){for(var n=0,r=0;r<t.length;r++){var o=t[r];if(e===o)return r;if(e<o)return 0===n||o-e<n?r:r-1;n=e-o}return null}function P(e){
var t=e.markers,n=e.initialValue,r=e.minValue,o=e.maxValue,i=e.equidistant,a=[],l=[];if(null==t)return{min:r,max:o,range:o-r,sortedMarkers:a,markerPositions:l};var u=C(n,a=t.sort((function(e,t){return e-t}))),c=a[0],s=a[a.length-1],f=s-c;if(i){var d=100/(a.length-1);l=a.map((function(e,t){return t*d}))}else{l=a.map((function(e){return 100*(e-c)/f}))}return{min:c,max:s,range:f,sortedMarkers:a,markerPositions:l,closestMarkerIndex:u}}function I(e){return v({value:Math.min(Math.max(e.initialValue,e.minValue),e.maxValue),initialValueProp:e.initialValue,newClosestIndex:null},P(e))}var _=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&O(e,t)}(n,e);var t=S(n);function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var r
;(r=t.call(this,e)).containerRef=o.createRef();r.grabberRef=o.createRef();r.moveGrabber=function(e){var t=r.state,n=t.sortedMarkers,o=t.value,i=t.min,a=t.max,l=r.props,c=l.asValueChanges,s=l.onValueChange,f={};if(l.stickToMarkers){var d=n.indexOf(o);if(d<0)return;var p=d+e,h=n[p];if(null==h)return;f.value=h;f.closestMarkerIndex=p;f.newClosestIndex=p}else f.value=u().clamp(o+e,i,a);r.setState(f);if(f.value!==r.state.value){null==c||c(f.value);null==s||s(f.value)}};r.handleContainerMouseDown=function(e){var t=r.props,n=t.disabled,o=t.maxValue,i=t.minValue,a=t.asValueChanges,l=t.onValueChange,u=t.stickToMarkers,c=r.state,f=c.sortedMarkers,d=c.markerPositions;if(!n){var p=e.clientX,h=e.currentTarget;if((0,s.k)(h)){var y,b=h.getBoundingClientRect(),v=(p-b.left)/b.width;if(u){var m=d.reduce((function(e,t,n){var r=Math.abs(t/100-v);return r<=e.smallestDelta?{smallestDelta:r,nextClosestMarkerIndex:n}:e}),{smallestDelta:1,nextClosestMarkerIndex:-1}).nextClosestMarkerIndex;if(-1===m)return
;r.setState({closestMarkerIndex:m});y=f[m]}else{y=i+(o-i)*v;r.setState({value:y});r.handleMouseDown(e)}null!=l&&l(y);null!=a&&a(y)}}};r.handleKeyDown=function(e){var t=r.props,n=t.disabled,o=t.orientation,i=t.keyboardStep,a=void 0===i?1:i;if(!n){var l=e.key,u=[],c=[];switch(o){case"horizontal":u=["ArrowRight"];c=["ArrowLeft"];break;case"vertical":u=["ArrowUp"];c=["ArrowDown"];break;default:u=["ArrowRight","ArrowUp"];c=["ArrowLeft","ArrowDown"]}if(c.includes(l)){e.preventDefault();e.stopPropagation();r.moveGrabber(-a)}else if(u.includes(l)){e.preventDefault();e.stopPropagation();r.moveGrabber(a)}}};r.handleMouseDown=function(e){var t,n;if(!r.props.disabled){e.stopPropagation();var o=r.containerRef.current;null==o||null===(t=o.ownerDocument)||void 0===t||t.addEventListener("mousemove",r.handleMouseMove,!0);null==o||null===(n=o.ownerDocument)||void 0===n||n.addEventListener("mouseup",r.handleMouseUp,!0);if(!(0,
s.k)(o))throw new Error("[UIKit]Slider.handleMouseDown(): assert failed: domNode nodeType !== Element");r.setState({x:e.clientX,active:!0,boundingRect:o.getBoundingClientRect(),newClosestIndex:r.state.closestMarkerIndex})}};r.handleMouseUp=function(e){e.stopPropagation();r.reset();var t=r.props,n=t.onValueChange,o=t.stickToMarkers,i=r.state.newClosestIndex;if(o&&null!=i){null==n||n(r.state.sortedMarkers[i]);r.setState({newClosestIndex:null,closestMarkerIndex:i})}else null==n||n(r.state.value);r.setState({active:!1})};r.handleMouseMove=function(e){e.preventDefault();r.props.stickToMarkers?r.moveStaggered(e):r.moveSmoothly(e)};r.onFocus=function(){r.setState({focused:!0})};r.onBlur=function(){r.setState({focused:!1})};r.state=v({active:!1,focused:!1},I(e));return r}var i=n.prototype;i.componentWillUnmount=function(){this.reset()};i.renderMark=function(e){var t=this.props.onMarkerRender;return null!=t?t(e):e};i.render=function(){
var e=this,t=this.state,n=t.value,o=t.active,i=t.focused,l=t.sortedMarkers,u=t.markerPositions,s=t.closestMarkerIndex,p=t.newClosestIndex,b=t.min,g=t.max,O=this.props,j=O.disabled,S=O.stickToMarkers,C=O.className,P=O.children,I=O.barStyles,_=O.fillStyles,w=O.mini,x=O.hideBubble,N=O.defaultValue,T=O.orientation,A=O.onValueRender,Z=O.renderMarker,R=O.getAriaValueText,M=O.barClassName,D=O.grabberClassName,L=O.grabberStyles,k=void 0===L?{}:L,U=O.markerPosition,G=void 0===U?E.ABOVE:U,H=O["aria-hidden"],B=O["aria-label"],V=O["aria-labelledby"],F=O["aria-describedby"],W=0;S?null!=u&&(null!=p?W=u[p]:null!=s&&(W=u[s])):W=this.scaleValue(n);var Y,z,K="".concat(W,"%"),q=null!=u&&null!=l?u.map((function(t,n){var o,i=l[n],u=null!=N&&N===i,c=e.renderMark(i);return(0,r.jsx)("div",{className:a()(h().mark,(o={},y(o,h().defaultValue,u),y(o,h().markAbove,G===E.ABOVE),y(o,h().markBelow,G===E.BELOW),o)),style:{left:"".concat(t,"%")},children:null!=Z?Z(i):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{
className:h().markValue,children:c}),(0,r.jsx)("div",{className:h()["markDash".concat(null==c?"simple":"")]})]})},n)})):null,X=null!=A?A(n):"".concat(W.toFixed(0),"%"),Q=null!==(Y=null==R?void 0:R(n))&&void 0!==Y?Y:void 0;return(0,r.jsx)(c.tE,{focusTarget:this.containerRef,ringTarget:this.grabberRef,children:(0,r.jsxs)("div",{className:a()(h().slider,C,(z={},y(z,h().disabled,j),y(z,h().mini,w),z)),"aria-valuemin":b,"aria-valuemax":g,"aria-valuenow":n,"aria-disabled":j,"aria-orientation":T,"aria-hidden":H,"aria-label":B,"aria-labelledby":V,"aria-describedby":F,"aria-valuetext":Q,role:"slider",tabIndex:0,onKeyDown:this.handleKeyDown,onMouseDown:this.handleContainerMouseDown,onFocus:this.onFocus,onBlur:this.onBlur,ref:this.containerRef,children:[(0,r.jsx)("div",{className:h().track,children:q}),(0,r.jsx)("div",{className:a()(h().bar,M),style:I,children:(0,r.jsx)("div",{className:h().barFill,style:m(v({},_),{width:K})})}),P,(0,r.jsx)("div",{className:h().track,children:(0,r.jsx)(d.ZP,{
color:d.ZP.Colors.GREY,hideOnClick:!1,text:x||S?null:X,forceOpen:o||i&&f.Z.keyboardModeEnabled,children:function(t){return(0,r.jsx)("div",m(v({},t),{className:a()(h().grabber,D),style:m(v({},k),{left:K}),onMouseDown:e.handleMouseDown,ref:e.grabberRef}))}})})]})})};i.reset=function(){var e,t,n,r;null===(e=this.containerRef.current)||void 0===e||null===(t=e.ownerDocument)||void 0===t||t.removeEventListener("mousemove",this.handleMouseMove,!0);null===(n=this.containerRef.current)||void 0===n||null===(r=n.ownerDocument)||void 0===r||r.removeEventListener("mouseup",this.handleMouseUp,!0)};i.scaleValue=function(e){return 100*(e-this.state.min)/this.state.range};i.unscaleValue=function(e){return e*this.state.range/100+this.state.min};i.focus=function(){var e;null===(e=this.containerRef.current)||void 0===e||e.focus()};i.blur=function(){var e;null===(e=this.containerRef.current)||void 0===e||e.blur()};i.moveStaggered=function(e){
var t=this.state,n=t.boundingRect,r=t.x,o=void 0===r?0:r,i=t.closestMarkerIndex,a=t.markerPositions,l=t.sortedMarkers,u=this.props.asValueChanges,c=null!=n?n:{left:NaN,right:NaN},s=c.left,f=c.right;if(!(e.clientX<=s||e.clientX>=f)){var d,p=f-s,h=(e.clientX-o)/p,y=a[i]+100*h;if(this.props.equidistant)d=C(y,a);else{d=C(this.unscaleValue(y),l)}null!=d&&u&&u(l[d]);this.setState({newClosestIndex:d})}};i.moveSmoothly=function(e){var t=this.props,n=t.minValue,r=t.maxValue,o=t.handleSize,i=t.asValueChanges,a=this.state.boundingRect,l=a.left,u=a.right,c=this.state.x-e.clientX,s=(this.state.value-n)/(r-n);if(!(e.clientX<=l&&c<0||e.clientX>=u&&c>0)){var f=u-l-o,d=f*s;s=Math.min(Math.max(d-c,0),f)/f}var p=n+s*(r-n);null==i||i(p);this.setState({value:p,x:e.clientX})};n.getDerivedStateFromProps=function(e,t){return e.initialValue!==t.initialValueProp?m(v({},I(e)),{active:t.active}):null};return n}(o.PureComponent);_.defaultProps={initialValue:10,minValue:0,maxValue:100,keyboardStep:1,handleSize:10,
disabled:!1,stickToMarkers:!1,fillStyles:{}};const w=_},44562:(e,t,n)=>{"use strict";n.d(t,{iu:()=>w,cy:()=>x,ZP:()=>Z});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),l=n(932847),u=n(170729),c=n(796080),s=n(191940),f=n(851994),d=n(487502),p=n(94813),h=n(761434),y=n(461061),b=n(959797),v=n(520462),m=n.n(v);function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function E(e){E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return E(e)}function j(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&_(e,t)}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){O(e,t,n[t])}))}return e}function C(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function P(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r]
;t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function I(e,t){return!t||"object"!==N(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _(e,t){_=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return _(e,t)}var w,x,N=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=E(e);if(t){var o=E(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return I(this,n)}}!function(e){e.CENTER="center";e.LEFT="left"}(w||(w={}));!function(e){e.TOP="top";e.MIDDLE="middle"
}(x||(x={}));var A=function(e){j(n,e);var t=T(n);function n(){g(this,n);var e;(e=t.apply(this,arguments)).state={confirmed:!1};e.handleDismiss=function(){var t=e.props.onClickComplete;e.setState({confirmed:!0},(function(){return null==t?void 0:t()}))};return e}var o=n.prototype;o.componentDidMount=function(){var e=this.props.uniqueId;l.default.track(y.rMx.SHOW_TUTORIAL,{tutorial:e})};o.componentWillUnmount=function(){l.default.track(y.rMx.CLOSE_TUTORIAL,{tutorial:this.props.uniqueId,acknowledged:this.state.confirmed})};o.render=function(){var e,t,n=this.props,o=n.renderMedia,i=n.textAlign,l=n.isLongText,u=n.title,c=n.body,h=n.className,v=n.forceTheme,g=n.onClickSkipAll,E="string"==typeof c?"p":"div",j=i===w.LEFT||l,S=i===w.CENTER||!j;return(0,r.jsxs)(f.Z,{className:a()(m().popoutRoot,h),children:[null!=o&&(0,r.jsx)(d.Z,{className:m().mediaContainer,justify:j?d.Z.Justify.START:d.Z.Justify.CENTER,children:o()}),(0,r.jsx)(p.H,{className:a()((e={},O(e,m().titleCenter,S),
O(e,m().titleLeft,j),e)),children:u}),(0,r.jsx)(E,{className:a()((t={},O(t,m().bodyCenter,S),O(t,m().bodyLeft,j),t)),children:c}),(0,r.jsxs)(d.Z,{className:m().buttonContainer,justify:j?d.Z.Justify.BETWEEN:d.Z.Justify.CENTER,children:[(0,r.jsx)(s.Co,{size:s.Ph.SMALL,onClick:this.handleDismiss,children:b.Z.Messages.TUTORIAL_CLOSE}),(0,r.jsx)(s.Co,{size:s.Ph.SMALL,look:s.Co.Looks.BLANK,onClick:g,color:v===y.BRd.LIGHT?s.Co.Colors.PRIMARY:s.Co.Colors.WHITE,className:j?m().buttonSkipLeftAlign:m().buttonSkipCenterAlign,children:b.Z.Messages.SKIP_ALL_TIPS})]})]})};return n}(o.PureComponent),Z=function(e){j(n,e);var t=T(n);function n(){g(this,n);var e;(e=t.apply(this,arguments)).onClickComplete=function(t){t();e.props.onComplete()};e.onClickSkipAll=function(t){var n=e.props,r=n.onSkipAll,o=n.uniqueId;t();r();l.default.track(y.rMx.DISMISS_ALL_TUTORIALS,{tutorial:o})};e.renderPopoutContent=function(t){
var n,o=t.closePopout,i=t.position,l=e.props,c=l.forceTheme,s=l.isLongText,f=l.arrowAlignment,d=null!=l.renderMedia;return(0,r.jsx)(A,C(S({},e.props),{className:a()((n={},O(n,m().bottom,i===h.ZP.Positions.BOTTOM),O(n,m().contentNarrowNoMedia,!s&&!d),O(n,m().contentNarrowWithMedia,!s&&d),O(n,m().contentWideNoMedia,s&&!d),O(n,m().contentWideWithMedia,s&&d),O(n,m().right,i===h.ZP.Positions.RIGHT),O(n,m().top,i===h.ZP.Positions.TOP),O(n,m().left,i===h.ZP.Positions.LEFT),O(n,m().arrowAlignmentTop,f===x.TOP),O(n,m().arrowAlignmentMiddle,f===x.MIDDLE),O(n,"force-theme",null!=c),n),(0,u.Q)(c)),onClickComplete:function(){return e.onClickComplete(o)},onClickSkipAll:function(){return e.onClickSkipAll(o)}}))};return e}n.prototype.render=function(){var e=this.props,t=(e.renderMedia,e.textAlign,e.onComplete,e.onSkipAll,e.isLongText,e.title,e.body,e.children),n=e.spacing,o=(e.forceTheme,
P(e,["renderMedia","textAlign","onComplete","onSkipAll","isLongText","title","body","children","spacing","forceTheme"])),i=o.position===c.q_.TOP||o.position===c.q_.BOTTOM?c.iJ.CENTER:c.iJ.TOP;return(0,r.jsx)(h.ZP,C(S({},o),{align:i,spacing:null!=n?n:0,renderPopout:this.renderPopoutContent,nudgeAlignIntoViewport:!0,children:t}))};return n}(o.PureComponent);Z.TextAlignments=w;Z.defaultProps={textAlign:w.LEFT}},703164:(e,t,n)=>{"use strict";n.d(t,{Z:()=>I});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),l=n(23279),u=n.n(l),c=n(738017),s=n(606750),f=n(39802),d=n(723438),p=n.n(d);function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function b(e){b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return b(e)}function v(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&O(e,t)}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){y(e,t,n[t])}))}return e}function g(e,t){return!t||"object"!==E(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function O(e,t){O=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return O(e,t)}var E=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function j(e){var t=function(){
if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=b(e);if(t){var o=b(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return g(this,n)}}var S={friction:10,tension:300},C=function(e){v(n,e);var t=j(n);function n(e){h(this,n);var r;(r=t.call(this,e)).state={translateY:new c.Z.Value,reduceMotion:!1};return r}var o=n.prototype;o.shouldComponentUpdate=function(e,t){return!(0,s.Z)(this.props,e,["animate"])||!(0,s.Z)(this.state,t)};o.componentDidMount=function(){this.props.hide?this.state.translateY.setValue(1):this.state.translateY.setValue(0)};o.componentDidUpdate=function(e){var t=e.hide,n=this.props.hide;n&&!t?this.animateOut():!n&&t&&this.animateIn()};o.componentWillUnmount=function(){null!=this._timeout&&clearTimeout(this._timeout)}
;o.animateIn=function(){var e=this.state.translateY;null!=this._timeout&&clearTimeout(this._timeout);this.props.animate?this._timeout=setTimeout((function(){c.Z.spring(e,m({toValue:0},S)).start()}),100):e.setValue(0)};o.animateOut=function(){var e=this.state.translateY;null!=this._timeout&&clearTimeout(this._timeout);this.props.animate?c.Z.spring(e,m({toValue:1},S)).start():e.setValue(1)};o.render=function(){var e=this.props,t=e.className,n=e.text,o=e.hide,i=e.onClick;return(0,r.jsx)(c.Z.div,{className:a()(p().bar,t),onClick:i,style:this.getAnimatedStyle(),"aria-hidden":o,children:(0,r.jsx)("span",{className:p().text,children:n})})};o.getAnimatedStyle=function(){var e=this.state.translateY,t=this.props.reverse;return{transform:[{translateY:e.interpolate({inputRange:[0,1],outputRange:["0%",t?"180%":"-180%"]})}]}};return n}(o.Component),P=function(e){v(n,e);var t=j(n);function n(){h(this,n);var e;(e=t.apply(this,arguments)).state={unread:null,mention:null}
;e.calculateState=u()((function(){var t=e.props,n=t.items,r=t.expandedFolders,o=t.isVisible,i=t.isUnread,a=t.isMentioned,l=t.reverse,u=t.onCalculate,c=null,s=null,f=[];n.forEach((function(e){if("string"==typeof e)f.push(e);else if("object"==typeof e&&null!=e.folderId)if(null!=r&&r.has(e.folderId)){f.push("folder:".concat(e.folderId));e.guildIds.forEach((function(e){return f.push(e)}))}else f.push(e.guildIds);else f.push(e.guildIds[0])}));for(var d=function(e){null==c&&a(e,l,f)&&(c=e);null==s&&i(e,l,f)&&(s=e)},p=l?f.length-1:0,h=f[p];null!=h;){if("string"==typeof h){if(o(h,l,f))break;d(h)}else{var y=!1,b=!0,v=!1,m=void 0;try{for(var g,O=h[Symbol.iterator]();!(b=(g=O.next()).done);b=!0){var E=g.value;if(o(E,l,f)){y=!0;break}d(E)}}catch(e){v=!0;m=e}finally{try{b||null==O.return||O.return()}finally{if(v)throw m}}if(y)break}h=f[p+=l?-1:1]}null!=u&&u(c,s,l);e.setState({mention:c,unread:s})}),200);e.handleClick=function(t){t.preventDefault();t.stopPropagation()
;var n=e.state,r=n.unread,o=n.mention,i=e.props.onJumpTo,a=null!=o?o:r;null!=a&&i(a,[o,r])};return e}var o=n.prototype;o.componentDidMount=function(){this.calculateState()};o.componentDidUpdate=function(){this.calculateState()};o.componentWillUnmount=function(){this.calculateState.cancel()};o.render=function(){var e=this.state,t=e.unread,n=e.mention,o=this.props,i=o.textMention,l=o.textUnread,u=o.reverse,c=o.className,s=o.barClassName,f=o.hide,d=o.animate,h=this.context.reducedMotion;return(0,r.jsx)("div",{className:null!=c?c:void 0,children:(0,r.jsx)(C,{hide:!0===f||null==t&&null==n,className:a()(s,null!=n?p().mention:p().unread),text:null!=n?i:l,reverse:u,animate:d&&!h.enabled,onClick:this.handleClick})})};return n}(o.PureComponent);P.contextType=f.S;P.defaultProps={className:p().container,reverse:!1,hide:!1,animate:!0};const I=P},42595:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(785893),o=(n(667294),n(573269)),i=n(832010),a=n(203418),l=n.n(a);const u=function(e){var t=e.children
;return e.shouldAnimate?(0,r.jsx)("div",{className:l().outerContainer,children:(0,r.jsx)("div",{className:l().innerContainer,children:t})}):t};var c=n(766936),s=n(461061),f=n(114957),d=n.n(f);function p(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){p(e,t,n[t])}))}return e}function y(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n
}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function b(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function v(e){var t=e.style,n=e.src,a=e.backgroundSrc,l=e.pulseSpeakingIndicator,f=void 0!==l&&l,p=e.speaking,v=void 0!==p&&p,m=b(e,["style","src","backgroundSrc","pulseSpeakingIndicator","speaking"]),g=null!=a?a:n,O=(0,o.ZP)(g,(0,i.Lq)(s.Ilk.PRIMARY_DARK_800));if(null==n)return null;var E=(0,r.jsx)(c.ZP,h({className:d().avatarWrapper,src:n},m));return(0,r.jsx)("div",{style:y(h({},t),{backgroundColor:O}),className:d().background,children:f?(0,r.jsx)(u,{shouldAnimate:v,children:E}):E})}v.AvatarSizes=c.ZP.Sizes
;const m=v},888488:(e,t,n)=>{"use strict";n.d(t,{L:()=>r,Z:()=>v});var r,o=n(785893),i=n(667294),a=n(294184),l=n.n(a),u=n(415344),c=n(511716),s=n(104640),f=n(82961),d=n(2329),p=n.n(d);function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}!function(e){e.CONTAIN="contain";e.COVER="cover"}(r||(r={}));const v=i.memo((function(e){var t=e.streamId,n=e.onResize,a=e.wrapperClassName,d=e.videoComponent,h=e.className,v=e.fit,m=void 0===v?r.CONTAIN:v,g=e.mirror,O=void 0!==g&&g,E=e.paused,j=void 0!==E&&E,S=e.streamPreviewURL,C=e.videoSpinnerContext,P=b(i.useState(!0),2),I=P[0],_=P[1],w=b(i.useState((function(){return new u.o("VideoStream")})),1)[0];i.useEffect((function(){j||(I?w.onSpinnerStarted():null!=t&&w.trackSpinnerDuration(C,t))}),[I,j,t,w,C]);var x=i.useCallback((function(){_(!1)}),[]);return(0,o.jsxs)("div",{className:l()(p().wrapper,a),children:[null!=t&&(0,o.jsx)(d,{className:l()(p().video,(0,
c.l)(p(),"video",m),y({},p().mirror,O),h),streamId:t,onResize:n,onReady:x,paused:j}),j?null:(0,o.jsx)("div",{className:l()(p().previewWrapper,y({},p().loading,I)),children:I&&(0,o.jsxs)(i.Fragment,{children:[null!=S?(0,o.jsx)("img",{src:S,alt:"",className:p().previewImage}):(0,o.jsx)(s.Z,{aspectRatio:16/9,className:p().emptyPreviewWrapper,children:(0,o.jsx)("div",{className:p().emptyPreview})}),(0,o.jsx)(f.Z,{className:p().spinner})]})})]})}))},908570:(e,t,n)=>{"use strict";n.d(t,{Dx:()=>w,DK:()=>x,Ee:()=>N,zx:()=>T,qE:()=>A,Vj:()=>Z,MC:()=>R,II:()=>M,gO:()=>D,i_:()=>L,Hh:()=>k,EJ:()=>U,jQ:()=>G,v6:()=>H,ZP:()=>B});var r=n(785893),o=(n(667294),n(294184)),i=n.n(o),a=n(125628),l=n(191940),u=n(487502),c=n(969225),s=n(48843),f=n(685351),d=n(801593),p=n(272729),h=n(983319),y=n(604175),b=n(918513),v=n(766936),m=n(503280),g=n(95467),O=n(170729),E=n(461061),j=n(959797),S=n(385994),C=n.n(S);function P(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0
}):e[t]=n;return e}function I(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}var _=v.ZP;null==_&&(_=function(){return null});var w=function(e){var t=e.className,n=e.id,o=e.children;return(0,r.jsx)(s.X,{variant:"heading-xl/medium",color:"header-primary",className:i()(C().title,t),id:n,children:o})},x=function(e){var t=e.className,n=e.children;return(0,r.jsx)(f.x,{variant:"text-md/normal",color:"header-secondary",className:t,children:n})},N=function(e){var t=e.className,n=e.src;return(0,r.jsx)("img",{alt:"",src:n,className:i()(C().image,t)})},T=function(e){var t,n=e.className,o=I(e,["className"]),a=o.look===l.Co.Looks.LINK;return(0,r.jsx)(l.Co,function(e){
for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){P(e,t,n[t])}))}return e}({size:a?l.Co.Sizes.MIN:l.Co.Sizes.LARGE,fullWidth:!a,className:i()(n,(t={},P(t,C().button,!a),P(t,C().linkButton,a),t))},o))};T.Looks=l.Co.Looks;T.Colors=l.Co.Colors;T.Sizes=l.Co.Sizes;var A=function(e){var t=e.className,n=e.src,o=e.size;return(0,r.jsx)(_,{src:n,size:o,className:i()(C().inviteLargeIcon,t),"aria-hidden":!0})};A.Sizes=_.Sizes;var Z=function(e){var t=e.guild,n=e.size,o=e.animate,i=void 0!==o&&o;return(0,r.jsx)(c.Z,{active:!0,guild:t,size:n,animate:i})};Z.Sizes=c.Z.Sizes;var R=function(e){var t=e.className,n=e.channel,o=e.size;return(0,r.jsx)(_,{src:(0,a.x)(n),size:o,className:i()(C().inviteIcon,t),"aria-hidden":!0})};R.Sizes=_.Sizes;var M=function(e){
var t=e.label,n=e.error,o=e.placeholder,a=e.value,l=e.className,u=e.inputClassName,c=e.setRef,s=e.type,f=void 0===s?"text":s,b=e.onChange,v=e.autoComplete,m=e.autoFocus,g=e.maxLength,O=e.spellCheck,E=e.name,j=e.description,S=e.required,I=(0,p.Dt)();return(0,r.jsxs)(h.Z,{title:t,error:n,className:l,required:S,tag:"label",htmlFor:I,children:[(0,r.jsx)(d.ZP,{name:E,type:f,value:a,inputRef:c,placeholder:o,inputClassName:i()(u,P({},C().inputError,null!=n)),"aria-label":t,onChange:b,autoComplete:v,autoFocus:m,maxLength:g,spellCheck:O,id:I}),null!=j?(0,r.jsx)(y.Z,{type:y.Z.Types.DESCRIPTION,className:C().description,children:j}):null]})},D=function(e){var t=e.className,n=e.children;return(0,r.jsx)("div",{className:i()(C().block,t),children:n})},L=function(e){var t=e.className,n=e.children,o=e.isProminent;return(0,r.jsx)(f.x,{variant:o?"text-sm/normal":"text-xs/normal",className:i()(C().subText,t),children:n})},k=function(e){var t=e.className;return(0,r.jsx)(u.Z,{
direction:u.Z.Direction.VERTICAL,align:u.Z.Align.CENTER,className:t,children:(0,r.jsx)(b.Z,{className:C().spinnerVideo})})},U=function(e){var t,n=e.online,o=e.total,a=e.className,l=e.flat,c=e.textClassName;if(null==o)return null;null!=n&&n>0&&(t=(0,r.jsxs)("div",{className:i()(C().pill,C().pillOnline,l&&C().pillFlat),children:[(0,r.jsx)("i",{className:C().pillIconOnline}),(0,r.jsx)(f.x,{tag:"span",className:i()(C().pillMessage,c),variant:"text-sm/normal",children:j.Z.Messages.INSTANT_INVITE_GUILD_MEMBERS_ONLINE.format({membersOnline:n})})]}));return(0,r.jsxs)(u.Z,{justify:u.Z.Justify.CENTER,className:a,children:[t,(0,r.jsxs)("div",{className:i()(C().pill,l&&C().pillFlat),children:[(0,r.jsx)("i",{className:C().pillIconTotal}),(0,r.jsx)(f.x,{tag:"span",className:i()(C().pillMessage,c),variant:"text-sm/normal",children:j.Z.Messages.INSTANT_INVITE_GUILD_MEMBERS_TOTAL.format({count:o})})]})]})},G=function(e){var t=e.user;return null==t?null:(0,r.jsxs)("div",{className:C().joiningAs,
children:[(0,r.jsx)(f.x,{tag:"span",variant:"text-md/normal",color:"header-secondary",children:j.Z.Messages.MULTI_ACCOUNT_SERVER_INVITE_JOINING_AS}),(0,r.jsx)(A,{className:C().joiningAsAvatar,src:t.getAvatarURL(void 0,24),size:A.Sizes.SIZE_24,"aria-label":t.username}),(0,r.jsx)(f.x,{className:C().joiningAsUsername,tag:"span",variant:"text-md/semibold",color:"header-primary",children:t.username})]})},H=function(e){var t=e.className;return(0,r.jsxs)(D,{className:t,children:[(0,r.jsx)(T,{onClick:function(){return window.open((0,m.t3)())},children:j.Z.Messages.NUF_DOWNLOAD_APP_BUTTON_PLATFORM.format({platform:(0,m.DW)()})}),(0,r.jsx)(L,{className:C().downloadButtonSubtext,children:j.Z.Messages.INCOMPATIBLE_BROWSER.format({supportedBrowserURL:g.Z.getArticleURL(E.BhN.SUPPORTED_BROWSERS)})})]})};const B=function(e){var t=e.className,n=e.contentClassName,o=e.tag,a=void 0===o?"section":o,l=e.onSubmit,u=e.children,c=e.expanded,s=void 0!==c&&c,f=e.theme,d=void 0===f?E.BRd.DARK:f,p=e.style
;return(0,r.jsxs)(a,{onSubmit:l,style:p,className:i()(s?C().authBoxExpanded:C().authBox,(0,O.Q)(d),t),children:[(0,r.jsx)("div",{className:C().discordLogo}),(0,r.jsx)("div",{className:i()(C().centeringWrapper,n),children:u})]})}},8217:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(785893),o=n(667294),i=n(629590),a=n(306249),l=n.n(a);function u(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){u(e,t,n[t])}))}return e}function s(e){var t=e.tag,n=void 0===t?"div":t,a=e.children,u=e.className,s=e.focusProps,f=e.onClick,d=e.onDoubleClick,p=e.onContextMenu,h=e.onKeyDown,y=e.onFocus,b=e.onBlur,v=e["aria-label"],m=o.useRef(null)
;return(0,r.jsxs)(n,{ref:m,className:u,onClick:f,onDoubleClick:d,onContextMenu:p,children:[(0,r.jsx)(i.Z,{focusProps:c({ringTarget:m},s),className:l().focusTarget,"aria-label":v,onClick:f,onKeyDown:h,onFocus:y,onBlur:b}),a]})}},3776:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(785893),o=(n(667294),n(240243));function i(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function a(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e)
;for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function u(e){var t=e.width,n=void 0===t?32:t,u=e.height,c=void 0===u?32:u,s=e.color,f=void 0===s?"currentColor":s,d=l(e,["width","height","color"]);return(0,r.jsxs)("svg",a(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){i(e,t,n[t])}))}return e}({},(0,o.Z)(d)),{width:n,height:c,viewBox:"0 0 12 12",fill:"none",children:[(0,r.jsx)("path",{d:"M7.25 1H4.75V7.25H7.25V1Z",fill:f}),(0,r.jsx)("path",{
d:"M4.75 9.75C4.75 10.4167 5.33333 11 6 11C6.66667 11 7.25 10.4167 7.25 9.75C7.25 9.08333 6.66667 8.5 6 8.5C5.33333 8.5 4.75 9.08333 4.75 9.75Z",fill:f})]}))}},146458:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(785893),o=(n(667294),n(240243));function i(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function a(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}
return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function u(e){var t=e.width,n=void 0===t?24:t,u=e.height,c=void 0===u?24:u,s=e.color,f=void 0===s?"currentColor":s,d=e.foreground,p=l(e,["width","height","color","foreground"]);return(0,r.jsxs)("svg",a(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){i(e,t,n[t])}))}return e}({},(0,o.Z)(p)),{width:n,height:c,viewBox:"0 0 24 24",children:[(0,r.jsx)("path",{d:"M20.414 2.58599C21.195 3.36699 21.195 4.63299 20.414 5.41399L14.051 11.779L11.222 8.94999L17.586 2.58599C18.367 1.80499 19.633 1.80499 20.414 2.58599Z",className:d,fill:f}),(0,
r.jsx)("path",{d:"M13.622 15.035L6.552 16.449L7.966 9.378L13.344 4H4C2.897 4 2 4.898 2 6V20C2 21.103 2.897 22 4 22H18C19.103 22 20 21.103 20 20V8.656L13.622 15.035Z",className:d,fill:f}),(0,r.jsx)("path",{d:"M9.80801 10.365L12.636 13.192L9.10101 13.899L9.80801 10.365Z",className:d,fill:f})]}))}},680977:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(785893),o=(n(667294),n(240243));function i(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function a(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function l(e,t){if(null==e)return{}
;var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function u(e){var t=e.width,n=void 0===t?24:t,u=e.height,c=void 0===u?24:u,s=e.color,f=void 0===s?"currentColor":s,d=e.foreground,p=e.background,h=l(e,["width","height","color","foreground","background"]);return(0,r.jsxs)("svg",a(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){i(e,t,n[t])}))}return e}({},(0,o.Z)(h)),{width:n,height:c,viewBox:"0 0 24 24",children:[(0,r.jsx)("path",{className:d,fill:f,
d:"M21.178 1.70703L22.592 3.12103L4.12103 21.593L2.70703 20.178L21.178 1.70703Z"}),(0,r.jsx)("path",{className:p,fill:f,d:"M18 10.5283L10.5287 18H21V17C19.344 17 18 15.657 18 14V10.5283Z"}),(0,r.jsx)("path",{className:p,fill:f,d:"M8.957 19.5718L9.52877 19H15.4449C14.7519 20.19 13.4759 21 11.9999 21C10.7748 21 9.68752 20.442 8.957 19.5718Z"}),(0,r.jsx)("path",{className:p,fill:f,d:"M12 3C13.417 3 14.71 3.5 15.734 4.321L5.99805 14.058C5.99805 14.0479 5.99856 14.038 5.99907 14.0283C5.99956 14.0188 6.00005 14.0094 6.00005 14V9C6.00005 5.686 8.68605 3 12 3Z"})]}))}},353443:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(785893),o=(n(667294),n(240243));function i(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function a(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){
var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function u(e){var t=e.width,n=void 0===t?32:t,u=e.height,c=void 0===u?32:u,s=e.color,f=void 0===s?"currentColor":s,d=l(e,["width","height","color"]);return(0,r.jsxs)("svg",a(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){i(e,t,n[t])}))}return e}({},(0,o.Z)(d)),{width:n,height:c,viewBox:"0 0 16 16",fill:"none",children:[(0,r.jsx)("clipPath",{children:(0,r.jsx)("path",{d:"m.000183 0h16v16h-16z"})}),(0,r.jsx)("g",{clipPath:"url(#a)",children:(0,r.jsx)("path",{d:"m7.90039 1c-3.9 0-6.999999 3.1-6.999999 7s3.099999 7 6.999999 7c3.90001 0 7.00001-3.1 7.00001-7s-3.2-7-7.00001-7zm0 2.3c.8 0 1.6.3 2.30001.7l-6.40001 6.4c-.3-.7-.6-1.5-.6-2.4 0-2.6 2.1-4.7 4.7-4.7zm0 9.4c-.9 0-1.7-.3-2.4-.7l6.40001-6.4c.4.7.7 1.5.7 2.4-.1 2.6-2.2 4.7-4.70001 4.7z",fill:f})})]}))}},429677:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(785893),o=(n(667294),n(240243));function i(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function a(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function u(e){var t=e.width,n=void 0===t?24:t,u=e.height,c=void 0===u?24:u,s=e.color,f=void 0===s?"currentColor":s,d=e.foreground,p=l(e,["width","height","color","foreground"]);return(0,
r.jsx)("svg",a(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){i(e,t,n[t])}))}return e}({},(0,o.Z)(p)),{width:n,height:c,viewBox:"0 0 24 24",children:(0,r.jsx)("path",{className:d,fill:f,fillRule:"evenodd",clipRule:"evenodd",d:"M11 5V3C16.515 3 21 7.486 21 13H19C19 8.589 15.411 5 11 5ZM17 13H15C15 10.795 13.206 9 11 9V7C14.309 7 17 9.691 17 13ZM11 11V13H13C13 11.896 12.105 11 11 11ZM14 16H18C18.553 16 19 16.447 19 17V21C19 21.553 18.553 22 18 22H13C6.925 22 2 17.075 2 11V6C2 5.447 2.448 5 3 5H7C7.553 5 8 5.447 8 6V10C8 10.553 7.553 11 7 11H6C6.063 14.938 9 18 13 18V17C13 16.447 13.447 16 14 16Z"})}))}},845724:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(785893),o=(n(667294),n(240243));function i(e,t,n){
t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function a(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function u(e){
var t=e.width,n=void 0===t?24:t,u=e.height,c=void 0===u?24:u,s=e.color,f=void 0===s?"currentColor":s,d=e.foreground,p=l(e,["width","height","color","foreground"]);return(0,r.jsx)("svg",a(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){i(e,t,n[t])}))}return e}({},(0,o.Z)(p)),{width:n,height:c,viewBox:"0 0 24 24",children:(0,r.jsx)("path",{className:d,fill:f,fillRule:"evenodd",clipRule:"evenodd",
d:"M21.1169 1.11603L22.8839 2.88403L19.7679 6.00003L22.8839 9.11603L21.1169 10.884L17.9999 7.76803L14.8839 10.884L13.1169 9.11603L16.2329 6.00003L13.1169 2.88403L14.8839 1.11603L17.9999 4.23203L21.1169 1.11603ZM18 22H13C6.925 22 2 17.075 2 11V6C2 5.447 2.448 5 3 5H7C7.553 5 8 5.447 8 6V10C8 10.553 7.553 11 7 11H6C6.063 14.938 9 18 13 18V17C13 16.447 13.447 16 14 16H18C18.553 16 19 16.447 19 17V21C19 21.553 18.553 22 18 22Z"})}))}},332761:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(785893),o=(n(667294),n(240243));function i(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function a(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n
}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function u(e){var t=e.width,n=void 0===t?24:t,u=e.height,c=void 0===u?24:u,s=e.color,f=void 0===s?"currentColor":s,d=e.foreground,p=l(e,["width","height","color","foreground"]);return(0,r.jsxs)("svg",a(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){i(e,t,n[t])
}))}return e}({},(0,o.Z)(p)),{width:n,height:c,viewBox:"0 0 24 24",children:[(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.74273 19H16C17.103 19 18 18.104 18 17V14.618L20.553 15.894C20.694 15.965 20.847 16 21 16C21.183 16 21.365 15.949 21.526 15.851C21.82 15.668 22 15.347 22 15V9C22 8.653 21.82 8.332 21.526 8.149C21.231 7.966 20.862 7.951 20.553 8.105L18 9.382V7.74273L6.74273 19ZM12.2574 5H4C2.897 5 2 5.897 2 7V15.2574L12.2574 5Z",fill:f}),(0,r.jsx)("rect",{y:"19.9623",width:"26",height:"2",transform:"rotate(-45 0 19.9623)",className:d,fill:f})]}))}},346370:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(785893),o=(n(667294),n(240243));function i(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function a(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){
var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function u(e){var t=e.width,n=void 0===t?20:t,u=e.height,c=void 0===u?20:u,s=e.className,f=l(e,["width","height","className"]);return(0,r.jsx)("svg",a(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){i(e,t,n[t])}))}return e}({width:n,height:c,className:s},(0,o.Z)(f)),{viewBox:"0 0 20 20",children:(0,r.jsxs)("g",{"clip-path":"url(#clip0_198_5469)",children:[(0,r.jsx)("path",{"aria-hidden":!0,d:"M19.15 17C19.41 17.11 19.6 17 19.51 16.73L18.89 15.15L18.28 13.56C18.23 13.4421 18.1442 13.3429 18.0348 13.2765C17.9253 13.2101 17.7977 13.1798 17.67 13.19L13.67 14.28C13.4 14.36 13.56 14.79 13.92 14.93L19.15 17Z",fill:"#FF73FA"}),(0,r.jsx)("path",{"aria-hidden":!0,d:"M9.80009 14L7.08009 8.67001L0.440092 18C0.351927 18.1221 0.299095 18.2662 0.287392 18.4163C0.275688 18.5665 0.305566 18.7169 0.373746 18.8512C0.441926 18.9855 0.545775 19.0985 0.673902 19.1776C0.802029 19.2568 0.949484 19.2991 1.10009 19.3H12.5201L9.80009 14Z",fill:"#8086FF"}),(0,r.jsx)("path",{"aria-hidden":!0,
d:"M12.27 19C11.57 19 9.92997 17.31 8.52997 14.57C7.86795 13.3426 7.37674 12.0304 7.06997 10.67C6.83997 9.54999 6.99997 8.99999 7.19997 8.89999H7.32997C8.03997 8.89999 9.66997 10.59 11.07 13.32C12.68 16.46 12.93 18.76 12.4 19.03C12.3549 19.0306 12.3103 19.0203 12.27 19Z",fill:"#05124A"}),(0,r.jsx)("path",{"aria-hidden":!0,d:"M7.33009 9.14999C7.86009 9.14999 9.42009 10.67 10.8301 13.43C12.4501 16.57 12.5201 18.55 12.2701 18.77C11.7401 18.77 10.1801 17.25 8.77009 14.49C7.15009 11.35 7.08009 9.35999 7.32009 9.14999H7.33009ZM7.32009 8.60999C7.233 8.60831 7.14693 8.62897 7.07009 8.66999C6.23009 9.08999 6.78009 11.81 8.28009 14.74C9.65009 17.4 11.3401 19.31 12.2801 19.31C12.3672 19.3117 12.4532 19.291 12.5301 19.25C13.3701 18.82 12.8301 16.11 11.3201 13.18C9.96009 10.52 8.26009 8.60999 7.32009 8.60999Z",fill:"#373BE1"}),(0,r.jsx)("path",{"aria-hidden":!0,
d:"M3.53991 17.22C3.16017 16.4754 2.85534 15.6949 2.62991 14.89L1.40991 16.6C1.5797 17.0776 1.77669 17.545 1.99991 18C2.21943 18.4301 2.46316 18.8475 2.72991 19.25H4.84991C4.34607 18.6191 3.90718 17.939 3.53991 17.22Z",fill:"#373BE1"}),(0,r.jsx)("path",{"aria-hidden":!0,d:"M6.83003 19.25H9.23003C8.09101 18.2623 7.1538 17.0636 6.47003 15.72C5.75671 14.3452 5.32173 12.8432 5.19003 11.3L3.78003 13.3C4.05054 14.4137 4.46044 15.4889 5.00003 16.5C5.49463 17.4884 6.10927 18.4121 6.83003 19.25Z",fill:"#373BE1"}),(0,r.jsx)("path",{"aria-hidden":!0,d:"M12.2699 18.77C11.7199 18.7 10.2699 17.3 8.7899 14.49C7.2499 11.49 7.1199 9.57 7.3199 9.19L6.9999 8.69C6.2199 9.19 6.7699 11.86 8.2499 14.74C9.5699 17.31 11.2499 19.19 12.1399 19.3C12.2557 19.3201 12.3748 19.3026 12.4799 19.25L12.2699 18.77Z",fill:"#373BE1"}),(0,r.jsx)("path",{"aria-hidden":!0,
d:"M15.5901 9.23L14.6201 8C14.5734 7.94051 14.5118 7.89439 14.4416 7.8663C14.3713 7.8382 14.2949 7.82913 14.2201 7.84L10.8601 8.28C10.786 8.29082 10.7158 8.32037 10.6563 8.36587C10.5968 8.41137 10.5499 8.47131 10.5201 8.54L9.22008 11.68C9.18969 11.7486 9.1792 11.8243 9.18981 11.8986C9.20042 11.9729 9.2317 12.0427 9.28008 12.1L10.2801 13.37C10.3268 13.4295 10.3884 13.4756 10.4586 13.5037C10.5288 13.5318 10.6052 13.5409 10.6801 13.53L14.0001 13.05C14.0742 13.0392 14.1443 13.0096 14.2038 12.9641C14.2633 12.9186 14.3102 12.8587 14.3401 12.79L15.6401 9.65C15.6718 9.58232 15.684 9.50709 15.6751 9.43285C15.6663 9.35862 15.6368 9.28834 15.5901 9.23Z",fill:"#FFD836"}),(0,r.jsx)("path",{"aria-hidden":!0,
d:"M12.6801 10.21L11.4101 9.74001C11.3617 9.72337 11.3182 9.69501 11.2834 9.65748C11.2487 9.61994 11.2238 9.57439 11.2109 9.52489C11.198 9.47539 11.1976 9.42347 11.2097 9.37376C11.2217 9.32405 11.2459 9.27811 11.2801 9.24001L14.7201 5.24001C14.7617 5.1903 14.8178 5.15488 14.8806 5.13873C14.9434 5.12259 15.0096 5.12653 15.0701 5.15001L16.3401 5.61001C16.3871 5.62978 16.4288 5.66018 16.4621 5.69881C16.4954 5.73745 16.5193 5.78327 16.5319 5.83268C16.5445 5.8821 16.5454 5.93376 16.5347 5.98361C16.524 6.03346 16.5019 6.08015 16.4701 6.12001L13.0301 10.12C12.9884 10.1697 12.9323 10.2051 12.8695 10.2213C12.8067 10.2374 12.7405 10.2335 12.6801 10.21Z",fill:"#AEC7FF"}),(0,r.jsx)("path",{"aria-hidden":!0,
d:"M11.61 17.25L11.35 16.33C11.3396 16.2949 11.3383 16.2577 11.346 16.2219C11.3537 16.1861 11.3702 16.1527 11.394 16.1249C11.4179 16.0971 11.4483 16.0757 11.4825 16.0626C11.5167 16.0495 11.5536 16.0452 11.59 16.05L15.31 16.37C15.3545 16.373 15.397 16.3901 15.4311 16.4189C15.4653 16.4477 15.4894 16.4866 15.5 16.53L15.76 17.45C15.7697 17.4856 15.7707 17.523 15.763 17.5591C15.7552 17.5952 15.7388 17.6289 15.7153 17.6574C15.6918 17.6858 15.6617 17.7082 15.6277 17.7225C15.5937 17.7369 15.5568 17.7429 15.52 17.74L11.8 17.42C11.7546 17.4149 11.7119 17.3958 11.6778 17.3653C11.6438 17.3349 11.6201 17.2946 11.61 17.25Z",fill:"#AEC7FF"}),(0,r.jsx)("path",{"aria-hidden":!0,
d:"M10.51 4.87L9.51004 4.8C9.47171 4.79882 9.43428 4.78808 9.40117 4.76875C9.36805 4.74942 9.34029 4.72212 9.32041 4.68932C9.30054 4.65653 9.28918 4.61928 9.28737 4.58098C9.28555 4.54268 9.29335 4.50453 9.31004 4.47L10.93 0.900003C10.9491 0.856352 10.9819 0.820078 11.0234 0.796634C11.0648 0.773191 11.1128 0.763846 11.16 0.770003L12.16 0.840003C12.1984 0.841182 12.2358 0.851926 12.2689 0.871256C12.302 0.890587 12.3298 0.917891 12.3497 0.950685C12.3695 0.98348 12.3809 1.02072 12.3827 1.05903C12.3845 1.09733 12.3767 1.13548 12.36 1.17L10.74 4.73C10.7213 4.77455 10.689 4.81205 10.6477 4.83718C10.6064 4.86231 10.5582 4.87379 10.51 4.87Z",fill:"#FF73FA"}),(0,r.jsx)("path",{"aria-hidden":!0,
d:"M9.11995 3.16L9.38995 3.89C9.40593 3.92181 9.43011 3.94877 9.46 3.96811C9.48988 3.98744 9.52439 3.99846 9.55995 4H10.3699C10.5599 4 10.6099 4.26 10.4499 4.41L9.76995 5.07C9.71086 5.13269 9.67549 5.21403 9.66995 5.3V6.13C9.66965 6.17649 9.6589 6.22232 9.63849 6.2641C9.61808 6.30587 9.58854 6.34252 9.55204 6.37133C9.51555 6.40013 9.47305 6.42037 9.42768 6.43052C9.38231 6.44068 9.33524 6.4405 9.28995 6.43L8.59995 6.1C8.56441 6.08159 8.52497 6.07198 8.48495 6.07198C8.44492 6.07198 8.40549 6.08159 8.36995 6.1L7.57995 6.57C7.38995 6.69 7.20995 6.57 7.26995 6.35L7.51995 5.49C7.53745 5.45777 7.54662 5.42168 7.54662 5.385C7.54662 5.34833 7.53745 5.31223 7.51995 5.28L6.99995 4.81C6.86995 4.68 6.99995 4.42 7.18995 4.37L7.99995 4.17C8.04629 4.1582 8.08971 4.13702 8.12755 4.10779C8.16539 4.07855 8.19684 4.04187 8.21995 4L8.68995 3.2C8.79995 3 9.05995 3 9.11995 3.16Z",fill:"#A5F7DE"})]})}))}},922237:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(785893),o=(n(667294),n(240243));function i(e,t,n){
t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function a(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function u(e){
var t=e.width,n=void 0===t?24:t,u=e.height,c=void 0===u?24:u,s=e.color,f=void 0===s?"currentColor":s,d=e.className,p=e.foreground,h=l(e,["width","height","color","className","foreground"]);return(0,r.jsx)("svg",a(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){i(e,t,n[t])}))}return e}({},(0,o.Z)(h)),{className:d,width:n,height:c,viewBox:"0 0 24 24",children:(0,r.jsx)("path",{className:p,fill:f,d:"M12 10.9C11.39 10.9 10.9 11.39 10.9 12C10.9 12.61 11.39 13.1 12 13.1C12.61 13.1 13.1 12.61 13.1 12C13.1 11.39 12.61 10.9 12 10.9ZM12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM14.19 14.19L6 18L9.81 9.81L18 6L14.19 14.19Z"})}))}},58877:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u})
;var r=n(785893),o=(n(667294),n(240243));function i(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function a(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}
function u(e){var t=e.width,n=void 0===t?16:t,u=e.height,c=void 0===u?16:u,s=e.color,f=void 0===s?"currentColor":s,d=l(e,["width","height","color"]);return(0,r.jsx)("svg",a(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){i(e,t,n[t])}))}return e}({},(0,o.Z)(d)),{width:n,height:c,viewBox:"0 0 4 14",children:(0,r.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,r.jsx)("ellipse",{fill:f,cx:"3.75",cy:"1",rx:"1.125",ry:"1.08333333"}),(0,r.jsx)("ellipse",{fill:f,cx:"3.75",cy:"4.61111107",rx:"1.125",ry:"1.08333333"}),(0,r.jsx)("ellipse",{fill:f,cx:"0",cy:"4.61111107",rx:"1.125",ry:"1.08333333"}),(0,r.jsx)("ellipse",{fill:f,cx:"3.75",cy:"8.22222227",rx:"1.125",ry:"1.08333333"}),(0,r.jsx)("ellipse",{fill:f,cx:"0",cy:"8.22222227",rx:"1.125",
ry:"1.08333333"}),(0,r.jsx)("ellipse",{fill:f,cx:"3.75",cy:"11.83333337",rx:"1.125",ry:"1.08333333"}),(0,r.jsx)("ellipse",{fill:f,cx:"0",cy:"11.83333337",rx:"1.125",ry:"1.08333333"}),(0,r.jsx)("ellipse",{fill:f,cx:"0",cy:"1",rx:"1.125",ry:"1.08333333"})]})}))}},225376:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(785893),o=(n(667294),n(240243));function i(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function a(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){
if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function u(e){var t=e.width,n=void 0===t?24:t,u=e.height,c=void 0===u?24:u,s=e.color,f=void 0===s?"currentColor":s,d=e.foreground,p=l(e,["width","height","color","foreground"]);return(0,r.jsx)("svg",a(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){i(e,t,n[t])}))}return e}({},(0,o.Z)(p)),{width:n,height:c,viewBox:"0 0 24 24",children:(0,r.jsx)("path",{fill:f,className:d,
d:"M12 2C6.477 2 2 6.477 2 12C2 17.522 6.477 22 12 22C17.523 22 22 17.522 22 12C22 6.477 17.522 2 12 2ZM16.293 6.293L17.707 7.706L16.414 9L17.707 10.293L16.293 11.706L13.586 9L16.293 6.293ZM6.293 7.707L7.707 6.294L10.414 9L7.707 11.707L6.293 10.294L7.586 9L6.293 7.707ZM18 14C18 16.617 15.14 19 12 19C8.86 19 6 16.617 6 14V13H18V14Z"})}))}},73393:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(785893),o=(n(667294),n(240243));function i(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){i(e,t,n[t])}))}return e}function l(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function u(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function c(e){var t=e.width,n=void 0===t?24:t,i=e.height,c=void 0===i?24:i,s=e.color,f=void 0===s?"currentColor":s,d=e.foreground,p=u(e,["width","height","color","foreground"])
;return 16===n||16===c?(0,r.jsx)("svg",l(a({},(0,o.Z)(p)),{width:n,height:c,viewBox:"0 0 16 16",children:(0,r.jsx)("path",{fill:f,className:d,fillRule:"evenodd",clipRule:"evenodd",d:"M14 7V9C14 9 12.5867 9 12.5733 9.00667C12.42 9.58667 12.1733 10.1267 11.84 10.6067L12.74 11.5067L11.4933 12.7533L10.5933 11.8533C10.1133 12.1867 9.57334 12.44 8.99334 12.5867V14H6.99334V12.58C6.41334 12.4333 5.87334 12.18 5.39334 11.8467L4.49333 12.7467L3.24667 11.5L4.14667 10.6C3.81333 10.1267 3.56 9.58 3.41333 9H2V7H3.41333C3.56 6.42 3.81333 5.88 4.14667 5.4L3.24667 4.5L4.5 3.24667L5.4 4.14667C5.87334 3.81333 6.42 3.56 7 3.41333V2H9V3.41333C9.58 3.56667 10.12 3.81333 10.6 4.14667L11.5067 3.25333L12.7533 4.5L11.8533 5.4C12.1867 5.87334 12.44 6.42 12.5867 7H14ZM8 10C9.10457 10 10 9.10457 10 8C10 6.89543 9.10457 6 8 6C6.89543 6 6 6.89543 6 8C6 9.10457 6.89543 10 8 10Z"})})):(0,r.jsx)("svg",l(a({},(0,o.Z)(p)),{width:n,height:c,viewBox:"0 0 24 24",children:(0,r.jsx)("path",{fill:f,className:d,
fillRule:"evenodd",clipRule:"evenodd",d:"M19.738 10H22V14H19.739C19.498 14.931 19.1 15.798 18.565 16.564L20 18L18 20L16.565 18.564C15.797 19.099 14.932 19.498 14 19.738V22H10V19.738C9.069 19.498 8.203 19.099 7.436 18.564L6 20L4 18L5.436 16.564C4.901 15.799 4.502 14.932 4.262 14H2V10H4.262C4.502 9.068 4.9 8.202 5.436 7.436L4 6L6 4L7.436 5.436C8.202 4.9 9.068 4.502 10 4.262V2H14V4.261C14.932 4.502 15.797 4.9 16.565 5.435L18 3.999L20 5.999L18.564 7.436C19.099 8.202 19.498 9.069 19.738 10ZM12 16C14.2091 16 16 14.2091 16 12C16 9.79086 14.2091 8 12 8C9.79086 8 8 9.79086 8 12C8 14.2091 9.79086 16 12 16Z"})}))}},353967:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(785893),o=(n(667294),n(240243));function i(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function a(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e)
;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function u(e){var t=e.width,n=void 0===t?24:t,u=e.height,c=void 0===u?24:u,s=e.color,f=void 0===s?"currentColor":s,d=e.foreground,p=l(e,["width","height","color","foreground"]);return(0,r.jsxs)("svg",a(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){i(e,t,n[t])}))}return e}({},(0,o.Z)(p)),{width:n,height:c,viewBox:"0 0 24 24",children:[(0,r.jsx)("path",{d:"M6.16204 15.0065C6.10859 15.0022 6.05455 15 6 15H4V12C4 7.588 7.589 4 12 4C13.4809 4 14.8691 4.40439 16.0599 5.10859L17.5102 3.65835C15.9292 2.61064 14.0346 2 12 2C6.486 2 2 6.485 2 12V19.1685L6.16204 15.0065Z",fill:f}),(0,r.jsx)("path",{d:"M19.725 9.91686C19.9043 10.5813 20 11.2796 20 12V15H18C16.896 15 16 15.896 16 17V20C16 21.104 16.896 22 18 22H20C21.105 22 22 21.104 22 20V12C22 10.7075 21.7536 9.47149 21.3053 8.33658L19.725 9.91686Z",fill:f}),(0,r.jsx)("path",{d:"M3.20101 23.6243L1.7868 22.2101L21.5858 2.41113L23 3.82535L3.20101 23.6243Z",className:d,fill:f})]}))}},45183:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(785893),o=(n(667294),n(240243));function i(e,t,n){
t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function a(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function u(e){
var t=e.width,n=void 0===t?24:t,u=e.height,c=void 0===u?24:u,s=e.color,f=void 0===s?"currentColor":s,d=l(e,["width","height","color"]);return(0,r.jsxs)("svg",a(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){i(e,t,n[t])}))}return e}({},(0,o.Z)(d)),{width:n,height:c,viewBox:"0 0 24 24",fill:"none",children:[(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.25 18L13.25 6L11.75 6L11.75 18L13.25 18Z",fill:f}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 12.75C6.30964 12.75 5.75 13.3096 5.75 14V18H4.25V14C4.25 12.4812 5.48122 11.25 7 11.25H18C19.5188 11.25 20.75 12.4812 20.75 14V18H19.25V14C19.25 13.3096 18.6904 12.75 18 12.75H7Z",fill:f}),(0,r.jsx)("path",{
d:"M12.5 7C11.1193 7 10 5.88071 10 4.5C10 3.11929 11.1193 2 12.5 2C13.8807 2 15 3.11929 15 4.5C15 5.88071 13.8807 7 12.5 7Z",fill:f}),(0,r.jsx)("path",{d:"M20 22C18.6193 22 17.5 20.8807 17.5 19.5C17.5 18.1193 18.6193 17 20 17C21.3807 17 22.5 18.1193 22.5 19.5C22.5 20.8807 21.3807 22 20 22Z",fill:f}),(0,r.jsx)("path",{d:"M12.5 22C11.1193 22 10 20.8807 10 19.5C10 18.1193 11.1193 17 12.5 17C13.8807 17 15 18.1193 15 19.5C15 20.8807 13.8807 22 12.5 22Z",fill:f}),(0,r.jsx)("path",{d:"M5 22C3.61929 22 2.5 20.8807 2.5 19.5C2.5 18.1193 3.61929 17 5 17C6.38071 17 7.5 18.1193 7.5 19.5C7.5 20.8807 6.38071 22 5 22Z",fill:f})]}))}},217039:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(785893),o=(n(667294),n(240243));function i(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function a(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e)
;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function u(e){var t=e.width,n=void 0===t?16:t,u=e.height,c=void 0===u?16:u,s=e.color,f=void 0===s?"currentColor":s,d=e.foreground,p=l(e,["width","height","color","foreground"]);return(0,r.jsx)("svg",a(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){i(e,t,n[t])}))}return e}({},(0,o.Z)(p)),{width:n,height:c,viewBox:"0 0 24 24",children:(0,r.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,r.jsx)("rect",{width:"24",height:"24"}),(0,r.jsx)("path",{fill:f,className:d,
d:"M9,7 L11,7 L11,5 L9,5 L9,7 Z M10,18 C5.59,18 2,14.41 2,10 C2,5.59 5.59,2 10,2 C14.41,2 18,5.59 18,10 C18,14.41 14.41,18 10,18 L10,18 Z M10,4.4408921e-16 C4.4771525,-1.77635684e-15 4.4408921e-16,4.4771525 0,10 C-1.33226763e-15,12.6521649 1.0535684,15.195704 2.92893219,17.0710678 C4.80429597,18.9464316 7.3478351,20 10,20 C12.6521649,20 15.195704,18.9464316 17.0710678,17.0710678 C18.9464316,15.195704 20,12.6521649 20,10 C20,7.3478351 18.9464316,4.80429597 17.0710678,2.92893219 C15.195704,1.0535684 12.6521649,2.22044605e-16 10,0 L10,4.4408921e-16 Z M9,15 L11,15 L11,9 L9,9 L9,15 L9,15 Z",transform:"translate(2 2)"})]})}))}},334444:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(785893),o=(n(667294),n(240243));function i(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function a(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e)
;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function u(e){var t=e.width,n=void 0===t?16:t,u=e.height,c=void 0===u?16:u,s=e.color,f=void 0===s?"currentColor":s,d=e.foreground,p=l(e,["width","height","color","foreground"]);return(0,r.jsx)("svg",a(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){i(e,t,n[t])}))}return e}({},(0,o.Z)(p)),{width:n,height:c,viewBox:"0 0 24 24",children:(0,r.jsx)("path",{className:d,fill:f,d:"M18 2H7C5.897 2 5 2.898 5 4V11H12.59L10.293 8.708L11.706 7.292L16.414 11.991L11.708 16.706L10.292 15.294L12.582 13H5V20C5 21.103 5.897 22 7 22H18C19.103 22 20 21.103 20 20V4C20 2.898 19.103 2 18 2Z"})}))}},433415:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(785893),o=(n(667294),n(240243));function i(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function a(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){
return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function u(e){var t=e.width,n=void 0===t?24:t,u=e.height,c=void 0===u?24:u,s=e.color,f=void 0===s?"currentColor":s,d=e.foreground,p=l(e,["width","height","color","foreground"]);return(0,r.jsxs)("svg",a(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){
return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){i(e,t,n[t])}))}return e}({},(0,o.Z)(p)),{width:n,height:c,viewBox:"0 0 24 24",children:[(0,r.jsx)("path",{d:"M6.7 11H5C5 12.19 5.34 13.3 5.9 14.28L7.13 13.05C6.86 12.43 6.7 11.74 6.7 11Z",fill:f}),(0,r.jsx)("path",{d:"M9.01 11.085C9.015 11.1125 9.02 11.14 9.02 11.17L15 5.18V5C15 3.34 13.66 2 12 2C10.34 2 9 3.34 9 5V11C9 11.03 9.005 11.0575 9.01 11.085Z",fill:f}),(0,r.jsx)("path",{d:"M11.7237 16.0927L10.9632 16.8531L10.2533 17.5688C10.4978 17.633 10.747 17.6839 11 17.72V22H13V17.72C16.28 17.23 19 14.41 19 11H17.3C17.3 14 14.76 16.1 12 16.1C11.9076 16.1 11.8155 16.0975 11.7237 16.0927Z",fill:f}),(0,r.jsx)("path",{d:"M21 4.27L19.73 3L3 19.73L4.27 21L8.46 16.82L9.69 15.58L11.35 13.92L14.99 10.28L21 4.27Z",className:d,fill:f})]}))}},71284:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(785893),o=(n(667294),n(240243));function i(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,
writable:!0}):e[t]=n;return e}function a(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function u(e){
var t=e.width,n=void 0===t?24:t,u=e.height,c=void 0===u?24:u,s=e.color,f=void 0===s?"currentColor":s,d=e.foreground,p=l(e,["width","height","color","foreground"]);return(0,r.jsx)("svg",a(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){i(e,t,n[t])}))}return e}({},(0,o.Z)(p)),{width:n,height:c,viewBox:"0 0 24 24",children:(0,r.jsx)("path",{className:d,fill:f,fillRule:"evenodd",clipRule:"evenodd",d:"M4 2.5C2.897 2.5 2 3.397 2 4.5V15.5C2 16.604 2.897 17.5 4 17.5H11V19.5H7V21.5H17V19.5H13V17.5H20C21.103 17.5 22 16.604 22 15.5V4.5C22 3.397 21.103 2.5 20 2.5H4ZM20 4.5V13.5H4V4.5H20Z"})}))}},9507:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(785893),o=(n(667294),n(240243));function i(e,t,n){t in e?Object.defineProperty(e,t,{value:n,
enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function a(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function u(e){
var t=e.width,n=void 0===t?16:t,u=e.height,c=void 0===u?16:u,s=e.color,f=void 0===s?"currentColor":s,d=l(e,["width","height","color"]);return(0,r.jsx)("svg",a(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){i(e,t,n[t])}))}return e}({},(0,o.Z)(d)),{width:n,height:c,viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",
d:"M1.25 0.5H4.25C4.66475 0.5 5 0.836 5 1.25V4.25C5 4.664 4.66475 5 4.25 5H1.25C0.836 5 0.5 4.664 0.5 4.25V1.25C0.5 0.836 0.836 0.5 1.25 0.5ZM1.25 5.75H4.25C4.66475 5.75 5 6.086 5 6.5V9.5C5 9.914 4.66475 10.25 4.25 10.25H1.25C0.836 10.25 0.5 9.914 0.5 9.5V6.5C0.5 6.086 0.836 5.75 1.25 5.75ZM4.25 11H1.25C0.836 11 0.5 11.336 0.5 11.75V14.75C0.5 15.164 0.836 15.5 1.25 15.5H4.25C4.66475 15.5 5 15.164 5 14.75V11.75C5 11.336 4.66475 11 4.25 11ZM6.5 2H15.5V3.5H6.5V2ZM15.5 7.25H6.5V8.75H15.5V7.25ZM6.5 12.5H15.5V14H6.5V12.5Z",fill:f})}))}},52074:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(785893),o=(n(667294),n(240243));function i(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function a(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e)
;t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function u(e){var t=e.width,n=void 0===t?24:t,u=e.height,c=void 0===u?24:u,s=e.color,f=void 0===s?"currentColor":s,d=e.className,p=e.foreground,h=l(e,["width","height","color","className","foreground"]);return(0,r.jsxs)("svg",a(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){i(e,t,n[t])}))}return e}({},(0,o.Z)(h)),{className:d,width:n,height:c,viewBox:"0 0 24 24",children:[(0,r.jsx)("path",{d:"M0 0h24v24H0z",fill:"none"}),(0,r.jsx)("path",{className:p,fill:f,d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8 0-1.85.63-3.55 1.69-4.9L16.9 18.31C15.55 19.37 13.85 20 12 20zm6.31-3.1L7.1 5.69C8.45 4.63 10.15 4 12 4c4.42 0 8 3.58 8 8 0 1.85-.63 3.55-1.69 4.9z"})]}))}},620741:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(785893),o=(n(667294),n(240243));function i(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){i(e,t,n[t])}))}return e}function l(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function u(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r]
;t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function c(e){var t=e.width,n=void 0===t?24:t,i=e.height,c=void 0===i?24:i,s=e.color,f=void 0===s?"currentColor":s,d=e.foreground,p=u(e,["width","height","color","foreground"]);return 16===n||16===c?(0,r.jsxs)("svg",l(a({},(0,o.Z)(p)),{width:n,height:c,viewBox:"0 0 16 16",children:[(0,r.jsx)("path",{className:d,fill:f,d:"M14 2H16V3H14V5H13V3H11V2H13V0H14V2Z"}),(0,r.jsx)("path",{className:d,fill:f,d:"M6.5 8.00667C7.88 8.00667 9 6.88667 9 5.50667C9 4.12667 7.88 3.00667 6.5 3.00667C5.12 3.00667 4 4.12667 4 5.50667C4 6.88667 5.12 8.00667 6.5 8.00667Z"}),(0,r.jsx)("path",{className:d,fill:f,d:"M6.5 8.34C3.26 8.34 1 9.98666 1 12.34V13.0067H12V12.34C12 9.98 9.74 8.34 6.5 8.34Z"})]})):(0,r.jsx)("svg",l(a({},(0,o.Z)(p)),{width:n,height:c,viewBox:"0 0 24 24",children:(0,r.jsx)("path",{className:d,fill:f,fillRule:"evenodd",clipRule:"evenodd",
d:"M21 3H24V5H21V8H19V5H16V3H19V0H21V3ZM10 12C12.205 12 14 10.205 14 8C14 5.795 12.205 4 10 4C7.795 4 6 5.795 6 8C6 10.205 7.795 12 10 12ZM10 13C5.289 13 2 15.467 2 19V20H18V19C18 15.467 14.711 13 10 13Z"})}))}},184674:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(785893),o=(n(667294),n(240243));function i(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function a(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e)
;for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function u(e){var t=e.width,n=void 0===t?24:t,u=e.height,c=void 0===u?24:u,s=e.color,f=void 0===s?"currentColor":s,d=e.foreground,p=l(e,["width","height","color","foreground"]);return(0,r.jsx)("svg",a(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){i(e,t,n[t])}))}return e}({},(0,o.Z)(p)),{width:n,height:c,viewBox:"0 0 24 24",children:(0,r.jsxs)("g",{fill:"none",className:d,children:[(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",
d:"M12 22C12.4883 22 12.9684 21.965 13.438 21.8974C12.5414 20.8489 12 19.4877 12 18C12 17.6593 12.0284 17.3252 12.083 17H6V16.0244C6 14.0732 10 13 12 13C12.6215 13 13.436 13.1036 14.2637 13.305C15.2888 12.4882 16.5874 12 18 12C19.4877 12 20.8489 12.5414 21.8974 13.438C21.965 12.9684 22 12.4883 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22ZM12 12C13.66 12 15 10.66 15 9C15 7.34 13.66 6 12 6C10.34 6 9 7.34 9 9C9 10.66 10.34 12 12 12Z",fill:f}),(0,r.jsx)("path",{d:"M18 22C20.2091 22 22 20.2091 22 18C22 15.7909 20.2091 14 18 14C15.7909 14 14 15.7909 14 18C14 20.2091 15.7909 22 18 22Z",fill:f})]})}))}},924635:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(785893),o=(n(667294),n(240243));function i(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function a(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){
var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function u(e){var t=e.width,n=void 0===t?16:t,u=e.height,c=void 0===u?16:u,s=e.color,f=void 0===s?"currentColor":s,d=e.foreground,p=l(e,["width","height","color","foreground"]);return(0,r.jsx)("svg",a(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){i(e,t,n[t])}))}return e}({},(0,o.Z)(p)),{width:n,height:c,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("g",{fill:"none",fillRule:"evenodd",children:(0,r.jsx)("path",{className:d,fill:f,d:"M19 3H5V5H7V12H5V14H11V22H13V14H19V12H17V5H19V3Z"})})}))}},936584:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(785893),o=(n(667294),n(240243));function i(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function a(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})))
;n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function u(e){var t=e.width,n=void 0===t?16:t,u=e.height,c=void 0===u?16:u,s=e.color,f=void 0===s?"currentColor":s,d=e.foreground,p=l(e,["width","height","color","foreground"]);return(0,r.jsx)("svg",a(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))))
;r.forEach((function(t){i(e,t,n[t])}))}return e}({},(0,o.Z)(p)),{width:n,height:c,viewBox:"0 0 60 60",children:(0,r.jsx)("g",{fill:"none",fillRule:"evenodd",children:(0,r.jsx)("path",{className:d,fill:f,
d:"M8.95185131,8.62650012 L8.92775494,8.65059649 C3.20486729,14.2891468 -0.0119979765,21.9758886 5.02080018e-05,29.9999795 C-0.0119979765,36.56624 2.14462705,42.9517778 6.13257613,48.1686417 C6.16872068,48.2168345 6.24100979,48.252979 6.28920253,48.2168345 C6.33739527,48.1806899 6.34944345,48.120449 6.32534708,48.0602081 C4.03619202,40.9879237 15.722931,23.8433572 21.7711196,16.6626392 C21.795216,16.6385428 21.8193124,16.6144465 21.8193124,16.5783019 C21.8193124,16.5421573 21.795216,16.5060128 21.7590715,16.4819164 C11.6024519,6.37348961 8.8795622,8.68674104 8.92775494,8.65059649 M51.048208,8.62650012 L51.0723044,8.65059649 C56.795192,14.2770987 60.0000091,21.9758886 59.9879609,29.9999795 C60.0000091,36.56624 57.8433841,42.9517778 53.855435,48.1686417 C53.8192905,48.2168345 53.7470014,48.252979 53.6988086,48.2168345 C53.6506159,48.1806899 53.6506159,48.120449 53.6626641,48.0602081 C55.9518191,40.9879237 44.2650801,23.831309 38.2289397,16.650591 C38.2048433,16.6264946 38.180747,16.6023983 38.180747,16.5662537 C38.180747,16.518061 38.2048433,16.4939646 38.2409879,16.4698682 C48.4096556,6.36144143 51.0964008,8.68674104 51.0602562,8.65059649 M30.0000297,0 C36.0482183,0 41.0361667,1.66264946 45.626525,4.38553917 C45.6867659,4.40963554 45.6988141,4.48192464 45.6747177,4.53011738 C45.6506214,4.57831012 45.5903804,4.5903583 45.5301395,4.57831012 C39.7229146,3.32529893 30.8915953,8.33734369 30.0602706,8.84336744 C30.0361742,8.85541562 30.024126,8.86746381 30.0000297,8.86746381 C29.9759333,8.86746381 29.9518369,8.85541562 29.9397887,8.84336744 C27.7229228,7.56625988 19.5663019,3.28915437 14.4217271,4.61445467 C14.3614862,4.62650286 14.3012452,4.61445467 14.2771489,4.56626193 C14.2530525,4.50602101 14.2771489,4.44578009 14.3253416,4.42168372 C18.9156999,1.66264946 23.9638892,0 30.0000297,0 M30.0000297,24.0602245 C30.0361742,24.0602245 30.0723188,24.0843209 30.0964151,24.1084172 C39.0723126,30.9397379 54.4337479,47.8071962 49.7470041,52.5782773 L49.7590523,52.5662291 L49.7590523,52.5782773 L49.7470041,52.5782773 C44.2771283,57.3734547 37.2650849,60.0120071 30.0000297,59.9999589 C22.7349744,60.0120071 15.7108828,57.3734547 10.2530552,52.5782773 L10.2410071,52.5662291 L10.2530552,52.5782773 C5.56631146,47.8071962 20.9277467,30.9276897 29.9036442,24.1084172 C29.9156924,24.0843209 29.9638851,24.0602245 30.0000297,24.0602245"
})})}))}},811442:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(785893),o=(n(667294),n(240243));function i(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function a(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r]
;t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function u(e){var t=e.width,n=void 0===t?24:t,u=e.height,c=void 0===u?24:u,s=e.color,f=void 0===s?"currentColor":s,d=e.className,p=e.foreground,h=l(e,["width","height","color","className","foreground"]);return(0,r.jsx)("svg",a(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){i(e,t,n[t])}))}return e}({},(0,o.Z)(h)),{className:d,width:n,height:c,viewBox:"0 0 24 24",children:(0,r.jsx)("path",{className:p,fill:f,
d:"M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM11 19.93C7.05 19.44 4 16.08 4 12C4 11.38 4.08 10.79 4.21 10.21L9 15V16C9 17.1 9.9 18 11 18V19.93ZM17.9 17.39C17.64 16.58 16.9 16 16 16H15V13C15 12.45 14.55 12 14 12H8V10H10C10.55 10 11 9.55 11 9V7H13C14.1 7 15 6.1 15 5V4.59C17.93 5.78 20 8.65 20 12C20 14.08 19.2 15.97 17.9 17.39Z"})}))}},812197:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(785893),o=(n(667294),n(240243));function i(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function a(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){
Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function u(e){var t=e.width,n=void 0===t?24:t,u=e.height,c=void 0===u?24:u,s=e.color,f=void 0===s?"currentColor":s,d=e.foreground,p=l(e,["width","height","color","foreground"]);return(0,r.jsx)("svg",a(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){i(e,t,n[t])}))}return e}({},(0,o.Z)(p)),{
width:n,height:c,viewBox:"0 0 24 24",children:(0,r.jsx)("path",{fill:f,className:d,d:"M12 2C6.485 2 2 6.485 2 12H5.33333C5.33333 8.32333 8.32333 5.33333 12 5.33333C15.6767 5.33333 18.6667 8.32333 18.6667 12C18.6667 15.6767 15.6767 18.6667 12 18.6667C10.2033 18.6667 8.55833 17.9333 7.315 16.6867L10.3333 13.6667H2V22L4.935 19.065C6.79833 20.94 9.30167 22 12 22C17.515 22 22 17.515 22 12C22 6.48667 17.515 2 12 2Z"})}))}},696229:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(785893);n(667294);function o(e){var t=e.width,n=void 0===t?24:t,o=e.height,i=void 0===o?24:o,a=e.color,l=void 0===a?"currentColor":a,u=e.className,c=e.foreground;return(0,r.jsx)("svg",{className:u,width:n,height:i,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{className:c,fill:l,fillRule:"evenodd",clipRule:"evenodd",
d:"M2 4.5C2 3.397 2.897 2.5 4 2.5H20C21.103 2.5 22 3.397 22 4.5V15.5C22 16.604 21.103 17.5 20 17.5H13V19.5H17V21.5H7V19.5H11V17.5H4C2.897 17.5 2 16.604 2 15.5V4.5ZM13.2 14.3375V11.6C9.864 11.6 7.668 12.6625 6 15C6.672 11.6625 8.532 8.3375 13.2 7.6625V5L18 9.6625L13.2 14.3375Z"})})}},930264:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(785893);n(667294);function o(e){var t=e.width,n=void 0===t?16:t,o=e.height,i=void 0===o?16:o,a=e.color,l=void 0===a?"currentColor":a,u=e.className,c=e.foreground;return(0,r.jsx)("svg",{className:u,width:n,height:i,viewBox:"0 0 16 16",children:(0,r.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,r.jsx)("rect",{width:"16",height:"16"}),(0,r.jsx)("polygon",{className:c,fill:l,points:"12 2.32 10.513 2 4 13.68 5.487 14"})]})})}},806702:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(785893),o=(n(667294),n(240243));function i(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function a(e,t){
t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function u(e){var t=e.width,n=void 0===t?16:t,u=e.height,c=void 0===u?16:u,s=e.color,f=void 0===s?"currentColor":s,d=e.foreground,p=l(e,["width","height","color","foreground"])
;return(0,r.jsxs)("svg",a(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){i(e,t,n[t])}))}return e}({},(0,o.Z)(p)),{fill:"none",xmlns:"http://www.w3.org/2000/svg",width:n,height:c,viewBox:"0 0 24 24",children:[(0,r.jsxs)("g",{clipPath:"url(#a)",fill:f,className:d,children:[(0,r.jsx)("path",{d:"M18 22.001H3a1 1 0 0 1-1-1v-15h2v14h14v2Z"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",
d:"M21 2.001H7a1 1 0 0 0-1 1v14a1 1 0 0 0 1 1h14a1 1 0 0 0 1-1v-14a1 1 0 0 0-1-1Zm-5.842 2.606a.619.619 0 0 0-.674.134L11.832 7.65H9.977a.62.62 0 0 0-.618.618v3.707c0 .34.278.618.618.618h1.854l2.652 2.908a.619.619 0 0 0 1.055-.436V5.178c0-.25-.15-.476-.381-.571Zm1.64 4.793V7.8c1.324 0 2.4 1.076 2.4 2.4 0 1.323-1.076 2.4-2.4 2.4V11c.442 0 .8-.36.8-.8 0-.44-.358-.8-.8-.8Z"})]}),(0,r.jsx)("defs",{children:(0,r.jsx)("clipPath",{id:"a",children:(0,r.jsx)("path",{fill:"#fff",d:"M0 0h24v24H0z"})})})]}))}},981201:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(785893),o=(n(667294),n(240243));function i(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function a(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){
return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function u(e){var t=e.width,n=void 0===t?12:t,u=e.height,c=void 0===u?12:u,s=e.color,f=void 0===s?"currentColor":s,d=e.foreground,p=l(e,["width","height","color","foreground"]);return(0,r.jsxs)("svg",a(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){
return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){i(e,t,n[t])}))}return e}({},(0,o.Z)(p)),{width:n,height:c,viewBox:"0 0 12 12",children:[(0,r.jsx)("path",{className:d,d:"M7.00168 1.08381C7.00168 0.485238 6.51645 0 5.91788 0C5.31931 0 4.83408 0.485238 4.83408 1.08381V2.18568C4.83408 2.78425 5.31931 3.26949 5.91788 3.26949C6.51645 3.26949 7.00168 2.78425 7.00168 2.18568V1.08381Z",fill:f}),(0,r.jsx)("path",{className:d,d:"M7.00159 9.81428C7.00159 9.21571 6.51636 8.73047 5.91779 8.73047C5.31922 8.73047 4.83398 9.21571 4.83398 9.81428V10.9161C4.83398 11.5147 5.31922 12 5.91779 12C6.51636 12 7.00159 11.5147 7.00159 10.9161V9.81428Z",fill:f}),(0,r.jsx)("path",{className:d,d:"M10.9162 7.10561C11.5148 7.10561 12 6.62037 12 6.0218C12 5.42323 11.5148 4.93799 10.9162 4.93799H9.81433C9.21576 4.93799 8.73053 5.42323 8.73053 6.0218C8.73053 6.62037 9.21576 7.10561 9.81433 7.10561H10.9162Z",fill:f}),(0,r.jsx)("path",{className:d,
d:"M2.18573 7.04555C2.7843 7.04555 3.26953 6.56031 3.26953 5.96174C3.26953 5.36317 2.7843 4.87793 2.18573 4.87793H1.08386C0.485292 4.87793 5.67436e-05 5.36317 5.67436e-05 5.96174C5.67436e-05 6.56031 0.485292 7.04555 1.08386 7.04555H2.18573Z",fill:f})]}))}},991338:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(785893),o=(n(667294),n(240243));function i(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function a(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{}
;var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function u(e){var t=e.width,n=void 0===t?10:t,u=e.height,c=void 0===u?10:u,s=e.color,f=void 0===s?"currentColor":s,d=e.foreground,p=l(e,["width","height","color","foreground"]);return(0,r.jsx)("svg",a(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){i(e,t,n[t])}))}return e}({},(0,o.Z)(p)),{width:n,height:c,viewBox:"0 0 10 10",children:(0,r.jsx)("path",{className:d,
d:"M4.59185 1.69642L1.32007 0.0611887C1.14437 -0.00404167 0.953613 -0.0174513 0.770466 0.0225611C0.587319 0.0625734 0.419488 0.154328 0.286908 0.286908C0.154328 0.419488 0.0625738 0.587318 0.0225614 0.770466C-0.0174511 0.953613 -0.00404127 1.14437 0.0611893 1.32007L1.69642 4.59185C1.78832 4.83513 1.78825 5.10365 1.69623 5.34698L0.122153 8.68254C0.0375916 8.84984 0.00799916 9.03955 0.0375831 9.2246C0.0671671 9.40965 0.154425 9.58061 0.286913 9.7131C0.419402 9.84559 0.59035 9.93283 0.775402 9.96242C0.960453 9.992 1.15016 9.96241 1.31746 9.87785L4.65302 8.30377C4.89635 8.21175 5.16487 8.21168 5.40815 8.30358L8.67993 9.93881C8.85563 10.004 9.04639 10.0175 9.22953 9.97744C9.41268 9.93743 9.58051 9.84567 9.71309 9.71309C9.84567 9.58051 9.93743 9.41268 9.97744 9.22953C10.0175 9.04639 10.004 8.85563 9.93881 8.67993L8.30358 5.40815C8.24152 5.292 8.20906 5.16233 8.2091 5.03061C8.20913 4.89889 8.24165 4.7692 8.30377 4.65302L9.87785 1.31746C9.96241 1.15016 9.992 0.960453 9.96242 0.775401C9.93283 0.59035 9.84559 0.419401 9.7131 0.286913C9.58061 0.154424 9.40965 0.0671663 9.2246 0.0375824C9.03955 0.00799847 8.84984 0.037591 8.68254 0.122152L5.34698 1.69623C5.2308 1.75835 5.10111 1.79087 4.96939 1.7909C4.83767 1.79094 4.708 1.75848 4.59185 1.69642Z",
fill:f})}))}},571610:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(785893),o=(n(667294),n(240243));function i(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function a(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r]
;t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function u(e){var t=e.width,n=void 0===t?32:t,u=e.height,c=void 0===u?32:u,s=e.color,f=void 0===s?"currentColor":s,d=e.foreground,p=l(e,["width","height","color","foreground"]);return(0,r.jsxs)("svg",a(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){i(e,t,n[t])}))}return e}({},(0,o.Z)(p)),{width:n,height:c,viewBox:"0 0 32 32",children:[(0,r.jsx)("rect",{width:"32",height:"32",rx:"16",fill:f}),(0,r.jsx)("path",{
d:"M23 9.99995C19.56 9.99995 16.826 6.43495 16.799 6.39795C16.421 5.89795 15.579 5.89795 15.201 6.39795C15.174 6.43495 12.44 9.99995 9 9.99995C8.447 9.99995 8 10.4479 8 10.9999V17.9999C8 21.8069 14.764 25.4779 15.534 25.8839C15.68 25.9609 15.84 25.9979 16 25.9979C16.16 25.9979 16.32 25.9599 16.466 25.8839C17.236 25.4779 24 21.8069 24 17.9999V10.9999C24 10.4479 23.553 9.99995 23 9.99995ZM19 19.9999L16 17.9999L13 19.9999L14 16.9999L12 14.9999H15L16 11.9999L17 14.9999H20L18 16.9999L19 19.9999Z",className:d})]}))}},666095:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(785893),o=(n(667294),n(240243));function i(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function a(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){
return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function u(e){var t=e.width,n=void 0===t?24:t,u=e.height,c=void 0===u?24:u,s=e.color,f=void 0===s?"currentColor":s,d=e.foreground,p=l(e,["width","height","color","foreground"]);return(0,r.jsxs)("svg",a(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){
return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){i(e,t,n[t])}))}return e}({},(0,o.Z)(p)),{width:n,height:c,viewBox:"0 0 24 24",children:[(0,r.jsx)("path",{className:d,fillRule:"evenodd",clipRule:"evenodd",d:"M20 11V13.5H4V4.5H13V2.5H4C3.46957 2.5 2.96086 2.71071 2.58579 3.08579C2.21071 3.46086 2 3.96957 2 4.5L2 15.5C2 16.0304 2.21071 16.5391 2.58579 16.9142C2.96086 17.2893 3.46957 17.5 4 17.5H11V19.5H7V21.5H17V19.5H13V17.5H20C20.5304 17.5 21.0391 17.2893 21.4142 16.9142C21.7893 16.5391 22 16.0304 22 15.5V11H20Z",fill:f}),(0,r.jsx)("path",{className:d,fillRule:"evenodd",clipRule:"evenodd",d:"M23 2.45174L21.5483 1L19.0051 3.55341L16.4517 1L15 2.45174L17.5534 4.99485L15 7.54826L16.4517 9L19.0051 6.44659L21.5483 9L23 7.54826L20.4466 4.99485L23 2.45174Z",fill:f})]}))}},961803:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(785893),o=(n(667294),n(240243));function i(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0
}):e[t]=n;return e}function a(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function u(e){var t=e.width,n=void 0===t?40:t,u=e.height,c=void 0===u?40:u,s=e.color,f=void 0===s?"currentColor":s,d=l(e,["width","height","color"])
;return(0,r.jsx)("svg",a(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){i(e,t,n[t])}))}return e}({},(0,o.Z)(d)),{width:n,height:c,viewBox:"0 0 20 21",fill:f,xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",
d:"M9.2139 1.00082L0.271335 12.3825C-0.0698739 12.8168 0.00557122 13.4454 0.439846 13.7866C0.616031 13.9251 0.833599 14.0003 1.05766 14.0003H5.00022V20.0003C5.00022 20.5526 5.44794 21.0003 6.00022 21.0003H14.0002C14.5525 21.0003 15.0002 20.5526 15.0002 20.0003V14.0003H18.9428C19.495 14.0003 19.9428 13.5526 19.9428 13.0003C19.9428 12.7763 19.8675 12.5587 19.7291 12.3825L10.7865 1.00082C10.4453 0.566546 9.81669 0.4911 9.38241 0.832308C9.31972 0.881561 9.26315 0.938133 9.2139 1.00082Z",fill:f})}))}},27617:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(785893),o=(n(667294),n(832010)),i=n(240243),a=n(461061);function l(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function u(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){
return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function c(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function s(e){var t=e.width,n=void 0===t?24:t,s=e.height,f=void 0===s?24:s,d=e.color,p=void 0===d?"currentColor":d,h=e.foregroundColor,y=void 0===h?(0,o.Lq)(a.Ilk.STATUS_RED_500):h,b=e.foreground,v=e.background,m=c(e,["width","height","color","foregroundColor","foreground","background"]);return(0,r.jsxs)("svg",u(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){l(e,t,n[t])}))}return e}({},(0,i.Z)(m)),{width:n,height:f,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("g",{fill:"none",fillRule:"evenodd",children:(0,r.jsx)("path",{className:b,fill:y,d:"M21.47,3.39,20.14,2.05,2.53,19.66,3.86,21l4.41-4.4,1.3-1.31,1.75-1.74,3.83-3.83Z"})}),(0,r.jsxs)("g",{fill:"none",children:[(0,r.jsx)("polygon",{points:"17 11.14 16.55 11.59 14.14 14 19 14 19 12 17 12 17 11.14",className:v,fill:p}),(0,r.jsx)("polygon",{points:"16.91 3 5 3 5 5 7 5 7 12 5 12 5 14 5.91 14 16.91 3",className:v,fill:p}),(0,r.jsx)("polygon",{points:"12.72 15.42 11 17.14 11 22 13 22 13 15.14 12.72 15.42",className:v,fill:p})]})]}))}},497195:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(785893),o=(n(667294),n(240243));function i(e,t,n){
t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function a(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function u(e){
var t=e.width,n=void 0===t?16:t,u=e.height,c=void 0===u?16:u,s=e.color,f=void 0===s?"currentColor":s,d=e.foreground,p=l(e,["width","height","color","foreground"]);return(0,r.jsx)("svg",a(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){i(e,t,n[t])}))}return e}({},(0,o.Z)(p)),{width:n,height:c,viewBox:"0 0 24 24",children:(0,r.jsx)("path",{className:d,fill:f,d:"M9 16h6v-6h4l-7-7-7 7h4v6zm-4 2h14v2H5v-2z"})}))}},615595:(e,t,n)=>{"use strict";n.d(t,{ZT:()=>y,pk:()=>v,XX:()=>m,iv:()=>g,Pb:()=>O,M9:()=>E,ZP:()=>j});var r=n(785893),o=(n(667294),n(294184)),i=n.n(o),a=n(496486),l=n.n(a),u=n(94813),c=n(355548),s=n.n(c);function f(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}
function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){f(e,t,n[t])}))}return e}function p(e){return"".concat(e/16,"rem")}function h(){return(0,r.jsx)("div",{className:s().avatar,style:{opacity:.08}})}function y(e){var t=e.width,n=e.opacity,o=e.className;return(0,r.jsx)("div",{className:i()(o,f({},s().blob,!0)),style:{width:p(t),opacity:null!=n?n:l().random(.02,.08)}})}function b(e){var t,n,o=e.groupStart,a=void 0!==o&&o,c=e.compact,p=void 0!==c&&c,b=e.attachmentSpecs,v=e.usernameWidth,m=e.usernameOpacity,g=e.className,O=e.style,E=p?50:l().random(40,50);if(!p&&a)t=(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(h,{}),(0,r.jsx)(u.H,{className:s().header,children:(0,r.jsx)(y,{width:v,opacity:m,className:s().username})})]});else if(p){var j;t=(0,
r.jsxs)(r.Fragment,{children:[p&&(0,r.jsx)(y,{width:E,className:i()((j={},f(j,s().compactTimestamp,!0),f(j,s().hidden,!a),j))}),(0,r.jsx)(u.H,{className:s().header,children:(0,r.jsx)(y,{width:v,opacity:m})})]})}return(0,r.jsxs)("div",{"aria-hidden":!0,className:i()(g,(n={},f(n,s().wrapper,!0),f(n,s().compact,p),f(n,s().cozy,!p),n)),style:O,children:[(0,r.jsxs)("div",{className:s().contents,children:[t,(0,r.jsx)("div",{className:s().content,children:new Array(l().random(3,8)).fill(null).map((function(){return l().random(30,80)})).map((function(e,t){return(0,r.jsx)(y,{width:e,opacity:.06},t)}))})]}),null!=b&&(0,r.jsx)("div",{className:s().attachmentContainer,children:(0,r.jsx)("div",{className:s().attachment,style:d({opacity:.03},b)})})]})}var v=44,m=22,g=26,O=26,E=6;function j(e){var t=e.messages,n=e.groupSpacing,o=void 0===n?0:n,i=e.compact,a=void 0!==i&&i,u=e.attachmentSpecs,c=null!=u?u.last?t-1:l().random(0,t-1):-1,s=l().random(80,120),f=l().random(.1,.2);return(0,r.jsx)(r.Fragment,{
children:new Array(t).fill(null).map((function(e,t){return(0,r.jsx)(b,{compact:a,usernameWidth:s,usernameOpacity:f,groupStart:0===t,attachmentSpecs:t===c?u:void 0,style:0===t?{marginTop:p(o)}:void 0},t)}))})}},115375:(e,t,n)=>{"use strict";n.d(t,{Z:()=>S});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),l=n(647446),u=n(604175),c=n(52074),s=n(461061),f=n(959797),d=n(115479),p=n.n(d),h=n(380203),y=n.n(h);function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{
if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var g=0,O=function(e){switch(e){case s._vf.TOP_LEFT:return f.Z.Messages.OVERLAY_NOTIFICATIONS_TOP_LEFT;case s._vf.TOP_RIGHT:return f.Z.Messages.OVERLAY_NOTIFICATIONS_TOP_RIGHT;case s._vf.BOTTOM_LEFT:return f.Z.Messages.OVERLAY_NOTIFICATIONS_BOTTOM_LEFT;case s._vf.BOTTOM_RIGHT:return f.Z.Messages.OVERLAY_NOTIFICATIONS_BOTTOM_RIGHT;default:return f.Z.Messages.OVERLAY_NOTIFICATIONS_DISABLED}},E=[s._vf.DISABLED,s._vf.TOP_LEFT,s._vf.TOP_RIGHT,s._vf.BOTTOM_LEFT,s._vf.BOTTOM_RIGHT]
;function j(e){var t=e.position,n=e.onChange,i=m(o.useState((function(){return"notification-position-selector-".concat(g++)})),1)[0],d=t===s._vf.DISABLED?f.Z.Messages.OVERLAY_NOTIFICATION_SETTINGS_DISABLED:f.Z.Messages.OVERLAY_NOTIFICATION_SETTINGS_POSITION.format({position:O(t)});return(0,r.jsxs)("div",{children:[(0,r.jsx)(l.tE,{within:!0,offset:-2,children:(0,r.jsx)("div",{className:a()(p().wrapper,v({},p().disabledSelected,t===s._vf.DISABLED)),children:E.map((function(e){var o;return(0,r.jsxs)("label",{className:a()((o={},v(o,p().selected,e===t),v(o,p().disabled,e===s._vf.DISABLED),v(o,p().topRight,e===s._vf.TOP_RIGHT),v(o,p().topLeft,e===s._vf.TOP_LEFT),v(o,p().bottomRight,e===s._vf.BOTTOM_RIGHT),v(o,p().bottomLeft,e===s._vf.BOTTOM_LEFT),o)),children:[O(e),e===s._vf.DISABLED?(0,r.jsx)(c.Z,{className:p().disabledIcon}):null,(0,r.jsx)("input",{type:"radio",name:i,value:e,onChange:function(t){return n(t,e)},className:p().hiddenInput})]},e)}))})}),(0,r.jsx)(u.Z,{type:u.Y.DESCRIPTION,
className:y().marginTop8,children:d})]})}j.Positions=s._vf;const S=j},230365:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(785893),o=(n(667294),n(294184)),i=n.n(o),a=n(191940),l=n(757987),u=n(440455),c=n(64612),s=n.n(c);function f(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function d(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function p(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t)
;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function h(e){var t=e.tooltipText,n=e.children,o=e.onContextMenu,c=e.onClick,h=e.disabled,y=e.icon,b=e.iconForeground,v=e.innerClassName,m=e.tooltipClassName,g=e.onMouseEnter,O=e.onMouseLeave,E=e["aria-label"],j=e["aria-checked"],S=e.role,C=e.tooltipColor,P=e.tooltipForceOpen,I=(0,r.jsx)(y,{width:20,height:20,foreground:b});return(0,r.jsx)(l.ZP,{tooltipClassName:m,text:t,"aria-label":E,color:C,forceOpen:P,children:function(e){var t,l=e.onClick,y=e.onMouseEnter,b=e.onMouseLeave,m=p(e,["onClick","onMouseEnter","onMouseLeave"]);return(0,r.jsxs)(a.Co,d(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){
return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){f(e,t,n[t])}))}return e}({},m),{look:a.Co.Looks.BLANK,size:a.Co.Sizes.NONE,disabled:h,innerClassName:v,className:i()(s().button,(t={},f(t,s().disabled,h),f(t,s().enabled,!h),t)),onClick:function(e){null!=l&&l();null!=c&&c(e)},onMouseEnter:function(){null==y||y();null==g||g()},onMouseLeave:function(){null==b||b();null==O||O()},onContextMenu:o,role:S,"aria-checked":j,children:[null!=n?(0,r.jsx)(u.ZP,{width:20,height:20,mask:u.ZP.Masks.PANEL_BUTTON,children:I}):I,n]}))}})}},430542:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(785893),o=(n(667294),n(294184)),i=n.n(o),a=n(685351),l=n(389820),u=n.n(l);function c(e){var t=e.children,n=e.className;return(0,r.jsx)(a.x,{color:"none",className:i()(u().subtext,n),variant:"text-xs/normal",children:t})}},552572:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(785893),o=(n(667294),n(294184)),i=n.n(o),a=n(685351),l=n(291943),u=n.n(l);function c(e){
var t=e.children,n=e.className;return(0,r.jsx)(a.x,{color:"none",className:i()(u().title,n),variant:"text-sm/normal",children:t})}},918513:(e,t,n)=>{"use strict";n.d(t,{Z:()=>q});var r=n(785893),o=n(667294),i=n(730381),a=n.n(i),l=n(39802),u=n(956299),c=n(201930),s=n(745920),f=n.n(s),d=n(894919),p=n.n(d),h=n(665369),y=n.n(h),b=n(978476),v=n.n(b),m=n(109813),g=n(461061),O=n(55146),E=n.n(O),j=n(485618),S=n.n(j),C=n(161693),P=n.n(C),I=n(28743),_=n.n(I),w=n(106632),x=n.n(w),N=n(858739),T=n.n(N),A=n(172129),Z=n.n(A),R=n(243874),M=n.n(R),D=n(537020),L=n.n(D),k=n(88070),U=n.n(k);function G(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function H(e){var t,n=e.movDark,o=void 0===n?f():n,i=e.movLight,a=void 0===i?p():i,l=e.mp4Dark,u=void 0===l?P():l,s=e.mp4Light,d=void 0===s?T():s,h=e.pngDark,y=void 0===h?_():h,b=e.pngLight,v=void 0===b?Z():b,m=e.webmDark,O=void 0===m?x():m,E=e.webmLight,j=void 0===E?M():E,S=(0,c.vu)(),C=[(0,
r.jsx)("source",{src:u,type:"video/mp4"},"mp4"),(0,r.jsx)("img",{alt:"",src:y},"png")],I=[(0,r.jsx)("source",{src:d,type:"video/mp4"},"mp4"),(0,r.jsx)("img",{alt:"",src:v},"png")];if(S>52||-1===S){C.unshift((0,r.jsx)("source",{src:O,type:"video/webm"},"webm"));I.unshift((0,r.jsx)("source",{src:j,type:"video/webm"},"webm"))}if(function(){var e,t=window.navigator,n=t.userAgent.toLowerCase(),r=null!=(null===(e=t.mediaCapabilities)||void 0===e?void 0:e.decodingInfo);return-1!==n.indexOf("safari")&&!(-1!==n.indexOf("chrome"))&&-1!==n.indexOf("version/")&&r}()){C.unshift((0,r.jsx)("source",{src:o,type:"video/mp4"},"hevc"));I.unshift((0,r.jsx)("source",{src:a,type:"video/mp4"},"hevc"))}return G(t={},g.BRd.DARK,C),G(t,g.BRd.LIGHT,I),t}var B=a()("5/13/2022 10:00 -0800").valueOf(),V=a()("5/16/2022 17:00 -0800").valueOf(),F=H({webmDark:E(),webmLight:S()}),W=a()("10/24/2022 08:00 -0800").valueOf(),Y=a()("11/3/2022 11:00 -0800").valueOf(),z=H({webmDark:L(),webmLight:U(),movDark:y(),movLight:v()
}),K=H({});const q=function(e){var t,n=e.loop,i=void 0===n||n,a=e.autoPlay,c=void 0===a||a,s=e.setRef,f=e.className,d=e.onReady,p=o.useContext(u.Z),h=o.useContext(l.S).reducedMotion,y=Date.now(),b=K;y>=B&&y<=V?b=F:y>=W&&y<=Y&&(b=z);return(0,r.jsx)(m.Z,{ref:s,onLoadedData:d,className:f,loop:!h.enabled&&i,autoPlay:!h.enabled&&c,playsInline:!0,"data-testid":"app-spinner",children:null!==(t=b[p])&&void 0!==t?t:b[g.BRd.DARK]},p)}},459541:(e,t,n)=>{"use strict";n.d(t,{Z:()=>j});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),l=n(353967),u=n(433415),c=n(440455),s=n(366236),f=n(786588),d=n.n(f);function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function y(e){y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return y(e)}function b(e,t){
return!t||"object"!==g(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function v(e,t){v=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return v(e,t)}var m,g=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var o=y(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return b(this,n)}}!function(e){e[e.OUTGOING=0]="OUTGOING";e[e.INCOMING=1]="INCOMING"}(m||(m={}));var E=function(e){!function(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&v(e,t)}(n,e);var t=O(n);function n(){p(this,n);return t.apply(this,arguments)}var o=n.prototype;o.renderStatus=function(){var e=this.props,t=e.muted,n=e.deafen,o=n?l.Z:u.Z;return t||n?(0,r.jsx)(o,{className:d().status},"status"):null};o.renderBorder=function(){var e=this.props.speaking;return(0,r.jsx)("div",{className:a()(d().border,h({},d().speaking,e))},"border")};o.renderVoiceCallAvatar=function(){var e=this.props,t=e.src,n=e.disabled,o=e.ringing,i=e.ringingType,l=e.avatarClassName,u=e.muted,f=e.deafen,p=e.size,y=e.renderIcon,b=(0,s.px)(p),v=(0,r.jsx)("img",{src:t,alt:" ",className:a()(d().voiceAvatar,l,h({},d().ringingOutgoing,o&&i===m.OUTGOING))});if(n)return v;var g=c.QS.AVATAR_DEFAULT
;null!=y?g=p===s.u8.SIZE_32?c.QS.AVATAR_CALL_ICON_32:c.QS.AVATAR_CALL_ICON:(u||f)&&(g=c.QS.AVATAR_VOICE_CALL_80);return(0,r.jsxs)(c.ZP,{className:d().callAvatarMask,width:b,height:b,mask:g,children:[null==y?void 0:y(),v,u||f?this.renderStatus():this.renderBorder()]})};o.render=function(){var e,t=this.props,n=t.size,o=t.onClick,i=t.style,l=t.onContextMenu,u=t.className,c=t.ringingType,f=t.ringing,p=a()(d().wrapper,(h(e={},d().clickable,null!=o),h(e,d().ringingOutgoing,f&&c===m.OUTGOING),h(e,d().ringingIncoming,f&&c===m.INCOMING),e),u),y=(0,s.px)(n),b=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){h(e,t,n[t])}))}return e}({height:y,width:y},i);return(0,r.jsx)("div",{style:b,onContextMenu:l,className:p,
children:this.renderVoiceCallAvatar()})};return n}(o.PureComponent);E.defaultProps={size:s.u8.SIZE_80,ringingType:m.OUTGOING,speaking:!1,soundsharing:!1,ringing:!1,muted:!1,deafen:!1,hasVideo:!1,mirror:!1,disabled:!1,paused:!1};E.RingingType=m;const j=E},752177:(e,t,n)=>{"use strict";n.d(t,{Z:()=>k});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),l=n(191940),u=n(629590),c=n(48843),s=n(213192),f=n.n(s),d=n(496486),p=n.n(d);function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e){b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return b(e)}function v(e,t){return!t||"object"!==E(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e,t){
m=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return m(e,t)}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||j(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e){return function(e){if(Array.isArray(e))return h(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||j(e)||function(){
throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var E=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function j(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=b(e);if(t){var o=b(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v(this,n)}}var C=f()({PAGE:null,GAP:null,
BACK:null,NEXT:null}),P=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&m(e,t)}(n,e);var t=S(n);function n(){y(this,n);var e;(e=t.apply(this,arguments)).changePageTo=function(t){var n=e.props,r=n.selectedPage,o=n.onPageChange;r!==t&&null!=o&&o(t)};e.handleForward=function(){e.changePageTo(Math.min(e.props.selectedPage+1,e.props.totalPageCount))};e.handleBackward=function(){e.changePageTo(Math.max(e.props.selectedPage-1,1))};e.handleJump=function(t){e.changePageTo(t)};return e}var r=n.prototype;r.getNeighborBounds=function(){var e=this.props,t=e.totalPageCount,n=e.maxVisiblePages,r=e.selectedPage,o=Math.ceil(n/2),i=Math.floor(n/2),a=g(r<=o?[1,n]:r>t-i?[t-n+1,t]:[r-o+1,r+i],2),l=a[0],u=a[1];return[Math.max(l,1),Math.min(u,t)]};r.getPageList=function(){
var e=this,t=this.props,n=t.totalPageCount,r=t.selectedPage,o=t.hideMaxPage,i=g(this.getNeighborBounds(),2),a=i[0],l=i[1],u={type:C.BACK,key:"back",disabled:1===r,selected:!1,navigateToPage:this.handleBackward},c={type:C.NEXT,key:"next",disabled:r===n,selected:!1,navigateToPage:this.handleForward},s=[],f=[];if(a>1){s=[{type:C.PAGE,key:"page-1",targetPage:1,navigateToPage:function(){return e.handleJump(1)}},{type:C.GAP,key:"left-gap"}];a+=2}if(l<n){f=[{type:C.GAP,key:"right-gap"}];o||f.push({type:C.PAGE,key:"page-".concat(n),targetPage:n,navigateToPage:function(){return e.handleJump(n)}});l-=2}var d=p().range(a,l+1).map((function(t){return{type:C.PAGE,key:"page-".concat(t),targetPage:t,selected:t===r,disabled:!1,navigateToPage:function(){return e.handleJump(t)}}}));return[u].concat(O(s),O(d),O(f),[c])};r.render=function(){var e=this.props,t=e.totalPageCount;return(0,e.children)({pages:this.getPageList(),hasMultiplePages:t>1})};return n}(o.PureComponent);P.defaultProps={
maxVisiblePages:9,hideMaxPage:!1};const I=P;var _=n(801593),w=n(360240),x=n(169364),N=n(461061),T=n(959797),A=n(175151),Z=n.n(A);function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function M(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function D(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return R(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var L=function(e){var t=e.page,n=e.totalPageCount,i=e.disabled,l=e.onPageChange,s=D(o.useState(!1),2),f=s[0],d=s[1],p=D(o.useState(null),2),h=p[0],y=p[1],b=null!=h&&h>=1&&h<=n;return i?(0,r.jsx)(c.X,{className:Z().gap,"aria-hidden":!0,variant:"heading-sm/medium",children:""},t.key):f?(0,r.jsx)(_.ZP,{autoFocus:!0,className:Z().jumpToPageInlineInput,size:_.ZP.Sizes.MINI,value:null==h?"":"".concat(h),onChange:function(e){var t=parseInt(e);""===e||isNaN(t)?y(null):y(t)},onBlur:function(){d(!1);y(null)},onKeyPress:function(e){if(e.which===N.yXg.ENTER&&null!=h&&b){l(h);d(!1);y(null)}},disabled:i},t.key):(0,r.jsx)(u.Z,{onClick:function(){return d(!0)},children:(0,r.jsx)(c.X,{className:a()(Z().roundButton,Z().gap),
"aria-hidden":!0,variant:"heading-sm/medium",children:""})},t.key)};const k=function(e){var t=e.currentPage,n=e.totalCount,o=e.pageSize,i=e.maxVisiblePages,c=e.disablePaginationGap,s=e.onPageChange,f=e.hideMaxPage,d=void 0!==f&&f,p=Math.ceil(n/o);return(0,r.jsx)(I,{totalPageCount:p,selectedPage:t,maxVisiblePages:i,hideMaxPage:d,onPageChange:function(e){null!=s&&s(e)},children:function(e){var t=e.pages;return e.hasMultiplePages?(0,r.jsx)("div",{className:a()(Z().pageControlContainer),children:(0,r.jsx)("nav",{className:Z().pageControl,children:t.map((function(e){switch(e.type){case C.BACK:return function(e){var t=e.key,n=e.disabled,o=e.navigateToPage;return(0,r.jsxs)(l.Co,{className:Z().endButton,innerClassName:Z().endButtonInner,look:l.Co.Looks.BLANK,color:l.Co.Colors.TRANSPARENT,onClick:o,disabled:n,rel:"prev",children:[(0,r.jsx)(w.Z,{className:Z().iconCaret,"aria-hidden":!0}),(0,r.jsx)("span",{children:T.Z.Messages.BACK})]},t)}(e);case C.PAGE:return function(e){return(0,r.jsx)(u.Z,{
className:a()(Z().roundButton,M({},Z().activeButton,e.selected)),onClick:e.selected?void 0:e.navigateToPage,"aria-label":T.Z.Messages.PAGINATION_PAGE_LABEL.format({pageNumber:e.targetPage}),"aria-current":e.selected?"page":void 0,children:(0,r.jsx)("span",{children:e.targetPage})},e.key)}(e);case C.GAP:return function(e){return(0,r.jsx)(L,{page:e,totalPageCount:p,disabled:!!c,onPageChange:s},e.key)}(e);case C.NEXT:return function(e){var t=e.key,n=e.disabled,o=e.navigateToPage;return(0,r.jsxs)(l.Co,{className:Z().endButton,innerClassName:Z().endButtonInner,look:l.Co.Looks.BLANK,color:l.Co.Colors.TRANSPARENT,onClick:o,disabled:n,rel:"next",children:[(0,r.jsx)("span",{children:T.Z.Messages.NEXT}),(0,r.jsx)(x.Z,{className:Z().iconCaret,"aria-hidden":!0})]},t)}(e);default:return null}}))})}):null}})}},109707:(e,t,n)=>{"use strict";n.d(t,{e:()=>x,Z:()=>T})
;var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),l=n(450754),u=n(629590),c=n(757987),s=n(701197),f=n(332761),d=n(679755),p=n(353967),h=n(433415),y=n(936584),b=n(4258),v=n(225464),m=n(461061),g=n(959797),O=n(954466),E=n.n(O);function j(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function C(e){C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return C(e)}function P(e,t){return!t||"object"!==_(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function I(e,t){I=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return I(e,t)}var _=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function w(e){var t=function(){
if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=C(e);if(t){var o=C(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return P(this,n)}}var x=function(e){var t=e.children,n=e.collapsed,o=void 0!==n&&n,i=e.className;return(0,r.jsx)("div",{className:a()(i,E().list,o?E().listCollapse:E().listDefault),role:"group",children:t})},N=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&I(e,t)}(n,e);var t=w(n);function n(){j(this,n);var e;(e=t.apply(this,arguments)).handleClick=function(t){var n=e.props,r=n.onClick,o=n.user;null==r||r(t,o)}
;e.handleDoubleClick=function(t){var n=e.props,r=n.onDoubleClick,o=n.user;null==r||r(t,o)};e.handleContextMenu=function(t){var n=e.props,r=n.onContextMenu,o=n.user;null==r||r(t,o)};e.handleMouseLeave=function(t){var n=e.props,r=n.onMouseLeave,o=n.user;null==r||r(t,o)};e.handleMouseEnter=function(t){var n=e.props,r=n.onMouseEnter,o=n.user;null==r||r(t,o)};e.handleMouseDown=function(t){var n=e.props,r=n.onMouseDown,o=n.user;null==r||r(t,o)};return e}var o=n.prototype;o.renderPrioritySpeaker=function(){var e=this.props,t=e.speaking,n=e.priority,o=e.collapsed,i=e.mute,l=e.serverMute;return n&&!o?(0,r.jsx)(c.ZP,{text:g.Z.Messages.PRIORITY_SPEAKER,children:function(e){return(0,r.jsx)("div",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){
S(e,t,n[t])}))}return e}({className:a()(E().iconPriortySpeaker,S({},E().iconPriortySpeakerSpeaking,!i&&!l&&t))},e))}}):null};o.renderAvatar=function(){var e,t=this.props,n=t.speaking,o=t.user,i=t.size,l=t.avatarContainerClass,u=t.guildId;return(0,r.jsx)("div",{className:a()(l,E().avatar,(e={},S(e,E().avatarLarge,i===m.ipw.LARGE),S(e,E().avatarSmall,i===m.ipw.SMALL),S(e,E().avatarSpeaking,n),e)),style:{backgroundImage:"url(".concat(o.getAvatarURL(u,i===m.ipw.LARGE?38:24),")")}})};o.renderName=function(){var e,t=this.props,n=t.nick,o=t.user,i=t.collapsed,l=t.speaking,u=t.userNameClassName,c=t.mute,s=t.serverMute;return i?null:(0,r.jsx)("div",{className:a()(u,(e={},S(e,E().username,!0),S(e,E().usernameSpeaking,!c&&!s&&l),e)),children:null!=n?n:o.username})};o.renderIcons=function(){
var e=this.props,t=e.mute,n=e.localMute,o=e.localVideoDisabled,i=e.serverMute,u=e.deaf,O=e.serverDeaf,j=e.collapsed,C=e.video,P=e.isStreaming,I=e.disabled,_=e.isWatching,w=e.iconClassName,x=e.embeddedApplication,N=e.otherClientSessionType;if(j||I)return null;var T=[];if(t){T.push((0,r.jsx)(c.DY,{text:n?g.Z.Messages.LOCAL_MUTED:i?g.Z.Messages.SERVER_MUTED:g.Z.Messages.VOICE_CHANNEL_MUTED,className:E().iconSpacing,children:(0,r.jsx)(h.Z,{className:a()(E().icon,w,S({},E().iconServer,i)),foreground:n?E().strikethrough:void 0})},"mute"))}(O||u)&&T.push((0,r.jsx)(c.DY,{className:E().iconSpacing,text:O?g.Z.Messages.SERVER_DEAFENED:g.Z.Messages.VOICE_CHANNEL_DEAFENED,children:(0,r.jsx)(p.Z,{className:a()(E().icon,w,S({},E().iconServer,O))})},"deaf"));C&&(o?T.push((0,r.jsx)(c.DY,{className:E().iconSpacing,text:g.Z.Messages.LOCAL_VIDEO_DISABLED,children:(0,r.jsx)(f.Z,{className:a()(E().icon,w),foreground:E().strikethrough})},"video")):T.push((0,r.jsx)(c.DY,{className:E().iconSpacing,
text:g.Z.Messages.VIDEO,children:(0,r.jsx)(s.Z,{className:a()(E().icon,w)})},"video")));null!=x&&T.push((0,r.jsx)(c.DY,{text:(0,l.Z)(x.name),className:E().iconSpacing,children:(0,r.jsx)(b.Z,{className:a()(E().icon,w)})},"activity"));P?T.push((0,r.jsx)("div",{className:a()(E().iconSpacing,E().liveIconSpacing),children:(0,r.jsx)(v.ZP,{size:v.ZP.Sizes.SMALL})},"stream")):_&&T.push((0,r.jsx)(c.DY,{className:E().iconSpacing,text:g.Z.Messages.WATCH_STREAM_WATCHING,children:(0,r.jsx)(d.Z,{className:a()(E().icon,w)})},"watch"));if(N===m.ABu.XBOX)T.push((0,r.jsx)("div",{className:a()(E().iconSpacing),children:(0,r.jsx)(y.Z,{className:a()(E().icon,w)})},"xbox"));return 0===T.length?null:(0,r.jsx)("div",{className:E().icons,children:T})};o.render=function(){var e,t=this.props,n=t.onClick,o=t.onKeyDown,i=t.flipped,l=t.size,c=t.className,s=t.selected,f=t.disabled,d=t.overlap,p=t["aria-label"],h=t.tabIndex;return(0,r.jsx)(u.Z,{className:a()(c,(e={},S(e,E().voiceUser,!0),S(e,E().overlap,d),
S(e,E().selected,s),S(e,E().clickable,null!=n),S(e,E().userSmall,l===m.ipw.SMALL),S(e,E().userLarge,l===m.ipw.LARGE),S(e,E().disabled,!s&&f),e)),onClick:this.handleClick,onDoubleClick:this.handleDoubleClick,onContextMenu:this.handleContextMenu,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onMouseDown:this.handleMouseDown,onKeyDown:o,"aria-label":p,tabIndex:h,children:(0,r.jsxs)("div",{className:a()(E().content,S({},E().flipped,i)),children:[this.renderPrioritySpeaker(),this.renderAvatar(),this.renderName(),this.renderIcons()]})})};return n}(o.Component);N.defaultProps={avatarContainerClass:E().avatarContainer,userNameClassName:E().usernameFont,size:m.ipw.SMALL,selected:!1,disabled:!1};const T=N},238585:(e,t,n)=>{"use strict";n.d(t,{oo:()=>p,I3:()=>h,yp:()=>y,d9:()=>b});var r=n(785893),o=n(667294),i=n(717187),a=n.n(i),l=n(882699);function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){
if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var f=function(){function e(){c(this,e);this.emitter=new(a())}var t=e.prototype;t.subscribe=function(e,t){l.S.subscribe(e,t);this.emitter.on(e,t)};t.unsubscribe=function(e,t){l.S.unsubscribe(e,t);this.emitter.off(e,t)};t.bumpDispatchPriority=function(){
var e=!0,t=!1,n=void 0;try{for(var r,o=this.emitter.eventNames()[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var i=r.value,a=!0,u=!1,c=void 0;try{for(var s,f=this.emitter.listeners(i)[Symbol.iterator]();!(a=(s=f.next()).done);a=!0){var d=s.value;l.S.resubscribe(i,d)}}catch(e){u=!0;c=e}finally{try{a||null==f.return||f.return()}finally{if(u)throw c}}}}catch(e){t=!0;n=e}finally{try{e||null==o.return||o.return()}finally{if(t)throw n}}};return e}(),d=function(){function e(){c(this,e)}var t=e.prototype;t.subscribe=function(e,t){l.S.subscribe(e,t)};t.unsubscribe=function(e,t){l.S.unsubscribe(e,t)};t.bumpDispatchPriority=function(){0};return e}(),p=o.createContext(new d),h=o.forwardRef((function(e,t){var n=e.children,i=function(){null===a.current&&(a.current=new f);return a.current},a=o.useRef(null);o.useImperativeHandle(t,i);return(0,r.jsx)(p.Provider,{value:i(),children:n})}));function y(e){var t=e.event,n=e.handler,r=o.useContext(p),i=o.useRef(n);o.useEffect((function(){i.current=n
}),[n]);var a=null==n;o.useEffect((function(){if(!a){var e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,o;null===(o=i.current)||void 0===o||(r=o).call.apply(r,[i].concat(s(t)))};r.subscribe(t,e);return function(){r.unsubscribe(t,e)}}}),[r,t,a]);return null}function b(e){y(e);return null}},873463:(e,t,n)=>{"use strict";n.d(t,{LL:()=>N,eF:()=>T,N_:()=>A,FI:()=>Z,Xi:()=>D});var r=n(136770),o=n(53211),i=n(832691),a=n(630695),l=n(35197),u=n(640753),c=n(112371),s=n(719911),f=n(668479),d=n(527815),p=n(53551),h=n(915354),y=n(356004),b=n(653772),v=n(733285),m=n(105405),g=n(379822),O=n(971738),E=n(979662),j=n(893321),S=n(390504),C=n(859023),P=n(570992),I=n(388968),_=n(461061),w=n(504003),x=n(959797);function N(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(t.hasFlag(_.xW$.SPAMMER))return!1;if(n.isManaged())return!1;var i=n.getGuildId()
;return(null==i||!a.Z.isLurking(i))&&(t.id!==e.id&&(!m.Z.isBlocked(t.id)&&(!(!r&&E.Z.getStatus()===_.Skl.DND)&&!(!o&&S.Z.allowNoMessages(n)))))}function T(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=y.Z.getChannel(t);e.type===_.uaV.THREAD_STARTER_MESSAGE&&(i=y.Z.getChannel(null==i?void 0:i.parent_id));var a=C.default.getCurrentUser(),u=C.default.getUser(e.author.id);if(null==i||null==a||null==u)return!1;if(i.type===_.d4z.GROUP_DM&&e.type===_.uaV.RECIPIENT_REMOVE)return!1;if(!N(a,u,i,o))return!1;if((0,r.LD)()&&l.Z.isMessageRequest(t))return!1;if(!n){var s=g.Z.getChannelId(O.Z.getGuildId());if(s===i.id)return!1;if(h.ZP.getCurrentSidebarChannelId(s)===i.id)return!1}if(j.Z.disableNotifications)return!1;if(p.Ec.has(i.type)){if(f.Z.isMuted(i.id))return!1;var b=(0,d.J)(i);return b!==w.iN.NO_MESSAGES&&(b===w.iN.ALL_MESSAGES||(0,c.Hl)({rawMessage:e,userId:a.id,suppressEveryone:!1,suppressRoles:!1}))}
var m=!p.tx.has(i.type)||v.Z.getChannelId()===i.id;if(S.Z.allowAllMessages(i)&&m)return!0;var E=S.Z.isSuppressEveryoneEnabled(i.getGuildId()),P=S.Z.isSuppressRolesEnabled(i.getGuildId());return(0,c.Hl)({rawMessage:e,userId:a.id,suppressEveryone:E,suppressRoles:P})}function A(e,t){if(g.Z.getChannelId(O.Z.getGuildId())!==t)return!1;var n=y.Z.getChannel(t);e.type===_.uaV.THREAD_STARTER_MESSAGE&&(n=y.Z.getChannel(null==n?void 0:n.parent_id));var r=C.default.getCurrentUser(),o=C.default.getUser(e.author.id);return null!=n&&null!=r&&null!=o&&(!n.isManaged()&&(!o.hasFlag(_.xW$.SPAMMER)&&(!m.Z.isBlocked(o.id)&&(o.id!==r.id&&(E.Z.getStatus()!==_.Skl.DND&&!S.Z.allowNoMessages(n))))))}function Z(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=C.default.getCurrentUser(),i=C.default.getUser(e.ownerId);if(null==t||null==o||null==i)return!1;if(!N(o,i,t,r,!0))return!1
;if(S.Z.isGuildOrCategoryOrChannelMuted(t.guild_id,t.id))return!1;if(!n){var a=g.Z.getChannelId(O.Z.getGuildId());if(a===t.id)return!1}return S.Z.getNewForumThreadsCreated(t)}var R=function(e,t,n){return"".concat(e," (").concat((0,o.F)(t,C.default,m.Z,!0)).concat(null!=n?", ".concat((0,o.F)(n,C.default,m.Z)):"",")")};function M(e,t,n,r){switch(e.type){case _.d4z.GUILD_ANNOUNCEMENT:case _.d4z.GUILD_TEXT:return t;case _.d4z.GROUP_DM:return n;case _.d4z.DM:default:return r}}function D(e,t,n){var r=P.Z.getName(e.getGuildId(),e.id,n),a=r;switch(e.type){case _.d4z.GUILD_ANNOUNCEMENT:case _.d4z.GUILD_TEXT:case _.d4z.GUILD_VOICE:case _.d4z.ANNOUNCEMENT_THREAD:case _.d4z.PUBLIC_THREAD:case _.d4z.PRIVATE_THREAD:var l=y.Z.getChannel(e.parent_id);if(t.type===_.uaV.THREAD_STARTER_MESSAGE&&null!=l)a=R(a,l,y.Z.getChannel(l.parent_id));else if((0,s.Z)(t)){null!=b.Z.getGuild(e.getGuildId())&&(a=R(a,e,l))}else a=R(a,e,l);break;case _.d4z.GROUP_DM:e.isManaged()&&n.bot&&a===(0,
o.F)(e,C.default,m.Z)||(a="".concat(a," (").concat((0,o.F)(e,C.default,m.Z,!0),")"))}var c,f=t.content;if((0,s.Z)(t)&&null==(f=I.Z.stringify(t,e))){new i.Z("NotificationTextUtils").warn("SystemMessageUtils.stringify(...) could not convert",t);throw new Error("failed to stringify system message")}var d,p=null!==(c=t.sticker_items)&&void 0!==c?c:t.stickers;if(null!=t.activity&&null!=t.application)d=t.activity.type===_.mFx.JOIN?M(e,x.Z.Messages.NOTIFICATION_MESSAGE_CREATE_GUILD_ACTIVITY_JOIN,x.Z.Messages.NOTIFICATION_MESSAGE_CREATE_GROUP_DM_ACTIVITY_JOIN,x.Z.Messages.NOTIFICATION_MESSAGE_CREATE_DM_ACTIVITY_JOIN).format({user:r,game:t.application.name}):t.activity.type===_.mFx.JOIN_REQUEST?M(e,x.Z.Messages.NOTIFICATION_MESSAGE_CREATE_DM_ACTIVITY_JOIN_REQUEST,x.Z.Messages.NOTIFICATION_MESSAGE_CREATE_DM_ACTIVITY_JOIN_REQUEST,x.Z.Messages.NOTIFICATION_MESSAGE_CREATE_DM_ACTIVITY_JOIN_REQUEST).format({user:r,game:t.application.name}):"";else if(null!=t.activity&&t.activity.type===_.mFx.LISTEN){
d=M(e,x.Z.Messages.NOTIFICATION_MESSAGE_CREATE_GUILD_ACTIVITY_LISTEN,x.Z.Messages.NOTIFICATION_MESSAGE_CREATE_GROUP_DM_ACTIVITY_LISTEN,x.Z.Messages.NOTIFICATION_MESSAGE_CREATE_DM_ACTIVITY_LISTEN).format({user:r})}else d=null!=p&&p.length>0?x.Z.Messages.STICKER_NOTIFICATION_BODY.format({stickerName:p[0].name}):u.ZP.unparse(f,e.id,!0);if(0===d.length&&t.attachments.length>0){var h=t.attachments[0].filename;d=x.Z.Messages.NOTIFICATION_BODY_ATTACHMENT.format({filename:h})}if(0===d.length&&t.embeds.length>0){var v=t.embeds[0];if(null!=v.description)d=null!=v.title?"".concat(v.title,": ").concat(v.description):v.description;else if(null!=v.title)d=v.title;else if(null!=v.fields){var g=v.fields[0];d="".concat(g.name,": ").concat(g.value)}}return{icon:n.getAvatarURL(e.guild_id,128),title:a,body:d}}},339511:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});n(82296);const r=n(82296).Z},680892:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(461061),o=n(959797);const i={getStatus:function(e){
var t,n,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];switch(e){case r.hes.CONNECTING:t=r.QKv.CONNECTING;n=o.Z.Messages.CONNECTION_STATUS_CONNECTING;break;case r.hes.AUTHENTICATING:t=r.QKv.CONNECTING;n=o.Z.Messages.CONNECTION_STATUS_AUTHENTICATING;break;case r.hes.AWAITING_ENDPOINT:t=r.QKv.CONNECTING;n=o.Z.Messages.CONNECTION_STATUS_AWAITING_ENDPOINT;break;case r.hes.RTC_CONNECTED:t=r.QKv.CONNECTED;n=i?o.Z.Messages.CONNECTION_STATUS_VIDEO_CONNECTED:o.Z.Messages.CONNECTION_STATUS_VOICE_CONNECTED;break;case r.hes.RTC_CONNECTING:t=r.QKv.CONNECTING;n=o.Z.Messages.CONNECTION_STATUS_RTC_CONNECTING;break;case r.hes.ICE_CHECKING:t=r.QKv.CONNECTING;n=o.Z.Messages.CONNECTION_STATUS_ICE_CHECKING;break;case r.hes.DTLS_CONNECTING:t=r.QKv.CONNECTING;n=o.Z.Messages.CONNECTION_STATUS_DTLS_CONNECTING;break;case r.hes.NO_ROUTE:t=r.QKv.ERROR;n=o.Z.Messages.CONNECTION_STATUS_NO_ROUTE;break;case r.hes.RTC_DISCONNECTED:t=r.QKv.ERROR;n=o.Z.Messages.CONNECTION_STATUS_RTC_DISCONNECTED;break
;case r.hes.DISCONNECTED:default:t=r.QKv.ERROR;n=o.Z.Messages.CONNECTION_STATUS_DISCONNECTED}return{connectionStatus:t,connectionStatusText:n}},getShortHostname:function(e){return null==e?"":e.split(".")[0]}}},909844:(e,t,n)=>{"use strict";n.r(t);n.d(t,{default:()=>v});var r=n(577869),o=n.n(r),i=n(496486),a=n.n(i);function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||s(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}
function c(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}var f={1:"bold",4:"underline"},d={30:"black",31:"red",32:"green",33:"yellow",34:"blue",35:"magenta",36:"cyan",37:"white"},p={40:"black",41:"red",42:"green",43:"yellow",44:"blue",45:"magenta",46:"cyan",47:"white"},h=/\x1B\[(\d+(?:[:;]\d+)*)m/,y=new RegExp("(?=".concat(h.source,")"));function b(e,t,n,r){var o=["0"].concat(c(n));if(r){var i
;(i=o).push.apply(i,c(Object.keys(t)))}return Object.entries(t).map((function(t){var n=u(t,2),r=n[0],i=n[1];return function(e,t,n,r){return{className:"ansi-".concat(e,"-").concat(t),endsParent:!0,begin:y,"on:begin":function(e,t){var o=e[1].split(";");void 0===t.data.isOn&&(t.data.isOn=!1);var i=!0,a=!1,l=void 0;try{for(var u,c=o[Symbol.iterator]();!(i=(u=c.next()).done);i=!0){var s=u.value;s===n?t.data.isOn=!0:r.includes(s)&&(t.data.isOn=!1)}}catch(e){a=!0;l=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw l}}t.data.isOn||t.ignoreMatch()}}}(e,i,r,o)}))}o().registerLanguage("ansi",(function(){var e={className:"ansi-control-sequence",begin:h,starts:{end:y,endsParent:!0}},t=c(b("foreground",d,["38","39"],!0)).concat(c(b("background",p,["48","49"],!0)),c(b("style",f,[],!1)),[e]);!function(e){for(var t=0;t<e.length;t++)e[t].contains=e.slice(t+1)}(t);return{contains:[{begin:y,contains:t}]}}));const v={highlight:function(e,t,n){if(!function(e){if(e.indexOf(m)>=0)return!1
;var t=0,n=e.split("\n"),r=!0,o=!1,i=void 0;try{for(var a,l=n[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){var u=a.value;if(u.length>1e3)return!1;null==u.match(/^\s*[/][/]/)&&null!=u.match(/[^/]/)&&(t=0);var c=u.match(/[/]/g);if(null!=c&&(t+=c.length)>30)return!1}}catch(e){o=!0;i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return!0}(t))return null;var r=Date.now(),i=o().highlight(e,t,n);Date.now();0;return i},hasLanguage:function(e){return null!=o().getLanguage(e)}};var m=a().repeat("/",15)},877389:(e,t,n)=>{"use strict";n.r(t);n.d(t,{getSelectionText:()=>f,contextMenuCallbackNative:()=>d,contextMenuCallbackWeb:()=>p});var r=n(785893),o=(n(667294),n(281081));function i(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function l(e){i(a,r,o,l,u,"next",e)}function u(e){i(a,r,o,l,u,"throw",e)}l(void 0)
}))}}function l(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){l(e,t,n[t])}))}return e}function c(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var s=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]
},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function f(){var e
;if(null!=window.getSelection){var t;e=null===(t=window.getSelection())||void 0===t?void 0:t.toString()}else null!=document.selection&&"Control"!==document.selection.type&&(e=document.selection.createRange().text);return null!=e?e:""}function d(e){var t=f(),i=e.target;if("TEXTAREA"===(null==i?void 0:i.tagName)||"INPUT"===(null==i?void 0:i.tagName)){if("checkbox"!==(null==i?void 0:i.type))return(0,o.jW)(e,a((function(){var e,o;return s(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(35666),n.e(35560),n.e(65296),n.e(40721),n.e(90066),n.e(76748),n.e(42311),n.e(86121),n.e(80911),n.e(39052),n.e(31813)]).then(n.bind(n,430822))];case 1:e=i.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,c(u({},e),{text:t}))}]}}))})),{enableSpellCheck:!0})}else{if("none"===window.getComputedStyle(i).getPropertyValue("-webkit-user-select")){e.preventDefault();return}for(var l,d,p,h=e.target;null!=h;){"src"in h&&null!=h.src&&(d=h.src);if("href"in h&&null!=h.href){l=h.href
;p=h.textContent}h=null==h?void 0:h.parentNode}if(null!=d)return(0,o.jW)(e,a((function(){var e,t;return s(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(35666),n.e(35560),n.e(65296),n.e(40721),n.e(90066),n.e(76748),n.e(73613),n.e(38946),n.e(97967),n.e(42311),n.e(86121),n.e(80911),n.e(39052),n.e(76948),n.e(21021),n.e(67895),n.e(51796),n.e(26492),n.e(62871)]).then(n.bind(n,262871))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,c(u({},e),{src:null!=d?d:""}))}]}}))})));if(null!=l)return(0,o.jW)(e,a((function(){var e,t;return s(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(35666),n.e(35560),n.e(65296),n.e(40721),n.e(90066),n.e(76748),n.e(73613),n.e(38946),n.e(97967),n.e(42311),n.e(86121),n.e(80911),n.e(39052),n.e(76948),n.e(21021),n.e(67895),n.e(51796),n.e(26492),n.e(45410)]).then(n.bind(n,145410))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,c(u({},e),{href:l,textContent:p}))}]}
}))})));if(null!=t&&""!==t)return(0,o.jW)(e,a((function(){var e,o;return s(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(35666),n.e(35560),n.e(40721),n.e(90066),n.e(76748),n.e(42311),n.e(86121),n.e(14013)]).then(n.bind(n,234870))];case 1:e=i.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,c(u({},e),{text:t}))}]}}))})))}e.preventDefault();return null}function p(e){var t=!1,n=e.target;if("INPUT"===(null==n?void 0:n.tagName)||"TEXTAREA"===(null==n?void 0:n.tagName))t=!0;else if(null!=(null==n?void 0:n.closest)&&null!=(null==n?void 0:n.closest("[contenteditable=true]")))t=!0;else if(null!=f()&&""!==f())t=!0;else{for(var r,o,i=e.target;null!=i;){"src"in i&&null!=i.src&&(o=i.src);"href"in i&&null!=i.href&&(r=i.href);i=null==i?void 0:i.parentNode}null==r&&null==o||(t=!0)}t||e.preventDefault()}},82296:(e,t,n)=>{"use strict";n.d(t,{Z:()=>Z})
;var r=n(496486),o=n.n(r),i=n(131795),a=n.n(i),l=n(891153),u=n(765515),c=n(893321),s=n(932847),f=n(742269),d=n(402801),p=n(588641),h=n(461061);function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var b,v,m=f.FB&&(0,f.ED)(),g=m&&parseFloat(l.Z.os.release)<10,O=!0;if(m&&!g){var E=(b=l.Z.os.release.split("."),v=3,function(e){if(Array.isArray(e))return e}(b)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(b,v)||function(e,t){if(e){if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;return"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,t):void 0}}(b,v)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),j=E[0],S=E[2];O=parseInt(j)>10||parseInt(S)>=15063}var C=m&&O||"Chrome"===a().name&&parseFloat(a().version)<47||"Firefox"===a().name&&parseFloat(a().version)<52,P=o().throttle(d.GN,1e3,{leading:!0});function I(){p.default.flashFrame(!1)}if(m){window.addEventListener("focus",I);p.default.on("MAIN_WINDOW_FOCUS",I)}var _=window.Notification;if(g){var w,x={};p.default.on("NOTIFICATION_CLICK",(function(e,t){var n=x[t];if(null!=n){n.onclick();n.close()}}));p.default.send("NOTIFICATIONS_CLEAR");_=((w=function(){function e(t,n){var r=n.body,o=n.icon,i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);this.id=_._id++
;this.onshow=function(){};this.onclick=function(){};this.onclose=function(){};this.title=t;this.body=r;this.icon=o;setImmediate((function(){return i.onshow()}));x[this.id]=this;p.default.send("NOTIFICATION_SHOW",{id:this.id,title:this.title,body:this.body,icon:this.icon})}e.prototype.close=function(){if(null!=x[this.id]){delete x[this.id];p.default.send("NOTIFICATION_CLOSE",this.id);this.onclose()}};e.requestPermission=function(e){e()};return e}()).permission="granted",w._id=0,w)}function N(){return null!=_&&"granted"===_.permission}function T(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;e.includes("message")?P(e,t):(0,d.GN)(e,t)}function A(e){return c.Z.disableNotifications&&null==e.overrideStreamerMode||!N()||f.FB&&!p.default.shouldDisplayNotifications()}const Z={hasPermission:N,requestPermission:function(e){null!=_&&_.requestPermission((function(){null!=e&&e(N())}))},showNotification:function(e,t,n,r,i){var a;if(!A(i)){if(null!=i.sound){var l
;T(i.sound,null!==(l=i.volume)&&void 0!==l?l:1)}var c,d=null!==(c=null==i?void 0:i.tag)&&void 0!==c?c:null;(0,f.IJ)()&&(n=o().escape(n));var y,b={icon:e,body:n,tag:d,silent:!0};m&&u.Z.taskbarFlash&&p.default.flashFrame(!0);try{y=new _(t,b)}catch(e){return null}null===(a=i.onShown)||void 0===a||a.call(i);i.omitViewTracking||s.default.track(h.rMx.NOTIFICATION_VIEWED,r);y.onclick=function(){var e;if(f.FB)p.default.focus();else{window.focus();y.close()}i.omitClickTracking||s.default.track(h.rMx.NOTIFICATION_CLICKED,r);null===(e=i.onClick)||void 0===e||e.call(i)};C&&setTimeout((function(){return y.close()}),5e3);return O?y:{close:function(){var e;null==y||null===(e=y.onclose)||void 0===e||e.call(y)}}}if(null!=i.sound&&!1!==i.playSoundIfDisabled){var v;T(i.sound,null!==(v=i.volume)&&void 0!==v?v:1)}},disabled:A}},652703:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(870);function o(){var e=r.Z.getFocusedPID();return null==e||!r.Z.isReady(e)&&!r.Z.isCrashed(e)?null:e}}}]);
//# sourceMappingURL=b2a269bd46a50c36db83.js.map