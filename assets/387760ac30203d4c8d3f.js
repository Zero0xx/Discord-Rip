"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[27565],{390001:(e,t,n)=>{n.d(t,{qR:()=>a,X_:()=>i,dA:()=>o,U5:()=>l});var r=n(276489);function u(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function a(e){var t=l();return Array.from(e.defaultActionTypes).map((function(e){return t[e]}))}function i(e){return e.type===r.jj.FLAG_TO_CHANNEL}function o(e){return e.type===r.jj.USER_COMMUNICATION_DISABLED}function l(){var e;return u(e={},r.jj.UNKNOWN,{type:r.jj.UNKNOWN}),u(e,r.jj.BLOCK_MESSAGE,{type:r.jj.BLOCK_MESSAGE}),u(e,r.jj.FLAG_TO_CHANNEL,{type:r.jj.FLAG_TO_CHANNEL,metadata:{channelId:void 0}}),u(e,r.jj.USER_COMMUNICATION_DISABLED,{type:r.jj.USER_COMMUNICATION_DISABLED,metadata:{durationSeconds:60}}),e}},209518:(e,t,n)=>{n.d(t,{DO:()=>d,vo:()=>_,Fn:()=>O,nC:()=>p,ep:()=>E,km:()=>y,QO:()=>g,_E:()=>A,YN:()=>v,ZF:()=>M,Ar:()=>b})
;var r=n(99298),u=n(631134),a=n(390001),i=n(617509),o=n(117412),l=n(975483),c=n(276489),s=n(959797),f=function(e,t){return"".concat(e,"-").concat(t,"-new-rule")},d=function(e){return(null==e?void 0:e.triggerType)===c.fX.KEYWORD},_=function(e){return(null==e?void 0:e.triggerType)===c.fX.ML_SPAM},O=function(e){return(null==e?void 0:e.triggerType)===c.fX.DEFAULT_KEYWORD_LIST},p=function(e){return(null==e?void 0:e.triggerType)===c.fX.MENTION_SPAM};function E(e,t){var n=l.I6[t],r=(0,l.jp)(t),i={id:f(e,t),name:n.getDefaultRuleName(),guildId:e,eventType:n.eventType,triggerType:t,triggerMetadata:r,enabled:!0,creatorId:u.default.getId(),actions:(0,a.qR)(n),position:0,exemptChannels:new Set,exemptRoles:new Set};if(A(i))throw new Error(s.Z.Messages.GUILD_AUTOMOD_NEW_RULE_ERROR);var c=(0,o.mY)(e,t);c>0&&(i.name+=" ".concat(c+1));return i}function y(e,t){if(e.length>t)throw new Error(s.Z.Messages.GUILD_AUTOMOD_KEYWORD_ERROR_TOO_MANY_KEYWORDS.format({limit:t}));e.forEach((function(e){
if(e.length>c.hu||e.length<c.Vk)throw new i.V6(s.Z.Messages.GUILD_AUTOMOD_KEYWORD_ERROR_INVALID_KEYWORD_LENGTH.format({keyword:e,max:c.hu,min:c.Vk}))}))}function g(e){if(d(e)){var t,n,r=null!==(t=e.triggerMetadata.keywordFilter)&&void 0!==t?t:[],u=null!==(n=e.triggerMetadata.regexPatterns)&&void 0!==n?n:[];if(0===r.length&&0===u.length)throw new Error(s.Z.Messages.GUILD_AUTOMOD_KEYWORD_ERROR_NO_KEYWORDS_OR_REGEX);y(r,c.RH);!function(e){if(e.length>c.VW)throw new Error(s.Z.Messages.GUILD_AUTOMOD_KEYWORD_ERROR_TOO_MANY_REGEX.format({limit:c.VW}));e.forEach((function(e){if(e.length>c.aj||e.length<c.uE)throw new i.uS(s.Z.Messages.GUILD_AUTOMOD_REGEX_ERROR_INVALID_REGEX_LENGTH.format({regex:e,max:c.aj,min:c.uE}))}))}(u)}if(0===e.actions.length)throw new Error(s.Z.Messages.GUILD_AUTOMOD_ERROR_NO_ACTIONS)}function A(e){var t;return(0,r.BH)(null!==(t=null==e?void 0:e.id)&&void 0!==t?t:"INVALID_SNOWFLAKE")}function v(e){
return e===c.q4.MESSAGE_SEND?s.Z.Messages.GUILD_AUTOMOD_EVENT_TYPE_MESSAGE_SEND:s.Z.Messages.GUILD_AUTOMOD_UNKNOWN}function M(e){switch(e){case c.jj.BLOCK_MESSAGE:return s.Z.Messages.GUILD_AUTOMOD_ACTIONS_BLOCK_MESSAGE_NAME;case c.jj.FLAG_TO_CHANNEL:return s.Z.Messages.GUILD_AUTOMOD_ACTIONS_FLAG_TO_CHANNEL_NAME;default:return s.Z.Messages.GUILD_AUTOMOD_UNKNOWN}}function b(e){switch(e){case c.fX.KEYWORD:return s.Z.Messages.GUILD_AUTOMOD_KEYWORD_FILTER_NAME;case c.fX.ML_SPAM:return s.Z.Messages.GUILD_AUTOMOD_ML_SPAM_FILTER_NAME;case c.fX.DEFAULT_KEYWORD_LIST:return s.Z.Messages.GUILD_AUTOMOD_DEFAULT_KEYWORD_LIST_RULE_NAME;default:return s.Z.Messages.GUILD_AUTOMOD_UNKNOWN}}},117412:(e,t,n)=>{n.d(t,{UF:()=>N,mY:()=>L,I2:()=>m,RD:()=>w,pH:()=>R});var r=n(667294),u=n(185253),a=n(948861),i=n(323657),o=n(99298),l=n(653772),c=n(870978),s=n(276489),f=n(461061),d=n(959797);function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}
function O(e,t,n,r,u,a,i){try{var o=e[a](i),l=o.value}catch(e){n(e);return}o.done?t(l):Promise.resolve(l).then(r,u)}function p(e){return function(){var t=this,n=arguments;return new Promise((function(r,u){var a=e.apply(t,n);function i(e){O(a,r,u,i,o,"next",e)}function o(e){O(a,r,u,i,o,"throw",e)}i(void 0)}))}}function E(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){E(e,t,n[t])}))}return e}function g(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e)
;t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,u,a=[],i=!0,o=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){a.push(r.value);if(t&&a.length===t)break}}catch(e){o=!0;u=e}finally{try{i||null==n.return||n.return()}finally{if(o)throw u}}return a}}(e,t)||M(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e){return function(e){if(Array.isArray(e))return _(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)
}(e)||M(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){if(e){if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(e,t):void 0}}var b=function(e,t){var n,r,u,a,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(a){return function(o){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(u=2&a[0]?r.return:a[0]?r.throw||((u=r.return)&&u.call(r),0):r.next)&&!(u=u.call(r,a[1])).done)return u;(r=0,u)&&(a=[2&a[0],u.value]);switch(a[0]){case 0:case 1:u=a;break
;case 4:i.label++;return{value:a[1],done:!1};case 5:i.label++;r=a[1];a=[0];continue;case 7:a=i.ops.pop();i.trys.pop();continue;default:if(!(u=i.trys,u=u.length>0&&u[u.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!u||a[1]>u[0]&&a[1]<u[3])){i.label=a[1];break}if(6===a[0]&&i.label<u[1]){i.label=u[1];u=a;break}if(u&&i.label<u[2]){i.label=u[2];i.ops.push(a);break}u[2]&&i.ops.pop();i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e];r=0}finally{n=u=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,o])}}},h={};var S=function(e){var t,n=l.Z.getGuild(e);return null===(t=null==n?void 0:n.hasFeature(f.oNc.COMMUNITY))||void 0===t||t?E({},s.fX.MENTION_SPAM,{id:"Mention Spam Default",name:d.Z.Messages.GUILD_AUTOMOD_MENTION_SPAM_FILTER_NAME,creatorId:"1008776202191634432",eventType:s.q4.MESSAGE_SEND,triggerType:s.fX.MENTION_SPAM,triggerMetadata:{mentionTotalLimit:s.Ic},actions:[{type:s.jj.BLOCK_MESSAGE}],enabled:!0,guildId:e,position:1,exemptChannels:new Set,
exemptRoles:new Set}):{}},D=function(e){var t,n=(E(t={},s.fX.KEYWORD,[]),E(t,s.fX.ML_SPAM,[]),E(t,s.fX.DEFAULT_KEYWORD_LIST,[]),E(t,s.fX.MENTION_SPAM,[]),t),r=!0,u=!1,a=void 0;try{for(var i,o=s.lL[Symbol.iterator]();!(r=(i=o.next()).done);r=!0){var l=i.value,c=e[l];null!=c&&(n[l]=[c])}}catch(e){u=!0;a=e}finally{try{r||null==o.return||o.return()}finally{if(u)throw a}}return n};function N(e,t){if((0,o.BH)(e))return!1;var n=S(t),r=!0,u=!1,a=void 0;try{for(var i,l=Object.values(n)[Symbol.iterator]();!(r=(i=l.next()).done);r=!0){var c=i.value;if(null!=c&&(null==c?void 0:c.id)===e)return!0}}catch(e){u=!0;a=e}finally{try{r||null==l.return||l.return()}finally{if(u)throw a}}return!1}var T=(0,u.Z)((function(e,t){return{rules:{},fetching:!1,error:null,updateRule:function(n){var r,u,a=n.guildId,i=n.id,o=n.triggerType,l=t().rules,c=null!==(r=l[a])&&void 0!==r?r:{},s=null!==(u=c[o])&&void 0!==u?u:[],f=s.some((function(e){return e.id===i}))?s.map((function(e){return e.id===i?n:e})):v(s).concat([n])
;e({rules:g(y({},l),E({},a,g(y({},c),E({},o,f)))),error:null})},removeRule:function(n,r){var u=t().rules,a=u[r],i=Object.keys(a).reduce((function(e,t){var r,u=Number(t),i=null!==(r=a[u])&&void 0!==r?r:[];e[u]=i.filter((function(e){return e.id!==n}));return e}),D(S(r)));e({rules:g(y({},u),E({},r,i)),error:null})},syncRules:(n=p((function(n){var r,u,a,o,l;return b(this,(function(s){switch(s.label){case 0:if(!function(e){var t;return Date.now()-(null!==(t=h[e])&&void 0!==t?t:0)>2e4}(n))return[2];h[n]=Date.now();s.label=1;case 1:s.trys.push([1,3,,4]);return[4,(0,c.$Y)(n)];case 2:r=s.sent();u=I(r);a=t().rules;e({rules:g(y({},a),E({},n,u)),error:null});return[3,4];case 3:o=s.sent();l=new i.Hx(o);e({error:l});return[3,4];case 4:return[2]}}))})),function(e){return n.apply(this,arguments)})};var n})),L=function(e,t){var n,r;return(null!==(r=null===(n=T.getState().rules[e])||void 0===n?void 0:n[t])&&void 0!==r?r:[]).length},I=function(e){var t=D({});e.forEach((function(e){var n,r=e.triggerType
;t[r]=v(null!==(n=t[r])&&void 0!==n?n:[]).concat([e])}));return t};function m(e){var t=A(r.useState(!1),2),n=t[0],u=t[1],i=A(T((function(e){return[e.syncRules,e.fetching]}),a.Z),2),o=i[0],l=i[1];return[n,r.useCallback(p((function(){return b(this,(function(t){switch(t.label){case 0:if(l||null==e)return[2];t.label=1;case 1:t.trys.push([1,,3,4]);u(!0);return[4,o(e)];case 2:t.sent();return[3,4];case 3:u(!1);return[7];case 4:return[2]}}))})),[e,l,o])]}function w(e){var t=A(m(e),2),n=t[0],u=t[1];r.useEffect((function(){p((function(){return b(this,(function(e){switch(e.label){case 0:return[4,u()];case 1:e.sent();return[2]}}))}))()}),[e,u]);return[n,u]}function R(e){return T((function(t){var n,r=D(S(null!=e?e:""));return null==e?{rulesByTriggerType:r,updateRule:t.updateRule,removeRule:t.removeRule}:{rulesByTriggerType:j(null!=e?e:"",null!==(n=t.rules[e])&&void 0!==n?n:{}),updateRule:t.updateRule,removeRule:t.removeRule}}))}function j(e,t){var n=S(e),r=y({},null!=t?t:{});if(null==t)return D(n)
;var u=!0,a=!1,i=void 0;try{for(var o,l=s.lL[Symbol.iterator]();!(u=(o=l.next()).done);u=!0){var c,f=o.value,d=n[f],_=null!==(c=r[f])&&void 0!==c?c:[];null!=d&&0===_.length&&(r[f]=[g(y({},d),{guildId:e})])}}catch(e){a=!0;i=e}finally{try{u||null==l.return||l.return()}finally{if(a)throw i}}return r}},975483:(e,t,n)=>{n.d(t,{vT:()=>r,I6:()=>c,r5:()=>f,V9:()=>d,yU:()=>_,Z6:()=>O,jp:()=>p});var r,u,a=n(667294),i=n(276489),o=n(959797);function l(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}!function(e){e.NEW="new";e.RECOMMENDED="recommended";e.BETA="beta"}(r||(r={}));var c=(l(u={},i.fX.UNKNOWN,{getDefaultRuleName:function(){return o.Z.Messages.GUILD_AUTOMOD_KEYWORD_FILTER_NAME},type:i.fX.UNKNOWN,eventType:i.q4.UNKNOWN,perGuildMaxCount:0,availableActionTypes:new Set,flags:new Set,defaultActionTypes:new Set}),l(u,i.fX.SPAM_LINK,{getDefaultRuleName:function(){return o.Z.Messages.GUILD_AUTOMOD_KEYWORD_FILTER_NAME},
type:i.fX.SPAM_LINK,eventType:i.q4.MESSAGE_SEND,perGuildMaxCount:0,availableActionTypes:new Set,flags:new Set,defaultActionTypes:new Set}),l(u,i.fX.KEYWORD,{getDefaultRuleName:function(){return o.Z.Messages.GUILD_AUTOMOD_KEYWORD_FILTER_NAME},type:i.fX.KEYWORD,eventType:i.q4.MESSAGE_SEND,perGuildMaxCount:5,availableActionTypes:new Set([i.jj.BLOCK_MESSAGE,i.jj.FLAG_TO_CHANNEL,i.jj.USER_COMMUNICATION_DISABLED]),flags:new Set,defaultActionTypes:new Set([i.jj.BLOCK_MESSAGE])}),l(u,i.fX.ML_SPAM,{getDefaultRuleName:function(){return o.Z.Messages.GUILD_AUTOMOD_ML_SPAM_FILTER_NAME},type:i.fX.ML_SPAM,eventType:i.q4.MESSAGE_SEND,perGuildMaxCount:1,availableActionTypes:new Set([i.jj.BLOCK_MESSAGE,i.jj.FLAG_TO_CHANNEL]),flags:new Set([r.BETA]),defaultActionTypes:new Set([i.jj.BLOCK_MESSAGE])}),l(u,i.fX.DEFAULT_KEYWORD_LIST,{getDefaultRuleName:function(){return o.Z.Messages.GUILD_AUTOMOD_DEFAULT_KEYWORD_LIST_RULE_NAME},type:i.fX.DEFAULT_KEYWORD_LIST,eventType:i.q4.MESSAGE_SEND,perGuildMaxCount:1,
availableActionTypes:new Set([i.jj.BLOCK_MESSAGE,i.jj.FLAG_TO_CHANNEL]),flags:new Set([]),defaultActionTypes:new Set([i.jj.BLOCK_MESSAGE])}),l(u,i.fX.MENTION_SPAM,{getDefaultRuleName:function(){return o.Z.Messages.GUILD_AUTOMOD_MENTION_SPAM_FILTER_NAME},type:i.fX.MENTION_SPAM,eventType:i.q4.MESSAGE_SEND,perGuildMaxCount:1,availableActionTypes:new Set([i.jj.BLOCK_MESSAGE,i.jj.FLAG_TO_CHANNEL,i.jj.USER_COMMUNICATION_DISABLED]),flags:new Set([r.BETA]),defaultActionTypes:new Set([i.jj.BLOCK_MESSAGE,i.jj.USER_COMMUNICATION_DISABLED])}),u),s=[c[i.fX.MENTION_SPAM],c[i.fX.ML_SPAM],c[i.fX.DEFAULT_KEYWORD_LIST],c[i.fX.KEYWORD]],f=function(e,t){return c[e].flags.has(t)};function d(e){return Array.from(c[e].availableActionTypes)}function _(e,t){var n=e.id,r=e.eventType,u=e.triggerType,a=e.actions,i=c[u];if(t.filter((function(e){return n!==e.id&&e.triggerType===u})).length>i.perGuildMaxCount)throw new Error("You have exceeded the maximum number of rules of type ".concat(u));if(a.some((function(e){
return!i.availableActionTypes.has(e.type)})))throw new Error("You have provided an action that is not available for this trigger type");if(r!==i.eventType)throw new Error("You have provided an event type that is not available for this trigger type")}function O(){return a.useMemo((function(){return s.filter((function(e){return e.perGuildMaxCount>0})).map((function(e){return e.type}))}),[])}function p(e){switch(e){case i.fX.DEFAULT_KEYWORD_LIST:return{allowList:[],presets:[]};case i.fX.KEYWORD:return{keywordFilter:[],regexPatterns:[],allowList:[]};case i.fX.MENTION_SPAM:return{mentionTotalLimit:i.Ic};case i.fX.ML_SPAM:default:return}}},379908:(e,t,n)=>{n.d(t,{n7:()=>o,tz:()=>i});var r=n(553494),u=(0,r.B)({kind:"guild",id:"2022-11_automod_keyword_allowlist",label:"Automod Keyword AllowList",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Automod Keyword AllowList",config:{enabled:!0}}]}),a=(0,r.B)({kind:"guild",id:"2022-11_automod_non_community_guilds_release",
label:"Automod Non-Community Guilds Release",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Automod Non-Community Guilds Release",config:{enabled:!0}}]});function i(e){return u.useExperiment({guildId:e},{autoTrackExposure:!0}).enabled}function o(e){return a.getCurrentConfig({guildId:e}).enabled}},870978:(e,t,n)=>{n.d(t,{JK:()=>A,mm:()=>h,$Y:()=>D,Je:()=>M,qY:()=>y});var r=n(675860),u=n(90816),a=n(346529),i=n(496486);function o(e){return null==e?e:Object.keys(e).reduce((function(t,n){var r=(0,i.camelCase)(n);"object"!=typeof e[n]||Array.isArray(e[n])?t[r]=e[n]:t[r]=o(e[n]);return t}),{})}function l(e){return null==e?e:Object.keys(e).reduce((function(t,n){var r=(0,i.snakeCase)(n);"object"!=typeof e[n]||Array.isArray(e[n])?t[r]=e[n]:t[r]=l(e[n]);t[r]=e[n];return t}),{})}var c=n(461061);function s(e,t,n,r,u,a,i){try{var o=e[a](i),l=o.value}catch(e){n(e);return}o.done?t(l):Promise.resolve(l).then(r,u)}function f(e){return function(){var t=this,n=arguments
;return new Promise((function(r,u){var a=e.apply(t,n);function i(e){s(a,r,u,i,o,"next",e)}function o(e){s(a,r,u,i,o,"throw",e)}i(void 0)}))}}var d=function(e,t){var n,r,u,a,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(a){return function(o){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(u=2&a[0]?r.return:a[0]?r.throw||((u=r.return)&&u.call(r),0):r.next)&&!(u=u.call(r,a[1])).done)return u;(r=0,u)&&(a=[2&a[0],u.value]);switch(a[0]){case 0:case 1:u=a;break;case 4:i.label++;return{value:a[1],done:!1};case 5:i.label++;r=a[1];a=[0];continue;case 7:a=i.ops.pop();i.trys.pop();continue;default:if(!(u=i.trys,u=u.length>0&&u[u.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!u||a[1]>u[0]&&a[1]<u[3])){i.label=a[1];break}if(6===a[0]&&i.label<u[1]){i.label=u[1];u=a;break}
if(u&&i.label<u[2]){i.label=u[2];i.ops.push(a);break}u[2]&&i.ops.pop();i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e];r=0}finally{n=u=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,o])}}};function _(e){return{type:e.type,metadata:l(e.metadata)}}function O(e){var t,n,r=l(e.triggerMetadata);null!=r&&delete r.keywordLists;return{id:e.id,name:e.name,guild_id:e.guildId,event_type:e.eventType,trigger_type:e.triggerType,trigger_metadata:r,actions:e.actions.filter(u.lm).map(_),enabled:e.enabled,creator_id:e.creatorId,position:e.position,exempt_channels:Array.from(null!==(t=e.exemptChannels)&&void 0!==t?t:[]),exempt_roles:Array.from(null!==(n=e.exemptRoles)&&void 0!==n?n:[])}}function p(e){return{type:e.type,metadata:o(e.metadata)}}function E(e){var t,n,r,i={id:null!==(t=e.id)&&void 0!==t?t:a.Z.fromTimestamp(Date.now()),name:e.name,guildId:e.guild_id,eventType:e.event_type,triggerType:e.trigger_type,triggerMetadata:o(e.trigger_metadata),
actions:e.actions.filter(u.lm).map(p),enabled:e.enabled,creatorId:e.creator_id,position:e.position,exemptChannels:new Set(null!==(n=e.exempt_channels)&&void 0!==n?n:[]),exemptRoles:new Set(null!==(r=e.exempt_roles)&&void 0!==r?r:[])};null!=i.triggerMetadata&&delete i.triggerMetadata.keywordLists;return i}function y(e){return g.apply(this,arguments)}function g(){return(g=f((function(e){var t;return d(this,(function(n){switch(n.label){case 0:t=O(e);return[4,r.Z.post({url:c.ANM.GUILD_AUTOMOD_VALIDATE_RULE(e.guildId),body:t})];case 1:return[2,o(n.sent().body)]}}))}))).apply(this,arguments)}function A(e){return v.apply(this,arguments)}function v(){return(v=f((function(e){var t;return d(this,(function(n){switch(n.label){case 0:delete(t=O(e)).id;return[4,r.Z.post({url:c.ANM.GUILD_AUTOMOD_RULES(e.guildId),body:t})];case 1:return[2,E(n.sent().body)]}}))}))).apply(this,arguments)}function M(e){return b.apply(this,arguments)}function b(){return(b=f((function(e){var t;return d(this,(function(n){
switch(n.label){case 0:t=O(e);return[4,r.Z.patch({url:c.ANM.GUILD_AUTOMOD_RULE(e.guildId,e.id),body:t})];case 1:return[2,E(n.sent().body)]}}))}))).apply(this,arguments)}function h(e,t){return S.apply(this,arguments)}function S(){return(S=f((function(e,t){return d(this,(function(n){switch(n.label){case 0:return[4,r.Z.delete({url:c.ANM.GUILD_AUTOMOD_RULE(t,e)})];case 1:n.sent();return[2,!0]}}))}))).apply(this,arguments)}function D(e){return N.apply(this,arguments)}function N(){return(N=f((function(e){var t;return d(this,(function(n){switch(n.label){case 0:return[4,r.Z.get({url:c.ANM.GUILD_AUTOMOD_RULES(e)})];case 1:t=n.sent();return Array.isArray(t.body)?[2,t.body.map(E)]:[2,[]]}}))}))).apply(this,arguments)}},955439:(e,t,n)=>{n.d(t,{Ac:()=>i,Ze:()=>o,cb:()=>l,se:()=>c,kU:()=>s});var r=/[\t\n,]/g,u=/\s{2,}/g,a=/[*"']/g;function i(e){return e.split(r).map((function(e){return e.replace(u," ").trim()})).filter((function(e){return e.length>0}))}function o(e){var t=new Set(e)
;return Array.from(t)}function l(e){return e.sort((function(e,t){var n=e.replaceAll(a,""),r=t.replaceAll(a,"");return n.localeCompare(r)}))}function c(e){return e.join(", ")}function s(e){return e.includes("\n")||e.includes(",")}},929330:(e,t,n)=>{n.d(t,{z:()=>l,N:()=>c});var r=n(653772),u=n(940712),a=n(379908),i=n(461061),o=function(e){var t=r.Z.getGuild(e);return null!=t&&((t.hasFeature(i.oNc.COMMUNITY)||(0,a.n7)(e))&&u.Z.can(i.Plq.MANAGE_GUILD,t))};function l(e){return null!=e&&o(e)}function c(e){return o(e)}},693165:(e,t,n)=>{n.d(t,{w:()=>h,V:()=>S});var r=n(496486),u=n.n(r),a=n(185253),i=n(323657),o=n(90816),l=n(617509),c=n(209518),s=n(975483),f=n(870978),d=n(955439),_=n(461061),O=n(959797);function p(e,t,n,r,u,a,i){try{var o=e[a](i),l=o.value}catch(e){n(e);return}o.done?t(l):Promise.resolve(l).then(r,u)}function E(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function y(e){for(var t=1;t<arguments.length;t++){
var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){E(e,t,n[t])}))}return e}function g(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var A=function(e,t){var n,r,u,a,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(a){return function(o){
return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(u=2&a[0]?r.return:a[0]?r.throw||((u=r.return)&&u.call(r),0):r.next)&&!(u=u.call(r,a[1])).done)return u;(r=0,u)&&(a=[2&a[0],u.value]);switch(a[0]){case 0:case 1:u=a;break;case 4:i.label++;return{value:a[1],done:!1};case 5:i.label++;r=a[1];a=[0];continue;case 7:a=i.ops.pop();i.trys.pop();continue;default:if(!(u=i.trys,u=u.length>0&&u[u.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!u||a[1]>u[0]&&a[1]<u[3])){i.label=a[1];break}if(6===a[0]&&i.label<u[1]){i.label=u[1];u=a;break}if(u&&i.label<u[2]){i.label=u[2];i.ops.push(a);break}u[2]&&i.ops.pop();i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e];r=0}finally{n=u=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,o])}}};function v(e){if(e.code===_.evJ.INVALID_FORM_BODY){var t,n
;if(null!=(null===(t=e.errors)||void 0===t||null===(n=t.trigger_metadata)||void 0===n?void 0:n.regex_patterns))return O.Z.Messages.GUILD_AUTOMOD_REGEX_GENERIC_SAVE_ERROR}return e.getAnyErrorMessage()}var M=Object.freeze({editingRule:null,hasChanges:!1,isLoading:!1,errorMessage:null}),b=(0,a.Z)((function(e,t){return{editingRule:null,hasChanges:!1,setEditingRule:function(n){var r=t().editingRule,a=null!=n&&null!=r&&n.id===r.id,i=u().cloneDeep(n);null!=i&&(i=g(y({},i),{actions:i.actions.filter(o.lm)}));e({editingRule:i,hasChanges:a,errorMessage:null})},createNewEditingRule:function(t,n,r){var u=y({},(0,c.ep)(t,n),null!=r?r:{});e({editingRule:u,hasChanges:!1});return u},isLoading:!1,errorMessage:null,cancelEditingRule:function(){e(y({},M))},saveRule:(r=(n=function(t,n){var r,u,a,o,_,p;return A(this,(function(E){switch(E.label){case 0:if(null==t){e(y({},M));return[2,null]}try{if((0,c.DO)(t)){t.triggerMetadata.keywordFilter=(0,d.cb)((0,
d.Ze)(null!==(r=t.triggerMetadata.keywordFilter)&&void 0!==r?r:[]));t.triggerMetadata.allowList=(0,d.cb)((0,d.Ze)(null!==(u=t.triggerMetadata.allowList)&&void 0!==u?u:[]))}(0,c.Fn)(t)&&(t.triggerMetadata.allowList=(0,d.cb)((0,d.Ze)(null!==(a=t.triggerMetadata.allowList)&&void 0!==a?a:[])));(0,s.yU)(t,n);(0,c.QO)(t)}catch(t){t instanceof l.V6?e({errorMessage:O.Z.Messages.GUILD_AUTOMOD_KEYWORD_GENERIC_SAVE_ERROR,isLoading:!1}):t instanceof l.uS?e({errorMessage:O.Z.Messages.GUILD_AUTOMOD_REGEX_GENERIC_SAVE_ERROR,isLoading:!1}):e({errorMessage:t.message,isLoading:!1});return[2,null]}E.label=1;case 1:E.trys.push([1,6,,7]);e({isLoading:!0});o=null;return(0,c._E)(t)?[4,(0,f.Je)(t)]:[3,3];case 2:o=E.sent();return[3,5];case 3:return[4,(0,f.JK)(t)];case 4:o=E.sent();E.label=5;case 5:e(y({},M));return[2,o];case 6:_=E.sent();p=new i.Hx(_);e({isLoading:!1,errorMessage:v(p)});return[3,7];case 7:return[2,null]}}))},function(){var e=this,t=arguments;return new Promise((function(r,u){var a=n.apply(e,t)
;function i(e){p(a,r,u,i,o,"next",e)}function o(e){p(a,r,u,i,o,"throw",e)}i(void 0)}))}),function(e,t){return r.apply(this,arguments)}),saveEditingRule:function(e){var n=t(),r=n.editingRule;return(0,n.saveRule)(r,e)}};var n,r}));function h(){return b((function(e){return{hasChanges:e.hasChanges,editingRule:e.editingRule,isLoading:e.isLoading,errorMessage:e.errorMessage,saveRule:e.saveRule,saveEditingRule:e.saveEditingRule,cancelEditingRule:e.cancelEditingRule}}))}function S(){return b((function(e){return{hasChanges:e.hasChanges,editingRule:e.editingRule,setEditingRule:e.setEditingRule,createNewEditingRule:e.createNewEditingRule}}))}},222015:(e,t,n)=>{n.d(t,{c:()=>y});var r=n(53211),u=n(356004),a=n(105405),i=n(859023),o=n(976703),l=n(219946),c=n(523283),s=n(276489),f=n(809096),d=n(959797),_=function(e){switch(e){case s.jj.BLOCK_MESSAGE:return d.Z.Messages.GUILD_AUTOMOD_ACTIONS_BLOCK_MESSAGE_NAME;case s.jj.FLAG_TO_CHANNEL:return d.Z.Messages.GUILD_AUTOMOD_ACTIONS_FLAG_TO_CHANNEL_NAME
;case s.jj.USER_COMMUNICATION_DISABLED:return d.Z.Messages.GUILD_AUTOMOD_ACTIONS_DISABLE_GUILD_COMMUNICATION_FOR_USER}},O=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.fX.KEYWORD;switch(e){case s.jj.BLOCK_MESSAGE:switch(t){case s.fX.MENTION_SPAM:return d.Z.Messages.GUILD_AUTOMOD_ACTIONS_BLOCK_MESSAGE_DESCRIPTION_MENTION_SPAM;case s.fX.ML_SPAM:return d.Z.Messages.GUILD_AUTOMOD_ACTIONS_BLOCK_MESSAGE_DESCRIPTION_ML_SPAM;default:return d.Z.Messages.GUILD_AUTOMOD_ACTIONS_BLOCK_MESSAGE_DESCRIPTION}case s.jj.FLAG_TO_CHANNEL:return d.Z.Messages.GUILD_AUTOMOD_ACTIONS_FLAG_TO_CHANNEL_DESCRIPTION;case s.jj.USER_COMMUNICATION_DISABLED:return d.Z.Messages.GUILD_AUTOMOD_ACTIONS_DISABLE_GUILD_COMMUNICATION_FOR_USER_DESCRIPTION}},p=function(e,t){switch(e){case s.jj.BLOCK_MESSAGE:return null;case s.jj.FLAG_TO_CHANNEL:var n,o=null==t||null===(n=t.metadata)||void 0===n?void 0:n.channelId;if(null==o)return null;var l=u.Z.getChannel(o);if(null==l)return null;var c=(0,
r.F)(l,i.default,a.Z);return d.Z.Messages.GUILD_AUTOMOD_ACTIONS_FLAG_TO_CHANNEL_DISPLAY_HELPER.format({channelName:c});case s.jj.USER_COMMUNICATION_DISABLED:var _,O,p=null!==(O=null==t||null===(_=t.metadata)||void 0===_?void 0:_.durationSeconds)&&void 0!==O?O:0,E=(0,f.L9)(p);return null==E?null:d.Z.Messages.GUILD_AUTOMOD_ACTIONS_USER_DISABLE_COMMUNICATION_DISPLAY_HELPER.format({duration:E})}},E=function(e){switch(e){case s.jj.BLOCK_MESSAGE:return c.Z;case s.jj.FLAG_TO_CHANNEL:return o.Z;case s.jj.USER_COMMUNICATION_DISABLED:return l.Z}};function y(e,t,n){return function(e){switch(e){case s.jj.BLOCK_MESSAGE:case s.jj.FLAG_TO_CHANNEL:case s.jj.USER_COMMUNICATION_DISABLED:return!0;default:return!1}}(e)?{headerText:null!==(r=_(e))&&void 0!==r?r:"",descriptionText:null!==(u=O(e,n))&&void 0!==u?u:"",helperText:null!==(a=p(e,t))&&void 0!==a?a:null,icon:null!==(i=E(e))&&void 0!==i?i:c.Z}:null;var r,u,a,i}},794633:(e,t,n)=>{n.d(t,{gK:()=>d,XN:()=>_,af:()=>O});var r=n(785893),u=(n(667294),
n(897576));function a(e,t,n,r,u,a,i){try{var o=e[a](i),l=o.value}catch(e){n(e);return}o.done?t(l):Promise.resolve(l).then(r,u)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(r,u){var i=e.apply(t,n);function o(e){a(i,r,u,o,l,"next",e)}function l(e){a(i,r,u,o,l,"throw",e)}o(void 0)}))}}function o(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){o(e,t,n[t])}))}return e}function c(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){
var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var s=function(e,t){var n,r,u,a,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(a){return function(o){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(u=2&a[0]?r.return:a[0]?r.throw||((u=r.return)&&u.call(r),0):r.next)&&!(u=u.call(r,a[1])).done)return u;(r=0,u)&&(a=[2&a[0],u.value]);switch(a[0]){case 0:case 1:u=a;break;case 4:i.label++;return{value:a[1],done:!1};case 5:i.label++;r=a[1];a=[0];continue;case 7:a=i.ops.pop();i.trys.pop();continue;default:if(!(u=i.trys,u=u.length>0&&u[u.length-1])&&(6===a[0]||2===a[0])){i=0
;continue}if(3===a[0]&&(!u||a[1]>u[0]&&a[1]<u[3])){i.label=a[1];break}if(6===a[0]&&i.label<u[1]){i.label=u[1];u=a;break}if(u&&i.label<u[2]){i.label=u[2];i.ops.push(a);break}u[2]&&i.ops.pop();i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e];r=0}finally{n=u=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,o])}}};function f(e){return new Promise((function(t){(0,u.ZD)((function(){return e((function(){t(!0)}),(function(e){t(!1);return e()}))}))}))}var d=function(e){return f((t=i((function(t,u){var a,i;return s(this,(function(o){switch(o.label){case 0:return[4,n.e(12769).then(n.bind(n,712769))];case 1:a=o.sent(),i=a.default;return[2,function(n){return(0,r.jsx)(i,c(l({},n),{ruleName:e,onConfirm:t,onClose:function(){return u(n.onClose)},onCancel:function(){return u(n.onClose)}}))}]}}))})),function(e,n){return t.apply(this,arguments)}));var t},_=function(e,t){return f((u=i((function(u,a){var i,o;return s(this,(function(s){switch(s.label){case 0:
return[4,n.e(8435).then(n.bind(n,408435))];case 1:i=s.sent(),o=i.default;return[2,function(n){return(0,r.jsx)(o,c(l({},n),{ruleName:e,keyword:t,onConfirm:u,onClose:function(){return a(n.onClose)},onCancel:function(){return a(n.onClose)}}))}]}}))})),function(e,t){return u.apply(this,arguments)}));var u},O=function(e){return function(t){return f((u=i((function(u,a){var i,o,f;return s(this,(function(s){switch(s.label){case 0:return[4,n.e(26485).then(n.bind(n,926485))];case 1:i=s.sent(),o=i.default;f=function(){t();u()};return[2,function(t){return(0,r.jsx)(o,c(l({ruleName:e},t),{onConfirm:f,onClose:function(){return a(t.onClose)},onCancel:function(){return a(t.onClose)}}))}]}}))})),function(e,t){return u.apply(this,arguments)}));var u}}}}]);
//# sourceMappingURL=387760ac30203d4c8d3f.js.map